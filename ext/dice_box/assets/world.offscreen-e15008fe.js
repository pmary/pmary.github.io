var Y=Object.defineProperty,u=(Z,l,X)=>l in Z?Y(Z,l,{enumerable:!0,configurable:!0,writable:!0,value:X}):Z[l]=X,d=(Z,l,X)=>(u(Z,typeof l!="symbol"?l+"":l,X),X),R=(Z,l,X)=>{if(!l.has(Z))throw TypeError("Cannot "+X)},G=(Z,l,X)=>(R(Z,l,"read from private field"),X?X.call(Z):l.get(Z)),m=(Z,l,X)=>{if(l.has(Z))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(Z):l.set(Z,X)},h=(Z,l,X,c)=>(R(Z,l,"write to private field"),c?c.call(Z,X):l.set(Z,X),X),J=(Z,l,X)=>(R(Z,l,"access private method"),X);const y="dmFyIEhsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgS2w9KFcsQ2UsT2UpPT5DZSBpbiBXP0hsKFcsQ2Use2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOk9lfSk6V1tDZV09T2U7dmFyIFN0PShXLENlLE9lKT0+KEtsKFcsdHlwZW9mIENlIT0ic3ltYm9sIj9DZSsiIjpDZSxPZSksT2UpLHRyPShXLENlLE9lKT0+e2lmKCFDZS5oYXMoVykpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIitPZSl9O3ZhciBZPShXLENlLE9lKT0+KHRyKFcsQ2UsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIiksT2U/T2UuY2FsbChXKTpDZS5nZXQoVykpLGF0PShXLENlLE9lKT0+e2lmKENlLmhhcyhXKSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTtDZSBpbnN0YW5jZW9mIFdlYWtTZXQ/Q2UuYWRkKFcpOkNlLnNldChXLE9lKX0sY3Q9KFcsQ2UsT2UsU2UpPT4odHIoVyxDZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLFNlP1NlLmNhbGwoVyxPZSk6Q2Uuc2V0KFcsT2UpLE9lKTt2YXIgRGk9KFcsQ2UsT2UsU2UpPT4oe3NldCBfKEJlKXtjdChXLENlLEJlLE9lKX0sZ2V0IF8oKXtyZXR1cm4gWShXLENlLFNlKX19KSxZcj0oVyxDZSxPZSk9Pih0cihXLENlLCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2QiKSxPZSk7KGZ1bmN0aW9uKCl7dmFyIFhlLElpLHd0LFBpLFJ0LGJ0LCRlLF9zLHl0LFhpLEhpLHB0LEtpLGdzLFpyOyJ1c2Ugc3RyaWN0IjtjbGFzcyBXe3N0YXRpYyBXaXRoaW5FcHNpbG9uKGUsdCxpPTE0MDEyOThlLTUxKXtyZXR1cm4gTWF0aC5hYnMoZS10KTw9aX1zdGF0aWMgVG9IZXgoZSl7Y29uc3QgdD1lLnRvU3RyaW5nKDE2KTtyZXR1cm4gZTw9MTU/KCIwIit0KS50b1VwcGVyQ2FzZSgpOnQudG9VcHBlckNhc2UoKX1zdGF0aWMgU2lnbihlKXtyZXR1cm4gZT0rZSxlPT09MHx8aXNOYU4oZSk/ZTplPjA/MTotMX1zdGF0aWMgQ2xhbXAoZSx0PTAsaT0xKXtyZXR1cm4gTWF0aC5taW4oaSxNYXRoLm1heCh0LGUpKX1zdGF0aWMgTG9nMihlKXtyZXR1cm4gTWF0aC5sb2coZSkqTWF0aC5MT0cyRX1zdGF0aWMgSUxvZzIoZSl7aWYoTWF0aC5sb2cyKXJldHVybiBNYXRoLmZsb29yKE1hdGgubG9nMihlKSk7aWYoZTwwKXJldHVybiBOYU47aWYoZT09PTApcmV0dXJuLTEvMDtsZXQgdD0wO2lmKGU8MSl7Zm9yKDtlPDE7KXQrKyxlPWUqMjt0PS10fWVsc2UgaWYoZT4xKWZvcig7ZT4xOyl0KyssZT1NYXRoLmZsb29yKGUvMik7cmV0dXJuIHR9c3RhdGljIFJlcGVhdChlLHQpe3JldHVybiBlLU1hdGguZmxvb3IoZS90KSp0fXN0YXRpYyBOb3JtYWxpemUoZSx0LGkpe3JldHVybihlLXQpLyhpLXQpfXN0YXRpYyBEZW5vcm1hbGl6ZShlLHQsaSl7cmV0dXJuIGUqKGktdCkrdH1zdGF0aWMgRGVsdGFBbmdsZShlLHQpe2xldCBpPVcuUmVwZWF0KHQtZSwzNjApO3JldHVybiBpPjE4MCYmKGktPTM2MCksaX1zdGF0aWMgUGluZ1BvbmcoZSx0KXtjb25zdCBpPVcuUmVwZWF0KGUsdCoyKTtyZXR1cm4gdC1NYXRoLmFicyhpLXQpfXN0YXRpYyBTbW9vdGhTdGVwKGUsdCxpKXtsZXQgcz1XLkNsYW1wKGkpO3JldHVybiBzPS0yKnMqcypzKzMqcypzLHQqcytlKigxLXMpfXN0YXRpYyBNb3ZlVG93YXJkcyhlLHQsaSl7bGV0IHM9MDtyZXR1cm4gTWF0aC5hYnModC1lKTw9aT9zPXQ6cz1lK1cuU2lnbih0LWUpKmksc31zdGF0aWMgTW92ZVRvd2FyZHNBbmdsZShlLHQsaSl7Y29uc3Qgcz1XLkRlbHRhQW5nbGUoZSx0KTtsZXQgcj0wO3JldHVybi1pPHMmJnM8aT9yPXQ6KHQ9ZStzLHI9Vy5Nb3ZlVG93YXJkcyhlLHQsaSkpLHJ9c3RhdGljIExlcnAoZSx0LGkpe3JldHVybiBlKyh0LWUpKml9c3RhdGljIExlcnBBbmdsZShlLHQsaSl7bGV0IHM9Vy5SZXBlYXQodC1lLDM2MCk7cmV0dXJuIHM+MTgwJiYocy09MzYwKSxlK3MqVy5DbGFtcChpKX1zdGF0aWMgSW52ZXJzZUxlcnAoZSx0LGkpe2xldCBzPTA7cmV0dXJuIGUhPXQ/cz1XLkNsYW1wKChpLWUpLyh0LWUpKTpzPTAsc31zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uO3JldHVybiBlKm8raSpoK3QqbCtzKnV9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnI7cmV0dXJuKG4tcikqNiplKygzKm4tNCpyKzEpKnQrKC1uK3IpKjYqaSsoMypuLTIqcikqc31zdGF0aWMgUmFuZG9tUmFuZ2UoZSx0KXtyZXR1cm4gZT09PXQ/ZTpNYXRoLnJhbmRvbSgpKih0LWUpK2V9c3RhdGljIFJhbmdlVG9QZXJjZW50KGUsdCxpKXtyZXR1cm4oZS10KS8oaS10KX1zdGF0aWMgUGVyY2VudFRvUmFuZ2UoZSx0LGkpe3JldHVybihpLXQpKmUrdH1zdGF0aWMgTm9ybWFsaXplUmFkaWFucyhlKXtyZXR1cm4gZS09Vy5Ud29QaSpNYXRoLmZsb29yKChlK01hdGguUEkpL1cuVHdvUGkpLGV9c3RhdGljIEhDRihlLHQpe2NvbnN0IGk9ZSV0O3JldHVybiBpPT09MD90OlcuSENGKHQsaSl9fVcuVHdvUGk9TWF0aC5QSSoyO2NvbnN0IENlPTEvMi4yLE9lPTIuMixTZT0uMDAxO2NsYXNzIEJle3N0YXRpYyBCdWlsZEFycmF5KGUsdCl7Y29uc3QgaT1bXTtmb3IobGV0IHM9MDtzPGU7KytzKWkucHVzaCh0KCkpO3JldHVybiBpfXN0YXRpYyBCdWlsZFR1cGxlKGUsdCl7cmV0dXJuIEJlLkJ1aWxkQXJyYXkoZSx0KX19ZnVuY3Rpb24gcXIoYyxlLHQpe2NvbnN0IGk9Y1tlXTtpZih0eXBlb2YgaSE9ImZ1bmN0aW9uIilyZXR1cm4gbnVsbDtjb25zdCBzPWZ1bmN0aW9uKCl7Y29uc3Qgcj1jLmxlbmd0aCxuPXMucHJldmlvdXMuYXBwbHkoYyxhcmd1bWVudHMpO3JldHVybiB0KGUsciksbn07cmV0dXJuIGkubmV4dD1zLHMucHJldmlvdXM9aSxjW2VdPXMsKCk9Pntjb25zdCByPXMucHJldmlvdXM7aWYoIXIpcmV0dXJuO2NvbnN0IG49cy5uZXh0O24/KHIubmV4dD1uLG4ucHJldmlvdXM9cik6KHIubmV4dD12b2lkIDAsY1tlXT1yKSxzLm5leHQ9dm9pZCAwLHMucHJldmlvdXM9dm9pZCAwfX1jb25zdCBqcj1bInB1c2giLCJzcGxpY2UiLCJwb3AiLCJzaGlmdCIsInVuc2hpZnQiXTtmdW5jdGlvbiBpcihjLGUpe2NvbnN0IHQ9anIubWFwKGk9PnFyKGMsaSxlKSk7cmV0dXJuKCk9Pnt0LmZvckVhY2goaT0+e2k9PW51bGx8fGkoKX0pfX1jb25zdCBzcj17fTtmdW5jdGlvbiBzdChjLGUpe3NyW2NdPWV9ZnVuY3Rpb24gYWkoYyl7cmV0dXJuIHNyW2NdfWNsYXNzIFVle3N0YXRpYyBTZXRNYXRyaXhQcmVjaXNpb24oZSl7aWYoVWUuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2U9ITEsZSYmIVVlLk1hdHJpeFVzZTY0Qml0cyYmVWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzKWZvcihsZXQgdD0wO3Q8VWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9VWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzW3RdLHM9aS5fbTtpLl9tPW5ldyBBcnJheSgxNik7Zm9yKGxldCByPTA7cjwxNjsrK3IpaS5fbVtyXT1zW3JdfVVlLk1hdHJpeFVzZTY0Qml0cz1lLFVlLk1hdHJpeEN1cnJlbnRUeXBlPVVlLk1hdHJpeFVzZTY0Qml0cz9BcnJheTpGbG9hdDMyQXJyYXksVWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzPW51bGx9fVVlLk1hdHJpeFVzZTY0Qml0cz0hMSxVZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMCxVZS5NYXRyaXhDdXJyZW50VHlwZT1GbG9hdDMyQXJyYXksVWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzPVtdO2NsYXNzICRye2NvbnN0cnVjdG9yKGUsdD0hMSxpLHMpe3RoaXMuaW5pdGlhbGl6ZShlLHQsaSxzKX1pbml0aWFsaXplKGUsdD0hMSxpLHMpe3JldHVybiB0aGlzLm1hc2s9ZSx0aGlzLnNraXBOZXh0T2JzZXJ2ZXJzPXQsdGhpcy50YXJnZXQ9aSx0aGlzLmN1cnJlbnRUYXJnZXQ9cyx0aGlzfX1jbGFzcyBRcntjb25zdHJ1Y3RvcihlLHQsaT1udWxsKXt0aGlzLmNhbGxiYWNrPWUsdGhpcy5tYXNrPXQsdGhpcy5zY29wZT1pLHRoaXMuX3dpbGxCZVVucmVnaXN0ZXJlZD0hMSx0aGlzLnVucmVnaXN0ZXJPbk5leHRDYWxsPSExfX1jbGFzcyB3e3N0YXRpYyBGcm9tUHJvbWlzZShlLHQpe2NvbnN0IGk9bmV3IHc7cmV0dXJuIGUudGhlbihzPT57aS5ub3RpZnlPYnNlcnZlcnMocyl9KS5jYXRjaChzPT57aWYodCl0Lm5vdGlmeU9ic2VydmVycyhzKTtlbHNlIHRocm93IHN9KSxpfWdldCBvYnNlcnZlcnMoKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfWNvbnN0cnVjdG9yKGUsdD0hMSl7dGhpcy5ub3RpZnlJZlRyaWdnZXJlZD10LHRoaXMuX29ic2VydmVycz1uZXcgQXJyYXksdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkPTAsdGhpcy5faGFzTm90aWZpZWQ9ITEsdGhpcy5fZXZlbnRTdGF0ZT1uZXcgJHIoMCksZSYmKHRoaXMuX29uT2JzZXJ2ZXJBZGRlZD1lKX1hZGQoZSx0PS0xLGk9ITEscz1udWxsLHI9ITEpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IG49bmV3IFFyKGUsdCxzKTtyZXR1cm4gbi51bnJlZ2lzdGVyT25OZXh0Q2FsbD1yLGk/dGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQobik6dGhpcy5fb2JzZXJ2ZXJzLnB1c2gobiksdGhpcy5fb25PYnNlcnZlckFkZGVkJiZ0aGlzLl9vbk9ic2VydmVyQWRkZWQobiksdGhpcy5faGFzTm90aWZpZWQmJnRoaXMubm90aWZ5SWZUcmlnZ2VyZWQmJnRoaXMuX2xhc3ROb3RpZmllZFZhbHVlIT09dm9pZCAwJiZ0aGlzLm5vdGlmeU9ic2VydmVyKG4sdGhpcy5fbGFzdE5vdGlmaWVkVmFsdWUpLG59YWRkT25jZShlKXtyZXR1cm4gdGhpcy5hZGQoZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCwhMCl9cmVtb3ZlKGUpe3JldHVybiBlJiZ0aGlzLl9vYnNlcnZlcnMuaW5kZXhPZihlKSE9PS0xPyh0aGlzLl9kZWZlclVucmVnaXN0ZXIoZSksITApOiExfXJlbW92ZUNhbGxiYWNrKGUsdCl7Zm9yKGxldCBpPTA7aTx0aGlzLl9vYnNlcnZlcnMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLl9vYnNlcnZlcnNbaV07aWYoIXMuX3dpbGxCZVVucmVnaXN0ZXJlZCYmcy5jYWxsYmFjaz09PWUmJighdHx8dD09PXMuc2NvcGUpKXJldHVybiB0aGlzLl9kZWZlclVucmVnaXN0ZXIocyksITB9cmV0dXJuITF9X2RlZmVyVW5yZWdpc3RlcihlKXtlLl93aWxsQmVVbnJlZ2lzdGVyZWR8fCh0aGlzLl9udW1PYnNlcnZlcnNNYXJrZWRBc0RlbGV0ZWQrKyxlLnVucmVnaXN0ZXJPbk5leHRDYWxsPSExLGUuX3dpbGxCZVVucmVnaXN0ZXJlZD0hMCxzZXRUaW1lb3V0KCgpPT57dGhpcy5fcmVtb3ZlKGUpfSwwKSl9X3JlbW92ZShlLHQ9ITApe2lmKCFlKXJldHVybiExO2NvbnN0IGk9dGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSk7cmV0dXJuIGkhPT0tMT8odCYmdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkLS0sdGhpcy5fb2JzZXJ2ZXJzLnNwbGljZShpLDEpLCEwKTohMX1tYWtlT2JzZXJ2ZXJUb3BQcmlvcml0eShlKXt0aGlzLl9yZW1vdmUoZSwhMSksdGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQoZSl9bWFrZU9ic2VydmVyQm90dG9tUHJpb3JpdHkoZSl7dGhpcy5fcmVtb3ZlKGUsITEpLHRoaXMuX29ic2VydmVycy5wdXNoKGUpfW5vdGlmeU9ic2VydmVycyhlLHQ9LTEsaSxzLHIpe2lmKHRoaXMubm90aWZ5SWZUcmlnZ2VyZWQmJih0aGlzLl9oYXNOb3RpZmllZD0hMCx0aGlzLl9sYXN0Tm90aWZpZWRWYWx1ZT1lKSwhdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aClyZXR1cm4hMDtjb25zdCBuPXRoaXMuX2V2ZW50U3RhdGU7bi5tYXNrPXQsbi50YXJnZXQ9aSxuLmN1cnJlbnRUYXJnZXQ9cyxuLnNraXBOZXh0T2JzZXJ2ZXJzPSExLG4ubGFzdFJldHVyblZhbHVlPWUsbi51c2VySW5mbz1yO2Zvcihjb25zdCBhIG9mIHRoaXMuX29ic2VydmVycylpZighYS5fd2lsbEJlVW5yZWdpc3RlcmVkJiYoYS5tYXNrJnQmJihhLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZ0aGlzLl9kZWZlclVucmVnaXN0ZXIoYSksYS5zY29wZT9uLmxhc3RSZXR1cm5WYWx1ZT1hLmNhbGxiYWNrLmFwcGx5KGEuc2NvcGUsW2Usbl0pOm4ubGFzdFJldHVyblZhbHVlPWEuY2FsbGJhY2soZSxuKSksbi5za2lwTmV4dE9ic2VydmVycykpcmV0dXJuITE7cmV0dXJuITB9bm90aWZ5T2JzZXJ2ZXIoZSx0LGk9LTEpe2lmKHRoaXMubm90aWZ5SWZUcmlnZ2VyZWQmJih0aGlzLl9oYXNOb3RpZmllZD0hMCx0aGlzLl9sYXN0Tm90aWZpZWRWYWx1ZT10KSxlLl93aWxsQmVVbnJlZ2lzdGVyZWQpcmV0dXJuO2NvbnN0IHM9dGhpcy5fZXZlbnRTdGF0ZTtzLm1hc2s9aSxzLnNraXBOZXh0T2JzZXJ2ZXJzPSExLGUudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihlKSxlLmNhbGxiYWNrKHQscyl9aGFzT2JzZXJ2ZXJzKCl7cmV0dXJuIHRoaXMuX29ic2VydmVycy5sZW5ndGgtdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkPjB9Y2xlYXIoKXt0aGlzLl9vYnNlcnZlcnMubGVuZ3RoPTAsdGhpcy5fb25PYnNlcnZlckFkZGVkPW51bGwsdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkPTAsdGhpcy5jbGVhbkxhc3ROb3RpZmllZFN0YXRlKCl9Y2xlYW5MYXN0Tm90aWZpZWRTdGF0ZSgpe3RoaXMuX2hhc05vdGlmaWVkPSExLHRoaXMuX2xhc3ROb3RpZmllZFZhbHVlPXZvaWQgMH1jbG9uZSgpe2NvbnN0IGU9bmV3IHc7cmV0dXJuIGUuX29ic2VydmVycz10aGlzLl9vYnNlcnZlcnMuc2xpY2UoMCksZX1oYXNTcGVjaWZpY01hc2soZT0tMSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzKWlmKHQubWFzayZlfHx0Lm1hc2s9PT1lKXJldHVybiEwO3JldHVybiExfX1jbGFzcyBjZXtzdGF0aWMgZ2V0IExhc3RDcmVhdGVkRW5naW5lKCl7cmV0dXJuIHRoaXMuSW5zdGFuY2VzLmxlbmd0aD09PTA/bnVsbDp0aGlzLkluc3RhbmNlc1t0aGlzLkluc3RhbmNlcy5sZW5ndGgtMV19c3RhdGljIGdldCBMYXN0Q3JlYXRlZFNjZW5lKCl7cmV0dXJuIHRoaXMuX0xhc3RDcmVhdGVkU2NlbmV9fWNlLkluc3RhbmNlcz1uZXcgQXJyYXksY2UuT25FbmdpbmVzRGlzcG9zZWRPYnNlcnZhYmxlPW5ldyB3LGNlLl9MYXN0Q3JlYXRlZFNjZW5lPW51bGwsY2UuVXNlRmFsbGJhY2tUZXh0dXJlPSEwLGNlLkZhbGxiYWNrVGV4dHVyZT0iIjtjb25zdCBydD1jPT5wYXJzZUludChjLnRvU3RyaW5nKCkucmVwbGFjZSgvXFcvZywiIikpO2NsYXNzIHZle2NvbnN0cnVjdG9yKGU9MCx0PTApe3RoaXMueD1lLHRoaXMueT10fXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMueH0gWTogJHt0aGlzLnl9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjIifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1ydCh0aGlzLngpLHQ9cnQodGhpcy55KTtsZXQgaT1lO3JldHVybiBpPWkqMzk3XnQsaX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSx0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHZlLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfWFzQXJyYXkoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXN9Y29weUZyb21GbG9hdHMoZSx0KXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpc31zZXQoZSx0KXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQpfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1hZGRUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54K2UueCx0Lnk9dGhpcy55K2UueSx0fWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXN9YWRkVmVjdG9yMyhlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LWUueCx0aGlzLnktZS55KX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngtZS54LHQueT10aGlzLnktZS55LHR9c3VidHJhY3RJblBsYWNlKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfW11bHRpcGx5SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpc31tdWx0aXBseShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54KmUueCx0aGlzLnkqZS55KX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZS54LHQueT10aGlzLnkqZS55LHR9bXVsdGlwbHlCeUZsb2F0cyhlLHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnkpfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngvZS54LHQueT10aGlzLnkvZS55LHR9ZGl2aWRlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5kaXZpZGVUb1JlZihlLHRoaXMpfW5lZ2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy54LC10aGlzLnkpfW5lZ2F0ZUluUGxhY2UoKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXN9c2NhbGUoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDApO3JldHVybiB0aGlzLnNjYWxlVG9SZWYoZSx0KSx0fXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHR9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLng9PT1lLngmJnRoaXMueT09PWUueX1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9U2Upe3JldHVybiBlJiZXLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSl9ZnJhY3QoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnktTWF0aC5mbG9vcih0aGlzLnkpKX1yb3RhdGVUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5jb3MoZSkscz1NYXRoLnNpbihlKSxyPWkqdGhpcy54LXMqdGhpcy55LG49cyp0aGlzLngraSp0aGlzLnk7cmV0dXJuIHQueD1yLHQueT1uLHR9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55fW5vcm1hbGl6ZSgpe3JldHVybiB2ZS5Ob3JtYWxpemVUb1JlZih0aGlzLHRoaXMpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSl9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IHZlKDAsMCl9c3RhdGljIE9uZSgpe3JldHVybiBuZXcgdmUoMSwxKX1zdGF0aWMgUmFuZG9tKGU9MCx0PTEpe3JldHVybiBuZXcgdmUoVy5SYW5kb21SYW5nZShlLHQpLFcuUmFuZG9tUmFuZ2UoZSx0KSl9c3RhdGljIGdldCBaZXJvUmVhZE9ubHkoKXtyZXR1cm4gdmUuX1plcm9SZWFkT25seX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IHZlKGVbdF0sZVt0KzFdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBpLng9ZVt0XSxpLnk9ZVt0KzFdLGl9c3RhdGljIENhdG11bGxSb20oZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPS41KigyKnQueCsoLWUueCtpLngpKnIrKDIqZS54LTUqdC54KzQqaS54LXMueCkqbisoLWUueCszKnQueC0zKmkueCtzLngpKmEpLGg9LjUqKDIqdC55KygtZS55K2kueSkqcisoMiplLnktNSp0LnkrNCppLnktcy55KSpuKygtZS55KzMqdC55LTMqaS55K3MueSkqYSk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKG8saCl9c3RhdGljIENsYW1wKGUsdCxpKXtsZXQgcz1lLng7cz1zPmkueD9pLng6cyxzPXM8dC54P3QueDpzO2xldCByPWUueTtyZXR1cm4gcj1yPmkueT9pLnk6cixyPXI8dC55P3QueTpyLG5ldyBlLmNvbnN0cnVjdG9yKHMscil9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUueCpvK2kueCpoK3QueCpsK3MueCp1LF89ZS55Km8raS55KmgrdC55Kmwrcy55KnU7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGQsXyl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtyZXR1cm4gbi54PShhLXIpKjYqZS54KygzKmEtNCpyKzEpKnQueCsoLWErcikqNippLngrKDMqYS0yKnIpKnMueCxuLnk9KGEtcikqNiplLnkrKDMqYS00KnIrMSkqdC55KygtYStyKSo2KmkueSsoMyphLTIqcikqcy55LG59c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9ZS54Kyh0LngtZS54KSppLHI9ZS55Kyh0LnktZS55KSppO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihzLHIpfXN0YXRpYyBEb3QoZSx0KXtyZXR1cm4gZS54KnQueCtlLnkqdC55fXN0YXRpYyBOb3JtYWxpemUoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5Ob3JtYWxpemVUb1JlZihlLHQpLHR9c3RhdGljIE5vcm1hbGl6ZVRvUmVmKGUsdCl7Y29uc3QgaT1lLmxlbmd0aCgpO3JldHVybiBpPT09MHx8KHQueD1lLngvaSx0Lnk9ZS55L2kpLHR9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1lLng8dC54P2UueDp0Lngscz1lLnk8dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1lLng+dC54P2UueDp0Lngscz1lLnk+dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIFRyYW5zZm9ybShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHZlLlRyYW5zZm9ybVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ub1JlZihlLHQsaSl7Y29uc3Qgcz10Lm0scj1lLngqc1swXStlLnkqc1s0XStzWzEyXSxuPWUueCpzWzFdK2UueSpzWzVdK3NbMTNdO3JldHVybiBpLng9cixpLnk9bixpfXN0YXRpYyBQb2ludEluVHJpYW5nbGUoZSx0LGkscyl7Y29uc3Qgcj0uNSooLWkueSpzLngrdC55KigtaS54K3MueCkrdC54KihpLnktcy55KStpLngqcy55KSxuPXI8MD8tMToxLGE9KHQueSpzLngtdC54KnMueSsocy55LXQueSkqZS54Kyh0Lngtcy54KSplLnkpKm4sbz0odC54KmkueS10LnkqaS54Kyh0LnktaS55KSplLngrKGkueC10LngpKmUueSkqbjtyZXR1cm4gYT4wJiZvPjAmJmErbzwyKnIqbn1zdGF0aWMgRGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KHZlLkRpc3RhbmNlU3F1YXJlZChlLHQpKX1zdGF0aWMgRGlzdGFuY2VTcXVhcmVkKGUsdCl7Y29uc3QgaT1lLngtdC54LHM9ZS55LXQueTtyZXR1cm4gaSppK3Mqc31zdGF0aWMgQ2VudGVyKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdmUuQ2VudGVyVG9SZWYoZSx0LGkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIpfXN0YXRpYyBEaXN0YW5jZU9mUG9pbnRGcm9tU2VnbWVudChlLHQsaSl7Y29uc3Qgcz12ZS5EaXN0YW5jZVNxdWFyZWQodCxpKTtpZihzPT09MClyZXR1cm4gdmUuRGlzdGFuY2UoZSx0KTtjb25zdCByPWkuc3VidHJhY3QodCksbj1NYXRoLm1heCgwLE1hdGgubWluKDEsdmUuRG90KGUuc3VidHJhY3QodCkscikvcykpLGE9dC5hZGQoci5tdWx0aXBseUJ5RmxvYXRzKG4sbikpO3JldHVybiB2ZS5EaXN0YW5jZShlLGEpfX12ZS5fWmVyb1JlYWRPbmx5PXZlLlplcm8oKTtjbGFzcyBwe2dldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgoZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeigpe3JldHVybiB0aGlzLl96fXNldCB6KGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfWNvbnN0cnVjdG9yKGU9MCx0PTAsaT0wKXt0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pfXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMuX3h9IFk6ICR7dGhpcy5feX0gWjogJHt0aGlzLl96fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJWZWN0b3IzIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9cnQodGhpcy5feCksdD1ydCh0aGlzLl95KSxpPXJ0KHRoaXMuX3opO2xldCBzPWU7cmV0dXJuIHM9cyozOTdedCxzPXMqMzk3Xmksc31hc0FycmF5KCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gcC5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc310b1F1YXRlcm5pb24oKXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLl95LHRoaXMuX3gsdGhpcy5feil9YWRkSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5hZGRJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9YWRkSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLl94Kz1lLHRoaXMuX3krPXQsdGhpcy5feis9aSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9YWRkKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feil9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feil9c3VidHJhY3RJblBsYWNlKGUpe3JldHVybiB0aGlzLl94LT1lLl94LHRoaXMuX3ktPWUuX3ksdGhpcy5fei09ZS5feix0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gtZS5feCx0aGlzLl95LWUuX3ksdGhpcy5fei1lLl96KX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHRoaXMuc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCl9c3VidHJhY3RGcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLHRoaXMuX3ktdCx0aGlzLl96LWkpfXN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMpe3JldHVybiBzLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gtZSx0aGlzLl95LXQsdGhpcy5fei1pKX1uZWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMuX3gsLXRoaXMuX3ksLXRoaXMuX3opfW5lZ2F0ZUluUGxhY2UoKXtyZXR1cm4gdGhpcy5feCo9LTEsdGhpcy5feSo9LTEsdGhpcy5feio9LTEsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfW5lZ2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqLTEsdGhpcy5feSotMSx0aGlzLl96Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3gqPWUsdGhpcy5feSo9ZSx0aGlzLl96Kj1lLHRoaXMuX2lzRGlydHk9ITAsdGhpc31zY2FsZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUpfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSl9Z2V0Tm9ybWFsVG9SZWYoZSl7Y29uc3QgdD10aGlzLmxlbmd0aCgpO2xldCBpPU1hdGguYWNvcyh0aGlzLnkvdCk7Y29uc3Qgcz1NYXRoLmF0YW4yKHRoaXMueix0aGlzLngpO2k+TWF0aC5QSS8yP2ktPU1hdGguUEkvMjppKz1NYXRoLlBJLzI7Y29uc3Qgcj10Kk1hdGguc2luKGkpKk1hdGguY29zKHMpLG49dCpNYXRoLmNvcyhpKSxhPXQqTWF0aC5zaW4oaSkqTWF0aC5zaW4ocyk7cmV0dXJuIGUuc2V0KHIsbixhKSxlfWFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSx0KXtjb25zdCBpPWUuX3cqdGhpcy5feCtlLl95KnRoaXMuX3otZS5feip0aGlzLl95LHM9ZS5fdyp0aGlzLl95K2UuX3oqdGhpcy5feC1lLl94KnRoaXMuX3oscj1lLl93KnRoaXMuX3orZS5feCp0aGlzLl95LWUuX3kqdGhpcy5feCxuPS1lLl94KnRoaXMuX3gtZS5feSp0aGlzLl95LWUuX3oqdGhpcy5fejtyZXR1cm4gdC5feD1pKmUuX3crbiotZS5feCtzKi1lLl96LXIqLWUuX3ksdC5feT1zKmUuX3crbiotZS5feStyKi1lLl94LWkqLWUuX3osdC5fej1yKmUuX3crbiotZS5feitpKi1lLl95LXMqLWUuX3gsdC5faXNEaXJ0eT0hMCx0fWFwcGx5Um90YXRpb25RdWF0ZXJuaW9uSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsdGhpcyl9YXBwbHlSb3RhdGlvblF1YXRlcm5pb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25Ub1JlZihlLG5ldyB0aGlzLmNvbnN0cnVjdG9yKX1zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQuYWRkSW5QbGFjZUZyb21GbG9hdHModGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUpfXByb2plY3RPblBsYW5lKGUsdCl7Y29uc3QgaT1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5wcm9qZWN0T25QbGFuZVRvUmVmKGUsdCxpKSxpfXByb2plY3RPblBsYW5lVG9SZWYoZSx0LGkpe2NvbnN0IHM9ZS5ub3JtYWwscj1lLmQsbj1LLlZlY3RvcjNbMF07dGhpcy5zdWJ0cmFjdFRvUmVmKHQsbiksbi5ub3JtYWxpemUoKTtjb25zdCBhPXAuRG90KG4scyk7aWYoTWF0aC5hYnMoYSk8TWF0aC5wb3coMTAsLTEwKSlpLnNldEFsbCgxLzApO2Vsc2V7Y29uc3Qgbz0tKHAuRG90KHQscykrcikvYSxoPW4uc2NhbGVJblBsYWNlKG8pO3QuYWRkVG9SZWYoaCxpKX1yZXR1cm4gaX1lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMuX3g9PT1lLl94JiZ0aGlzLl95PT09ZS5feSYmdGhpcy5fej09PWUuX3p9ZXF1YWxzV2l0aEVwc2lsb24oZSx0PVNlKXtyZXR1cm4gZSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KX1lcXVhbHNUb0Zsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMuX3g9PT1lJiZ0aGlzLl95PT09dCYmdGhpcy5fej09PWl9bXVsdGlwbHlJblBsYWNlKGUpe3JldHVybiB0aGlzLl94Kj1lLl94LHRoaXMuX3kqPWUuX3ksdGhpcy5feio9ZS5feix0aGlzLl9pc0RpcnR5PSEwLHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlCeUZsb2F0cyhlLl94LGUuX3ksZS5feil9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZS5feCx0aGlzLl95KmUuX3ksdGhpcy5feiplLl96KX1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqdCx0aGlzLl96KmkpfWRpdmlkZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9bWF4aW1pemVJblBsYWNlKGUpe3JldHVybiB0aGlzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfW1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPHRoaXMuX3gmJih0aGlzLng9ZSksdDx0aGlzLl95JiYodGhpcy55PXQpLGk8dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfW1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPnRoaXMuX3gmJih0aGlzLng9ZSksdD50aGlzLl95JiYodGhpcy55PXQpLGk+dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfWlzTm9uVW5pZm9ybVdpdGhpbkVwc2lsb24oZSl7Y29uc3QgdD1NYXRoLmFicyh0aGlzLl94KSxpPU1hdGguYWJzKHRoaXMuX3kpO2lmKCFXLldpdGhpbkVwc2lsb24odCxpLGUpKXJldHVybiEwO2NvbnN0IHM9TWF0aC5hYnModGhpcy5feik7cmV0dXJuIVcuV2l0aGluRXBzaWxvbih0LHMsZSl8fCFXLldpdGhpbkVwc2lsb24oaSxzLGUpfWdldCBpc05vblVuaWZvcm0oKXtjb25zdCBlPU1hdGguYWJzKHRoaXMuX3gpLHQ9TWF0aC5hYnModGhpcy5feSk7aWYoZSE9PXQpcmV0dXJuITA7Y29uc3QgaT1NYXRoLmFicyh0aGlzLl96KTtyZXR1cm4gZSE9PWl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLl94KSxNYXRoLmZsb29yKHRoaXMuX3kpLE1hdGguZmxvb3IodGhpcy5feikpfWZyYWN0KCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gtTWF0aC5mbG9vcih0aGlzLl94KSx0aGlzLl95LU1hdGguZmxvb3IodGhpcy5feSksdGhpcy5fei1NYXRoLmZsb29yKHRoaXMuX3opKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96fWdldCBoYXNBWmVyb0NvbXBvbmVudCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3kqdGhpcy5fej09PTB9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMubm9ybWFsaXplRnJvbUxlbmd0aCh0aGlzLmxlbmd0aCgpKX1yZW9yZGVySW5QbGFjZShlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZT09PSJ4eXoiP3RoaXM6KEsuVmVjdG9yM1swXS5jb3B5RnJvbSh0aGlzKSxbIngiLCJ5IiwieiJdLmZvckVhY2goKHQsaSk9Pnt0aGlzW3RdPUsuVmVjdG9yM1swXVtlW2ldXX0pLHRoaXMpfXJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKGUsdCl7cmV0dXJuIGUudG9Sb3RhdGlvbk1hdHJpeChLLk1hdHJpeFswXSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMsSy5NYXRyaXhbMF0sdCksdH1yb3RhdGVCeVF1YXRlcm5pb25Bcm91bmRQb2ludFRvUmVmKGUsdCxpKXtyZXR1cm4gdGhpcy5zdWJ0cmFjdFRvUmVmKHQsSy5WZWN0b3IzWzBdKSxLLlZlY3RvcjNbMF0ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYoZSxLLlZlY3RvcjNbMF0pLHQuYWRkVG9SZWYoSy5WZWN0b3IzWzBdLGkpLGl9Y3Jvc3MoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Dcm9zc1RvUmVmKHRoaXMsZSx0KX1ub3JtYWxpemVGcm9tTGVuZ3RoKGUpe3JldHVybiBlPT09MHx8ZT09PTE/dGhpczp0aGlzLnNjYWxlSW5QbGFjZSgxL2UpfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHRoaXMubm9ybWFsaXplVG9SZWYoZSksZX1ub3JtYWxpemVUb1JlZihlKXtjb25zdCB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ9PT0wfHx0PT09MT9lLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTp0aGlzLnNjYWxlVG9SZWYoMS90LGUpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9Y29weUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9aSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c2V0KGUsdCxpKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQsaSl9c2V0QWxsKGUpe3JldHVybiB0aGlzLl94PXRoaXMuX3k9dGhpcy5fej1lLHRoaXMuX2lzRGlydHk9ITAsdGhpc31zdGF0aWMgR2V0Q2xpcEZhY3RvcihlLHQsaSxzKXtjb25zdCByPXAuRG90KGUsaSktcyxuPXAuRG90KHQsaSktcztyZXR1cm4gci8oci1uKX1zdGF0aWMgR2V0QW5nbGVCZXR3ZWVuVmVjdG9ycyhlLHQsaSl7Y29uc3Qgcz1lLm5vcm1hbGl6ZVRvUmVmKEsuVmVjdG9yM1sxXSkscj10Lm5vcm1hbGl6ZVRvUmVmKEsuVmVjdG9yM1syXSk7bGV0IG49cC5Eb3QocyxyKTtuPVcuQ2xhbXAobiwtMSwxKTtjb25zdCBhPU1hdGguYWNvcyhuKSxvPUsuVmVjdG9yM1szXTtyZXR1cm4gcC5Dcm9zc1RvUmVmKHMscixvKSxwLkRvdChvLGkpPjA/aXNOYU4oYSk/MDphOmlzTmFOKGEpPy1NYXRoLlBJOi1NYXRoLmFjb3Mobil9c3RhdGljIEdldEFuZ2xlQmV0d2VlblZlY3RvcnNPblBsYW5lKGUsdCxpKXtLLlZlY3RvcjNbMF0uY29weUZyb20oZSk7Y29uc3Qgcz1LLlZlY3RvcjNbMF07Sy5WZWN0b3IzWzFdLmNvcHlGcm9tKHQpO2NvbnN0IHI9Sy5WZWN0b3IzWzFdO0suVmVjdG9yM1syXS5jb3B5RnJvbShpKTtjb25zdCBuPUsuVmVjdG9yM1syXSxhPUsuVmVjdG9yM1szXSxvPUsuVmVjdG9yM1s0XTtzLm5vcm1hbGl6ZSgpLHIubm9ybWFsaXplKCksbi5ub3JtYWxpemUoKSxwLkNyb3NzVG9SZWYobixzLGEpLHAuQ3Jvc3NUb1JlZihhLG4sbyk7Y29uc3QgaD1NYXRoLmF0YW4yKHAuRG90KHIsYSkscC5Eb3QocixvKSk7cmV0dXJuIFcuTm9ybWFsaXplUmFkaWFucyhoKX1zdGF0aWMgUGl0Y2hZYXdSb2xsVG9Nb3ZlQmV0d2VlblBvaW50c1RvUmVmKGUsdCxpKXtjb25zdCBzPUYuVmVjdG9yM1swXTtyZXR1cm4gdC5zdWJ0cmFjdFRvUmVmKGUscyksaS5feT1NYXRoLmF0YW4yKHMueCxzLnopfHwwLGkuX3g9TWF0aC5hdGFuMihNYXRoLnNxcnQocy54KioyK3MueioqMikscy55KXx8MCxpLl96PTAsaS5faXNEaXJ0eT0hMCxpfXN0YXRpYyBQaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5QaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzVG9SZWYoZSx0LGkpfXN0YXRpYyBTbGVycFRvUmVmKGUsdCxpLHMpe2k9Vy5DbGFtcChpLDAsMSk7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV07ci5jb3B5RnJvbShlKTtjb25zdCBhPXIubGVuZ3RoKCk7ci5ub3JtYWxpemVGcm9tTGVuZ3RoKGEpLG4uY29weUZyb20odCk7Y29uc3Qgbz1uLmxlbmd0aCgpO24ubm9ybWFsaXplRnJvbUxlbmd0aChvKTtjb25zdCBoPXAuRG90KHIsbik7bGV0IGwsdTtpZihoPDEtU2Upe2NvbnN0IGQ9TWF0aC5hY29zKGgpLF89MS9NYXRoLnNpbihkKTtsPU1hdGguc2luKCgxLWkpKmQpKl8sdT1NYXRoLnNpbihpKmQpKl99ZWxzZSBsPTEtaSx1PWk7cmV0dXJuIHIuc2NhbGVJblBsYWNlKGwpLG4uc2NhbGVJblBsYWNlKHUpLHMuY29weUZyb20ocikuYWRkSW5QbGFjZShuKSxzLnNjYWxlSW5QbGFjZShXLkxlcnAoYSxvLGkpKSxzfXN0YXRpYyBTbW9vdGhUb1JlZihlLHQsaSxzLHIpe3JldHVybiBwLlNsZXJwVG9SZWYoZSx0LHM9PT0wPzE6aS9zLHIpLHJ9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyBwKGVbdF0sZVt0KzFdLGVbdCsyXSl9c3RhdGljIEZyb21GbG9hdEFycmF5KGUsdCl7cmV0dXJuIHAuRnJvbUFycmF5KGUsdCl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtyZXR1cm4gaS5feD1lW3RdLGkuX3k9ZVt0KzFdLGkuX3o9ZVt0KzJdLGkuX2lzRGlydHk9ITAsaX1zdGF0aWMgRnJvbUZsb2F0QXJyYXlUb1JlZihlLHQsaSl7cmV0dXJuIHAuRnJvbUFycmF5VG9SZWYoZSx0LGkpfXN0YXRpYyBGcm9tRmxvYXRzVG9SZWYoZSx0LGkscyl7cmV0dXJuIHMuY29weUZyb21GbG9hdHMoZSx0LGkpLHN9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IHAoMCwwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IHAoMSwxLDEpfXN0YXRpYyBVcCgpe3JldHVybiBuZXcgcCgwLDEsMCl9c3RhdGljIGdldCBVcFJlYWRPbmx5KCl7cmV0dXJuIHAuX1VwUmVhZE9ubHl9c3RhdGljIGdldCBEb3duUmVhZE9ubHkoKXtyZXR1cm4gcC5fRG93blJlYWRPbmx5fXN0YXRpYyBnZXQgUmlnaHRSZWFkT25seSgpe3JldHVybiBwLl9SaWdodFJlYWRPbmx5fXN0YXRpYyBnZXQgTGVmdFJlYWRPbmx5KCl7cmV0dXJuIHAuX0xlZnRSZWFkT25seX1zdGF0aWMgZ2V0IExlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHkoKXtyZXR1cm4gcC5fTGVmdEhhbmRlZEZvcndhcmRSZWFkT25seX1zdGF0aWMgZ2V0IFJpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5KCl7cmV0dXJuIHAuX1JpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5fXN0YXRpYyBnZXQgTGVmdEhhbmRlZEJhY2t3YXJkUmVhZE9ubHkoKXtyZXR1cm4gcC5fTGVmdEhhbmRlZEJhY2t3YXJkUmVhZE9ubHl9c3RhdGljIGdldCBSaWdodEhhbmRlZEJhY2t3YXJkUmVhZE9ubHkoKXtyZXR1cm4gcC5fUmlnaHRIYW5kZWRCYWNrd2FyZFJlYWRPbmx5fXN0YXRpYyBnZXQgWmVyb1JlYWRPbmx5KCl7cmV0dXJuIHAuX1plcm9SZWFkT25seX1zdGF0aWMgRG93bigpe3JldHVybiBuZXcgcCgwLC0xLDApfXN0YXRpYyBGb3J3YXJkKGU9ITEpe3JldHVybiBuZXcgcCgwLDAsZT8tMToxKX1zdGF0aWMgQmFja3dhcmQoZT0hMSl7cmV0dXJuIG5ldyBwKDAsMCxlPzE6LTEpfXN0YXRpYyBSaWdodCgpe3JldHVybiBuZXcgcCgxLDAsMCl9c3RhdGljIExlZnQoKXtyZXR1cm4gbmV3IHAoLTEsMCwwKX1zdGF0aWMgUmFuZG9tKGU9MCx0PTEpe3JldHVybiBuZXcgcChXLlJhbmRvbVJhbmdlKGUsdCksVy5SYW5kb21SYW5nZShlLHQpLFcuUmFuZG9tUmFuZ2UoZSx0KSl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm0sYT1lKm5bMF0rdCpuWzRdK2kqbls4XStuWzEyXSxvPWUqblsxXSt0Km5bNV0raSpuWzldK25bMTNdLGg9ZSpuWzJdK3Qqbls2XStpKm5bMTBdK25bMTRdLGw9MS8oZSpuWzNdK3Qqbls3XStpKm5bMTFdK25bMTVdKTtyZXR1cm4gci5feD1hKmwsci5feT1vKmwsci5fej1oKmwsci5faXNEaXJ0eT0hMCxyfXN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWwoZSx0KXtjb25zdCBpPXAuWmVybygpO3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQsaSl7cmV0dXJuIHRoaXMuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm07cmV0dXJuIHIuX3g9ZSpuWzBdK3Qqbls0XStpKm5bOF0sci5feT1lKm5bMV0rdCpuWzVdK2kqbls5XSxyLl96PWUqblsyXSt0Km5bNl0raSpuWzEwXSxyLl9pc0RpcnR5PSEwLHJ9c3RhdGljIENhdG11bGxSb20oZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPS41KigyKnQuX3grKC1lLl94K2kuX3gpKnIrKDIqZS5feC01KnQuX3grNCppLl94LXMuX3gpKm4rKC1lLl94KzMqdC5feC0zKmkuX3grcy5feCkqYSksaD0uNSooMip0Ll95KygtZS5feStpLl95KSpyKygyKmUuX3ktNSp0Ll95KzQqaS5feS1zLl95KSpuKygtZS5feSszKnQuX3ktMyppLl95K3MuX3kpKmEpLGw9LjUqKDIqdC5feisoLWUuX3oraS5feikqcisoMiplLl96LTUqdC5feis0KmkuX3otcy5feikqbisoLWUuX3orMyp0Ll96LTMqaS5feitzLl96KSphKTtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IobyxoLGwpfXN0YXRpYyBDbGFtcChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5DbGFtcFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIENsYW1wVG9SZWYoZSx0LGkscyl7bGV0IHI9ZS5feDtyPXI+aS5feD9pLl94OnIscj1yPHQuX3g/dC5feDpyO2xldCBuPWUuX3k7bj1uPmkuX3k/aS5feTpuLG49bjx0Ll95P3QuX3k6bjtsZXQgYT1lLl96O3JldHVybiBhPWE+aS5fej9pLl96OmEsYT1hPHQuX3o/dC5fejphLHMuY29weUZyb21GbG9hdHMocixuLGEpLHN9c3RhdGljIENoZWNrRXh0ZW5kcyhlLHQsaSl7dC5taW5pbWl6ZUluUGxhY2UoZSksaS5tYXhpbWl6ZUluUGxhY2UoZSl9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUuX3gqbytpLl94KmgrdC5feCpsK3MuX3gqdSxfPWUuX3kqbytpLl95KmgrdC5feSpsK3MuX3kqdSxmPWUuX3oqbytpLl96KmgrdC5feipsK3MuX3oqdTtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IoZCxfLGYpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7cmV0dXJuIG4uX3g9KGEtcikqNiplLl94KygzKmEtNCpyKzEpKnQuX3grKC1hK3IpKjYqaS5feCsoMyphLTIqcikqcy5feCxuLl95PShhLXIpKjYqZS5feSsoMyphLTQqcisxKSp0Ll95KygtYStyKSo2KmkuX3krKDMqYS0yKnIpKnMuX3ksbi5fej0oYS1yKSo2KmUuX3orKDMqYS00KnIrMSkqdC5feisoLWErcikqNippLl96KygzKmEtMipyKSpzLl96LG4uX2lzRGlydHk9ITAsbn1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHAuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtyZXR1cm4gcy5feD1lLl94Kyh0Ll94LWUuX3gpKmkscy5feT1lLl95Kyh0Ll95LWUuX3kpKmkscy5fej1lLl96Kyh0Ll96LWUuX3opKmkscy5faXNEaXJ0eT0hMCxzfXN0YXRpYyBEb3QoZSx0KXtyZXR1cm4gZS5feCp0Ll94K2UuX3kqdC5feStlLl96KnQuX3p9c3RhdGljIENyb3NzKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Dcm9zc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBDcm9zc1RvUmVmKGUsdCxpKXtjb25zdCBzPWUuX3kqdC5fei1lLl96KnQuX3kscj1lLl96KnQuX3gtZS5feCp0Ll96LG49ZS5feCp0Ll95LWUuX3kqdC5feDtyZXR1cm4gaS5jb3B5RnJvbUZsb2F0cyhzLHIsbiksaX1zdGF0aWMgTm9ybWFsaXplKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHAuTm9ybWFsaXplVG9SZWYoZSx0KSx0fXN0YXRpYyBOb3JtYWxpemVUb1JlZihlLHQpe3JldHVybiBlLm5vcm1hbGl6ZVRvUmVmKHQpLHR9c3RhdGljIFByb2plY3QoZSx0LGkscyl7Y29uc3Qgcj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Qcm9qZWN0VG9SZWYoZSx0LGkscyxyKSxyfXN0YXRpYyBQcm9qZWN0VG9SZWYoZSx0LGkscyxyKXtjb25zdCBuPXMud2lkdGgsYT1zLmhlaWdodCxvPXMueCxoPXMueSxsPUsuTWF0cml4WzFdO00uRnJvbVZhbHVlc1RvUmVmKG4vMiwwLDAsMCwwLC1hLzIsMCwwLDAsMCwuNSwwLG8rbi8yLGEvMitoLC41LDEsbCk7Y29uc3QgdT1LLk1hdHJpeFswXTtyZXR1cm4gdC5tdWx0aXBseVRvUmVmKGksdSksdS5tdWx0aXBseVRvUmVmKGwsdSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdSxyKSxyfXN0YXRpYyBSZWZsZWN0KGUsdCl7cmV0dXJuIHRoaXMuUmVmbGVjdFRvUmVmKGUsdCxuZXcgcCl9c3RhdGljIFJlZmxlY3RUb1JlZihlLHQsaSl7Y29uc3Qgcz1GLlZlY3RvcjNbMF07cmV0dXJuIHMuY29weUZyb20odCkuc2NhbGVJblBsYWNlKDIqcC5Eb3QoZSx0KSksaS5jb3B5RnJvbShlKS5zdWJ0cmFjdEluUGxhY2Uocyl9c3RhdGljIF9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihlLHQsaSl7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKTtjb25zdCBzPXQubSxyPWUuX3gqc1szXStlLl95KnNbN10rZS5feipzWzExXStzWzE1XTtyZXR1cm4gVy5XaXRoaW5FcHNpbG9uKHIsMSkmJmkuc2NhbGVJblBsYWNlKDEvciksaX1zdGF0aWMgVW5wcm9qZWN0RnJvbVRyYW5zZm9ybShlLHQsaSxzLHIpe3JldHVybiB0aGlzLlVucHJvamVjdChlLHQsaSxzLHIsTS5JZGVudGl0eVJlYWRPbmx5KX1zdGF0aWMgVW5wcm9qZWN0KGUsdCxpLHMscixuKXtjb25zdCBhPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBwLlVucHJvamVjdFRvUmVmKGUsdCxpLHMscixuLGEpLGF9c3RhdGljIFVucHJvamVjdFRvUmVmKGUsdCxpLHMscixuLGEpe3JldHVybiBwLlVucHJvamVjdEZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQsaSxzLHIsbixhKSxhfXN0YXRpYyBVbnByb2plY3RGbG9hdHNUb1JlZihlLHQsaSxzLHIsbixhLG8saCl7dmFyIGw7Y29uc3QgdT1LLk1hdHJpeFswXTtuLm11bHRpcGx5VG9SZWYoYSx1KSx1Lm11bHRpcGx5VG9SZWYobyx1KSx1LmludmVydCgpO2NvbnN0IGQ9Sy5WZWN0b3IzWzBdO3JldHVybiBkLng9ZS9zKjItMSxkLnk9LSh0L3IqMi0xKSwhKChsPWNlLkxhc3RDcmVhdGVkRW5naW5lKT09PW51bGx8fGw9PT12b2lkIDApJiZsLmlzTkRDSGFsZlpSYW5nZT9kLno9aTpkLno9MippLTEscC5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYoZCx1LGgpLGh9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5jb3B5RnJvbShlKSxpLm1pbmltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBNYXhpbWl6ZShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIGkuY29weUZyb20oZSksaS5tYXhpbWl6ZUluUGxhY2UodCksaX1zdGF0aWMgRGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KHAuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfXN0YXRpYyBEaXN0YW5jZVNxdWFyZWQoZSx0KXtjb25zdCBpPWUuX3gtdC5feCxzPWUuX3ktdC5feSxyPWUuX3otdC5fejtyZXR1cm4gaSppK3MqcytyKnJ9c3RhdGljIFByb2plY3RPblRyaWFuZ2xlVG9SZWYoZSx0LGkscyxyKXtjb25zdCBuPUsuVmVjdG9yM1swXSxhPUsuVmVjdG9yM1sxXSxvPUsuVmVjdG9yM1syXSxoPUsuVmVjdG9yM1szXSxsPUsuVmVjdG9yM1s0XTtpLnN1YnRyYWN0VG9SZWYodCxuKSxzLnN1YnRyYWN0VG9SZWYodCxhKSxzLnN1YnRyYWN0VG9SZWYoaSxvKTtjb25zdCB1PW4ubGVuZ3RoKCksZD1hLmxlbmd0aCgpLF89by5sZW5ndGgoKTtpZih1PFNlfHxkPFNlfHxfPFNlKXJldHVybiByLmNvcHlGcm9tKHQpLHAuRGlzdGFuY2UoZSx0KTtlLnN1YnRyYWN0VG9SZWYodCxsKSxwLkNyb3NzVG9SZWYobixhLGgpO2NvbnN0IGY9aC5sZW5ndGgoKTtpZihmPFNlKXJldHVybiByLmNvcHlGcm9tKHQpLHAuRGlzdGFuY2UoZSx0KTtoLm5vcm1hbGl6ZUZyb21MZW5ndGgoZik7bGV0IG09bC5sZW5ndGgoKTtpZihtPFNlKXJldHVybiByLmNvcHlGcm9tKHQpLDA7bC5ub3JtYWxpemVGcm9tTGVuZ3RoKG0pO2NvbnN0IHY9cC5Eb3QoaCxsKSxFPUsuVmVjdG9yM1s1XSxTPUsuVmVjdG9yM1s2XTtFLmNvcHlGcm9tKGgpLnNjYWxlSW5QbGFjZSgtbSp2KSxTLmNvcHlGcm9tKGUpLmFkZEluUGxhY2UoRSk7Y29uc3QgUj1LLlZlY3RvcjNbNF0sQT1LLlZlY3RvcjNbNV0sQz1LLlZlY3RvcjNbN10sYj1LLlZlY3RvcjNbOF07Ui5jb3B5RnJvbShuKS5zY2FsZUluUGxhY2UoMS91KSxiLmNvcHlGcm9tKGEpLnNjYWxlSW5QbGFjZSgxL2QpLFIuYWRkSW5QbGFjZShiKS5zY2FsZUluUGxhY2UoLTEpLEEuY29weUZyb20obikuc2NhbGVJblBsYWNlKC0xL3UpLGIuY29weUZyb20obykuc2NhbGVJblBsYWNlKDEvXyksQS5hZGRJblBsYWNlKGIpLnNjYWxlSW5QbGFjZSgtMSksQy5jb3B5RnJvbShvKS5zY2FsZUluUGxhY2UoLTEvXyksYi5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoLTEvZCksQy5hZGRJblBsYWNlKGIpLnNjYWxlSW5QbGFjZSgtMSk7Y29uc3QgeD1LLlZlY3RvcjNbOV07bGV0IEk7eC5jb3B5RnJvbShTKS5zdWJ0cmFjdEluUGxhY2UodCkscC5Dcm9zc1RvUmVmKFIseCxiKSxJPXAuRG90KGIsaCk7Y29uc3QgVT1JO3guY29weUZyb20oUykuc3VidHJhY3RJblBsYWNlKGkpLHAuQ3Jvc3NUb1JlZihBLHgsYiksST1wLkRvdChiLGgpO2NvbnN0IGs9STt4LmNvcHlGcm9tKFMpLnN1YnRyYWN0SW5QbGFjZShzKSxwLkNyb3NzVG9SZWYoQyx4LGIpLEk9cC5Eb3QoYixoKTtjb25zdCBtZT1JLHE9Sy5WZWN0b3IzWzEwXTtsZXQgZGUsaWU7VT4wJiZrPDA/KHEuY29weUZyb20obiksZGU9dCxpZT1pKTprPjAmJm1lPDA/KHEuY29weUZyb20obyksZGU9aSxpZT1zKToocS5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoLTEpLGRlPXMsaWU9dCk7Y29uc3QgYmU9Sy5WZWN0b3IzWzldLE1lPUsuVmVjdG9yM1s0XTtpZihkZS5zdWJ0cmFjdFRvUmVmKFMsYiksaWUuc3VidHJhY3RUb1JlZihTLGJlKSxwLkNyb3NzVG9SZWYoYixiZSxNZSksIShwLkRvdChNZSxoKTwwKSlyZXR1cm4gci5jb3B5RnJvbShTKSxNYXRoLmFicyhtKnYpO2NvbnN0IEtlPUsuVmVjdG9yM1s1XTtwLkNyb3NzVG9SZWYocSxNZSxLZSksS2Uubm9ybWFsaXplKCk7Y29uc3QgWWU9Sy5WZWN0b3IzWzldO1llLmNvcHlGcm9tKGRlKS5zdWJ0cmFjdEluUGxhY2UoUyk7Y29uc3QgbXQ9WWUubGVuZ3RoKCk7aWYobXQ8U2UpcmV0dXJuIHIuY29weUZyb20oZGUpLHAuRGlzdGFuY2UoZSxkZSk7WWUubm9ybWFsaXplRnJvbUxlbmd0aChtdCk7Y29uc3QgbHQ9cC5Eb3QoS2UsWWUpLE90PUsuVmVjdG9yM1s3XTtPdC5jb3B5RnJvbShTKS5hZGRJblBsYWNlKEtlLnNjYWxlSW5QbGFjZShtdCpsdCkpLGIuY29weUZyb20oT3QpLnN1YnRyYWN0SW5QbGFjZShkZSksbT1xLmxlbmd0aCgpLHEubm9ybWFsaXplRnJvbUxlbmd0aChtKTtsZXQgbmk9cC5Eb3QoYixxKS9NYXRoLm1heChtLFNlKTtyZXR1cm4gbmk9Vy5DbGFtcChuaSwwLDEpLE90LmNvcHlGcm9tKGRlKS5hZGRJblBsYWNlKHEuc2NhbGVJblBsYWNlKG5pKm0pKSxyLmNvcHlGcm9tKE90KSxwLkRpc3RhbmNlKGUsT3QpfXN0YXRpYyBDZW50ZXIoZSx0KXtyZXR1cm4gcC5DZW50ZXJUb1JlZihlLHQscC5aZXJvKCkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUuX3grdC5feCkvMiwoZS5feSt0Ll95KS8yLChlLl96K3QuX3opLzIpfXN0YXRpYyBSb3RhdGlvbkZyb21BeGlzKGUsdCxpKXtjb25zdCBzPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBwLlJvdGF0aW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1LLlF1YXRlcm5pb25bMF07cmV0dXJuIFouUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQsaSxyKSxyLnRvRXVsZXJBbmdsZXNUb1JlZihzKSxzfX1wLl9VcFJlYWRPbmx5PXAuVXAoKSxwLl9Eb3duUmVhZE9ubHk9cC5Eb3duKCkscC5fTGVmdEhhbmRlZEZvcndhcmRSZWFkT25seT1wLkZvcndhcmQoITEpLHAuX1JpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5PXAuRm9yd2FyZCghMCkscC5fTGVmdEhhbmRlZEJhY2t3YXJkUmVhZE9ubHk9cC5CYWNrd2FyZCghMSkscC5fUmlnaHRIYW5kZWRCYWNrd2FyZFJlYWRPbmx5PXAuQmFja3dhcmQoITApLHAuX1JpZ2h0UmVhZE9ubHk9cC5SaWdodCgpLHAuX0xlZnRSZWFkT25seT1wLkxlZnQoKSxwLl9aZXJvUmVhZE9ubHk9cC5aZXJvKCk7Y2xhc3MgeWV7Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0wKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzLnc9c310b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLnh9IFk6ICR7dGhpcy55fSBaOiAke3RoaXMuen0gVzogJHt0aGlzLnd9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjQifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1ydCh0aGlzLngpLHQ9cnQodGhpcy55KSxpPXJ0KHRoaXMueikscz1ydCh0aGlzLncpO2xldCByPWU7cmV0dXJuIHI9ciozOTdedCxyPXIqMzk3Xmkscj1yKjM5N15zLHJ9YXNBcnJheSgpe2NvbnN0IGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfXRvQXJyYXkoZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSxlW3QrMl09dGhpcy56LGVbdCszXT10aGlzLncsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiB5ZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzLnorPWUueix0aGlzLncrPWUudyx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55LHRoaXMueitlLnosdGhpcy53K2Uudyl9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdC56PXRoaXMueitlLnosdC53PXRoaXMudytlLncsdH1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMuei09ZS56LHRoaXMudy09ZS53LHRoaXN9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLngsdGhpcy55LWUueSx0aGlzLnotZS56LHRoaXMudy1lLncpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueC1lLngsdC55PXRoaXMueS1lLnksdC56PXRoaXMuei1lLnosdC53PXRoaXMudy1lLncsdH1zdWJ0cmFjdEZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLHRoaXMueS10LHRoaXMuei1pLHRoaXMudy1zKX1zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe3JldHVybiByLng9dGhpcy54LWUsci55PXRoaXMueS10LHIuej10aGlzLnotaSxyLnc9dGhpcy53LXMscn1uZWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMueCwtdGhpcy55LC10aGlzLnosLXRoaXMudyl9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzLncqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSx0aGlzLnoqLTEsdGhpcy53Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqZSx0aGlzLnoqZSx0aGlzLncqZSl9c2NhbGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUsdC55PXRoaXMueSplLHQuej10aGlzLnoqZSx0Lnc9dGhpcy53KmUsdH1zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQueCs9dGhpcy54KmUsdC55Kz10aGlzLnkqZSx0LnorPXRoaXMueiplLHQudys9dGhpcy53KmUsdH1lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55JiZ0aGlzLno9PT1lLnomJnRoaXMudz09PWUud31lcXVhbHNXaXRoRXBzaWxvbihlLHQ9U2Upe3JldHVybiBlJiZXLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLnosZS56LHQpJiZXLldpdGhpbkVwc2lsb24odGhpcy53LGUudyx0KX1lcXVhbHNUb0Zsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PT09ZSYmdGhpcy55PT09dCYmdGhpcy56PT09aSYmdGhpcy53PT09c31tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXMueio9ZS56LHRoaXMudyo9ZS53LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCplLngsdGhpcy55KmUueSx0aGlzLnoqZS56LHRoaXMudyplLncpfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLngsdC55PXRoaXMueSplLnksdC56PXRoaXMueiplLnosdC53PXRoaXMudyplLncsdH1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpLHMpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCx0aGlzLnoqaSx0aGlzLncqcyl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnksdGhpcy56L2Uueix0aGlzLncvZS53KX1kaXZpZGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0Lno9dGhpcy56L2Uueix0Lnc9dGhpcy53L2Uudyx0fWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIGUueDx0aGlzLngmJih0aGlzLng9ZS54KSxlLnk8dGhpcy55JiYodGhpcy55PWUueSksZS56PHRoaXMueiYmKHRoaXMuej1lLnopLGUudzx0aGlzLncmJih0aGlzLnc9ZS53KSx0aGlzfW1heGltaXplSW5QbGFjZShlKXtyZXR1cm4gZS54PnRoaXMueCYmKHRoaXMueD1lLngpLGUueT50aGlzLnkmJih0aGlzLnk9ZS55KSxlLno+dGhpcy56JiYodGhpcy56PWUueiksZS53PnRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSxNYXRoLmZsb29yKHRoaXMueiksTWF0aC5mbG9vcih0aGlzLncpKX1mcmFjdCgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56LU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnctTWF0aC5mbG9vcih0aGlzLncpKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMud31ub3JtYWxpemUoKXtjb25zdCBlPXRoaXMubGVuZ3RoKCk7cmV0dXJuIGU9PT0wP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX10b1ZlY3RvcjMoKXtyZXR1cm4gbmV3IHAodGhpcy54LHRoaXMueSx0aGlzLnopfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXMudz1lLncsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9c2V0QWxsKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej10aGlzLnc9ZSx0aGlzfXN0YXRpYyBGcm9tQXJyYXkoZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IHllKGVbdF0sZVt0KzFdLGVbdCsyXSxlW3QrM10pfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7cmV0dXJuIGkueD1lW3RdLGkueT1lW3QrMV0saS56PWVbdCsyXSxpLnc9ZVt0KzNdLGl9c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiB5ZS5Gcm9tQXJyYXlUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7cmV0dXJuIHIueD1lLHIueT10LHIuej1pLHIudz1zLHJ9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IHllKDAsMCwwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IHllKDEsMSwxLDEpfXN0YXRpYyBSYW5kb20oZT0wLHQ9MSl7cmV0dXJuIG5ldyB5ZShXLlJhbmRvbVJhbmdlKGUsdCksVy5SYW5kb21SYW5nZShlLHQpLFcuUmFuZG9tUmFuZ2UoZSx0KSxXLlJhbmRvbVJhbmdlKGUsdCkpfXN0YXRpYyBnZXQgWmVyb1JlYWRPbmx5KCl7cmV0dXJuIHllLl9aZXJvUmVhZE9ubHl9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PXllLlplcm8oKTtyZXR1cm4geWUuTm9ybWFsaXplVG9SZWYoZSx0KSx0fXN0YXRpYyBOb3JtYWxpemVUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tKGUpLHQubm9ybWFsaXplKCksdH1zdGF0aWMgTWluaW1pemUoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBpLmNvcHlGcm9tKGUpLGkubWluaW1pemVJblBsYWNlKHQpLGl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5jb3B5RnJvbShlKSxpLm1heGltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBEaXN0YW5jZShlLHQpe3JldHVybiBNYXRoLnNxcnQoeWUuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfXN0YXRpYyBEaXN0YW5jZVNxdWFyZWQoZSx0KXtjb25zdCBpPWUueC10Lngscz1lLnktdC55LHI9ZS56LXQueixuPWUudy10Lnc7cmV0dXJuIGkqaStzKnMrcipyK24qbn1zdGF0aWMgQ2VudGVyKGUsdCl7cmV0dXJuIHllLkNlbnRlclRvUmVmKGUsdCx5ZS5aZXJvKCkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIsKGUueit0LnopLzIsKGUudyt0LncpLzIpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlcyhlLHQpe2NvbnN0IGk9eWUuWmVybygpO3JldHVybiB5ZS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4geWUuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49cy5tLGE9ZSpuWzBdK3Qqbls0XStpKm5bOF0rblsxMl0sbz1lKm5bMV0rdCpuWzVdK2kqbls5XStuWzEzXSxoPWUqblsyXSt0Km5bNl0raSpuWzEwXStuWzE0XSxsPWUqblszXSt0Km5bN10raSpuWzExXStuWzE1XTtyZXR1cm4gci54PWEsci55PW8sci56PWgsci53PWwscn1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4geWUuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpLGl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxpKXtjb25zdCBzPXQubSxyPWUueCpzWzBdK2UueSpzWzRdK2UueipzWzhdLG49ZS54KnNbMV0rZS55KnNbNV0rZS56KnNbOV0sYT1lLngqc1syXStlLnkqc1s2XStlLnoqc1sxMF07cmV0dXJuIGkueD1yLGkueT1uLGkuej1hLGkudz1lLncsaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIubTtyZXR1cm4gbi54PWUqYVswXSt0KmFbNF0raSphWzhdLG4ueT1lKmFbMV0rdCphWzVdK2kqYVs5XSxuLno9ZSphWzJdK3QqYVs2XStpKmFbMTBdLG4udz1zLG59c3RhdGljIEZyb21WZWN0b3IzKGUsdD0wKXtyZXR1cm4gbmV3IHllKGUuX3gsZS5feSxlLl96LHQpfX15ZS5fWmVyb1JlYWRPbmx5PXllLlplcm8oKTtjbGFzcyBae2dldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgoZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeigpe3JldHVybiB0aGlzLl96fXNldCB6KGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCB3KCl7cmV0dXJuIHRoaXMuX3d9c2V0IHcoZSl7dGhpcy5fdz1lLHRoaXMuX2lzRGlydHk9ITB9Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0xKXt0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pLHRoaXMuX3c9c310b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLl94fSBZOiAke3RoaXMuX3l9IFo6ICR7dGhpcy5fen0gVzogJHt0aGlzLl93fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJRdWF0ZXJuaW9uIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9cnQodGhpcy5feCksdD1ydCh0aGlzLl95KSxpPXJ0KHRoaXMuX3opLHM9cnQodGhpcy5fdyk7bGV0IHI9ZTtyZXR1cm4gcj1yKjM5N150LHI9ciozOTdeaSxyPXIqMzk3XnMscn1hc0FycmF5KCl7cmV0dXJuW3RoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3ddfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMuX3gsZVt0KzFdPXRoaXMuX3ksZVt0KzJdPXRoaXMuX3osZVt0KzNdPXRoaXMuX3csdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMuX3g9PT1lLl94JiZ0aGlzLl95PT09ZS5feSYmdGhpcy5fej09PWUuX3omJnRoaXMuX3c9PT1lLl93fWVxdWFsc1dpdGhFcHNpbG9uKGUsdD1TZSl7cmV0dXJuIGUmJlcuV2l0aGluRXBzaWxvbih0aGlzLl94LGUuX3gsdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLl95LGUuX3ksdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLl96LGUuX3osdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLl93LGUuX3csdCl9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fdyl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMuX3g9ZS5feCx0aGlzLl95PWUuX3ksdGhpcy5fej1lLl96LHRoaXMuX3c9ZS5fdyx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9Y29weUZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pLHRoaXMuX3c9cyx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c2V0KGUsdCxpLHMpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxpLHMpfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3osdGhpcy5fdytlLl93KX1hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLl94Kz1lLl94LHRoaXMuX3krPWUuX3ksdGhpcy5feis9ZS5feix0aGlzLl93Kz1lLl93LHRoaXMuX2lzRGlydHk9ITAsdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3osdGhpcy5fdy1lLl93KX1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3gtPWUuX3gsdGhpcy5feS09ZS5feSx0aGlzLl96LT1lLl96LHRoaXMuX3ctPWUuX3csdGhpcy5faXNEaXJ0eT0hMCx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSx0aGlzLl93KmUpfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5feD10aGlzLl94KmUsdC5feT10aGlzLl95KmUsdC5fej10aGlzLl96KmUsdC5fdz10aGlzLl93KmUsdC5faXNEaXJ0eT0hMCx0fXNjYWxlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5feCo9ZSx0aGlzLl95Kj1lLHRoaXMuX3oqPWUsdGhpcy5fdyo9ZSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0Ll94Kz10aGlzLl94KmUsdC5feSs9dGhpcy5feSplLHQuX3orPXRoaXMuX3oqZSx0Ll93Kz10aGlzLl93KmUsdC5faXNEaXJ0eT0hMCx0fW11bHRpcGx5KGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3IoMCwwLDAsMSk7cmV0dXJuIHRoaXMubXVsdGlwbHlUb1JlZihlLHQpLHR9bXVsdGlwbHlUb1JlZihlLHQpe2NvbnN0IGk9dGhpcy5feCplLl93K3RoaXMuX3kqZS5fei10aGlzLl96KmUuX3krdGhpcy5fdyplLl94LHM9LXRoaXMuX3gqZS5feit0aGlzLl95KmUuX3crdGhpcy5feiplLl94K3RoaXMuX3cqZS5feSxyPXRoaXMuX3gqZS5feS10aGlzLl95KmUuX3grdGhpcy5feiplLl93K3RoaXMuX3cqZS5feixuPS10aGlzLl94KmUuX3gtdGhpcy5feSplLl95LXRoaXMuX3oqZS5feit0aGlzLl93KmUuX3c7cmV0dXJuIHQuY29weUZyb21GbG9hdHMoaSxzLHIsbiksdH1tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlUb1JlZihlLHRoaXMpLHRoaXN9Y29uanVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHMoLXRoaXMuX3gsLXRoaXMuX3ksLXRoaXMuX3osdGhpcy5fdyksZX1jb25qdWdhdGVJblBsYWNlKCl7cmV0dXJuIHRoaXMuX3gqPS0xLHRoaXMuX3kqPS0xLHRoaXMuX3oqPS0xLHRoaXMuX2lzRGlydHk9ITAsdGhpc31jb25qdWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMuX3gsLXRoaXMuX3ksLXRoaXMuX3osdGhpcy5fdyl9aW52ZXJ0KCl7Y29uc3QgZT10aGlzLmNvbmp1Z2F0ZSgpLHQ9dGhpcy5sZW5ndGhTcXVhcmVkKCk7cmV0dXJuIHQ9PTB8fHQ9PTF8fGUuc2NhbGVJblBsYWNlKDEvdCksZX1pbnZlcnRJblBsYWNlKCl7dGhpcy5jb25qdWdhdGVJblBsYWNlKCk7Y29uc3QgZT10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gZT09MHx8ZT09MT90aGlzOih0aGlzLnNjYWxlSW5QbGFjZSgxL2UpLHRoaXMpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpfW5vcm1hbGl6ZSgpe2NvbnN0IGU9dGhpcy5sZW5ndGgoKTtpZihlPT09MClyZXR1cm4gdGhpcztjb25zdCB0PTEvZTtyZXR1cm4gdGhpcy5zY2FsZUluUGxhY2UodCksdGhpc31ub3JtYWxpemVUb05ldygpe2NvbnN0IGU9dGhpcy5sZW5ndGgoKTtpZihlPT09MClyZXR1cm4gdGhpcy5jbG9uZSgpO2NvbnN0IHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlKHQpfXRvRXVsZXJBbmdsZXMoKXtjb25zdCBlPXAuWmVybygpO3JldHVybiB0aGlzLnRvRXVsZXJBbmdsZXNUb1JlZihlKSxlfXRvRXVsZXJBbmdsZXNUb1JlZihlKXtjb25zdCB0PXRoaXMuX3osaT10aGlzLl94LHM9dGhpcy5feSxyPXRoaXMuX3csbj1zKnQtaSpyLGE9LjQ5OTk5OTk7aWYobjwtYSllLl95PTIqTWF0aC5hdGFuMihzLHIpLGUuX3g9TWF0aC5QSS8yLGUuX3o9MCxlLl9pc0RpcnR5PSEwO2Vsc2UgaWYobj5hKWUuX3k9MipNYXRoLmF0YW4yKHMsciksZS5feD0tTWF0aC5QSS8yLGUuX3o9MCxlLl9pc0RpcnR5PSEwO2Vsc2V7Y29uc3Qgbz1yKnIsaD10KnQsbD1pKmksdT1zKnM7ZS5fej1NYXRoLmF0YW4yKDIqKGkqcyt0KnIpLC1oLWwrdStvKSxlLl94PU1hdGguYXNpbigtMipuKSxlLl95PU1hdGguYXRhbjIoMioodCppK3MqciksaC1sLXUrbyksZS5faXNEaXJ0eT0hMH1yZXR1cm4gZX10b1JvdGF0aW9uTWF0cml4KGUpe3JldHVybiBNLkZyb21RdWF0ZXJuaW9uVG9SZWYodGhpcyxlKSxlfWZyb21Sb3RhdGlvbk1hdHJpeChlKXtyZXR1cm4gWi5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHRoaXMpLHRoaXN9c3RhdGljIEZyb21Sb3RhdGlvbk1hdHJpeChlKXtjb25zdCB0PW5ldyBaO3JldHVybiBaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGUsdCksdH1zdGF0aWMgRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoZSx0KXtjb25zdCBpPWUubSxzPWlbMF0scj1pWzRdLG49aVs4XSxhPWlbMV0sbz1pWzVdLGg9aVs5XSxsPWlbMl0sdT1pWzZdLGQ9aVsxMF0sXz1zK28rZDtsZXQgZjtyZXR1cm4gXz4wPyhmPS41L01hdGguc3FydChfKzEpLHQuX3c9LjI1L2YsdC5feD0odS1oKSpmLHQuX3k9KG4tbCkqZix0Ll96PShhLXIpKmYsdC5faXNEaXJ0eT0hMCk6cz5vJiZzPmQ/KGY9MipNYXRoLnNxcnQoMStzLW8tZCksdC5fdz0odS1oKS9mLHQuX3g9LjI1KmYsdC5feT0ocithKS9mLHQuX3o9KG4rbCkvZix0Ll9pc0RpcnR5PSEwKTpvPmQ/KGY9MipNYXRoLnNxcnQoMStvLXMtZCksdC5fdz0obi1sKS9mLHQuX3g9KHIrYSkvZix0Ll95PS4yNSpmLHQuX3o9KGgrdSkvZix0Ll9pc0RpcnR5PSEwKTooZj0yKk1hdGguc3FydCgxK2Qtcy1vKSx0Ll93PShhLXIpL2YsdC5feD0obitsKS9mLHQuX3k9KGgrdSkvZix0Ll96PS4yNSpmLHQuX2lzRGlydHk9ITApLHR9c3RhdGljIERvdChlLHQpe3JldHVybiBlLl94KnQuX3grZS5feSp0Ll95K2UuX3oqdC5feitlLl93KnQuX3d9c3RhdGljIEFyZUNsb3NlKGUsdCxpPS4xKXtjb25zdCBzPVouRG90KGUsdCk7cmV0dXJuIDEtcypzPD1pfXN0YXRpYyBTbW9vdGhUb1JlZihlLHQsaSxzLHIpe2xldCBuPXM9PT0wPzE6aS9zO3JldHVybiBuPVcuQ2xhbXAobiwwLDEpLFouU2xlcnBUb1JlZihlLHQsbixyKSxyfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBaKDAsMCwwLDApfXN0YXRpYyBJbnZlcnNlKGUpe3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcigtZS5feCwtZS5feSwtZS5feixlLl93KX1zdGF0aWMgSW52ZXJzZVRvUmVmKGUsdCl7cmV0dXJuIHQuc2V0KC1lLl94LC1lLl95LC1lLl96LGUuX3cpLHR9c3RhdGljIElkZW50aXR5KCl7cmV0dXJuIG5ldyBaKDAsMCwwLDEpfXN0YXRpYyBJc0lkZW50aXR5KGUpe3JldHVybiBlJiZlLl94PT09MCYmZS5feT09PTAmJmUuX3o9PT0wJiZlLl93PT09MX1zdGF0aWMgUm90YXRpb25BeGlzKGUsdCl7cmV0dXJuIFouUm90YXRpb25BeGlzVG9SZWYoZSx0LG5ldyBaKX1zdGF0aWMgUm90YXRpb25BeGlzVG9SZWYoZSx0LGkpe2NvbnN0IHM9TWF0aC5zaW4odC8yKTtyZXR1cm4gZS5ub3JtYWxpemUoKSxpLl93PU1hdGguY29zKHQvMiksaS5feD1lLl94KnMsaS5feT1lLl95KnMsaS5fej1lLl96KnMsaS5faXNEaXJ0eT0hMCxpfXN0YXRpYyBGcm9tQXJyYXkoZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IFooZVt0XSxlW3QrMV0sZVt0KzJdLGVbdCszXSl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtyZXR1cm4gaS5feD1lW3RdLGkuX3k9ZVt0KzFdLGkuX3o9ZVt0KzJdLGkuX3c9ZVt0KzNdLGkuX2lzRGlydHk9ITAsaX1zdGF0aWMgRnJvbUV1bGVyQW5nbGVzKGUsdCxpKXtjb25zdCBzPW5ldyBaO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodCxlLGkscyksc31zdGF0aWMgRnJvbUV1bGVyQW5nbGVzVG9SZWYoZSx0LGkscyl7cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUsaSxzKSxzfXN0YXRpYyBGcm9tRXVsZXJWZWN0b3IoZSl7Y29uc3QgdD1uZXcgWjtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9c3RhdGljIEZyb21FdWxlclZlY3RvclRvUmVmKGUsdCl7cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLl95LGUuX3gsZS5feix0KSx0fXN0YXRpYyBGcm9tVW5pdFZlY3RvcnNUb1JlZihlLHQsaSl7Y29uc3Qgcz1wLkRvdChlLHQpKzE7cmV0dXJuIHM8U2U/TWF0aC5hYnMoZS54KT5NYXRoLmFicyhlLnopP2kuc2V0KC1lLnksZS54LDAsMCk6aS5zZXQoMCwtZS56LGUueSwwKToocC5Dcm9zc1RvUmVmKGUsdCxGLlZlY3RvcjNbMF0pLGkuc2V0KEYuVmVjdG9yM1swXS54LEYuVmVjdG9yM1swXS55LEYuVmVjdG9yM1swXS56LHMpKSxpLm5vcm1hbGl6ZSgpfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbChlLHQsaSl7Y29uc3Qgcz1uZXcgWjtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIFJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1pKi41LG49dCouNSxhPWUqLjUsbz1NYXRoLnNpbihyKSxoPU1hdGguY29zKHIpLGw9TWF0aC5zaW4obiksdT1NYXRoLmNvcyhuKSxkPU1hdGguc2luKGEpLF89TWF0aC5jb3MoYSk7cmV0dXJuIHMuX3g9XypsKmgrZCp1Km8scy5feT1kKnUqaC1fKmwqbyxzLl96PV8qdSpvLWQqbCpoLHMuX3c9Xyp1KmgrZCpsKm8scy5faXNEaXJ0eT0hMCxzfXN0YXRpYyBSb3RhdGlvbkFscGhhQmV0YUdhbW1hKGUsdCxpKXtjb25zdCBzPW5ldyBaO3JldHVybiBaLlJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbkFscGhhQmV0YUdhbW1hVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj0oaStlKSouNSxuPShpLWUpKi41LGE9dCouNTtyZXR1cm4gcy5feD1NYXRoLmNvcyhuKSpNYXRoLnNpbihhKSxzLl95PU1hdGguc2luKG4pKk1hdGguc2luKGEpLHMuX3o9TWF0aC5zaW4ocikqTWF0aC5jb3MoYSkscy5fdz1NYXRoLmNvcyhyKSpNYXRoLmNvcyhhKSxzLl9pc0RpcnR5PSEwLHN9c3RhdGljIFJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzKGUsdCxpKXtjb25zdCBzPW5ldyBaKDAsMCwwLDApO3JldHVybiBaLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKXtjb25zdCByPUsuTWF0cml4WzBdO3JldHVybiBNLkZyb21YWVpBeGVzVG9SZWYoZS5ub3JtYWxpemUoKSx0Lm5vcm1hbGl6ZSgpLGkubm9ybWFsaXplKCksciksWi5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihyLHMpLHN9c3RhdGljIEZyb21Mb29rRGlyZWN0aW9uTEgoZSx0KXtjb25zdCBpPW5ldyBaO3JldHVybiBaLkZyb21Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxpKXtjb25zdCBzPUsuTWF0cml4WzBdO3JldHVybiBNLkxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxzKSxaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHMsaSksaX1zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25SSChlLHQpe2NvbnN0IGk9bmV3IFo7cmV0dXJuIFouRnJvbUxvb2tEaXJlY3Rpb25SSFRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5NYXRyaXhbMF07cmV0dXJuIE0uTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LHMpLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYocyxpKX1zdGF0aWMgU2xlcnAoZSx0LGkpe2NvbnN0IHM9Wi5JZGVudGl0eSgpO3JldHVybiBaLlNsZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgU2xlcnBUb1JlZihlLHQsaSxzKXtsZXQgcixuLGE9ZS5feCp0Ll94K2UuX3kqdC5feStlLl96KnQuX3orZS5fdyp0Ll93LG89ITE7aWYoYTwwJiYobz0hMCxhPS1hKSxhPi45OTk5OTkpbj0xLWkscj1vPy1pOmk7ZWxzZXtjb25zdCBoPU1hdGguYWNvcyhhKSxsPTEvTWF0aC5zaW4oaCk7bj1NYXRoLnNpbigoMS1pKSpoKSpsLHI9bz8tTWF0aC5zaW4oaSpoKSpsOk1hdGguc2luKGkqaCkqbH1yZXR1cm4gcy5feD1uKmUuX3grcip0Ll94LHMuX3k9biplLl95K3IqdC5feSxzLl96PW4qZS5feityKnQuX3oscy5fdz1uKmUuX3crcip0Ll93LHMuX2lzRGlydHk9ITAsc31zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5feCpvK2kuX3gqaCt0Ll94Kmwrcy5feCp1LF89ZS5feSpvK2kuX3kqaCt0Ll95Kmwrcy5feSp1LGY9ZS5feipvK2kuX3oqaCt0Ll96Kmwrcy5feip1LG09ZS5fdypvK2kuX3cqaCt0Ll93Kmwrcy5fdyp1O3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihkLF8sZixtKX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pLG59c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9cipyO3JldHVybiBuLl94PShhLXIpKjYqZS5feCsoMyphLTQqcisxKSp0Ll94KygtYStyKSo2KmkuX3grKDMqYS0yKnIpKnMuX3gsbi5feT0oYS1yKSo2KmUuX3krKDMqYS00KnIrMSkqdC5feSsoLWErcikqNippLl95KygzKmEtMipyKSpzLl95LG4uX3o9KGEtcikqNiplLl96KygzKmEtNCpyKzEpKnQuX3orKC1hK3IpKjYqaS5feisoMyphLTIqcikqcy5feixuLl93PShhLXIpKjYqZS5fdysoMyphLTQqcisxKSp0Ll93KygtYStyKSo2KmkuX3crKDMqYS0yKnIpKnMuX3csbi5faXNEaXJ0eT0hMCxufX1jbGFzcyBNe3N0YXRpYyBnZXQgVXNlNjRCaXRzKCl7cmV0dXJuIFVlLk1hdHJpeFVzZTY0Qml0c31nZXQgbSgpe3JldHVybiB0aGlzLl9tfW1hcmtBc1VwZGF0ZWQoKXt0aGlzLnVwZGF0ZUZsYWc9TS5fVXBkYXRlRmxhZ1NlZWQrKyx0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMH1fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZSx0PSExLGk9ITEscz0hMCl7dGhpcy5faXNJZGVudGl0eT1lLHRoaXMuX2lzSWRlbnRpdHkzeDI9ZXx8aSx0aGlzLl9pc0lkZW50aXR5RGlydHk9dGhpcy5faXNJZGVudGl0eT8hMTp0LHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT10aGlzLl9pc0lkZW50aXR5M3gyPyExOnN9Y29uc3RydWN0b3IoKXt0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT0hMCx0aGlzLl9pc0lkZW50aXR5M3gyPSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMCx0aGlzLnVwZGF0ZUZsYWc9LTEsVWUuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2UmJlVlLk1hdHJpeFRyYWNrZWRNYXRyaWNlcy5wdXNoKHRoaXMpLHRoaXMuX209bmV3IFVlLk1hdHJpeEN1cnJlbnRUeXBlKDE2KSx0aGlzLm1hcmtBc1VwZGF0ZWQoKX1pc0lkZW50aXR5KCl7aWYodGhpcy5faXNJZGVudGl0eURpcnR5KXt0aGlzLl9pc0lkZW50aXR5RGlydHk9ITE7Y29uc3QgZT10aGlzLl9tO3RoaXMuX2lzSWRlbnRpdHk9ZVswXT09PTEmJmVbMV09PT0wJiZlWzJdPT09MCYmZVszXT09PTAmJmVbNF09PT0wJiZlWzVdPT09MSYmZVs2XT09PTAmJmVbN109PT0wJiZlWzhdPT09MCYmZVs5XT09PTAmJmVbMTBdPT09MSYmZVsxMV09PT0wJiZlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTF9cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHl9aXNJZGVudGl0eUFzM3gyKCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eSYmKHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMSx0aGlzLl9tWzBdIT09MXx8dGhpcy5fbVs1XSE9PTF8fHRoaXMuX21bMTVdIT09MT90aGlzLl9pc0lkZW50aXR5M3gyPSExOnRoaXMuX21bMV0hPT0wfHx0aGlzLl9tWzJdIT09MHx8dGhpcy5fbVszXSE9PTB8fHRoaXMuX21bNF0hPT0wfHx0aGlzLl9tWzZdIT09MHx8dGhpcy5fbVs3XSE9PTB8fHRoaXMuX21bOF0hPT0wfHx0aGlzLl9tWzldIT09MHx8dGhpcy5fbVsxMF0hPT0wfHx0aGlzLl9tWzExXSE9PTB8fHRoaXMuX21bMTJdIT09MHx8dGhpcy5fbVsxM10hPT0wfHx0aGlzLl9tWzE0XSE9PTA/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9pc0lkZW50aXR5M3gyPSEwKSx0aGlzLl9pc0lkZW50aXR5M3gyfWRldGVybWluYW50KCl7aWYodGhpcy5faXNJZGVudGl0eT09PSEwKXJldHVybiAxO2NvbnN0IGU9dGhpcy5fbSx0PWVbMF0saT1lWzFdLHM9ZVsyXSxyPWVbM10sbj1lWzRdLGE9ZVs1XSxvPWVbNl0saD1lWzddLGw9ZVs4XSx1PWVbOV0sZD1lWzEwXSxfPWVbMTFdLGY9ZVsxMl0sbT1lWzEzXSx2PWVbMTRdLEU9ZVsxNV0sUz1kKkUtdipfLFI9dSpFLW0qXyxBPXUqdi1tKmQsQz1sKkUtZipfLGI9bCp2LWQqZix4PWwqbS1mKnUsST0rKGEqUy1vKlIraCpBKSxVPS0obipTLW8qQytoKmIpLGs9KyhuKlItYSpDK2gqeCksbWU9LShuKkEtYSpiK28qeCk7cmV0dXJuIHQqSStpKlUrcyprK3IqbWV9dG9BcnJheSgpe3JldHVybiB0aGlzLl9tfWFzQXJyYXkoKXtyZXR1cm4gdGhpcy5fbX1pbnZlcnQoKXtyZXR1cm4gdGhpcy5pbnZlcnRUb1JlZih0aGlzKSx0aGlzfXJlc2V0KCl7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsdGhpcyksdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHRoaXN9YWRkKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuYWRkVG9SZWYoZSx0KSx0fWFkZFRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLl9tLHM9dC5fbSxyPWUubTtmb3IobGV0IG49MDtuPDE2O24rKylzW25dPWlbbl0rcltuXTtyZXR1cm4gdC5tYXJrQXNVcGRhdGVkKCksdH1hZGRUb1NlbGYoZSl7Y29uc3QgdD10aGlzLl9tLGk9ZS5tO2ZvcihsZXQgcz0wO3M8MTY7cysrKXRbc10rPWlbc107cmV0dXJuIHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9aW52ZXJ0VG9SZWYoZSl7aWYodGhpcy5faXNJZGVudGl0eT09PSEwKXJldHVybiBNLklkZW50aXR5VG9SZWYoZSksZTtjb25zdCB0PXRoaXMuX20saT10WzBdLHM9dFsxXSxyPXRbMl0sbj10WzNdLGE9dFs0XSxvPXRbNV0saD10WzZdLGw9dFs3XSx1PXRbOF0sZD10WzldLF89dFsxMF0sZj10WzExXSxtPXRbMTJdLHY9dFsxM10sRT10WzE0XSxTPXRbMTVdLFI9XypTLUUqZixBPWQqUy12KmYsQz1kKkUtdipfLGI9dSpTLW0qZix4PXUqRS1fKm0sST11KnYtbSpkLFU9KyhvKlItaCpBK2wqQyksaz0tKGEqUi1oKmIrbCp4KSxtZT0rKGEqQS1vKmIrbCpJKSxxPS0oYSpDLW8qeCtoKkkpLGRlPWkqVStzKmsrciptZStuKnE7aWYoZGU9PT0wKXJldHVybiBlLmNvcHlGcm9tKHRoaXMpLGU7Y29uc3QgaWU9MS9kZSxiZT1oKlMtRSpsLE1lPW8qUy12KmwsSGU9bypFLXYqaCxLZT1hKlMtbSpsLFllPWEqRS1tKmgsbXQ9YSp2LW0qbyxsdD1oKmYtXypsLE90PW8qZi1kKmwsbmk9bypfLWQqaCxwcz1hKmYtdSpsLG1zPWEqXy11KmgsdnM9YSpkLXUqbyxxcz0tKHMqUi1yKkErbipDKSxqcz0rKGkqUi1yKmIrbip4KSwkcz0tKGkqQS1zKmIrbipJKSxRcz0rKGkqQy1zKngrcipJKSxKcz0rKHMqYmUtcipNZStuKkhlKSxlcj0tKGkqYmUtcipLZStuKlllKSxLdD0rKGkqTWUtcypLZStuKm10KSxZdD0tKGkqSGUtcypZZStyKm10KSxadD0tKHMqbHQtcipPdCtuKm5pKSxxdD0rKGkqbHQtcipwcytuKm1zKSxHbD0tKGkqT3QtcypwcytuKnZzKSxYbD0rKGkqbmktcyptcytyKnZzKTtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoVSppZSxxcyppZSxKcyppZSxadCppZSxrKmllLGpzKmllLGVyKmllLHF0KmllLG1lKmllLCRzKmllLEt0KmllLEdsKmllLHEqaWUsUXMqaWUsWXQqaWUsWGwqaWUsZSksZX1hZGRBdEluZGV4KGUsdCl7cmV0dXJuIHRoaXMuX21bZV0rPXQsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31tdWx0aXBseUF0SW5kZXgoZSx0KXtyZXR1cm4gdGhpcy5fbVtlXSo9dCx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMuX21bMTJdPWUsdGhpcy5fbVsxM109dCx0aGlzLl9tWzE0XT1pLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9YWRkVHJhbnNsYXRpb25Gcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5fbVsxMl0rPWUsdGhpcy5fbVsxM10rPXQsdGhpcy5fbVsxNF0rPWksdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zZXRUcmFuc2xhdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfWdldFRyYW5zbGF0aW9uKCl7cmV0dXJuIG5ldyBwKHRoaXMuX21bMTJdLHRoaXMuX21bMTNdLHRoaXMuX21bMTRdKX1nZXRUcmFuc2xhdGlvblRvUmVmKGUpe3JldHVybiBlLng9dGhpcy5fbVsxMl0sZS55PXRoaXMuX21bMTNdLGUuej10aGlzLl9tWzE0XSxlfXJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZygpe2NvbnN0IGU9dGhpcy5tO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlWzEyXSxlWzEzXSxlWzE0XSxlWzE1XSx0aGlzKSx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyhlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTEpLHRoaXN9bXVsdGlwbHkoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5tdWx0aXBseVRvUmVmKGUsdCksdH1jb3B5RnJvbShlKXtlLmNvcHlUb0FycmF5KHRoaXMuX20pO2NvbnN0IHQ9ZTtyZXR1cm4gdGhpcy51cGRhdGVGbGFnPXQudXBkYXRlRmxhZyx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyh0Ll9pc0lkZW50aXR5LHQuX2lzSWRlbnRpdHlEaXJ0eSx0Ll9pc0lkZW50aXR5M3gyLHQuX2lzSWRlbnRpdHkzeDJEaXJ0eSksdGhpc31jb3B5VG9BcnJheShlLHQ9MCl7Y29uc3QgaT10aGlzLl9tO3JldHVybiBlW3RdPWlbMF0sZVt0KzFdPWlbMV0sZVt0KzJdPWlbMl0sZVt0KzNdPWlbM10sZVt0KzRdPWlbNF0sZVt0KzVdPWlbNV0sZVt0KzZdPWlbNl0sZVt0KzddPWlbN10sZVt0KzhdPWlbOF0sZVt0KzldPWlbOV0sZVt0KzEwXT1pWzEwXSxlW3QrMTFdPWlbMTFdLGVbdCsxMl09aVsxMl0sZVt0KzEzXT1pWzEzXSxlW3QrMTRdPWlbMTRdLGVbdCsxNV09aVsxNV0sdGhpc31tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHk/KHQuY29weUZyb20oZSksdCk6ZS5faXNJZGVudGl0eT8odC5jb3B5RnJvbSh0aGlzKSx0KToodGhpcy5tdWx0aXBseVRvQXJyYXkoZSx0Ll9tLDApLHQubWFya0FzVXBkYXRlZCgpLHQpfW11bHRpcGx5VG9BcnJheShlLHQsaSl7Y29uc3Qgcz10aGlzLl9tLHI9ZS5tLG49c1swXSxhPXNbMV0sbz1zWzJdLGg9c1szXSxsPXNbNF0sdT1zWzVdLGQ9c1s2XSxfPXNbN10sZj1zWzhdLG09c1s5XSx2PXNbMTBdLEU9c1sxMV0sUz1zWzEyXSxSPXNbMTNdLEE9c1sxNF0sQz1zWzE1XSxiPXJbMF0seD1yWzFdLEk9clsyXSxVPXJbM10saz1yWzRdLG1lPXJbNV0scT1yWzZdLGRlPXJbN10saWU9cls4XSxiZT1yWzldLE1lPXJbMTBdLEhlPXJbMTFdLEtlPXJbMTJdLFllPXJbMTNdLG10PXJbMTRdLGx0PXJbMTVdO3JldHVybiB0W2ldPW4qYithKmsrbyppZStoKktlLHRbaSsxXT1uKngrYSptZStvKmJlK2gqWWUsdFtpKzJdPW4qSSthKnErbypNZStoKm10LHRbaSszXT1uKlUrYSpkZStvKkhlK2gqbHQsdFtpKzRdPWwqYit1KmsrZCppZStfKktlLHRbaSs1XT1sKngrdSptZStkKmJlK18qWWUsdFtpKzZdPWwqSSt1KnErZCpNZStfKm10LHRbaSs3XT1sKlUrdSpkZStkKkhlK18qbHQsdFtpKzhdPWYqYittKmsrdippZStFKktlLHRbaSs5XT1mKngrbSptZSt2KmJlK0UqWWUsdFtpKzEwXT1mKkkrbSpxK3YqTWUrRSptdCx0W2krMTFdPWYqVSttKmRlK3YqSGUrRSpsdCx0W2krMTJdPVMqYitSKmsrQSppZStDKktlLHRbaSsxM109Uyp4K1IqbWUrQSpiZStDKlllLHRbaSsxNF09UypJK1IqcStBKk1lK0MqbXQsdFtpKzE1XT1TKlUrUipkZStBKkhlK0MqbHQsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD1lO2lmKCF0KXJldHVybiExO2lmKCh0aGlzLl9pc0lkZW50aXR5fHx0Ll9pc0lkZW50aXR5KSYmIXRoaXMuX2lzSWRlbnRpdHlEaXJ0eSYmIXQuX2lzSWRlbnRpdHlEaXJ0eSlyZXR1cm4gdGhpcy5faXNJZGVudGl0eSYmdC5faXNJZGVudGl0eTtjb25zdCBpPXRoaXMubSxzPXQubTtyZXR1cm4gaVswXT09PXNbMF0mJmlbMV09PT1zWzFdJiZpWzJdPT09c1syXSYmaVszXT09PXNbM10mJmlbNF09PT1zWzRdJiZpWzVdPT09c1s1XSYmaVs2XT09PXNbNl0mJmlbN109PT1zWzddJiZpWzhdPT09c1s4XSYmaVs5XT09PXNbOV0mJmlbMTBdPT09c1sxMF0mJmlbMTFdPT09c1sxMV0mJmlbMTJdPT09c1sxMl0mJmlbMTNdPT09c1sxM10mJmlbMTRdPT09c1sxNF0mJmlbMTVdPT09c1sxNV19Y2xvbmUoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBlLmNvcHlGcm9tKHRoaXMpLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdHJpeCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT1ydCh0aGlzLl9tWzBdKTtmb3IobGV0IHQ9MTt0PDE2O3QrKyllPWUqMzk3XnJ0KHRoaXMuX21bdF0pO3JldHVybiBlfWRlY29tcG9zZVRvVHJhbnNmb3JtTm9kZShlKXtyZXR1cm4gZS5yb3RhdGlvblF1YXRlcm5pb249ZS5yb3RhdGlvblF1YXRlcm5pb258fG5ldyBaLHRoaXMuZGVjb21wb3NlKGUuc2NhbGluZyxlLnJvdGF0aW9uUXVhdGVybmlvbixlLnBvc2l0aW9uKX1kZWNvbXBvc2UoZSx0LGkscyl7aWYodGhpcy5faXNJZGVudGl0eSlyZXR1cm4gaSYmaS5zZXRBbGwoMCksZSYmZS5zZXRBbGwoMSksdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMDtjb25zdCByPXRoaXMuX207aWYoaSYmaS5jb3B5RnJvbUZsb2F0cyhyWzEyXSxyWzEzXSxyWzE0XSksZT1lfHxLLlZlY3RvcjNbMF0sZS54PU1hdGguc3FydChyWzBdKnJbMF0rclsxXSpyWzFdK3JbMl0qclsyXSksZS55PU1hdGguc3FydChyWzRdKnJbNF0rcls1XSpyWzVdK3JbNl0qcls2XSksZS56PU1hdGguc3FydChyWzhdKnJbOF0rcls5XSpyWzldK3JbMTBdKnJbMTBdKSxzKXtjb25zdCBuPXMuc2NhbGluZy54PDA/LTE6MSxhPXMuc2NhbGluZy55PDA/LTE6MSxvPXMuc2NhbGluZy56PDA/LTE6MTtlLngqPW4sZS55Kj1hLGUueio9b31lbHNlIHRoaXMuZGV0ZXJtaW5hbnQoKTw9MCYmKGUueSo9LTEpO2lmKGUuX3g9PT0wfHxlLl95PT09MHx8ZS5fej09PTApcmV0dXJuIHQmJnQuY29weUZyb21GbG9hdHMoMCwwLDAsMSksITE7aWYodCl7Y29uc3Qgbj0xL2UuX3gsYT0xL2UuX3ksbz0xL2UuX3o7TS5Gcm9tVmFsdWVzVG9SZWYoclswXSpuLHJbMV0qbixyWzJdKm4sMCxyWzRdKmEscls1XSphLHJbNl0qYSwwLHJbOF0qbyxyWzldKm8sclsxMF0qbywwLDAsMCwwLDEsSy5NYXRyaXhbMF0pLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoSy5NYXRyaXhbMF0sdCl9cmV0dXJuITB9Z2V0Um93KGUpe2lmKGU8MHx8ZT4zKXJldHVybiBudWxsO2NvbnN0IHQ9ZSo0O3JldHVybiBuZXcgeWUodGhpcy5fbVt0KzBdLHRoaXMuX21bdCsxXSx0aGlzLl9tW3QrMl0sdGhpcy5fbVt0KzNdKX1nZXRSb3dUb1JlZihlLHQpe2lmKGU+PTAmJmU8Myl7Y29uc3QgaT1lKjQ7dC54PXRoaXMuX21baSswXSx0Lnk9dGhpcy5fbVtpKzFdLHQuej10aGlzLl9tW2krMl0sdC53PXRoaXMuX21baSszXX1yZXR1cm4gdH1zZXRSb3coZSx0KXtyZXR1cm4gdGhpcy5zZXRSb3dGcm9tRmxvYXRzKGUsdC54LHQueSx0LnosdC53KX10cmFuc3Bvc2UoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBNLlRyYW5zcG9zZVRvUmVmKHRoaXMsZSksZX10cmFuc3Bvc2VUb1JlZihlKXtyZXR1cm4gTS5UcmFuc3Bvc2VUb1JlZih0aGlzLGUpLGV9c2V0Um93RnJvbUZsb2F0cyhlLHQsaSxzLHIpe2lmKGU8MHx8ZT4zKXJldHVybiB0aGlzO2NvbnN0IG49ZSo0O3JldHVybiB0aGlzLl9tW24rMF09dCx0aGlzLl9tW24rMV09aSx0aGlzLl9tW24rMl09cyx0aGlzLl9tW24rM109cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNjYWxlKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuc2NhbGVUb1JlZihlLHQpLHR9c2NhbGVUb1JlZihlLHQpe2ZvcihsZXQgaT0wO2k8MTY7aSsrKXQuX21baV09dGhpcy5fbVtpXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtmb3IobGV0IGk9MDtpPDE2O2krKyl0Ll9tW2ldKz10aGlzLl9tW2ldKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHR9dG9Ob3JtYWxNYXRyaXgoZSl7Y29uc3QgdD1LLk1hdHJpeFswXTt0aGlzLmludmVydFRvUmVmKHQpLHQudHJhbnNwb3NlVG9SZWYoZSk7Y29uc3QgaT1lLl9tO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihpWzBdLGlbMV0saVsyXSwwLGlbNF0saVs1XSxpWzZdLDAsaVs4XSxpWzldLGlbMTBdLDAsMCwwLDAsMSxlKSxlfWdldFJvdGF0aW9uTWF0cml4KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGUpLGV9Z2V0Um90YXRpb25NYXRyaXhUb1JlZihlKXtjb25zdCB0PUsuVmVjdG9yM1swXTtpZighdGhpcy5kZWNvbXBvc2UodCkpcmV0dXJuIE0uSWRlbnRpdHlUb1JlZihlKSxlO2NvbnN0IGk9dGhpcy5fbSxzPTEvdC5feCxyPTEvdC5feSxuPTEvdC5fejtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoaVswXSpzLGlbMV0qcyxpWzJdKnMsMCxpWzRdKnIsaVs1XSpyLGlbNl0qciwwLGlbOF0qbixpWzldKm4saVsxMF0qbiwwLDAsMCwwLDEsZSksZX10b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlKCl7Y29uc3QgZT10aGlzLl9tO3JldHVybiBlWzJdKj0tMSxlWzZdKj0tMSxlWzhdKj0tMSxlWzldKj0tMSxlWzE0XSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc310b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2UoKXtjb25zdCBlPXRoaXMuX207cmV0dXJuIGVbOF0qPS0xLGVbOV0qPS0xLGVbMTBdKj0tMSxlWzExXSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtjb25zdCBpPW5ldyBNO3JldHVybiBNLkZyb21BcnJheVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7Zm9yKGxldCBzPTA7czwxNjtzKyspaS5fbVtzXT1lW3MrdF07cmV0dXJuIGkubWFya0FzVXBkYXRlZCgpLGl9c3RhdGljIEZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChlLHQsaSxzKXtmb3IobGV0IHI9MDtyPDE2O3IrKylzLl9tW3JdPWVbcit0XSppO3JldHVybiBzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBnZXQgSWRlbnRpdHlSZWFkT25seSgpe3JldHVybiBNLl9JZGVudGl0eVJlYWRPbmx5fXN0YXRpYyBGcm9tVmFsdWVzVG9SZWYoZSx0LGkscyxyLG4sYSxvLGgsbCx1LGQsXyxmLG0sdixFKXtjb25zdCBTPUUuX207U1swXT1lLFNbMV09dCxTWzJdPWksU1szXT1zLFNbNF09cixTWzVdPW4sU1s2XT1hLFNbN109byxTWzhdPWgsU1s5XT1sLFNbMTBdPXUsU1sxMV09ZCxTWzEyXT1fLFNbMTNdPWYsU1sxNF09bSxTWzE1XT12LEUubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBGcm9tVmFsdWVzKGUsdCxpLHMscixuLGEsbyxoLGwsdSxkLF8sZixtLHYpe2NvbnN0IEU9bmV3IE0sUz1FLl9tO3JldHVybiBTWzBdPWUsU1sxXT10LFNbMl09aSxTWzNdPXMsU1s0XT1yLFNbNV09bixTWzZdPWEsU1s3XT1vLFNbOF09aCxTWzldPWwsU1sxMF09dSxTWzExXT1kLFNbMTJdPV8sU1sxM109ZixTWzE0XT1tLFNbMTVdPXYsRS5tYXJrQXNVcGRhdGVkKCksRX1zdGF0aWMgQ29tcG9zZShlLHQsaSl7Y29uc3Qgcz1uZXcgTTtyZXR1cm4gTS5Db21wb3NlVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ29tcG9zZVRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9cy5fbSxuPXQuX3gsYT10Ll95LG89dC5feixoPXQuX3csbD1uK24sdT1hK2EsZD1vK28sXz1uKmwsZj1uKnUsbT1uKmQsdj1hKnUsRT1hKmQsUz1vKmQsUj1oKmwsQT1oKnUsQz1oKmQsYj1lLl94LHg9ZS5feSxJPWUuX3o7cmV0dXJuIHJbMF09KDEtKHYrUykpKmIsclsxXT0oZitDKSpiLHJbMl09KG0tQSkqYixyWzNdPTAscls0XT0oZi1DKSp4LHJbNV09KDEtKF8rUykpKngscls2XT0oRStSKSp4LHJbN109MCxyWzhdPShtK0EpKkkscls5XT0oRS1SKSpJLHJbMTBdPSgxLShfK3YpKSpJLHJbMTFdPTAsclsxMl09aS5feCxyWzEzXT1pLl95LHJbMTRdPWkuX3osclsxNV09MSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBJZGVudGl0eSgpe2NvbnN0IGU9TS5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgSWRlbnRpdHlUb1JlZihlKXtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSxlKSxlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgWmVybygpe2NvbnN0IGU9TS5Gcm9tVmFsdWVzKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksZX1zdGF0aWMgUm90YXRpb25YKGUpe2NvbnN0IHQ9bmV3IE07cmV0dXJuIE0uUm90YXRpb25YVG9SZWYoZSx0KSx0fXN0YXRpYyBJbnZlcnQoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZS5pbnZlcnRUb1JlZih0KSx0fXN0YXRpYyBSb3RhdGlvblhUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5zaW4oZSkscz1NYXRoLmNvcyhlKTtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLHMsaSwwLDAsLWkscywwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMocz09PTEmJmk9PT0wKSx0fXN0YXRpYyBSb3RhdGlvblkoZSl7Y29uc3QgdD1uZXcgTTtyZXR1cm4gTS5Sb3RhdGlvbllUb1JlZihlLHQpLHR9c3RhdGljIFJvdGF0aW9uWVRvUmVmKGUsdCl7Y29uc3QgaT1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihzLDAsLWksMCwwLDEsMCwwLGksMCxzLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhzPT09MSYmaT09PTApLHR9c3RhdGljIFJvdGF0aW9uWihlKXtjb25zdCB0PW5ldyBNO3JldHVybiBNLlJvdGF0aW9uWlRvUmVmKGUsdCksdH1zdGF0aWMgUm90YXRpb25aVG9SZWYoZSx0KXtjb25zdCBpPU1hdGguc2luKGUpLHM9TWF0aC5jb3MoZSk7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKHMsaSwwLDAsLWkscywwLDAsMCwwLDEsMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHM9PT0xJiZpPT09MCksdH1zdGF0aWMgUm90YXRpb25BeGlzKGUsdCl7Y29uc3QgaT1uZXcgTTtyZXR1cm4gTS5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsaSksaX1zdGF0aWMgUm90YXRpb25BeGlzVG9SZWYoZSx0LGkpe2NvbnN0IHM9TWF0aC5zaW4oLXQpLHI9TWF0aC5jb3MoLXQpLG49MS1yO2Uubm9ybWFsaXplKCk7Y29uc3QgYT1pLl9tO3JldHVybiBhWzBdPWUuX3gqZS5feCpuK3IsYVsxXT1lLl94KmUuX3kqbi1lLl96KnMsYVsyXT1lLl94KmUuX3oqbitlLl95KnMsYVszXT0wLGFbNF09ZS5feSplLl94Km4rZS5feipzLGFbNV09ZS5feSplLl95Km4rcixhWzZdPWUuX3kqZS5feipuLWUuX3gqcyxhWzddPTAsYVs4XT1lLl96KmUuX3gqbi1lLl95KnMsYVs5XT1lLl96KmUuX3kqbitlLl94KnMsYVsxMF09ZS5feiplLl96Km4rcixhWzExXT0wLGFbMTJdPTAsYVsxM109MCxhWzE0XT0wLGFbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25BbGlnblRvUmVmKGUsdCxpKXtjb25zdCBzPXAuRG90KHQsZSkscj1pLl9tO2lmKHM8LTErU2UpclswXT0tMSxyWzFdPTAsclsyXT0wLHJbM109MCxyWzRdPTAscls1XT0tMSxyWzZdPTAscls3XT0wLHJbOF09MCxyWzldPTAsclsxMF09MSxyWzExXT0wO2Vsc2V7Y29uc3Qgbj1wLkNyb3NzKHQsZSksYT0xLygxK3MpO3JbMF09bi5feCpuLl94KmErcyxyWzFdPW4uX3kqbi5feCphLW4uX3osclsyXT1uLl96Km4uX3gqYStuLl95LHJbM109MCxyWzRdPW4uX3gqbi5feSphK24uX3oscls1XT1uLl95Km4uX3kqYStzLHJbNl09bi5feipuLl95KmEtbi5feCxyWzddPTAscls4XT1uLl94Km4uX3oqYS1uLl95LHJbOV09bi5feSpuLl96KmErbi5feCxyWzEwXT1uLl96Km4uX3oqYStzLHJbMTFdPTB9cmV0dXJuIHJbMTJdPTAsclsxM109MCxyWzE0XT0wLHJbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGwoZSx0LGkpe2NvbnN0IHM9bmV3IE07cmV0dXJuIE0uUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpe3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGksSy5RdWF0ZXJuaW9uWzBdKSxLLlF1YXRlcm5pb25bMF0udG9Sb3RhdGlvbk1hdHJpeChzKSxzfXN0YXRpYyBTY2FsaW5nKGUsdCxpKXtjb25zdCBzPW5ldyBNO3JldHVybiBNLlNjYWxpbmdUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBTY2FsaW5nVG9SZWYoZSx0LGkscyl7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGUsMCwwLDAsMCx0LDAsMCwwLDAsaSwwLDAsMCwwLDEscykscy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTEmJnQ9PT0xJiZpPT09MSksc31zdGF0aWMgVHJhbnNsYXRpb24oZSx0LGkpe2NvbnN0IHM9bmV3IE07cmV0dXJuIE0uVHJhbnNsYXRpb25Ub1JlZihlLHQsaSxzKSxzfXN0YXRpYyBUcmFuc2xhdGlvblRvUmVmKGUsdCxpLHMpe3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLHQsaSwxLHMpLHMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0wJiZ0PT09MCYmaT09PTApLHN9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIE0uTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtjb25zdCByPXMuX20sbj1lLm0sYT10Lm07Zm9yKGxldCBvPTA7bzwxNjtvKyspcltvXT1uW29dKigxLWkpK2Fbb10qaTtyZXR1cm4gcy5tYXJrQXNVcGRhdGVkKCksc31zdGF0aWMgRGVjb21wb3NlTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gTS5EZWNvbXBvc2VMZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgRGVjb21wb3NlTGVycFRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5WZWN0b3IzWzBdLG49Sy5RdWF0ZXJuaW9uWzBdLGE9Sy5WZWN0b3IzWzFdO2UuZGVjb21wb3NlKHIsbixhKTtjb25zdCBvPUsuVmVjdG9yM1syXSxoPUsuUXVhdGVybmlvblsxXSxsPUsuVmVjdG9yM1szXTt0LmRlY29tcG9zZShvLGgsbCk7Y29uc3QgdT1LLlZlY3RvcjNbNF07cC5MZXJwVG9SZWYocixvLGksdSk7Y29uc3QgZD1LLlF1YXRlcm5pb25bMl07Wi5TbGVycFRvUmVmKG4saCxpLGQpO2NvbnN0IF89Sy5WZWN0b3IzWzVdO3JldHVybiBwLkxlcnBUb1JlZihhLGwsaSxfKSxNLkNvbXBvc2VUb1JlZih1LGQsXyxzKSxzfXN0YXRpYyBMb29rQXRMSChlLHQsaSl7Y29uc3Qgcz1uZXcgTTtyZXR1cm4gTS5Mb29rQXRMSFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExvb2tBdExIVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV0sYT1LLlZlY3RvcjNbMl07dC5zdWJ0cmFjdFRvUmVmKGUsYSksYS5ub3JtYWxpemUoKSxwLkNyb3NzVG9SZWYoaSxhLHIpO2NvbnN0IG89ci5sZW5ndGhTcXVhcmVkKCk7bz09PTA/ci54PTE6ci5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydChvKSkscC5Dcm9zc1RvUmVmKGEscixuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGg9LXAuRG90KHIsZSksbD0tcC5Eb3QobixlKSx1PS1wLkRvdChhLGUpO00uRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyl9c3RhdGljIExvb2tBdFJIKGUsdCxpKXtjb25zdCBzPW5ldyBNO3JldHVybiBNLkxvb2tBdFJIVG9SZWYoZSx0LGkscyksc31zdGF0aWMgTG9va0F0UkhUb1JlZihlLHQsaSxzKXtjb25zdCByPUsuVmVjdG9yM1swXSxuPUsuVmVjdG9yM1sxXSxhPUsuVmVjdG9yM1syXTtlLnN1YnRyYWN0VG9SZWYodCxhKSxhLm5vcm1hbGl6ZSgpLHAuQ3Jvc3NUb1JlZihpLGEscik7Y29uc3Qgbz1yLmxlbmd0aFNxdWFyZWQoKTtvPT09MD9yLng9MTpyLm5vcm1hbGl6ZUZyb21MZW5ndGgoTWF0aC5zcXJ0KG8pKSxwLkNyb3NzVG9SZWYoYSxyLG4pLG4ubm9ybWFsaXplKCk7Y29uc3QgaD0tcC5Eb3QocixlKSxsPS1wLkRvdChuLGUpLHU9LXAuRG90KGEsZSk7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyksc31zdGF0aWMgTG9va0RpcmVjdGlvbkxIKGUsdCl7Y29uc3QgaT1uZXcgTTtyZXR1cm4gTS5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzBdO3MuY29weUZyb20oZSkscy5zY2FsZUluUGxhY2UoLTEpO2NvbnN0IHI9Sy5WZWN0b3IzWzFdO3JldHVybiBwLkNyb3NzVG9SZWYodCxzLHIpLE0uRnJvbVZhbHVlc1RvUmVmKHIuX3gsci5feSxyLl96LDAsdC5feCx0Ll95LHQuX3osMCxzLl94LHMuX3kscy5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIKGUsdCl7Y29uc3QgaT1uZXcgTTtyZXR1cm4gTS5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzJdO3JldHVybiBwLkNyb3NzVG9SZWYodCxlLHMpLE0uRnJvbVZhbHVlc1RvUmVmKHMuX3gscy5feSxzLl96LDAsdC5feCx0Ll95LHQuX3osMCxlLl94LGUuX3ksZS5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgT3J0aG9MSChlLHQsaSxzLHIpe2NvbnN0IG49bmV3IE07cmV0dXJuIE0uT3J0aG9MSFRvUmVmKGUsdCxpLHMsbixyKSxufXN0YXRpYyBPcnRob0xIVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9aSxvPXMsaD0yL2UsbD0yL3QsdT0yLyhvLWEpLGQ9LShvK2EpLyhvLWEpO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihoLDAsMCwwLDAsbCwwLDAsMCwwLHUsMCwwLDAsZCwxLHIpLG4mJnIubXVsdGlwbHlUb1JlZihqdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyhoPT09MSYmbD09PTEmJnU9PT0xJiZkPT09MCkscn1zdGF0aWMgT3J0aG9PZmZDZW50ZXJMSChlLHQsaSxzLHIsbixhKXtjb25zdCBvPW5ldyBNO3JldHVybiBNLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixvLGEpLG99c3RhdGljIE9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9cixsPW4sdT0yLyh0LWUpLGQ9Mi8ocy1pKSxfPTIvKGwtaCksZj0tKGwraCkvKGwtaCksbT0oZSt0KS8oZS10KSx2PShzK2kpLyhpLXMpO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZih1LDAsMCwwLDAsZCwwLDAsMCwwLF8sMCxtLHYsZiwxLGEpLG8mJmEubXVsdGlwbHlUb1JlZihqdCxhKSxhLm1hcmtBc1VwZGF0ZWQoKSxhfXN0YXRpYyBPcnRob09mZkNlbnRlclJIKGUsdCxpLHMscixuLGEpe2NvbnN0IG89bmV3IE07cmV0dXJuIE0uT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLG8sYSksb31zdGF0aWMgT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLGEsbyl7cmV0dXJuIE0uT3J0aG9PZmZDZW50ZXJMSFRvUmVmKGUsdCxpLHMscixuLGEsbyksYS5fbVsxMF0qPS0xLGF9c3RhdGljIFBlcnNwZWN0aXZlTEgoZSx0LGkscyxyLG49MCl7Y29uc3QgYT1uZXcgTSxvPWksaD1zLGw9MipvL2UsdT0yKm8vdCxkPShoK28pLyhoLW8pLF89LTIqaCpvLyhoLW8pLGY9TWF0aC50YW4obik7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZiwwLDAsZCwxLDAsMCxfLDAsYSksciYmYS5tdWx0aXBseVRvUmVmKGp0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxhfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIKGUsdCxpLHMscixuPTAsYT0hMSl7Y29uc3Qgbz1uZXcgTTtyZXR1cm4gTS5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxvLCEwLHIsbixhKSxvfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTAsaD0hMSl7Y29uc3QgbD1pLHU9cyxkPTEvTWF0aC50YW4oZSouNSksXz1uP2QvdDpkLGY9bj9kOmQqdCxtPWgmJmw9PT0wPy0xOnUhPT0wPyh1K2wpLyh1LWwpOjEsdj1oJiZsPT09MD8yKnU6dSE9PTA/LTIqdSpsLyh1LWwpOi0yKmwsRT1NYXRoLnRhbihvKTtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoXywwLDAsMCwwLGYsMCxFLDAsMCxtLDEsMCwwLHYsMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYoanQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZUxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksMSwwLDAsMSwwLHIpLGEmJnIubXVsdGlwbHlUb1JlZihqdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSkscn1zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSChlLHQsaSxzLHIsbj0wLGE9ITEpe2NvbnN0IG89bmV3IE07cmV0dXJuIE0uUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMsbywhMCxyLG4sYSksb31zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMscixuPSEwLGEsbz0wLGg9ITEpe2NvbnN0IGw9aSx1PXMsZD0xL01hdGgudGFuKGUqLjUpLF89bj9kL3Q6ZCxmPW4/ZDpkKnQsbT1oJiZsPT09MD8xOnUhPT0wPy0odStsKS8odS1sKTotMSx2PWgmJmw9PT0wPzIqdTp1IT09MD8tMip1KmwvKHUtbCk6LTIqbCxFPU1hdGgudGFuKG8pO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihfLDAsMCwwLDAsZiwwLEUsMCwwLG0sLTEsMCwwLHYsMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYoanQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZVJIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksLTEsMCwwLC0xLDAsciksYSYmci5tdWx0aXBseVRvUmVmKGp0LHIpLHIuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxyfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdldlYlZSVG9SZWYoZSx0LGkscyxyPSExLG4sYT0wKXtjb25zdCBvPXI/LTE6MSxoPU1hdGgudGFuKGUudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxsPU1hdGgudGFuKGUuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLHU9TWF0aC50YW4oZS5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksZD1NYXRoLnRhbihlLnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCksXz0yLyh1K2QpLGY9Mi8oaCtsKSxtPU1hdGgudGFuKGEpLHY9cy5fbTtyZXR1cm4gdlswXT1fLHZbMV09dlsyXT12WzNdPXZbNF09MCx2WzVdPWYsdls2XT0wLHZbN109bSx2WzhdPSh1LWQpKl8qLjUsdls5XT0tKChoLWwpKmYqLjUpLHZbMTBdPS1pLyh0LWkpLHZbMTFdPTEqbyx2WzEyXT12WzEzXT12WzE1XT0wLHZbMTRdPS0oMippKnQpLyhpLXQpLG4mJnMubXVsdGlwbHlUb1JlZihqdCxzKSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBHZXRGaW5hbE1hdHJpeChlLHQsaSxzLHIsbil7Y29uc3QgYT1lLndpZHRoLG89ZS5oZWlnaHQsaD1lLngsbD1lLnksdT1NLkZyb21WYWx1ZXMoYS8yLDAsMCwwLDAsLW8vMiwwLDAsMCwwLG4tciwwLGgrYS8yLG8vMitsLHIsMSksZD1uZXcgdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdC5tdWx0aXBseVRvUmVmKGksZCksZC5tdWx0aXBseVRvUmVmKHMsZCksZC5tdWx0aXBseVRvUmVmKHUsZCl9c3RhdGljIEdldEFzTWF0cml4MngyKGUpe2NvbnN0IHQ9ZS5tLGk9W3RbMF0sdFsxXSx0WzRdLHRbNV1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBHZXRBc01hdHJpeDN4MyhlKXtjb25zdCB0PWUubSxpPVt0WzBdLHRbMV0sdFsyXSx0WzRdLHRbNV0sdFs2XSx0WzhdLHRbOV0sdFsxMF1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBUcmFuc3Bvc2UoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gTS5UcmFuc3Bvc2VUb1JlZihlLHQpLHR9c3RhdGljIFRyYW5zcG9zZVRvUmVmKGUsdCl7Y29uc3QgaT10Ll9tLHM9ZS5tO3JldHVybiBpWzBdPXNbMF0saVsxXT1zWzRdLGlbMl09c1s4XSxpWzNdPXNbMTJdLGlbNF09c1sxXSxpWzVdPXNbNV0saVs2XT1zWzldLGlbN109c1sxM10saVs4XT1zWzJdLGlbOV09c1s2XSxpWzEwXT1zWzEwXSxpWzExXT1zWzE0XSxpWzEyXT1zWzNdLGlbMTNdPXNbN10saVsxNF09c1sxMV0saVsxNV09c1sxNV0sdC5tYXJrQXNVcGRhdGVkKCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZS5faXNJZGVudGl0eSxlLl9pc0lkZW50aXR5RGlydHkpLHR9c3RhdGljIFJlZmxlY3Rpb24oZSl7Y29uc3QgdD1uZXcgTTtyZXR1cm4gTS5SZWZsZWN0aW9uVG9SZWYoZSx0KSx0fXN0YXRpYyBSZWZsZWN0aW9uVG9SZWYoZSx0KXtlLm5vcm1hbGl6ZSgpO2NvbnN0IGk9ZS5ub3JtYWwueCxzPWUubm9ybWFsLnkscj1lLm5vcm1hbC56LG49LTIqaSxhPS0yKnMsbz0tMipyO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihuKmkrMSxhKmksbyppLDAsbipzLGEqcysxLG8qcywwLG4qcixhKnIsbypyKzEsMCxuKmUuZCxhKmUuZCxvKmUuZCwxLHQpLHR9c3RhdGljIEZyb21YWVpBeGVzVG9SZWYoZSx0LGkscyl7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGUuX3gsZS5feSxlLl96LDAsdC5feCx0Ll95LHQuX3osMCxpLl94LGkuX3ksaS5feiwwLDAsMCwwLDEscyksc31zdGF0aWMgRnJvbVF1YXRlcm5pb25Ub1JlZihlLHQpe2NvbnN0IGk9ZS5feCplLl94LHM9ZS5feSplLl95LHI9ZS5feiplLl96LG49ZS5feCplLl95LGE9ZS5feiplLl93LG89ZS5feiplLl94LGg9ZS5feSplLl93LGw9ZS5feSplLl96LHU9ZS5feCplLl93O3JldHVybiB0Ll9tWzBdPTEtMioocytyKSx0Ll9tWzFdPTIqKG4rYSksdC5fbVsyXT0yKihvLWgpLHQuX21bM109MCx0Ll9tWzRdPTIqKG4tYSksdC5fbVs1XT0xLTIqKHIraSksdC5fbVs2XT0yKihsK3UpLHQuX21bN109MCx0Ll9tWzhdPTIqKG8raCksdC5fbVs5XT0yKihsLXUpLHQuX21bMTBdPTEtMioocytpKSx0Ll9tWzExXT0wLHQuX21bMTJdPTAsdC5fbVsxM109MCx0Ll9tWzE0XT0wLHQuX21bMTVdPTEsdC5tYXJrQXNVcGRhdGVkKCksdH19TS5fVXBkYXRlRmxhZ1NlZWQ9MCxNLl9JZGVudGl0eVJlYWRPbmx5PU0uSWRlbnRpdHkoKTtjbGFzcyBLe31LLlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMSxwLlplcm8pLEsuTWF0cml4PUJlLkJ1aWxkVHVwbGUoMixNLklkZW50aXR5KSxLLlF1YXRlcm5pb249QmUuQnVpbGRUdXBsZSgzLFouWmVybyk7Y2xhc3MgRnt9Ri5WZWN0b3IyPUJlLkJ1aWxkVHVwbGUoMyx2ZS5aZXJvKSxGLlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMyxwLlplcm8pLEYuVmVjdG9yND1CZS5CdWlsZFR1cGxlKDMseWUuWmVybyksRi5RdWF0ZXJuaW9uPUJlLkJ1aWxkVHVwbGUoMixaLlplcm8pLEYuTWF0cml4PUJlLkJ1aWxkVHVwbGUoOCxNLklkZW50aXR5KSxzdCgiQkFCWUxPTi5WZWN0b3IyIix2ZSksc3QoIkJBQllMT04uVmVjdG9yMyIscCksc3QoIkJBQllMT04uVmVjdG9yNCIseWUpLHN0KCJCQUJZTE9OLk1hdHJpeCIsTSk7Y29uc3QganQ9TS5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsLjUsMCwwLDAsLjUsMSk7Y2xhc3MgSnJ7Z2V0IHdyYXBVKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVfXNldCB3cmFwVShlKXt0aGlzLl9jYWNoZWRXcmFwVT1lfWdldCB3cmFwVigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVn1zZXQgd3JhcFYoZSl7dGhpcy5fY2FjaGVkV3JhcFY9ZX1nZXQgd3JhcFIoKXtyZXR1cm4gdGhpcy5fY2FjaGVkV3JhcFJ9c2V0IHdyYXBSKGUpe3RoaXMuX2NhY2hlZFdyYXBSPWV9Z2V0IGFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwoKXtyZXR1cm4gdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbH1zZXQgYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbChlKXt0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPWV9Z2V0IGNvbXBhcmlzb25GdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wYXJpc29uRnVuY3Rpb259c2V0IGNvbXBhcmlzb25GdW5jdGlvbihlKXt0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249ZX1nZXQgdXNlTWlwTWFwcygpe3JldHVybiB0aGlzLl91c2VNaXBNYXBzfXNldCB1c2VNaXBNYXBzKGUpe3RoaXMuX3VzZU1pcE1hcHM9ZX1jb25zdHJ1Y3Rvcigpe3RoaXMuc2FtcGxpbmdNb2RlPS0xLHRoaXMuX3VzZU1pcE1hcHM9ITAsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj0wfXNldFBhcmFtZXRlcnMoZT0xLHQ9MSxpPTEscz0xLHI9MixuPTApe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT1lLHRoaXMuX2NhY2hlZFdyYXBWPXQsdGhpcy5fY2FjaGVkV3JhcFI9aSx0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPXMsdGhpcy5zYW1wbGluZ01vZGU9cix0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249bix0aGlzfWNvbXBhcmVTYW1wbGVyKGUpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT09PWUuX2NhY2hlZFdyYXBVJiZ0aGlzLl9jYWNoZWRXcmFwVj09PWUuX2NhY2hlZFdyYXBWJiZ0aGlzLl9jYWNoZWRXcmFwUj09PWUuX2NhY2hlZFdyYXBSJiZ0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPT09ZS5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCYmdGhpcy5zYW1wbGluZ01vZGU9PT1lLnNhbXBsaW5nTW9kZSYmdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPT09ZS5fY29tcGFyaXNvbkZ1bmN0aW9uJiZ0aGlzLl91c2VNaXBNYXBzPT09ZS5fdXNlTWlwTWFwc319dmFyIExlOyhmdW5jdGlvbihjKXtjW2MuVW5rbm93bj0wXT0iVW5rbm93biIsY1tjLlVybD0xXT0iVXJsIixjW2MuVGVtcD0yXT0iVGVtcCIsY1tjLlJhdz0zXT0iUmF3IixjW2MuRHluYW1pYz00XT0iRHluYW1pYyIsY1tjLlJlbmRlclRhcmdldD01XT0iUmVuZGVyVGFyZ2V0IixjW2MuTXVsdGlSZW5kZXJUYXJnZXQ9Nl09Ik11bHRpUmVuZGVyVGFyZ2V0IixjW2MuQ3ViZT03XT0iQ3ViZSIsY1tjLkN1YmVSYXc9OF09IkN1YmVSYXciLGNbYy5DdWJlUHJlZmlsdGVyZWQ9OV09IkN1YmVQcmVmaWx0ZXJlZCIsY1tjLlJhdzNEPTEwXT0iUmF3M0QiLGNbYy5SYXcyREFycmF5PTExXT0iUmF3MkRBcnJheSIsY1tjLkRlcHRoU3RlbmNpbD0xMl09IkRlcHRoU3RlbmNpbCIsY1tjLkN1YmVSYXdSR0JEPTEzXT0iQ3ViZVJhd1JHQkQiLGNbYy5EZXB0aD0xNF09IkRlcHRoIn0pKExlfHwoTGU9e30pKTtjbGFzcyBMdCBleHRlbmRzIEpye2dldCB1c2VNaXBNYXBzKCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVNaXBNYXBzfXNldCB1c2VNaXBNYXBzKGUpe3RoaXMuZ2VuZXJhdGVNaXBNYXBzPWV9Z2V0IHVuaXF1ZUlkKCl7cmV0dXJuIHRoaXMuX3VuaXF1ZUlkfV9zZXRVbmlxdWVJZChlKXt0aGlzLl91bmlxdWVJZD1lfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLl9zb3VyY2V9Y29uc3RydWN0b3IoZSx0LGk9ITEpe3N1cGVyKCksdGhpcy5pc1JlYWR5PSExLHRoaXMuaXNDdWJlPSExLHRoaXMuaXMzRD0hMSx0aGlzLmlzMkRBcnJheT0hMSx0aGlzLmlzTXVsdGl2aWV3PSExLHRoaXMudXJsPSIiLHRoaXMuZ2VuZXJhdGVNaXBNYXBzPSExLHRoaXMuc2FtcGxlcz0wLHRoaXMudHlwZT0tMSx0aGlzLmZvcm1hdD0tMSx0aGlzLm9uTG9hZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25SZWJ1aWxkQ2FsbGJhY2s9bnVsbCx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmRlcHRoPTAsdGhpcy5iYXNlV2lkdGg9MCx0aGlzLmJhc2VIZWlnaHQ9MCx0aGlzLmJhc2VEZXB0aD0wLHRoaXMuaW52ZXJ0WT0hMSx0aGlzLl9pbnZlcnRWU2NhbGU9ITEsdGhpcy5fYXNzb2NpYXRlZENoYW5uZWw9LTEsdGhpcy5fc291cmNlPUxlLlVua25vd24sdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fYnVmZmVyVmlldz1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheT1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheUFycmF5PW51bGwsdGhpcy5fc2l6ZT0wLHRoaXMuX2V4dGVuc2lvbj0iIix0aGlzLl9maWxlcz1udWxsLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2lzRGlzYWJsZWQ9ITEsdGhpcy5fY29tcHJlc3Npb249bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsPW51bGwsdGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbFByb21pc2U9bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsQ29tcHV0ZWQ9ITEsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlPTAsdGhpcy5fbG9kR2VuZXJhdGlvbk9mZnNldD0wLHRoaXMuX3VzZVNSR0JCdWZmZXI9ITEsdGhpcy5fbG9kVGV4dHVyZUhpZ2g9bnVsbCx0aGlzLl9sb2RUZXh0dXJlTWlkPW51bGwsdGhpcy5fbG9kVGV4dHVyZUxvdz1udWxsLHRoaXMuX2lzUkdCRD0hMSx0aGlzLl9saW5lYXJTcGVjdWxhckxPRD0hMSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZT1udWxsLHRoaXMuX2hhcmR3YXJlVGV4dHVyZT1udWxsLHRoaXMuX21heExvZExldmVsPW51bGwsdGhpcy5fcmVmZXJlbmNlcz0xLHRoaXMuX2dhbW1hU3BhY2U9bnVsbCx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9zb3VyY2U9dCx0aGlzLl91bmlxdWVJZD1MdC5fQ291bnRlcisrLGl8fCh0aGlzLl9oYXJkd2FyZVRleHR1cmU9ZS5fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCkpfWluY3JlbWVudFJlZmVyZW5jZXMoKXt0aGlzLl9yZWZlcmVuY2VzKyt9dXBkYXRlU2l6ZShlLHQsaT0xKXt0aGlzLl9lbmdpbmUudXBkYXRlVGV4dHVyZURpbWVuc2lvbnModGhpcyxlLHQsaSksdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5kZXB0aD1pLHRoaXMuYmFzZVdpZHRoPWUsdGhpcy5iYXNlSGVpZ2h0PXQsdGhpcy5iYXNlRGVwdGg9aSx0aGlzLl9zaXplPWUqdCppfV9yZWJ1aWxkKCl7dmFyIGU7aWYodGhpcy5pc1JlYWR5PSExLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2NhY2hlZFdyYXBVPW51bGwsdGhpcy5fY2FjaGVkV3JhcFY9bnVsbCx0aGlzLl9jYWNoZWRXcmFwUj1udWxsLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bnVsbCx0aGlzLm9uUmVidWlsZENhbGxiYWNrKXtjb25zdCBpPXRoaXMub25SZWJ1aWxkQ2FsbGJhY2sodGhpcykscz1yPT57ci5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9aS5pc1JlYWR5fTtpLmlzQXN5bmM/aS5wcm94eS50aGVuKHMpOnMoaS5wcm94eSk7cmV0dXJufWxldCB0O3N3aXRjaCh0aGlzLnNvdXJjZSl7Y2FzZSBMZS5UZW1wOmJyZWFrO2Nhc2UgTGUuVXJsOnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVRleHR1cmUoKGU9dGhpcy5fb3JpZ2luYWxVcmwpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMudXJsLCF0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksbnVsbCx0aGlzLnNhbXBsaW5nTW9kZSxpPT57aS5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITB9LG51bGwsdGhpcy5fYnVmZmVyLHZvaWQgMCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlcik7cmV0dXJuO2Nhc2UgTGUuUmF3OnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBMZS5SYXczRDp0PXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdUZXh0dXJlM0QodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5iYXNlRGVwdGgsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBMZS5SYXcyREFycmF5OnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUyREFycmF5KHRoaXMuX2J1ZmZlclZpZXcsdGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuYmFzZURlcHRoLHRoaXMuZm9ybWF0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbix0aGlzLnR5cGUpLHQuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgTGUuRHluYW1pYzp0PXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVGV4dHVyZSh0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5zYW1wbGluZ01vZGUpLHQuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNUZXh0dXJlKHRoaXMsdGhpcy5fZW5naW5lLmdldFJlbmRlcmluZ0NhbnZhcygpLHRoaXMuaW52ZXJ0WSx2b2lkIDAsdm9pZCAwLCEwKTticmVhaztjYXNlIExlLkN1YmU6dD10aGlzLl9lbmdpbmUuY3JlYXRlQ3ViZVRleHR1cmUodGhpcy51cmwsbnVsbCx0aGlzLl9maWxlcywhdGhpcy5nZW5lcmF0ZU1pcE1hcHMsKCk9Pnt0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24sITEsMCwwLG51bGwsdm9pZCAwLHRoaXMuX3VzZVNSR0JCdWZmZXIpO3JldHVybjtjYXNlIExlLkN1YmVSYXc6dD10aGlzLl9lbmdpbmUuY3JlYXRlUmF3Q3ViZVRleHR1cmUodGhpcy5fYnVmZmVyVmlld0FycmF5LHRoaXMud2lkdGgsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbiksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBMZS5DdWJlUmF3UkdCRDpyZXR1cm47Y2FzZSBMZS5DdWJlUHJlZmlsdGVyZWQ6dD10aGlzLl9lbmdpbmUuY3JlYXRlUHJlZmlsdGVyZWRDdWJlVGV4dHVyZSh0aGlzLnVybCxudWxsLHRoaXMuX2xvZEdlbmVyYXRpb25TY2FsZSx0aGlzLl9sb2RHZW5lcmF0aW9uT2Zmc2V0LGk9PntpJiZpLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24pLHQuX3NwaGVyaWNhbFBvbHlub21pYWw9dGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbDtyZXR1cm59fV9zd2FwQW5kRGllKGUsdD0hMCl7dmFyIGk7KGk9dGhpcy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGk9PT12b2lkIDB8fGkuc2V0VXNhZ2UoZS5fc291cmNlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaXNDdWJlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGUuX2hhcmR3YXJlVGV4dHVyZT10aGlzLl9oYXJkd2FyZVRleHR1cmUsdCYmKGUuX2lzUkdCRD10aGlzLl9pc1JHQkQpLHRoaXMuX2xvZFRleHR1cmVIaWdoJiYoZS5fbG9kVGV4dHVyZUhpZ2gmJmUuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlSGlnaD10aGlzLl9sb2RUZXh0dXJlSGlnaCksdGhpcy5fbG9kVGV4dHVyZU1pZCYmKGUuX2xvZFRleHR1cmVNaWQmJmUuX2xvZFRleHR1cmVNaWQuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVNaWQ9dGhpcy5fbG9kVGV4dHVyZU1pZCksdGhpcy5fbG9kVGV4dHVyZUxvdyYmKGUuX2xvZFRleHR1cmVMb3cmJmUuX2xvZFRleHR1cmVMb3cuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVMb3c9dGhpcy5fbG9kVGV4dHVyZUxvdyksdGhpcy5faXJyYWRpYW5jZVRleHR1cmUmJihlLl9pcnJhZGlhbmNlVGV4dHVyZSYmZS5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpLGUuX2lycmFkaWFuY2VUZXh0dXJlPXRoaXMuX2lycmFkaWFuY2VUZXh0dXJlKTtjb25zdCBzPXRoaXMuX2VuZ2luZS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCk7bGV0IHI9cy5pbmRleE9mKHRoaXMpO3IhPT0tMSYmcy5zcGxpY2UociwxKSxyPXMuaW5kZXhPZihlKSxyPT09LTEmJnMucHVzaChlKX1kaXNwb3NlKCl7dGhpcy5fcmVmZXJlbmNlcy0tLHRoaXMub25Mb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3JlZmVyZW5jZXM9PT0wJiYodGhpcy5fZW5naW5lLl9yZWxlYXNlVGV4dHVyZSh0aGlzKSx0aGlzLl9oYXJkd2FyZVRleHR1cmU9bnVsbCl9fUx0Ll9Db3VudGVyPTA7ZnVuY3Rpb24gamUoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzwidSJ9ZnVuY3Rpb24gRXMoKXtyZXR1cm4gdHlwZW9mIG5hdmlnYXRvcjwidSJ9ZnVuY3Rpb24gRmkoKXtyZXR1cm4gdHlwZW9mIGRvY3VtZW50PCJ1In1mdW5jdGlvbiBUcyhjKXtsZXQgZT0iIix0PWMuZmlyc3RDaGlsZDtmb3IoO3Q7KXQubm9kZVR5cGU9PT0zJiYoZSs9dC50ZXh0Q29udGVudCksdD10Lm5leHRTaWJsaW5nO3JldHVybiBlfWNvbnN0IGJzPXtJc1dpbmRvd09iamVjdEV4aXN0OmplLElzTmF2aWdhdG9yQXZhaWxhYmxlOkVzLElzRG9jdW1lbnRBdmFpbGFibGU6RmksR2V0RE9NVGV4dENvbnRlbnQ6VHN9O2Z1bmN0aW9uIFEoYyl7cmV0dXJuYCR7Y30gbmVlZHMgdG8gYmUgaW1wb3J0ZWQgYmVmb3JlIGFzIGl0IGNvbnRhaW5zIGEgc2lkZS1lZmZlY3QgcmVxdWlyZWQgYnkgeW91ciBjb2RlLmB9Y2xhc3MgT3tzdGF0aWMgX0NoZWNrTGltaXQoZSx0KXtsZXQgaT1PLl9Mb2dMaW1pdE91dHB1dHNbZV07cmV0dXJuIGk/aS5jdXJyZW50Kys6KGk9e2xpbWl0OnQsY3VycmVudDoxfSxPLl9Mb2dMaW1pdE91dHB1dHNbZV09aSksaS5jdXJyZW50PD1pLmxpbWl0fXN0YXRpYyBfR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSx0PTEpe3ZhciBpO2NvbnN0IHM9Ty5fTG9nTGltaXRPdXRwdXRzW2VdO2lmKCFzfHwhTy5NZXNzYWdlTGltaXRSZWFjaGVkKXJldHVybjtjb25zdCByPXRoaXMuX0xldmVsc1t0XTtzLmN1cnJlbnQ9PT1zLmxpbWl0JiZPW3IubmFtZV0oTy5NZXNzYWdlTGltaXRSZWFjaGVkLnJlcGxhY2UoLyVMSU1JVCUvZywiIitzLmxpbWl0KS5yZXBsYWNlKC8lVFlQRSUvZywoaT1yLm5hbWUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOiIiKSl9c3RhdGljIF9BZGRMb2dFbnRyeShlKXtPLl9Mb2dDYWNoZT1lK08uX0xvZ0NhY2hlLE8uT25OZXdDYWNoZUVudHJ5JiZPLk9uTmV3Q2FjaGVFbnRyeShlKX1zdGF0aWMgX0Zvcm1hdE1lc3NhZ2UoZSl7Y29uc3QgdD1zPT5zPDEwPyIwIitzOiIiK3MsaT1uZXcgRGF0ZTtyZXR1cm4iWyIrdChpLmdldEhvdXJzKCkpKyI6Iit0KGkuZ2V0TWludXRlcygpKSsiOiIrdChpLmdldFNlY29uZHMoKSkrIl06ICIrZX1zdGF0aWMgX0xvZ0Rpc2FibGVkKGUsdCl7fXN0YXRpYyBfTG9nRW5hYmxlZChlPTEsdCxpKXtpZihpIT09dm9pZCAwJiYhTy5fQ2hlY2tMaW1pdCh0LGkpKXJldHVybjtjb25zdCBzPU8uX0Zvcm1hdE1lc3NhZ2UodCkscj10aGlzLl9MZXZlbHNbZV07ci5sb2dGdW5jJiZyLmxvZ0Z1bmMoIkJKUyAtICIrcyk7Y29uc3Qgbj1gPGRpdiBzdHlsZT0nY29sb3I6JHtyLmNvbG9yfSc+JHtzfTwvZGl2Pjxicj5gO08uX0FkZExvZ0VudHJ5KG4pLE8uX0dlbmVyYXRlTGltaXRNZXNzYWdlKHQsZSl9c3RhdGljIGdldCBMb2dDYWNoZSgpe3JldHVybiBPLl9Mb2dDYWNoZX1zdGF0aWMgQ2xlYXJMb2dDYWNoZSgpe08uX0xvZ0NhY2hlPSIiLE8uX0xvZ0xpbWl0T3V0cHV0cz17fSxPLmVycm9yc0NvdW50PTB9c3RhdGljIHNldCBMb2dMZXZlbHMoZSl7Ty5Mb2c9Ty5fTG9nRGlzYWJsZWQsTy5XYXJuPU8uX0xvZ0Rpc2FibGVkLE8uRXJyb3I9Ty5fTG9nRGlzYWJsZWQsW08uTWVzc2FnZUxvZ0xldmVsLE8uV2FybmluZ0xvZ0xldmVsLE8uRXJyb3JMb2dMZXZlbF0uZm9yRWFjaCh0PT57aWYoKGUmdCk9PT10KXtjb25zdCBpPXRoaXMuX0xldmVsc1t0XTtPW2kubmFtZV09Ty5fTG9nRW5hYmxlZC5iaW5kKE8sdCl9fSl9fU8uTm9uZUxvZ0xldmVsPTAsTy5NZXNzYWdlTG9nTGV2ZWw9MSxPLldhcm5pbmdMb2dMZXZlbD0yLE8uRXJyb3JMb2dMZXZlbD00LE8uQWxsTG9nTGV2ZWw9NyxPLk1lc3NhZ2VMaW1pdFJlYWNoZWQ9IlRvbyBtYW55ICVUWVBFJXMgKCVMSU1JVCUpLCBubyBtb3JlICVUWVBFJXMgd2lsbCBiZSByZXBvcnRlZCBmb3IgdGhpcyBtZXNzYWdlLiIsTy5fTG9nQ2FjaGU9IiIsTy5fTG9nTGltaXRPdXRwdXRzPXt9LE8uX0xldmVscz1be30se2NvbG9yOiJ3aGl0ZSIsbG9nRnVuYzpjb25zb2xlLmxvZyxuYW1lOiJMb2cifSx7Y29sb3I6Im9yYW5nZSIsbG9nRnVuYzpjb25zb2xlLndhcm4sbmFtZToiV2FybiJ9LHt9LHtjb2xvcjoicmVkIixsb2dGdW5jOmNvbnNvbGUuZXJyb3IsbmFtZToiRXJyb3IifV0sTy5lcnJvcnNDb3VudD0wLE8uTG9nPU8uX0xvZ0VuYWJsZWQuYmluZChPLE8uTWVzc2FnZUxvZ0xldmVsKSxPLldhcm49Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5XYXJuaW5nTG9nTGV2ZWwpLE8uRXJyb3I9Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5FcnJvckxvZ0xldmVsKTtjb25zdCBlbj0iYXR0cmlidXRlIix0bj0idmFyeWluZyI7Y2xhc3Mgd2l7Y29uc3RydWN0b3IoKXt0aGlzLmNoaWxkcmVuPVtdfWlzVmFsaWQoZSl7cmV0dXJuITB9cHJvY2VzcyhlLHQpe3ZhciBpLHMscixuLGEsbztsZXQgaD0iIjtpZih0aGlzLmxpbmUpe2xldCBsPXRoaXMubGluZTtjb25zdCB1PXQucHJvY2Vzc29yO2lmKHUpe3UubGluZVByb2Nlc3NvciYmKGw9dS5saW5lUHJvY2Vzc29yKGwsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKTtjb25zdCBkPShzPShpPXQucHJvY2Vzc29yKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuYXR0cmlidXRlS2V5d29yZE5hbWUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmVuLF89dC5pc0ZyYWdtZW50JiYoISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci52YXJ5aW5nRnJhZ21lbnRLZXl3b3JkTmFtZSk/KG49dC5wcm9jZXNzb3IpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi52YXJ5aW5nRnJhZ21lbnRLZXl3b3JkTmFtZTohdC5pc0ZyYWdtZW50JiYoISgoYT10LnByb2Nlc3Nvcik9PT1udWxsfHxhPT09dm9pZCAwKSYmYS52YXJ5aW5nVmVydGV4S2V5d29yZE5hbWUpPyhvPXQucHJvY2Vzc29yKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8udmFyeWluZ1ZlcnRleEtleXdvcmROYW1lOnRuOyF0LmlzRnJhZ21lbnQmJnUuYXR0cmlidXRlUHJvY2Vzc29yJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aChkKT9sPXUuYXR0cmlidXRlUHJvY2Vzc29yKHRoaXMubGluZSxlLHQucHJvY2Vzc2luZ0NvbnRleHQpOnUudmFyeWluZ1Byb2Nlc3NvciYmdGhpcy5saW5lLnN0YXJ0c1dpdGgoXyk/bD11LnZhcnlpbmdQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpOnUudW5pZm9ybVByb2Nlc3NvciYmdS51bmlmb3JtUmVnZXhwJiZ1LnVuaWZvcm1SZWdleHAudGVzdCh0aGlzLmxpbmUpP3QubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcnx8KGw9dS51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk6dS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yJiZ1LnVuaWZvcm1CdWZmZXJSZWdleHAmJnUudW5pZm9ybUJ1ZmZlclJlZ2V4cC50ZXN0KHRoaXMubGluZSk/dC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyfHwobD11LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITApOnUudGV4dHVyZVByb2Nlc3NvciYmdS50ZXh0dXJlUmVnZXhwJiZ1LnRleHR1cmVSZWdleHAudGVzdCh0aGlzLmxpbmUpP2w9dS50ZXh0dXJlUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KToodS51bmlmb3JtUHJvY2Vzc29yfHx1LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IpJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgidW5pZm9ybSIpJiYhdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyJiYoL3VuaWZvcm1ccysoPzooPzpoaWdocCk/fCg/Omxvd3ApPylccyooXFMrKVxzKyhcUyspXHMqOy8udGVzdCh0aGlzLmxpbmUpP3UudW5pZm9ybVByb2Nlc3NvciYmKGw9dS51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk6dS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yJiYobD11LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITApKSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXImJnRoaXMubGluZS5pbmRleE9mKCJ9IikhPT0tMSYmKHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMSx1LmVuZE9mVW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKGw9dS5lbmRPZlVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkpfWgrPWwrYFxyCmB9cmV0dXJuIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChsPT57aCs9bC5wcm9jZXNzKGUsdCl9KSx0aGlzLmFkZGl0aW9uYWxEZWZpbmVLZXkmJihlW3RoaXMuYWRkaXRpb25hbERlZmluZUtleV09dGhpcy5hZGRpdGlvbmFsRGVmaW5lVmFsdWV8fCJ0cnVlIiksaH19Y2xhc3Mgc257Y29uc3RydWN0b3IoKXt0aGlzLl9saW5lcz1bXX1nZXQgY3VycmVudExpbmUoKXtyZXR1cm4gdGhpcy5fbGluZXNbdGhpcy5saW5lSW5kZXhdfWdldCBjYW5SZWFkKCl7cmV0dXJuIHRoaXMubGluZUluZGV4PHRoaXMuX2xpbmVzLmxlbmd0aC0xfXNldCBsaW5lcyhlKXt0aGlzLl9saW5lcy5sZW5ndGg9MDtmb3IoY29uc3QgdCBvZiBlKXtpZih0WzBdPT09IiMiKXt0aGlzLl9saW5lcy5wdXNoKHQpO2NvbnRpbnVlfWlmKHQudHJpbSgpLnN0YXJ0c1dpdGgoIi8vIikpe3RoaXMuX2xpbmVzLnB1c2godCk7Y29udGludWV9Y29uc3QgaT10LnNwbGl0KCI7Iik7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspe2xldCByPWlbc107cj1yLnRyaW0oKSxyJiZ0aGlzLl9saW5lcy5wdXNoKHIrKHMhPT1pLmxlbmd0aC0xPyI7IjoiIikpfX19fWNsYXNzIFNzIGV4dGVuZHMgd2l7cHJvY2VzcyhlLHQpe2ZvcihsZXQgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuY2hpbGRyZW5baV07aWYocy5pc1ZhbGlkKGUpKXJldHVybiBzLnByb2Nlc3MoZSx0KX1yZXR1cm4iIn19Y2xhc3Mgcm4gZXh0ZW5kcyB3aXtpc1ZhbGlkKGUpe3JldHVybiB0aGlzLnRlc3RFeHByZXNzaW9uLmlzVHJ1ZShlKX19Y2xhc3MgdHR7aXNUcnVlKGUpe3JldHVybiEwfXN0YXRpYyBwb3N0Zml4VG9JbmZpeChlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIGUpaWYodHQuX09wZXJhdG9yUHJpb3JpdHlbaV09PT12b2lkIDApdC5wdXNoKGkpO2Vsc2V7Y29uc3Qgcz10W3QubGVuZ3RoLTFdLHI9dFt0Lmxlbmd0aC0yXTt0Lmxlbmd0aC09Mix0LnB1c2goYCgke3J9JHtpfSR7c30pYCl9cmV0dXJuIHRbdC5sZW5ndGgtMV19c3RhdGljIGluZml4VG9Qb3N0Zml4KGUpe2NvbnN0IHQ9W107bGV0IGk9LTE7Y29uc3Qgcz0oKT0+e2g9aC50cmltKCksaCE9PSIiJiYodC5wdXNoKGgpLGg9IiIpfSxyPWw9PntpPHR0Ll9TdGFjay5sZW5ndGgtMSYmKHR0Ll9TdGFja1srK2ldPWwpfSxuPSgpPT50dC5fU3RhY2tbaV0sYT0oKT0+aT09PS0xPyIhIUlOVkFMSUQgRVhQUkVTU0lPTiEhIjp0dC5fU3RhY2tbaS0tXTtsZXQgbz0wLGg9IiI7Zm9yKDtvPGUubGVuZ3RoOyl7Y29uc3QgbD1lLmNoYXJBdChvKSx1PW88ZS5sZW5ndGgtMT9lLnN1YnN0cihvLDIpOiIiO2lmKGw9PT0iKCIpaD0iIixyKGwpO2Vsc2UgaWYobD09PSIpIil7Zm9yKHMoKTtpIT09LTEmJm4oKSE9PSIoIjspdC5wdXNoKGEoKSk7YSgpfWVsc2UgaWYodHQuX09wZXJhdG9yUHJpb3JpdHlbdV0+MSl7Zm9yKHMoKTtpIT09LTEmJnR0Ll9PcGVyYXRvclByaW9yaXR5W24oKV0+PXR0Ll9PcGVyYXRvclByaW9yaXR5W3VdOyl0LnB1c2goYSgpKTtyKHUpLG8rK31lbHNlIGgrPWw7bysrfWZvcihzKCk7aSE9PS0xOyluKCk9PT0iKCI/YSgpOnQucHVzaChhKCkpO3JldHVybiB0fX10dC5fT3BlcmF0b3JQcmlvcml0eT17IikiOjAsIigiOjEsInx8IjoyLCImJiI6M30sdHQuX1N0YWNrPVsiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIl07Y2xhc3MgWWkgZXh0ZW5kcyB0dHtjb25zdHJ1Y3RvcihlLHQ9ITEpe3N1cGVyKCksdGhpcy5kZWZpbmU9ZSx0aGlzLm5vdD10fWlzVHJ1ZShlKXtsZXQgdD1lW3RoaXMuZGVmaW5lXSE9PXZvaWQgMDtyZXR1cm4gdGhpcy5ub3QmJih0PSF0KSx0fX1jbGFzcyBubiBleHRlbmRzIHR0e2lzVHJ1ZShlKXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUoZSl8fHRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZShlKX19Y2xhc3MgYW4gZXh0ZW5kcyB0dHtpc1RydWUoZSl7cmV0dXJuIHRoaXMubGVmdE9wZXJhbmQuaXNUcnVlKGUpJiZ0aGlzLnJpZ2h0T3BlcmFuZC5pc1RydWUoZSl9fWNsYXNzIG9uIGV4dGVuZHMgdHR7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKCksdGhpcy5kZWZpbmU9ZSx0aGlzLm9wZXJhbmQ9dCx0aGlzLnRlc3RWYWx1ZT1pfWlzVHJ1ZShlKXtsZXQgdD1lW3RoaXMuZGVmaW5lXTt0PT09dm9pZCAwJiYodD10aGlzLmRlZmluZSk7bGV0IGk9ITE7Y29uc3Qgcz1wYXJzZUludCh0KSxyPXBhcnNlSW50KHRoaXMudGVzdFZhbHVlKTtzd2l0Y2godGhpcy5vcGVyYW5kKXtjYXNlIj4iOmk9cz5yO2JyZWFrO2Nhc2UiPCI6aT1zPHI7YnJlYWs7Y2FzZSI8PSI6aT1zPD1yO2JyZWFrO2Nhc2UiPj0iOmk9cz49cjticmVhaztjYXNlIj09IjppPXM9PT1yO2JyZWFrfXJldHVybiBpfX12YXIgWmU7KGZ1bmN0aW9uKGMpe2NbYy5HTFNMPTBdPSJHTFNMIixjW2MuV0dTTD0xXT0iV0dTTCJ9KShaZXx8KFplPXt9KSk7Y29uc3QgaG49L2RlZmluZWRccyo/XCgoLis/KVwpL2cseHM9L2RlZmluZWRccyo/XFsoLis/KVxdL2cscnI9LyNpbmNsdWRlXHM/PCguKyk+KFwoKC4qKVwpKSooXFsoLiopXF0pKi9nO2NsYXNzIG9pe3N0YXRpYyBJbml0aWFsaXplKGUpe2UucHJvY2Vzc29yJiZlLnByb2Nlc3Nvci5pbml0aWFsaXplU2hhZGVycyYmZS5wcm9jZXNzb3IuaW5pdGlhbGl6ZVNoYWRlcnMoZS5wcm9jZXNzaW5nQ29udGV4dCl9c3RhdGljIFByb2Nlc3MoZSx0LGkscyl7dmFyIHI7ISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5wcmVQcm9jZXNzU2hhZGVyQ29kZSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LG49Pnt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG49dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbikpO2NvbnN0IGE9dGhpcy5fUHJvY2Vzc1NoYWRlckNvbnZlcnNpb24obix0LHMpO2koYSxuKX0pfXN0YXRpYyBQcmVQcm9jZXNzKGUsdCxpLHMpe3ZhciByOyEoKHI9dC5wcm9jZXNzb3IpPT09bnVsbHx8cj09PXZvaWQgMCkmJnIucHJlUHJvY2Vzc1NoYWRlckNvZGUmJihlPXQucHJvY2Vzc29yLnByZVByb2Nlc3NTaGFkZXJDb2RlKGUsdC5pc0ZyYWdtZW50KSksdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKGUsdCxuPT57dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMmJihuPXQucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKHQuaXNGcmFnbWVudD8iZnJhZ21lbnQiOiJ2ZXJ0ZXgiLG4pKTtjb25zdCBhPXRoaXMuX0FwcGx5UHJlUHJvY2Vzc2luZyhuLHQscyk7aShhLG4pfSl9c3RhdGljIEZpbmFsaXplKGUsdCxpKXtyZXR1cm4haS5wcm9jZXNzb3J8fCFpLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnM/e3ZlcnRleENvZGU6ZSxmcmFnbWVudENvZGU6dH06aS5wcm9jZXNzb3IuZmluYWxpemVTaGFkZXJzKGUsdCxpLnByb2Nlc3NpbmdDb250ZXh0KX1zdGF0aWMgX1Byb2Nlc3NQcmVjaXNpb24oZSx0KXt2YXIgaTtpZighKChpPXQucHJvY2Vzc29yKT09PW51bGx8fGk9PT12b2lkIDApJiZpLm5vUHJlY2lzaW9uKXJldHVybiBlO2NvbnN0IHM9dC5zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyO3JldHVybiBlLmluZGV4T2YoInByZWNpc2lvbiBoaWdocCBmbG9hdCIpPT09LTE/cz9lPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CmArZTplPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKYCtlOnN8fChlPWUucmVwbGFjZSgicHJlY2lzaW9uIGhpZ2hwIGZsb2F0IiwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQiKSksZX1zdGF0aWMgX0V4dHJhY3RPcGVyYXRpb24oZSl7Y29uc3QgaT0vZGVmaW5lZFwoKC4rKVwpLy5leGVjKGUpO2lmKGkmJmkubGVuZ3RoKXJldHVybiBuZXcgWWkoaVsxXS50cmltKCksZVswXT09PSIhIik7Y29uc3Qgcz1bIj09IiwiPj0iLCI8PSIsIjwiLCI+Il07bGV0IHI9IiIsbj0wO2ZvcihyIG9mIHMpaWYobj1lLmluZGV4T2Yociksbj4tMSlicmVhaztpZihuPT09LTEpcmV0dXJuIG5ldyBZaShlKTtjb25zdCBhPWUuc3Vic3RyaW5nKDAsbikudHJpbSgpLG89ZS5zdWJzdHJpbmcobityLmxlbmd0aCkudHJpbSgpO3JldHVybiBuZXcgb24oYSxyLG8pfXN0YXRpYyBfQnVpbGRTdWJFeHByZXNzaW9uKGUpe2U9ZS5yZXBsYWNlKGhuLCJkZWZpbmVkWyQxXSIpO2NvbnN0IHQ9dHQuaW5maXhUb1Bvc3RmaXgoZSksaT1bXTtmb3IoY29uc3QgciBvZiB0KWlmKHIhPT0ifHwiJiZyIT09IiYmIilpLnB1c2gocik7ZWxzZSBpZihpLmxlbmd0aD49Mil7bGV0IG49aVtpLmxlbmd0aC0xXSxhPWlbaS5sZW5ndGgtMl07aS5sZW5ndGgtPTI7Y29uc3Qgbz1yPT0iJiYiP25ldyBhbjpuZXcgbm47dHlwZW9mIG49PSJzdHJpbmciJiYobj1uLnJlcGxhY2UoeHMsImRlZmluZWQoJDEpIikpLHR5cGVvZiBhPT0ic3RyaW5nIiYmKGE9YS5yZXBsYWNlKHhzLCJkZWZpbmVkKCQxKSIpKSxvLmxlZnRPcGVyYW5kPXR5cGVvZiBhPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKGEpOmEsby5yaWdodE9wZXJhbmQ9dHlwZW9mIG49PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24obik6bixpLnB1c2gobyl9bGV0IHM9aVtpLmxlbmd0aC0xXTtyZXR1cm4gdHlwZW9mIHM9PSJzdHJpbmciJiYocz1zLnJlcGxhY2UoeHMsImRlZmluZWQoJDEpIikpLHR5cGVvZiBzPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKHMpOnN9c3RhdGljIF9CdWlsZEV4cHJlc3Npb24oZSx0KXtjb25zdCBpPW5ldyBybixzPWUuc3Vic3RyaW5nKDAsdCk7bGV0IHI9ZS5zdWJzdHJpbmcodCk7cmV0dXJuIHI9ci5zdWJzdHJpbmcoMCwoci5pbmRleE9mKCIvLyIpKzF8fHIubGVuZ3RoKzEpLTEpLnRyaW0oKSxzPT09IiNpZmRlZiI/aS50ZXN0RXhwcmVzc2lvbj1uZXcgWWkocik6cz09PSIjaWZuZGVmIj9pLnRlc3RFeHByZXNzaW9uPW5ldyBZaShyLCEwKTppLnRlc3RFeHByZXNzaW9uPXRoaXMuX0J1aWxkU3ViRXhwcmVzc2lvbihyKSxpfXN0YXRpYyBfTW92ZUN1cnNvcldpdGhpbklmKGUsdCxpKXtsZXQgcz1lLmN1cnJlbnRMaW5lO2Zvcig7dGhpcy5fTW92ZUN1cnNvcihlLGkpOyl7cz1lLmN1cnJlbnRMaW5lO2NvbnN0IHI9cy5zdWJzdHJpbmcoMCw1KS50b0xvd2VyQ2FzZSgpO2lmKHI9PT0iI2Vsc2UiKXtjb25zdCBuPW5ldyB3aTt0LmNoaWxkcmVuLnB1c2gobiksdGhpcy5fTW92ZUN1cnNvcihlLG4pO3JldHVybn1lbHNlIGlmKHI9PT0iI2VsaWYiKXtjb25zdCBuPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihzLDUpO3QuY2hpbGRyZW4ucHVzaChuKSxpPW59fX1zdGF0aWMgX01vdmVDdXJzb3IoZSx0KXtmb3IoO2UuY2FuUmVhZDspe2UubGluZUluZGV4Kys7Y29uc3QgaT1lLmN1cnJlbnRMaW5lLHI9LygjaWZkZWYpfCgjZWxzZSl8KCNlbGlmKXwoI2VuZGlmKXwoI2lmbmRlZil8KCNpZikvLmV4ZWMoaSk7aWYociYmci5sZW5ndGgpc3dpdGNoKHJbMF0pe2Nhc2UiI2lmZGVmIjp7Y29uc3QgYT1uZXcgU3M7dC5jaGlsZHJlbi5wdXNoKGEpO2NvbnN0IG89dGhpcy5fQnVpbGRFeHByZXNzaW9uKGksNik7YS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9Y2FzZSIjZWxzZSI6Y2FzZSIjZWxpZiI6cmV0dXJuITA7Y2FzZSIjZW5kaWYiOnJldHVybiExO2Nhc2UiI2lmbmRlZiI6e2NvbnN0IGE9bmV3IFNzO3QuY2hpbGRyZW4ucHVzaChhKTtjb25zdCBvPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihpLDcpO2EuY2hpbGRyZW4ucHVzaChvKSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxhLG8pO2JyZWFrfWNhc2UiI2lmIjp7Y29uc3QgYT1uZXcgU3Msbz10aGlzLl9CdWlsZEV4cHJlc3Npb24oaSwzKTt0LmNoaWxkcmVuLnB1c2goYSksYS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9fWVsc2V7Y29uc3Qgbj1uZXcgd2k7aWYobi5saW5lPWksdC5jaGlsZHJlbi5wdXNoKG4pLGlbMF09PT0iIyImJmlbMV09PT0iZCIpe2NvbnN0IGE9aS5yZXBsYWNlKCI7IiwiIikuc3BsaXQoIiAiKTtuLmFkZGl0aW9uYWxEZWZpbmVLZXk9YVsxXSxhLmxlbmd0aD09PTMmJihuLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZT1hWzJdKX19fXJldHVybiExfXN0YXRpYyBfRXZhbHVhdGVQcmVQcm9jZXNzb3JzKGUsdCxpKXtjb25zdCBzPW5ldyB3aSxyPW5ldyBzbjtyZXR1cm4gci5saW5lSW5kZXg9LTEsci5saW5lcz1lLnNwbGl0KGAKYCksdGhpcy5fTW92ZUN1cnNvcihyLHMpLHMucHJvY2Vzcyh0LGkpfXN0YXRpYyBfUHJlcGFyZVByZVByb2Nlc3NvcnMoZSx0KXt2YXIgaTtjb25zdCBzPWUuZGVmaW5lcyxyPXt9O2Zvcihjb25zdCBuIG9mIHMpe2NvbnN0IG89bi5yZXBsYWNlKCIjZGVmaW5lIiwiIikucmVwbGFjZSgiOyIsIiIpLnRyaW0oKS5zcGxpdCgiICIpO3Jbb1swXV09by5sZW5ndGg+MT9vWzFdOiIifXJldHVybigoaT1lLnByb2Nlc3Nvcik9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnNoYWRlckxhbmd1YWdlKT09PVplLkdMU0wmJihyLkdMX0VTPSJ0cnVlIiksci5fX1ZFUlNJT05fXz1lLnZlcnNpb24scltlLnBsYXRmb3JtTmFtZV09InRydWUiLHQuX2dldEdsb2JhbERlZmluZXMocikscn1zdGF0aWMgX1Byb2Nlc3NTaGFkZXJDb252ZXJzaW9uKGUsdCxpKXtsZXQgcz10aGlzLl9Qcm9jZXNzUHJlY2lzaW9uKGUsdCk7aWYoIXQucHJvY2Vzc29yfHx0LnByb2Nlc3Nvci5zaGFkZXJMYW5ndWFnZT09PVplLkdMU0wmJnMuaW5kZXhPZigiI3ZlcnNpb24gMyIpIT09LTEmJihzPXMucmVwbGFjZSgiI3ZlcnNpb24gMzAwIGVzIiwiIiksIXQucHJvY2Vzc29yLnBhcnNlR0xFUzMpKXJldHVybiBzO2NvbnN0IHI9dC5kZWZpbmVzLG49dGhpcy5fUHJlcGFyZVByZVByb2Nlc3NvcnModCxpKTtyZXR1cm4gdC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yJiYocz10LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3IocyxyLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkscz10aGlzLl9FdmFsdWF0ZVByZVByb2Nlc3NvcnMocyxuLHQpLHQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3ImJihzPXQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3IocyxyLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0LGkpKSxpLl9mZWF0dXJlcy5uZWVkU2hhZGVyQ29kZUlubGluaW5nJiYocz1pLmlubGluZVNoYWRlckNvZGUocykpLHN9c3RhdGljIF9BcHBseVByZVByb2Nlc3NpbmcoZSx0LGkpe3ZhciBzLHI7bGV0IG49ZTtjb25zdCBhPXQuZGVmaW5lcyxvPXRoaXMuX1ByZXBhcmVQcmVQcm9jZXNzb3JzKHQsaSk7cmV0dXJuISgocz10LnByb2Nlc3Nvcik9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5wcmVQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihuLGEsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxuPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhuLG8sdCksISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5wb3N0UHJvY2Vzc29yJiYobj10LnByb2Nlc3Nvci5wb3N0UHJvY2Vzc29yKG4sYSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCxpKSksaS5fZmVhdHVyZXMubmVlZFNoYWRlckNvZGVJbmxpbmluZyYmKG49aS5pbmxpbmVTaGFkZXJDb2RlKG4pKSxufXN0YXRpYyBfUHJvY2Vzc0luY2x1ZGVzKGUsdCxpKXtsZXQgcz1yci5leGVjKGUpLHI9bmV3IFN0cmluZyhlKSxuPSExO2Zvcig7cyE9bnVsbDspe2xldCBhPXNbMV07aWYoYS5pbmRleE9mKCJfX2RlY2xfXyIpIT09LTEmJihhPWEucmVwbGFjZSgvX19kZWNsX18vLCIiKSx0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMmJihhPWEucmVwbGFjZSgvVmVydGV4LywiVWJvIiksYT1hLnJlcGxhY2UoL0ZyYWdtZW50LywiVWJvIikpLGE9YSsiRGVjbGFyYXRpb24iKSx0LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2FdKXtsZXQgbz10LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2FdO2lmKHNbMl0pe2NvbnN0IGg9c1szXS5zcGxpdCgiLCIpO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCs9Mil7Y29uc3QgdT1uZXcgUmVnRXhwKGhbbF0sImciKSxkPWhbbCsxXTtvPW8ucmVwbGFjZSh1LGQpfX1pZihzWzRdKXtjb25zdCBoPXNbNV07aWYoaC5pbmRleE9mKCIuLiIpIT09LTEpe2NvbnN0IGw9aC5zcGxpdCgiLi4iKSx1PXBhcnNlSW50KGxbMF0pO2xldCBkPXBhcnNlSW50KGxbMV0pLF89by5zbGljZSgwKTtvPSIiLGlzTmFOKGQpJiYoZD10LmluZGV4UGFyYW1ldGVyc1tsWzFdXSk7Zm9yKGxldCBmPXU7ZjxkO2YrKyl0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChfPV8ucmVwbGFjZSgvbGlnaHRce1hcfS4oXHcqKS9nLChtLHYpPT52KyJ7WH0iKSksbys9Xy5yZXBsYWNlKC9ce1hcfS9nLGYudG9TdHJpbmcoKSkrYApgfWVsc2UgdC5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzfHwobz1vLnJlcGxhY2UoL2xpZ2h0XHtYXH0uKFx3KikvZywobCx1KT0+dSsie1h9IikpLG89by5yZXBsYWNlKC9ce1hcfS9nLGgpfXI9ci5yZXBsYWNlKHNbMF0sbyksbj1ufHxvLmluZGV4T2YoIiNpbmNsdWRlPCIpPj0wfHxvLmluZGV4T2YoIiNpbmNsdWRlIDwiKT49MH1lbHNle2NvbnN0IG89dC5zaGFkZXJzUmVwb3NpdG9yeSsiU2hhZGVyc0luY2x1ZGUvIithKyIuZngiO29pLl9GaWxlVG9vbHNMb2FkRmlsZShvLGg9Pnt0LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2FdPWgsdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKHIsdCxpKX0pO3JldHVybn1zPXJyLmV4ZWMoZSl9bj90aGlzLl9Qcm9jZXNzSW5jbHVkZXMoci50b1N0cmluZygpLHQsaSk6aShyKX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxpLHMscixuKXt0aHJvdyBRKCJGaWxlVG9vbHMiKX19Y2xhc3MgTHtzdGF0aWMgR2V0U2hhZGVyc1JlcG9zaXRvcnkoZT1aZS5HTFNMKXtyZXR1cm4gZT09PVplLkdMU0w/TC5TaGFkZXJzUmVwb3NpdG9yeTpMLlNoYWRlcnNSZXBvc2l0b3J5V0dTTH1zdGF0aWMgR2V0U2hhZGVyc1N0b3JlKGU9WmUuR0xTTCl7cmV0dXJuIGU9PT1aZS5HTFNMP0wuU2hhZGVyc1N0b3JlOkwuU2hhZGVyc1N0b3JlV0dTTH1zdGF0aWMgR2V0SW5jbHVkZXNTaGFkZXJzU3RvcmUoZT1aZS5HTFNMKXtyZXR1cm4gZT09PVplLkdMU0w/TC5JbmNsdWRlc1NoYWRlcnNTdG9yZTpMLkluY2x1ZGVzU2hhZGVyc1N0b3JlV0dTTH19TC5TaGFkZXJzUmVwb3NpdG9yeT0ic3JjL1NoYWRlcnMvIixMLlNoYWRlcnNTdG9yZT17fSxMLkluY2x1ZGVzU2hhZGVyc1N0b3JlPXt9LEwuU2hhZGVyc1JlcG9zaXRvcnlXR1NMPSJzcmMvU2hhZGVyc1dHU0wvIixMLlNoYWRlcnNTdG9yZVdHU0w9e30sTC5JbmNsdWRlc1NoYWRlcnNTdG9yZVdHU0w9e307Y2xhc3MgRGV7c3RhdGljIGdldCBTaGFkZXJzUmVwb3NpdG9yeSgpe3JldHVybiBMLlNoYWRlcnNSZXBvc2l0b3J5fXN0YXRpYyBzZXQgU2hhZGVyc1JlcG9zaXRvcnkoZSl7TC5TaGFkZXJzUmVwb3NpdG9yeT1lfWdldCBvbkJpbmRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX29uQmluZE9ic2VydmFibGV8fCh0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfWNvbnN0cnVjdG9yKGUsdCxpLHM9bnVsbCxyLG49bnVsbCxhPW51bGwsbz1udWxsLGg9bnVsbCxsLHU9IiIsZD1aZS5HTFNMKXt2YXIgXyxmLG07dGhpcy5uYW1lPW51bGwsdGhpcy5kZWZpbmVzPSIiLHRoaXMub25Db21waWxlZD1udWxsLHRoaXMub25FcnJvcj1udWxsLHRoaXMub25CaW5kPW51bGwsdGhpcy51bmlxdWVJZD0wLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uQmluZE9ic2VydmFibGU9bnVsbCx0aGlzLl93YXNQcmV2aW91c2x5UmVhZHk9ITEsdGhpcy5fZm9yY2VSZWJpbmRPbk5leHRDYWxsPSExLHRoaXMuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz1udWxsLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5fYm9uZXNDb21wdXRhdGlvbkZvcmNlZFRvQ1BVPSExLHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXM9e30sdGhpcy5fbXVsdGlUYXJnZXQ9ITEsdGhpcy5fc2FtcGxlcnM9e30sdGhpcy5faXNSZWFkeT0hMSx0aGlzLl9jb21waWxhdGlvbkVycm9yPSIiLHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMSx0aGlzLl91bmlmb3Jtcz17fSx0aGlzLl9rZXk9IiIsdGhpcy5fZmFsbGJhY2tzPW51bGwsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlPSIiLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlPSIiLHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M9bnVsbCx0aGlzLl9waXBlbGluZUNvbnRleHQ9bnVsbCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPSIiLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZT0iIix0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uPSIiLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbj0iIix0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlPSIiLHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZT0iIix0aGlzLm5hbWU9ZSx0aGlzLl9rZXk9dTtsZXQgdixFPW51bGw7aWYodC5hdHRyaWJ1dGVzKXtjb25zdCBJPXQ7aWYodGhpcy5fZW5naW5lPWksdGhpcy5fYXR0cmlidXRlc05hbWVzPUkuYXR0cmlidXRlcyx0aGlzLl91bmlmb3Jtc05hbWVzPUkudW5pZm9ybXNOYW1lcy5jb25jYXQoSS5zYW1wbGVycyksdGhpcy5fc2FtcGxlckxpc3Q9SS5zYW1wbGVycy5zbGljZSgpLHRoaXMuZGVmaW5lcz1JLmRlZmluZXMsdGhpcy5vbkVycm9yPUkub25FcnJvcix0aGlzLm9uQ29tcGlsZWQ9SS5vbkNvbXBpbGVkLHRoaXMuX2ZhbGxiYWNrcz1JLmZhbGxiYWNrcyx0aGlzLl9pbmRleFBhcmFtZXRlcnM9SS5pbmRleFBhcmFtZXRlcnMsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncz1JLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3N8fG51bGwsdGhpcy5fbXVsdGlUYXJnZXQ9ISFJLm11bHRpVGFyZ2V0LHRoaXMuX3NoYWRlckxhbmd1YWdlPShfPUkuc2hhZGVyTGFuZ3VhZ2UpIT09bnVsbCYmXyE9PXZvaWQgMD9fOlplLkdMU0wsSS51bmlmb3JtQnVmZmVyc05hbWVzKXt0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdD1JLnVuaWZvcm1CdWZmZXJzTmFtZXMuc2xpY2UoKTtmb3IobGV0IFU9MDtVPEkudW5pZm9ybUJ1ZmZlcnNOYW1lcy5sZW5ndGg7VSsrKXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbSS51bmlmb3JtQnVmZmVyc05hbWVzW1VdXT1VfUU9KGY9SS5wcm9jZXNzRmluYWxDb2RlKSE9PW51bGwmJmYhPT12b2lkIDA/ZjpudWxsLHY9KG09SS5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMpIT09bnVsbCYmbSE9PXZvaWQgMD9tOnZvaWQgMH1lbHNlIHRoaXMuX2VuZ2luZT1yLHRoaXMuZGVmaW5lcz1uPz8iIix0aGlzLl91bmlmb3Jtc05hbWVzPWkuY29uY2F0KHMpLHRoaXMuX3NhbXBsZXJMaXN0PXM/cy5zbGljZSgpOltdLHRoaXMuX2F0dHJpYnV0ZXNOYW1lcz10LHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNMaXN0PVtdLHRoaXMuX3NoYWRlckxhbmd1YWdlPWQsdGhpcy5vbkVycm9yPWgsdGhpcy5vbkNvbXBpbGVkPW8sdGhpcy5faW5kZXhQYXJhbWV0ZXJzPWwsdGhpcy5fZmFsbGJhY2tzPWE7dGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWU9e30sdGhpcy51bmlxdWVJZD1EZS5fVW5pcXVlSWRTZWVkKys7bGV0IFMsUjtjb25zdCBBPWplKCk/dGhpcy5fZW5naW5lLmdldEhvc3REb2N1bWVudCgpOm51bGw7ZS52ZXJ0ZXhTb3VyY2U/Uz0ic291cmNlOiIrZS52ZXJ0ZXhTb3VyY2U6ZS52ZXJ0ZXhFbGVtZW50PyhTPUE/QS5nZXRFbGVtZW50QnlJZChlLnZlcnRleEVsZW1lbnQpOm51bGwsU3x8KFM9ZS52ZXJ0ZXhFbGVtZW50KSk6Uz1lLnZlcnRleHx8ZSxlLmZyYWdtZW50U291cmNlP1I9InNvdXJjZToiK2UuZnJhZ21lbnRTb3VyY2U6ZS5mcmFnbWVudEVsZW1lbnQ/KFI9QT9BLmdldEVsZW1lbnRCeUlkKGUuZnJhZ21lbnRFbGVtZW50KTpudWxsLFJ8fChSPWUuZnJhZ21lbnRFbGVtZW50KSk6Uj1lLmZyYWdtZW50fHxlLHRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0PXRoaXMuX2VuZ2luZS5fZ2V0U2hhZGVyUHJvY2Vzc2luZ0NvbnRleHQodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpO2xldCBDPXtkZWZpbmVzOnRoaXMuZGVmaW5lcy5zcGxpdChgCmApLGluZGV4UGFyYW1ldGVyczp0aGlzLl9pbmRleFBhcmFtZXRlcnMsaXNGcmFnbWVudDohMSxzaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyOnRoaXMuX2VuZ2luZS5fc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcixwcm9jZXNzb3I6dGhpcy5fZW5naW5lLl9nZXRTaGFkZXJQcm9jZXNzb3IodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpLHN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnM6dGhpcy5fZW5naW5lLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMsc2hhZGVyc1JlcG9zaXRvcnk6TC5HZXRTaGFkZXJzUmVwb3NpdG9yeSh0aGlzLl9zaGFkZXJMYW5ndWFnZSksaW5jbHVkZXNTaGFkZXJzU3RvcmU6TC5HZXRJbmNsdWRlc1NoYWRlcnNTdG9yZSh0aGlzLl9zaGFkZXJMYW5ndWFnZSksdmVyc2lvbjoodGhpcy5fZW5naW5lLnZlcnNpb24qMTAwKS50b1N0cmluZygpLHBsYXRmb3JtTmFtZTp0aGlzLl9lbmdpbmUuc2hhZGVyUGxhdGZvcm1OYW1lLHByb2Nlc3NpbmdDb250ZXh0OnRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0LGlzTkRDSGFsZlpSYW5nZTp0aGlzLl9lbmdpbmUuaXNORENIYWxmWlJhbmdlLHVzZVJldmVyc2VEZXB0aEJ1ZmZlcjp0aGlzLl9lbmdpbmUudXNlUmV2ZXJzZURlcHRoQnVmZmVyLHByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlczp2fTtjb25zdCBiPVt2b2lkIDAsdm9pZCAwXSx4PSgpPT57aWYoYlswXSYmYlsxXSl7Qy5pc0ZyYWdtZW50PSEwO2NvbnN0W0ksVV09YjtvaS5Qcm9jZXNzKFUsQywoayxtZSk9Pnt0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb249bWUsRSYmKGs9RSgiZnJhZ21lbnQiLGspKTtjb25zdCBxPW9pLkZpbmFsaXplKEksayxDKTtDPW51bGwsdGhpcy5fdXNlRmluYWxDb2RlKHEudmVydGV4Q29kZSxxLmZyYWdtZW50Q29kZSxlKX0sdGhpcy5fZW5naW5lKX19O3RoaXMuX2xvYWRTaGFkZXIoUywiVmVydGV4IiwiIixJPT57b2kuSW5pdGlhbGl6ZShDKSxvaS5Qcm9jZXNzKEksQywoVSxrKT0+e3RoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGU9SSx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uPWssRSYmKFU9RSgidmVydGV4IixVKSksYlswXT1VLHgoKX0sdGhpcy5fZW5naW5lKX0pLHRoaXMuX2xvYWRTaGFkZXIoUiwiRnJhZ21lbnQiLCJQaXhlbCIsST0+e3RoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZT1JLGJbMV09SSx4KCl9KX1fdXNlRmluYWxDb2RlKGUsdCxpKXtpZihpKXtjb25zdCBzPWkudmVydGV4RWxlbWVudHx8aS52ZXJ0ZXh8fGkuc3BlY3Rvck5hbWV8fGkscj1pLmZyYWdtZW50RWxlbWVudHx8aS5mcmFnbWVudHx8aS5zcGVjdG9yTmFtZXx8aTt0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPSh0aGlzLl9zaGFkZXJMYW5ndWFnZT09PVplLldHU0w/Ii8vIjoiIikrIiNkZWZpbmUgU0hBREVSX05BTUUgdmVydGV4OiIrcytgCmArZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9KHRoaXMuX3NoYWRlckxhbmd1YWdlPT09WmUuV0dTTD8iLy8iOiIiKSsiI2RlZmluZSBTSEFERVJfTkFNRSBmcmFnbWVudDoiK3IrYApgK3R9ZWxzZSB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPWUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPXQ7dGhpcy5fcHJlcGFyZUVmZmVjdCgpfWdldCBrZXkoKXtyZXR1cm4gdGhpcy5fa2V5fWlzUmVhZHkoKXt0cnl7cmV0dXJuIHRoaXMuX2lzUmVhZHlJbnRlcm5hbCgpfWNhdGNoe3JldHVybiExfX1faXNSZWFkeUludGVybmFsKCl7cmV0dXJuIHRoaXMuX2lzUmVhZHk/ITA6dGhpcy5fcGlwZWxpbmVDb250ZXh0P3RoaXMuX3BpcGVsaW5lQ29udGV4dC5pc1JlYWR5OiExfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0UGlwZWxpbmVDb250ZXh0KCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dH1nZXRBdHRyaWJ1dGVzTmFtZXMoKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc05hbWVzfWdldEF0dHJpYnV0ZUxvY2F0aW9uKGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzW2VdfWdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZVtlXX1nZXRBdHRyaWJ1dGVzQ291bnQoKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlcy5sZW5ndGh9Z2V0VW5pZm9ybUluZGV4KGUpe3JldHVybiB0aGlzLl91bmlmb3Jtc05hbWVzLmluZGV4T2YoZSl9Z2V0VW5pZm9ybShlKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNbZV19Z2V0U2FtcGxlcnMoKXtyZXR1cm4gdGhpcy5fc2FtcGxlckxpc3R9Z2V0VW5pZm9ybU5hbWVzKCl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zTmFtZXN9Z2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcygpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdH1nZXRJbmRleFBhcmFtZXRlcnMoKXtyZXR1cm4gdGhpcy5faW5kZXhQYXJhbWV0ZXJzfWdldENvbXBpbGF0aW9uRXJyb3IoKXtyZXR1cm4gdGhpcy5fY29tcGlsYXRpb25FcnJvcn1hbGxGYWxsYmFja3NQcm9jZXNzZWQoKXtyZXR1cm4gdGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkfWV4ZWN1dGVXaGVuQ29tcGlsZWQoZSl7aWYodGhpcy5pc1JlYWR5KCkpe2UodGhpcyk7cmV0dXJufXRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5hZGQodD0+e2UodCl9KSwoIXRoaXMuX3BpcGVsaW5lQ29udGV4dHx8dGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzQXN5bmMpJiZzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tJc1JlYWR5KG51bGwpfSwxNil9X2NoZWNrSXNSZWFkeShlKXt0cnl7aWYodGhpcy5faXNSZWFkeUludGVybmFsKCkpcmV0dXJufWNhdGNoKHQpe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyh0LGUpO3JldHVybn10aGlzLl9pc0Rpc3Bvc2VkfHxzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tJc1JlYWR5KGUpfSwxNil9X2xvYWRTaGFkZXIoZSx0LGkscyl7aWYodHlwZW9mIEhUTUxFbGVtZW50PCJ1IiYmZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtjb25zdCBhPVRzKGUpO3MoYSk7cmV0dXJufWlmKGUuc3Vic3RyKDAsNyk9PT0ic291cmNlOiIpe3MoZS5zdWJzdHIoNykpO3JldHVybn1pZihlLnN1YnN0cigwLDcpPT09ImJhc2U2NDoiKXtjb25zdCBhPXdpbmRvdy5hdG9iKGUuc3Vic3RyKDcpKTtzKGEpO3JldHVybn1jb25zdCByPUwuR2V0U2hhZGVyc1N0b3JlKHRoaXMuX3NoYWRlckxhbmd1YWdlKTtpZihyW2UrdCsiU2hhZGVyIl0pe3MocltlK3QrIlNoYWRlciJdKTtyZXR1cm59aWYoaSYmcltlK2krIlNoYWRlciJdKXtzKHJbZStpKyJTaGFkZXIiXSk7cmV0dXJufWxldCBuO2VbMF09PT0iLiJ8fGVbMF09PT0iLyJ8fGUuaW5kZXhPZigiaHR0cCIpPi0xP249ZTpuPUwuR2V0U2hhZGVyc1JlcG9zaXRvcnkodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpK2UsdGhpcy5fZW5naW5lLl9sb2FkRmlsZShuKyIuIit0LnRvTG93ZXJDYXNlKCkrIi5meCIscyl9Z2V0IHZlcnRleFNvdXJjZUNvZGUoKXt2YXIgZSx0O3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZToodD0oZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlfWdldCBmcmFnbWVudFNvdXJjZUNvZGUoKXt2YXIgZSx0O3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3RoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlOih0PShlPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlfWdldCB2ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb259Z2V0IGZyYWdtZW50U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbigpe3JldHVybiB0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb259Z2V0IHJhd1ZlcnRleFNvdXJjZUNvZGUoKXtyZXR1cm4gdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZX1nZXQgcmF3RnJhZ21lbnRTb3VyY2VDb2RlKCl7cmV0dXJuIHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZX1fcmVidWlsZFByb2dyYW0oZSx0LGkscyl7dGhpcy5faXNSZWFkeT0hMSx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU9ZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT10LHRoaXMub25FcnJvcj0ocixuKT0+e3MmJnMobil9LHRoaXMub25Db21waWxlZD0oKT0+e2NvbnN0IHI9dGhpcy5nZXRFbmdpbmUoKS5zY2VuZXM7aWYocilmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylyW25dLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDYzKTt0aGlzLl9waXBlbGluZUNvbnRleHQuX2hhbmRsZXNTcGVjdG9yUmVidWlsZENhbGxiYWNrKGkpfSx0aGlzLl9mYWxsYmFja3M9bnVsbCx0aGlzLl9wcmVwYXJlRWZmZWN0KCl9X3ByZXBhcmVFZmZlY3QoKXtjb25zdCBlPXRoaXMuX2F0dHJpYnV0ZXNOYW1lcyx0PXRoaXMuZGVmaW5lcyxpPXRoaXMuX3BpcGVsaW5lQ29udGV4dDt0aGlzLl9pc1JlYWR5PSExO3RyeXtjb25zdCBzPXRoaXMuX2VuZ2luZTt0aGlzLl9waXBlbGluZUNvbnRleHQ9cy5jcmVhdGVQaXBlbGluZUNvbnRleHQodGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQpLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fbmFtZT10aGlzLl9rZXk7Y29uc3Qgcj10aGlzLl9yZWJ1aWxkUHJvZ3JhbS5iaW5kKHRoaXMpO3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/cy5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlLCEwLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlLHIsbnVsbCx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLHRoaXMuX2tleSk6cy5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGUsITEsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZSx0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGUscix0LHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MsdGhpcy5fa2V5KSxzLl9leGVjdXRlV2hlblJlbmRlcmluZ1N0YXRlSXNDb21waWxlZCh0aGlzLl9waXBlbGluZUNvbnRleHQsKCk9PntpZih0aGlzLl9hdHRyaWJ1dGVzPVtdLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fZmlsbEVmZmVjdEluZm9ybWF0aW9uKHRoaXMsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lcyx0aGlzLl91bmlmb3Jtc05hbWVzLHRoaXMuX3VuaWZvcm1zLHRoaXMuX3NhbXBsZXJMaXN0LHRoaXMuX3NhbXBsZXJzLGUsdGhpcy5fYXR0cmlidXRlcyksZSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgYT1lW25dO3RoaXMuX2F0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lW2FdPXRoaXMuX2F0dHJpYnV0ZXNbbl19cy5iaW5kU2FtcGxlcnModGhpcyksdGhpcy5fY29tcGlsYXRpb25FcnJvcj0iIix0aGlzLl9pc1JlYWR5PSEwLHRoaXMub25Db21waWxlZCYmdGhpcy5vbkNvbXBpbGVkKHRoaXMpLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZmFsbGJhY2tzJiZ0aGlzLl9mYWxsYmFja3MudW5CaW5kTWVzaCgpLGkmJnRoaXMuZ2V0RW5naW5lKCkuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dChpKX0pLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5pc0FzeW5jJiZ0aGlzLl9jaGVja0lzUmVhZHkoaSl9Y2F0Y2gocyl7dGhpcy5fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzKHMsaSl9fV9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKGUsdCxpKXtjb25zdCBzPWk/L0ZSQUdNRU5UIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LzovVkVSVEVYIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LztsZXQgcj1udWxsO2lmKHQmJmUpe2NvbnN0IG49dC5tYXRjaChzKTtpZihuJiZuLmxlbmd0aD09PTIpe2NvbnN0IGE9cGFyc2VJbnQoblsxXSksbz1lLnNwbGl0KGAKYCwtMSk7by5sZW5ndGg+PWEmJihyPWBPZmZlbmRpbmcgbGluZSBbJHthfV0gaW4gJHtpPyJmcmFnbWVudCI6InZlcnRleCJ9IGNvZGU6ICR7b1thLTFdfWApfX1yZXR1cm5bZSxyXX1fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzKGUsdD1udWxsKXt2YXIgaSxzLHI7dGhpcy5fY29tcGlsYXRpb25FcnJvcj1lLm1lc3NhZ2U7Y29uc3Qgbj10aGlzLl9hdHRyaWJ1dGVzTmFtZXMsYT10aGlzLl9mYWxsYmFja3M7aWYoTy5FcnJvcigiVW5hYmxlIHRvIGNvbXBpbGUgZWZmZWN0OiIpLE8uRXJyb3IoIlVuaWZvcm1zOiAiK3RoaXMuX3VuaWZvcm1zTmFtZXMubWFwKGZ1bmN0aW9uKGgpe3JldHVybiIgIitofSkpLE8uRXJyb3IoIkF0dHJpYnV0ZXM6ICIrbi5tYXAoZnVuY3Rpb24oaCl7cmV0dXJuIiAiK2h9KSksTy5FcnJvcihgRGVmaW5lczpccgpgK3RoaXMuZGVmaW5lcyksRGUuTG9nU2hhZGVyQ29kZU9uQ29tcGlsYXRpb25FcnJvcil7bGV0IGg9bnVsbCxsPW51bGwsdT1udWxsOyEoKGk9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGk9PT12b2lkIDApJiZpLl9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCkmJihbdSxoXT10aGlzLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IsITEpLHUmJihPLkVycm9yKCJWZXJ0ZXggY29kZToiKSxPLkVycm9yKHUpKSksISgocz10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpJiYoW3UsbF09dGhpcy5fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZSgocj10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCksdGhpcy5fY29tcGlsYXRpb25FcnJvciwhMCksdSYmKE8uRXJyb3IoIkZyYWdtZW50IGNvZGU6IiksTy5FcnJvcih1KSkpLGgmJk8uRXJyb3IoaCksbCYmTy5FcnJvcihsKX1PLkVycm9yKCJFcnJvcjogIit0aGlzLl9jb21waWxhdGlvbkVycm9yKTtjb25zdCBvPSgpPT57dGhpcy5vbkVycm9yJiZ0aGlzLm9uRXJyb3IodGhpcyx0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX07dCYmKHRoaXMuX3BpcGVsaW5lQ29udGV4dD10LHRoaXMuX2lzUmVhZHk9ITAsbygpKSxhPyh0aGlzLl9waXBlbGluZUNvbnRleHQ9bnVsbCxhLmhhc01vcmVGYWxsYmFja3M/KHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMSxPLkVycm9yKCJUcnlpbmcgbmV4dCBmYWxsYmFjay4iKSx0aGlzLmRlZmluZXM9YS5yZWR1Y2UodGhpcy5kZWZpbmVzLHRoaXMpLHRoaXMuX3ByZXBhcmVFZmZlY3QoKSk6KHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMCxvKCksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2ZhbGxiYWNrcyYmdGhpcy5fZmFsbGJhY2tzLnVuQmluZE1lc2goKSkpOih0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITAsdHx8bygpKX1nZXQgaXNTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5fY29tcGlsYXRpb25FcnJvcj09PSIifV9iaW5kVGV4dHVyZShlLHQpe3RoaXMuX2VuZ2luZS5fYmluZFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdCxlKX1zZXRUZXh0dXJlKGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX1zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCl7dGhpcy5fZW5naW5lLnNldERlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX1zZXRUZXh0dXJlQXJyYXkoZSx0KXtjb25zdCBpPWUrIkV4IjtpZih0aGlzLl9zYW1wbGVyTGlzdC5pbmRleE9mKGkrIjAiKT09PS0xKXtjb25zdCBzPXRoaXMuX3NhbXBsZXJMaXN0LmluZGV4T2YoZSk7Zm9yKGxldCBuPTE7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGE9aSsobi0xKS50b1N0cmluZygpO3RoaXMuX3NhbXBsZXJMaXN0LnNwbGljZShzK24sMCxhKX1sZXQgcj0wO2Zvcihjb25zdCBuIG9mIHRoaXMuX3NhbXBsZXJMaXN0KXRoaXMuX3NhbXBsZXJzW25dPXIscis9MX10aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUFycmF5KHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2VzcyhlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzKHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dChlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzT3V0cHV0KHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9YmluZFVuaWZvcm1CdWZmZXIoZSx0KXtjb25zdCBpPXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbdF07aT09PXZvaWQgMHx8RGUuX0Jhc2VDYWNoZVtpXT09PWUmJnRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudXNlVUJPQmluZGluZ0NhY2hlfHwoRGUuX0Jhc2VDYWNoZVtpXT1lLHRoaXMuX2VuZ2luZS5iaW5kVW5pZm9ybUJ1ZmZlckJhc2UoZSxpLHQpKX1iaW5kVW5pZm9ybUJsb2NrKGUsdCl7dGhpcy5fZW5naW5lLmJpbmRVbmlmb3JtQmxvY2sodGhpcy5fcGlwZWxpbmVDb250ZXh0LGUsdCl9c2V0SW50KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQoZSx0KSx0aGlzfXNldEludDIoZSx0LGkpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50MihlLHQsaSksdGhpc31zZXRJbnQzKGUsdCxpLHMpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50MyhlLHQsaSxzKSx0aGlzfXNldEludDQoZSx0LGkscyxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludDQoZSx0LGkscyxyKSx0aGlzfXNldEludEFycmF5KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheShlLHQpLHRoaXN9c2V0SW50QXJyYXkyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheTIoZSx0KSx0aGlzfXNldEludEFycmF5MyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXkzKGUsdCksdGhpc31zZXRJbnRBcnJheTQoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5NChlLHQpLHRoaXN9c2V0VUludChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50KGUsdCksdGhpc31zZXRVSW50MihlLHQsaSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQyKGUsdCxpKSx0aGlzfXNldFVJbnQzKGUsdCxpLHMpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50MyhlLHQsaSxzKSx0aGlzfXNldFVJbnQ0KGUsdCxpLHMscil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQ0KGUsdCxpLHMsciksdGhpc31zZXRVSW50QXJyYXkoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldFVJbnRBcnJheShlLHQpLHRoaXN9c2V0VUludEFycmF5MihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VUludEFycmF5MihlLHQpLHRoaXN9c2V0VUludEFycmF5MyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VUludEFycmF5MyhlLHQpLHRoaXN9c2V0VUludEFycmF5NChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VUludEFycmF5NChlLHQpLHRoaXN9c2V0RmxvYXRBcnJheShlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkoZSx0KSx0aGlzfXNldEZsb2F0QXJyYXkyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTIoZSx0KSx0aGlzfXNldEZsb2F0QXJyYXkzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTMoZSx0KSx0aGlzfXNldEZsb2F0QXJyYXk0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTQoZSx0KSx0aGlzfXNldEFycmF5KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheShlLHQpLHRoaXN9c2V0QXJyYXkyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTIoZSx0KSx0aGlzfXNldEFycmF5MyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkzKGUsdCksdGhpc31zZXRBcnJheTQoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5NChlLHQpLHRoaXN9c2V0TWF0cmljZXMoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpY2VzKGUsdCksdGhpc31zZXRNYXRyaXgoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpeChlLHQpLHRoaXN9c2V0TWF0cml4M3gzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaXgzeDMoZSx0KSx0aGlzfXNldE1hdHJpeDJ4MihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cml4MngyKGUsdCksdGhpc31zZXRGbG9hdChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RmxvYXQoZSx0KSx0aGlzfXNldEJvb2woZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludChlLHQ/MTowKSx0aGlzfXNldFZlY3RvcjIoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldFZlY3RvcjIoZSx0KSx0aGlzfXNldEZsb2F0MihlLHQsaSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDIoZSx0LGkpLHRoaXN9c2V0VmVjdG9yMyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yMyhlLHQpLHRoaXN9c2V0RmxvYXQzKGUsdCxpLHMpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RmxvYXQzKGUsdCxpLHMpLHRoaXN9c2V0VmVjdG9yNChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yNChlLHQpLHRoaXN9c2V0UXVhdGVybmlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0UXVhdGVybmlvbihlLHQpLHRoaXN9c2V0RmxvYXQ0KGUsdCxpLHMscil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDQoZSx0LGkscyxyKSx0aGlzfXNldENvbG9yMyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0Q29sb3IzKGUsdCksdGhpc31zZXRDb2xvcjQoZSx0LGkpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0Q29sb3I0KGUsdCxpKSx0aGlzfXNldERpcmVjdENvbG9yNChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RGlyZWN0Q29sb3I0KGUsdCksdGhpc31kaXNwb3NlKCl7dGhpcy5fcGlwZWxpbmVDb250ZXh0JiZ0aGlzLl9waXBlbGluZUNvbnRleHQuZGlzcG9zZSgpLHRoaXMuX2VuZ2luZS5fcmVsZWFzZUVmZmVjdCh0aGlzKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfXN0YXRpYyBSZWdpc3RlclNoYWRlcihlLHQsaSxzPVplLkdMU0wpe3QmJihMLkdldFNoYWRlcnNTdG9yZShzKVtgJHtlfVBpeGVsU2hhZGVyYF09dCksaSYmKEwuR2V0U2hhZGVyc1N0b3JlKHMpW2Ake2V9VmVydGV4U2hhZGVyYF09aSl9c3RhdGljIFJlc2V0Q2FjaGUoKXtEZS5fQmFzZUNhY2hlPXt9fX1EZS5Mb2dTaGFkZXJDb2RlT25Db21waWxhdGlvbkVycm9yPSEwLERlLl9VbmlxdWVJZFNlZWQ9MCxEZS5fQmFzZUNhY2hlPXt9LERlLlNoYWRlcnNTdG9yZT1MLlNoYWRlcnNTdG9yZSxEZS5JbmNsdWRlc1NoYWRlcnNTdG9yZT1MLkluY2x1ZGVzU2hhZGVyc1N0b3JlO2NsYXNzIGxue2NvbnN0cnVjdG9yKGU9ITApe3RoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITEsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExLGUmJnRoaXMucmVzZXQoKX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc0RlcHRoRnVuY0RpcnR5fHx0aGlzLl9pc0RlcHRoVGVzdERpcnR5fHx0aGlzLl9pc0RlcHRoTWFza0RpcnR5fHx0aGlzLl9pc0N1bGxGYWNlRGlydHl8fHRoaXMuX2lzQ3VsbERpcnR5fHx0aGlzLl9pc1pPZmZzZXREaXJ0eXx8dGhpcy5faXNGcm9udEZhY2VEaXJ0eX1nZXQgek9mZnNldCgpe3JldHVybiB0aGlzLl96T2Zmc2V0fXNldCB6T2Zmc2V0KGUpe3RoaXMuX3pPZmZzZXQhPT1lJiYodGhpcy5fek9mZnNldD1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX1nZXQgek9mZnNldFVuaXRzKCl7cmV0dXJuIHRoaXMuX3pPZmZzZXRVbml0c31zZXQgek9mZnNldFVuaXRzKGUpe3RoaXMuX3pPZmZzZXRVbml0cyE9PWUmJih0aGlzLl96T2Zmc2V0VW5pdHM9ZSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCl9Z2V0IGN1bGxGYWNlKCl7cmV0dXJuIHRoaXMuX2N1bGxGYWNlfXNldCBjdWxsRmFjZShlKXt0aGlzLl9jdWxsRmFjZSE9PWUmJih0aGlzLl9jdWxsRmFjZT1lLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMCl9Z2V0IGN1bGwoKXtyZXR1cm4gdGhpcy5fY3VsbH1zZXQgY3VsbChlKXt0aGlzLl9jdWxsIT09ZSYmKHRoaXMuX2N1bGw9ZSx0aGlzLl9pc0N1bGxEaXJ0eT0hMCl9Z2V0IGRlcHRoRnVuYygpe3JldHVybiB0aGlzLl9kZXB0aEZ1bmN9c2V0IGRlcHRoRnVuYyhlKXt0aGlzLl9kZXB0aEZ1bmMhPT1lJiYodGhpcy5fZGVwdGhGdW5jPWUsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMCl9Z2V0IGRlcHRoTWFzaygpe3JldHVybiB0aGlzLl9kZXB0aE1hc2t9c2V0IGRlcHRoTWFzayhlKXt0aGlzLl9kZXB0aE1hc2shPT1lJiYodGhpcy5fZGVwdGhNYXNrPWUsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCl9Z2V0IGRlcHRoVGVzdCgpe3JldHVybiB0aGlzLl9kZXB0aFRlc3R9c2V0IGRlcHRoVGVzdChlKXt0aGlzLl9kZXB0aFRlc3QhPT1lJiYodGhpcy5fZGVwdGhUZXN0PWUsdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMCl9Z2V0IGZyb250RmFjZSgpe3JldHVybiB0aGlzLl9mcm9udEZhY2V9c2V0IGZyb250RmFjZShlKXt0aGlzLl9mcm9udEZhY2UhPT1lJiYodGhpcy5fZnJvbnRGYWNlPWUsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMCl9cmVzZXQoKXt0aGlzLl9kZXB0aE1hc2s9ITAsdGhpcy5fZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoRnVuYz1udWxsLHRoaXMuX2N1bGxGYWNlPW51bGwsdGhpcy5fY3VsbD1udWxsLHRoaXMuX3pPZmZzZXQ9MCx0aGlzLl96T2Zmc2V0VW5pdHM9MCx0aGlzLl9mcm9udEZhY2U9bnVsbCx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSEwLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITAsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEsdGhpcy5faXNDdWxsRGlydHk9ITEsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITAsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMX1hcHBseShlKXt0aGlzLmlzRGlydHkmJih0aGlzLl9pc0N1bGxEaXJ0eSYmKHRoaXMuY3VsbD9lLmVuYWJsZShlLkNVTExfRkFDRSk6ZS5kaXNhYmxlKGUuQ1VMTF9GQUNFKSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSksdGhpcy5faXNDdWxsRmFjZURpcnR5JiYoZS5jdWxsRmFjZSh0aGlzLmN1bGxGYWNlKSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEpLHRoaXMuX2lzRGVwdGhNYXNrRGlydHkmJihlLmRlcHRoTWFzayh0aGlzLmRlcHRoTWFzayksdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSksdGhpcy5faXNEZXB0aFRlc3REaXJ0eSYmKHRoaXMuZGVwdGhUZXN0P2UuZW5hYmxlKGUuREVQVEhfVEVTVCk6ZS5kaXNhYmxlKGUuREVQVEhfVEVTVCksdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSksdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eSYmKGUuZGVwdGhGdW5jKHRoaXMuZGVwdGhGdW5jKSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExKSx0aGlzLl9pc1pPZmZzZXREaXJ0eSYmKHRoaXMuek9mZnNldHx8dGhpcy56T2Zmc2V0VW5pdHM/KGUuZW5hYmxlKGUuUE9MWUdPTl9PRkZTRVRfRklMTCksZS5wb2x5Z29uT2Zmc2V0KHRoaXMuek9mZnNldCx0aGlzLnpPZmZzZXRVbml0cykpOmUuZGlzYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLHRoaXMuX2lzWk9mZnNldERpcnR5PSExKSx0aGlzLl9pc0Zyb250RmFjZURpcnR5JiYoZS5mcm9udEZhY2UodGhpcy5mcm9udEZhY2UpLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEpKX19Y2xhc3MgTnR7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5tYXNrPTI1NSx0aGlzLmZ1bmM9TnQuQUxXQVlTLHRoaXMuZnVuY1JlZj0xLHRoaXMuZnVuY01hc2s9MjU1LHRoaXMub3BTdGVuY2lsRmFpbD1OdC5LRUVQLHRoaXMub3BEZXB0aEZhaWw9TnQuS0VFUCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz1OdC5SRVBMQUNFfWdldCBzdGVuY2lsRnVuYygpe3JldHVybiB0aGlzLmZ1bmN9c2V0IHN0ZW5jaWxGdW5jKGUpe3RoaXMuZnVuYz1lfWdldCBzdGVuY2lsRnVuY1JlZigpe3JldHVybiB0aGlzLmZ1bmNSZWZ9c2V0IHN0ZW5jaWxGdW5jUmVmKGUpe3RoaXMuZnVuY1JlZj1lfWdldCBzdGVuY2lsRnVuY01hc2soKXtyZXR1cm4gdGhpcy5mdW5jTWFza31zZXQgc3RlbmNpbEZ1bmNNYXNrKGUpe3RoaXMuZnVuY01hc2s9ZX1nZXQgc3RlbmNpbE9wU3RlbmNpbEZhaWwoKXtyZXR1cm4gdGhpcy5vcFN0ZW5jaWxGYWlsfXNldCBzdGVuY2lsT3BTdGVuY2lsRmFpbChlKXt0aGlzLm9wU3RlbmNpbEZhaWw9ZX1nZXQgc3RlbmNpbE9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMub3BEZXB0aEZhaWx9c2V0IHN0ZW5jaWxPcERlcHRoRmFpbChlKXt0aGlzLm9wRGVwdGhGYWlsPWV9Z2V0IHN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3N9c2V0IHN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9ZX1nZXQgc3RlbmNpbE1hc2soKXtyZXR1cm4gdGhpcy5tYXNrfXNldCBzdGVuY2lsTWFzayhlKXt0aGlzLm1hc2s9ZX1nZXQgc3RlbmNpbFRlc3QoKXtyZXR1cm4gdGhpcy5lbmFibGVkfXNldCBzdGVuY2lsVGVzdChlKXt0aGlzLmVuYWJsZWQ9ZX19TnQuQUxXQVlTPTUxOSxOdC5LRUVQPTc2ODAsTnQuUkVQTEFDRT03NjgxO2NsYXNzIGNue2NvbnN0cnVjdG9yKCl7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnM9bmV3IEFycmF5KDQpLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzPW5ldyBBcnJheSgyKSx0aGlzLl9ibGVuZENvbnN0YW50cz1uZXcgQXJyYXkoNCksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExLHRoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEsdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLnJlc2V0KCl9Z2V0IGlzRGlydHkoKXtyZXR1cm4gdGhpcy5faXNBbHBoYUJsZW5kRGlydHl8fHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eXx8dGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5fWdldCBhbHBoYUJsZW5kKCl7cmV0dXJuIHRoaXMuX2FscGhhQmxlbmR9c2V0IGFscGhhQmxlbmQoZSl7dGhpcy5fYWxwaGFCbGVuZCE9PWUmJih0aGlzLl9hbHBoYUJsZW5kPWUsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITApfXNldEFscGhhQmxlbmRDb25zdGFudHMoZSx0LGkscyl7dGhpcy5fYmxlbmRDb25zdGFudHNbMF09PT1lJiZ0aGlzLl9ibGVuZENvbnN0YW50c1sxXT09PXQmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPT09aSYmdGhpcy5fYmxlbmRDb25zdGFudHNbM109PT1zfHwodGhpcy5fYmxlbmRDb25zdGFudHNbMF09ZSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT10LHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPWksdGhpcy5fYmxlbmRDb25zdGFudHNbM109cyx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITApfXNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnMoZSx0LGkscyl7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09PT1lJiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT09PXQmJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPT09aSYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109PT1zfHwodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09ZSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT10LHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPWksdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109cyx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITApfXNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKGUsdCl7dGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF09PT1lJiZ0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXT09PXR8fCh0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1lLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPXQsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSEwKX1yZXNldCgpe3RoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109bnVsbCx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMF09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bnVsbCx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMX1hcHBseShlKXt0aGlzLmlzRGlydHkmJih0aGlzLl9pc0FscGhhQmxlbmREaXJ0eSYmKHRoaXMuX2FscGhhQmxlbmQ/ZS5lbmFibGUoZS5CTEVORCk6ZS5kaXNhYmxlKGUuQkxFTkQpLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSExKSx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHkmJihlLmJsZW5kRnVuY1NlcGFyYXRlKHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdKSx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eSYmKGUuYmxlbmRFcXVhdGlvblNlcGFyYXRlKHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdKSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eSYmKGUuYmxlbmRDb2xvcih0aGlzLl9ibGVuZENvbnN0YW50c1swXSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXSx0aGlzLl9ibGVuZENvbnN0YW50c1syXSx0aGlzLl9ibGVuZENvbnN0YW50c1szXSksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExKSl9fWNsYXNzIHVue2NvbnN0cnVjdG9yKCl7dGhpcy5zaGFkZXJMYW5ndWFnZT1aZS5HTFNMfXBvc3RQcm9jZXNzb3IoZSx0LGkscyxyKXtpZighci5nZXRDYXBzKCkuZHJhd0J1ZmZlcnNFeHRlbnNpb24pe2NvbnN0IG49LyNleHRlbnNpb24uK0dMX0VYVF9kcmF3X2J1ZmZlcnMuKyhlbmFibGV8cmVxdWlyZSkvZztlPWUucmVwbGFjZShuLCIiKX1yZXR1cm4gZX19Y2xhc3MgZG57Y29uc3RydWN0b3IoKXt0aGlzLnNoYWRlckxhbmd1YWdlPVplLkdMU0x9YXR0cmlidXRlUHJvY2Vzc29yKGUpe3JldHVybiBlLnJlcGxhY2UoImF0dHJpYnV0ZSIsImluIil9dmFyeWluZ1Byb2Nlc3NvcihlLHQpe3JldHVybiBlLnJlcGxhY2UoInZhcnlpbmciLHQ/ImluIjoib3V0Iil9cG9zdFByb2Nlc3NvcihlLHQsaSl7Y29uc3Qgcz1lLnNlYXJjaCgvI2V4dGVuc2lvbi4rR0xfRVhUX2RyYXdfYnVmZmVycy4rcmVxdWlyZS8pIT09LTEscj0vI2V4dGVuc2lvbi4rKEdMX09WUl9tdWx0aXZpZXcyfEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc3xHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kfEdMX0VYVF9mcmFnX2RlcHRofEdMX0VYVF9kcmF3X2J1ZmZlcnMpLisoZW5hYmxlfHJlcXVpcmUpL2c7aWYoZT1lLnJlcGxhY2UociwiIiksZT1lLnJlcGxhY2UoL3RleHR1cmUyRFxzKlwoL2csInRleHR1cmUoIiksaSllPWUucmVwbGFjZSgvdGV4dHVyZTJETG9kRVhUXHMqXCgvZywidGV4dHVyZUxvZCgiKSxlPWUucmVwbGFjZSgvdGV4dHVyZUN1YmVMb2RFWFRccypcKC9nLCJ0ZXh0dXJlTG9kKCIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlQ3ViZVxzKlwoL2csInRleHR1cmUoIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdEZXB0aEVYVC9nLCJnbF9GcmFnRGVwdGgiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0NvbG9yL2csImdsRnJhZ0NvbG9yIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdEYXRhL2csImdsRnJhZ0RhdGEiKSxlPWUucmVwbGFjZSgvdm9pZFxzKz9tYWluXHMqXCgvZywocz8iIjpgbGF5b3V0KGxvY2F0aW9uID0gMCkgb3V0IHZlYzQgZ2xGcmFnQ29sb3I7CmApKyJ2b2lkIG1haW4oIik7ZWxzZSBpZih0LmluZGV4T2YoIiNkZWZpbmUgTVVMVElWSUVXIikhPT0tMSlyZXR1cm5gI2V4dGVuc2lvbiBHTF9PVlJfbXVsdGl2aWV3MiA6IHJlcXVpcmUKbGF5b3V0IChudW1fdmlld3MgPSAyKSBpbjsKYCtlO3JldHVybiBlfX1jbGFzcyBPaXtnZXQgdW5kZXJseWluZ1Jlc291cmNlKCl7cmV0dXJuIG51bGx9Y29uc3RydWN0b3IoKXt0aGlzLnJlZmVyZW5jZXM9MCx0aGlzLmNhcGFjaXR5PTAsdGhpcy5pczMyQml0cz0hMSx0aGlzLnVuaXF1ZUlkPU9pLl9Db3VudGVyKyt9fU9pLl9Db3VudGVyPTA7Y2xhc3MgTGkgZXh0ZW5kcyBPaXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX2J1ZmZlcj1lfWdldCB1bmRlcmx5aW5nUmVzb3VyY2UoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfX1jbGFzcyBmbntjb25zdHJ1Y3Rvcigpe3RoaXMuX3ZhbHVlQ2FjaGU9e30sdGhpcy52ZXJ0ZXhDb21waWxhdGlvbkVycm9yPW51bGwsdGhpcy5mcmFnbWVudENvbXBpbGF0aW9uRXJyb3I9bnVsbCx0aGlzLnByb2dyYW1MaW5rRXJyb3I9bnVsbCx0aGlzLnByb2dyYW1WYWxpZGF0aW9uRXJyb3I9bnVsbH1nZXQgaXNBc3luYygpe3JldHVybiB0aGlzLmlzUGFyYWxsZWxDb21waWxlZH1nZXQgaXNSZWFkeSgpe3JldHVybiB0aGlzLnByb2dyYW0/dGhpcy5pc1BhcmFsbGVsQ29tcGlsZWQ/dGhpcy5lbmdpbmUuX2lzUmVuZGVyaW5nU3RhdGVDb21waWxlZCh0aGlzKTohMDohMX1faGFuZGxlc1NwZWN0b3JSZWJ1aWxkQ2FsbGJhY2soZSl7ZSYmdGhpcy5wcm9ncmFtJiZlKHRoaXMucHJvZ3JhbSl9X2ZpbGxFZmZlY3RJbmZvcm1hdGlvbihlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9dGhpcy5lbmdpbmU7aWYoaC5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzKWZvcihjb25zdCBkIGluIHQpZS5iaW5kVW5pZm9ybUJsb2NrKGQsdFtkXSk7dGhpcy5lbmdpbmUuZ2V0VW5pZm9ybXModGhpcyxpKS5mb3JFYWNoKChkLF8pPT57c1tpW19dXT1kfSksdGhpcy5fdW5pZm9ybXM9cztsZXQgdTtmb3IodT0wO3U8ci5sZW5ndGg7dSsrKWUuZ2V0VW5pZm9ybShyW3VdKT09bnVsbCYmKHIuc3BsaWNlKHUsMSksdS0tKTtyLmZvckVhY2goKGQsXyk9PntuW2RdPV99KTtmb3IoY29uc3QgZCBvZiBoLmdldEF0dHJpYnV0ZXModGhpcyxhKSlvLnB1c2goZCl9ZGlzcG9zZSgpe3RoaXMuX3VuaWZvcm1zPXt9fV9jYWNoZU1hdHJpeChlLHQpe2NvbnN0IGk9dGhpcy5fdmFsdWVDYWNoZVtlXSxzPXQudXBkYXRlRmxhZztyZXR1cm4gaSE9PXZvaWQgMCYmaT09PXM/ITE6KHRoaXMuX3ZhbHVlQ2FjaGVbZV09cywhMCl9X2NhY2hlRmxvYXQyKGUsdCxpKXtsZXQgcz10aGlzLl92YWx1ZUNhY2hlW2VdO2lmKCFzfHxzLmxlbmd0aCE9PTIpcmV0dXJuIHM9W3QsaV0sdGhpcy5fdmFsdWVDYWNoZVtlXT1zLCEwO2xldCByPSExO3JldHVybiBzWzBdIT09dCYmKHNbMF09dCxyPSEwKSxzWzFdIT09aSYmKHNbMV09aSxyPSEwKSxyfV9jYWNoZUZsb2F0MyhlLHQsaSxzKXtsZXQgcj10aGlzLl92YWx1ZUNhY2hlW2VdO2lmKCFyfHxyLmxlbmd0aCE9PTMpcmV0dXJuIHI9W3QsaSxzXSx0aGlzLl92YWx1ZUNhY2hlW2VdPXIsITA7bGV0IG49ITE7cmV0dXJuIHJbMF0hPT10JiYoclswXT10LG49ITApLHJbMV0hPT1pJiYoclsxXT1pLG49ITApLHJbMl0hPT1zJiYoclsyXT1zLG49ITApLG59X2NhY2hlRmxvYXQ0KGUsdCxpLHMscil7bGV0IG49dGhpcy5fdmFsdWVDYWNoZVtlXTtpZighbnx8bi5sZW5ndGghPT00KXJldHVybiBuPVt0LGkscyxyXSx0aGlzLl92YWx1ZUNhY2hlW2VdPW4sITA7bGV0IGE9ITE7cmV0dXJuIG5bMF0hPT10JiYoblswXT10LGE9ITApLG5bMV0hPT1pJiYoblsxXT1pLGE9ITApLG5bMl0hPT1zJiYoblsyXT1zLGE9ITApLG5bM10hPT1yJiYoblszXT1yLGE9ITApLGF9c2V0SW50KGUsdCl7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdO2khPT12b2lkIDAmJmk9PT10fHx0aGlzLmVuZ2luZS5zZXRJbnQodGhpcy5fdW5pZm9ybXNbZV0sdCkmJih0aGlzLl92YWx1ZUNhY2hlW2VdPXQpfXNldEludDIoZSx0LGkpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdCxpKSYmKHRoaXMuZW5naW5lLnNldEludDIodGhpcy5fdW5pZm9ybXNbZV0sdCxpKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEludDMoZSx0LGkscyl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LGkscykmJih0aGlzLmVuZ2luZS5zZXRJbnQzKHRoaXMuX3VuaWZvcm1zW2VdLHQsaSxzKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEludDQoZSx0LGkscyxyKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQsaSxzLHIpJiYodGhpcy5lbmdpbmUuc2V0SW50NCh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyxyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEludEFycmF5KGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5KHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEludEFycmF5MihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRJbnRBcnJheTIodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0SW50QXJyYXkzKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRJbnRBcnJheTQoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXk0KHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldFVJbnQoZSx0KXtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aSE9PXZvaWQgMCYmaT09PXR8fHRoaXMuZW5naW5lLnNldFVJbnQodGhpcy5fdW5pZm9ybXNbZV0sdCkmJih0aGlzLl92YWx1ZUNhY2hlW2VdPXQpfXNldFVJbnQyKGUsdCxpKXt0aGlzLl9jYWNoZUZsb2F0MihlLHQsaSkmJih0aGlzLmVuZ2luZS5zZXRVSW50Mih0aGlzLl91bmlmb3Jtc1tlXSx0LGkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0VUludDMoZSx0LGkscyl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LGkscykmJih0aGlzLmVuZ2luZS5zZXRVSW50Myh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRVSW50NChlLHQsaSxzLHIpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdCxpLHMscikmJih0aGlzLmVuZ2luZS5zZXRVSW50NCh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyxyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldFVJbnRBcnJheShlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRVSW50QXJyYXkodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0VUludEFycmF5MihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRVSW50QXJyYXkyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldFVJbnRBcnJheTMoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0VUludEFycmF5Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRVSW50QXJyYXk0KGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldFVJbnRBcnJheTQodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0QXJyYXkoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXkodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0QXJyYXkyKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5Mih0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRBcnJheTMoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXkzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEFycmF5NChlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheTQodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0TWF0cmljZXMoZSx0KXt0JiYodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpY2VzKHRoaXMuX3VuaWZvcm1zW2VdLHQpKX1zZXRNYXRyaXgoZSx0KXt0aGlzLl9jYWNoZU1hdHJpeChlLHQpJiYodGhpcy5lbmdpbmUuc2V0TWF0cmljZXModGhpcy5fdW5pZm9ybXNbZV0sdC50b0FycmF5KCkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0TWF0cml4M3gzKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpeDN4Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRNYXRyaXgyeDIoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cml4MngyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEZsb2F0KGUsdCl7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdO2khPT12b2lkIDAmJmk9PT10fHx0aGlzLmVuZ2luZS5zZXRGbG9hdCh0aGlzLl91bmlmb3Jtc1tlXSx0KSYmKHRoaXMuX3ZhbHVlQ2FjaGVbZV09dCl9c2V0VmVjdG9yMihlLHQpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdC54LHQueSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDIodGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRGbG9hdDIoZSx0LGkpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdCxpKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Mih0aGlzLl91bmlmb3Jtc1tlXSx0LGkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0VmVjdG9yMyhlLHQpe3RoaXMuX2NhY2hlRmxvYXQzKGUsdC54LHQueSx0LnopJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQzKHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEZsb2F0MyhlLHQsaSxzKXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQsaSxzKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Myh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRWZWN0b3I0KGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LngsdC55LHQueix0LncpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56LHQudyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRRdWF0ZXJuaW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LngsdC55LHQueix0LncpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56LHQudyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRGbG9hdDQoZSx0LGkscyxyKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQsaSxzLHIpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQsaSxzLHIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0Q29sb3IzKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LnIsdC5nLHQuYikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDModGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0Q29sb3I0KGUsdCxpKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQucix0LmcsdC5iLGkpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQucix0LmcsdC5iLGkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0RGlyZWN0Q29sb3I0KGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LnIsdC5nLHQuYix0LmEpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQucix0LmcsdC5iLHQuYSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1fZ2V0VmVydGV4U2hhZGVyQ29kZSgpe3JldHVybiB0aGlzLnZlcnRleFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMudmVydGV4U2hhZGVyKTpudWxsfV9nZXRGcmFnbWVudFNoYWRlckNvZGUoKXtyZXR1cm4gdGhpcy5mcmFnbWVudFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMuZnJhZ21lbnRTaGFkZXIpOm51bGx9fWNsYXNzIG5ye2dldCB1bmRlcmx5aW5nUmVzb3VyY2UoKXtyZXR1cm4gdGhpcy5fd2ViR0xUZXh0dXJlfWNvbnN0cnVjdG9yKGU9bnVsbCx0KXtpZih0aGlzLl9NU0FBUmVuZGVyQnVmZmVycz1udWxsLHRoaXMuX2NvbnRleHQ9dCwhZSYmKGU9dC5jcmVhdGVUZXh0dXJlKCksIWUpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB3ZWJHTCB0ZXh0dXJlIik7dGhpcy5zZXQoZSl9c2V0VXNhZ2UoKXt9c2V0KGUpe3RoaXMuX3dlYkdMVGV4dHVyZT1lfXJlc2V0KCl7dGhpcy5fd2ViR0xUZXh0dXJlPW51bGwsdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnM9bnVsbH1hZGRNU0FBUmVuZGVyQnVmZmVyKGUpe3RoaXMuX01TQUFSZW5kZXJCdWZmZXJzfHwodGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnM9W10pLHRoaXMuX01TQUFSZW5kZXJCdWZmZXJzLnB1c2goZSl9cmVsZWFzZU1TQUFSZW5kZXJCdWZmZXJzKCl7aWYodGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnMpe2Zvcihjb25zdCBlIG9mIHRoaXMuX01TQUFSZW5kZXJCdWZmZXJzKXRoaXMuX2NvbnRleHQuZGVsZXRlUmVuZGVyYnVmZmVyKGUpO3RoaXMuX01TQUFSZW5kZXJCdWZmZXJzPW51bGx9fXJlbGVhc2UoKXt0aGlzLnJlbGVhc2VNU0FBUmVuZGVyQnVmZmVycygpLHRoaXMuX3dlYkdMVGV4dHVyZSYmdGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX3dlYkdMVGV4dHVyZSksdGhpcy5yZXNldCgpfX1jbGFzcyB2aXtzdGF0aWMgSXNXcmFwcGVyKGUpe3JldHVybiBlLmdldFBpcGVsaW5lQ29udGV4dD09PXZvaWQgMH1zdGF0aWMgR2V0RWZmZWN0KGUpe3JldHVybiBlLmdldFBpcGVsaW5lQ29udGV4dD09PXZvaWQgMD9lLmVmZmVjdDplfWNvbnN0cnVjdG9yKGUsdD0hMCl7dGhpcy5lZmZlY3Q9bnVsbCx0aGlzLmRlZmluZXM9bnVsbCx0aGlzLmRyYXdDb250ZXh0PWUuY3JlYXRlRHJhd0NvbnRleHQoKSx0JiYodGhpcy5tYXRlcmlhbENvbnRleHQ9ZS5jcmVhdGVNYXRlcmlhbENvbnRleHQoKSl9c2V0RWZmZWN0KGUsdCxpPSEwKXt2YXIgczt0aGlzLmVmZmVjdD1lLHQhPT12b2lkIDAmJih0aGlzLmRlZmluZXM9dCksaSYmKChzPXRoaXMuZHJhd0NvbnRleHQpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5yZXNldCgpKX1kaXNwb3NlKCl7dmFyIGU7KGU9dGhpcy5kcmF3Q29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKX19Y2xhc3MgX257Z2V0IGlzRGlydHkoKXtyZXR1cm4gdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5fHx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHl8fHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eXx8dGhpcy5faXNTdGVuY2lsT3BEaXJ0eX1nZXQgZnVuYygpe3JldHVybiB0aGlzLl9mdW5jfXNldCBmdW5jKGUpe3RoaXMuX2Z1bmMhPT1lJiYodGhpcy5fZnVuYz1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IGZ1bmNSZWYoKXtyZXR1cm4gdGhpcy5fZnVuY1JlZn1zZXQgZnVuY1JlZihlKXt0aGlzLl9mdW5jUmVmIT09ZSYmKHRoaXMuX2Z1bmNSZWY9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfWdldCBmdW5jTWFzaygpe3JldHVybiB0aGlzLl9mdW5jTWFza31zZXQgZnVuY01hc2soZSl7dGhpcy5fZnVuY01hc2shPT1lJiYodGhpcy5fZnVuY01hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfWdldCBvcFN0ZW5jaWxGYWlsKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9c2V0IG9wU3RlbmNpbEZhaWwoZSl7dGhpcy5fb3BTdGVuY2lsRmFpbCE9PWUmJih0aGlzLl9vcFN0ZW5jaWxGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMuX29wRGVwdGhGYWlsfXNldCBvcERlcHRoRmFpbChlKXt0aGlzLl9vcERlcHRoRmFpbCE9PWUmJih0aGlzLl9vcERlcHRoRmFpbD1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfWdldCBvcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfXNldCBvcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzIT09ZSYmKHRoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfWdldCBtYXNrKCl7cmV0dXJuIHRoaXMuX21hc2t9c2V0IG1hc2soZSl7dGhpcy5fbWFzayE9PWUmJih0aGlzLl9tYXNrPWUsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSEwKX1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfXNldCBlbmFibGVkKGUpe3RoaXMuX2VuYWJsZWQhPT1lJiYodGhpcy5fZW5hYmxlZD1lLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCl9Y29uc3RydWN0b3IoZT0hMCl7dGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSExLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSx0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PSExLGUmJnRoaXMucmVzZXQoKX1yZXNldCgpe3ZhciBlO3RoaXMuc3RlbmNpbE1hdGVyaWFsPXZvaWQgMCwoZT10aGlzLnN0ZW5jaWxHbG9iYWwpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5yZXNldCgpLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITAsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITB9YXBwbHkoZSl7dmFyIHQ7aWYoIWUpcmV0dXJuO2NvbnN0IGk9IXRoaXMudXNlU3RlbmNpbEdsb2JhbE9ubHkmJiEhKCEoKHQ9dGhpcy5zdGVuY2lsTWF0ZXJpYWwpPT09bnVsbHx8dD09PXZvaWQgMCkmJnQuZW5hYmxlZCk7dGhpcy5lbmFibGVkPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZW5hYmxlZDp0aGlzLnN0ZW5jaWxHbG9iYWwuZW5hYmxlZCx0aGlzLmZ1bmM9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jLHRoaXMuZnVuY1JlZj1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmNSZWY6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmNSZWYsdGhpcy5mdW5jTWFzaz1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmNNYXNrOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jTWFzayx0aGlzLm9wU3RlbmNpbEZhaWw9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcFN0ZW5jaWxGYWlsOnRoaXMuc3RlbmNpbEdsb2JhbC5vcFN0ZW5jaWxGYWlsLHRoaXMub3BEZXB0aEZhaWw9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcERlcHRoRmFpbDp0aGlzLnN0ZW5jaWxHbG9iYWwub3BEZXB0aEZhaWwsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcFN0ZW5jaWxEZXB0aFBhc3M6dGhpcy5zdGVuY2lsR2xvYmFsLm9wU3RlbmNpbERlcHRoUGFzcyx0aGlzLm1hc2s9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5tYXNrOnRoaXMuc3RlbmNpbEdsb2JhbC5tYXNrLHRoaXMuaXNEaXJ0eSYmKHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eSYmKHRoaXMuZW5hYmxlZD9lLmVuYWJsZShlLlNURU5DSUxfVEVTVCk6ZS5kaXNhYmxlKGUuU1RFTkNJTF9URVNUKSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eSYmKGUuc3RlbmNpbE1hc2sodGhpcy5tYXNrKSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eSYmKGUuc3RlbmNpbEZ1bmModGhpcy5mdW5jLHRoaXMuZnVuY1JlZix0aGlzLmZ1bmNNYXNrKSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE9wRGlydHkmJihlLnN0ZW5jaWxPcCh0aGlzLm9wU3RlbmNpbEZhaWwsdGhpcy5vcERlcHRoRmFpbCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcyksdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSkpfX1jbGFzcyBoaXtzdGF0aWMgZ2V0IE5vdygpe3JldHVybiBicy5Jc1dpbmRvd09iamVjdEV4aXN0KCkmJndpbmRvdy5wZXJmb3JtYW5jZSYmd2luZG93LnBlcmZvcm1hbmNlLm5vdz93aW5kb3cucGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX19Y2xhc3MgZ257fWNsYXNzIG9le3N0YXRpYyBnZXQgTnBtUGFja2FnZSgpe3JldHVybiJiYWJ5bG9uanNANS41Ny4xIn1zdGF0aWMgZ2V0IFZlcnNpb24oKXtyZXR1cm4iNS41Ny4xIn1nZXQgZGVzY3JpcHRpb24oKXtsZXQgZT10aGlzLm5hbWUrdGhpcy53ZWJHTFZlcnNpb247cmV0dXJuIHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlJiYoZSs9IiAtIFBhcmFsbGVsIHNoYWRlciBjb21waWxhdGlvbiIpLGV9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5fbmFtZX1zZXQgbmFtZShlKXt0aGlzLl9uYW1lPWV9Z2V0IHZlcnNpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9ufWdldCBpc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9c3RhdGljIGdldCBTaGFkZXJzUmVwb3NpdG9yeSgpe3JldHVybiBEZS5TaGFkZXJzUmVwb3NpdG9yeX1zdGF0aWMgc2V0IFNoYWRlcnNSZXBvc2l0b3J5KGUpe0RlLlNoYWRlcnNSZXBvc2l0b3J5PWV9X2dldFNoYWRlclByb2Nlc3NvcihlKXtyZXR1cm4gdGhpcy5fc2hhZGVyUHJvY2Vzc29yfWdldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyfXNldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoZSl7ZSE9PXRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj1lLGU/dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPTUxODp0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE1KX1nZXQgZnJhbWVJZCgpe3JldHVybiB0aGlzLl9mcmFtZUlkfWdldCBzdXBwb3J0c1VuaWZvcm1CdWZmZXJzKCl7cmV0dXJuIHRoaXMud2ViR0xWZXJzaW9uPjEmJiF0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVyc31nZXRDcmVhdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fY3JlYXRpb25PcHRpb25zfWdldCBfc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcigpe3JldHVybiEhKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZCYmdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkKX1nZXQgbmVlZFBPVFRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbjwyfHx0aGlzLmZvcmNlUE9UVGV4dHVyZXN9Z2V0IGFjdGl2ZVJlbmRlckxvb3BzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzfWdldCBkb05vdEhhbmRsZUNvbnRleHRMb3N0KCl7cmV0dXJuIHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R9c2V0IGRvTm90SGFuZGxlQ29udGV4dExvc3QoZSl7dGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD1lfWdldCBfc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmcoKXtyZXR1cm4hMX1zZXQgZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0KGUpe3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD1lfWdldCBjdXJyZW50Vmlld3BvcnQoKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnR9Z2V0IGVtcHR5VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmV8fCh0aGlzLl9lbXB0eVRleHR1cmU9dGhpcy5jcmVhdGVSYXdUZXh0dXJlKG5ldyBVaW50OEFycmF5KDQpLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmV9Z2V0IGVtcHR5VGV4dHVyZTNEKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZTNEfHwodGhpcy5fZW1wdHlUZXh0dXJlM0Q9dGhpcy5jcmVhdGVSYXdUZXh0dXJlM0QobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlM0R9Z2V0IGVtcHR5VGV4dHVyZTJEQXJyYXkoKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheXx8KHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXk9dGhpcy5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fWdldCBlbXB0eUN1YmVUZXh0dXJlKCl7aWYoIXRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoNCksdD1bZSxlLGUsZSxlLGVdO3RoaXMuX2VtcHR5Q3ViZVRleHR1cmU9dGhpcy5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0LDEsNSwwLCExLCExLDEpfXJldHVybiB0aGlzLl9lbXB0eUN1YmVUZXh0dXJlfWdldCBpc1dlYkdQVSgpe3JldHVybiB0aGlzLl9pc1dlYkdQVX1nZXQgc2hhZGVyUGxhdGZvcm1OYW1lKCl7cmV0dXJuIHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZX1nZXQgc25hcHNob3RSZW5kZXJpbmcoKXtyZXR1cm4hMX1zZXQgc25hcHNob3RSZW5kZXJpbmcoZSl7fWdldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoKXtyZXR1cm4gdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlfXNldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoZSl7dGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPWV9c25hcHNob3RSZW5kZXJpbmdSZXNldCgpe3RoaXMuc25hcHNob3RSZW5kZXJpbmc9ITF9c3RhdGljIF9DcmVhdGVDYW52YXMoZSx0KXtpZih0eXBlb2YgZG9jdW1lbnQ+InUiKXJldHVybiBuZXcgT2Zmc2NyZWVuQ2FudmFzKGUsdCk7Y29uc3QgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gaS53aWR0aD1lLGkuaGVpZ2h0PXQsaX1jcmVhdGVDYW52YXMoZSx0KXtyZXR1cm4gb2UuX0NyZWF0ZUNhbnZhcyhlLHQpfWNyZWF0ZUNhbnZhc0ltYWdlKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpfWNvbnN0cnVjdG9yKGUsdCxpLHMpe3ZhciByLG4sYSxvLGgsbCx1LGQsXyxmLG07dGhpcy5fbmFtZT0iV2ViR0wiLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5mb3JjZVBPVFRleHR1cmVzPSExLHRoaXMuaXNGdWxsc2NyZWVuPSExLHRoaXMuY3VsbEJhY2tGYWNlcz1udWxsLHRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZD0hMCx0aGlzLnByZXZlbnRDYWNoZVdpcGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcz0hMSx0aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXI9ITEsdGhpcy5pc05EQ0hhbGZaUmFuZ2U9ITEsdGhpcy5oYXNPcmlnaW5Cb3R0b21MZWZ0PSEwLHRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzPSExLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9mcmFtZUlkPTAsdGhpcy5fdW5pZm9ybUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3N0b3JhZ2VCdWZmZXJzPW5ldyBBcnJheSx0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl93aW5kb3dJc0JhY2tncm91bmQ9ITEsdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPSEwLHRoaXMuX2JhZE9TPSExLHRoaXMuX2JhZERlc2t0b3BPUz0hMSx0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExLHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzPW5ldyBBcnJheSx0aGlzLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2NvbnRleHRXYXNMb3N0PSExLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ITEsdGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSExLHRoaXMuX2NvbG9yV3JpdGU9ITAsdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGU9bmV3IGxuLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyPW5ldyBfbix0aGlzLl9zdGVuY2lsU3RhdGU9bmV3IE50LHRoaXMuX2FscGhhU3RhdGU9bmV3IGNuLHRoaXMuX2FscGhhTW9kZT0xLHRoaXMuX2FscGhhRXF1YXRpb249MCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGU9bmV3IEFycmF5LHRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZT1uZXcgQXJyYXksdGhpcy5fYWN0aXZlQ2hhbm5lbD0wLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGU9e30sdGhpcy5fY29tcGlsZWRFZmZlY3RzPXt9LHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWQ9W10sdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9ITEsdGhpcy5fY3VycmVudEJvdW5kQnVmZmVyPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSExLHRoaXMuX25leHRGcmVlVGV4dHVyZVNsb3RzPW5ldyBBcnJheSx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcz0wLHRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5hZGFwdFRvRGV2aWNlUmF0aW89ITEsdGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW89MSx0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsPW51bGwsdGhpcy5ob3N0SW5mb3JtYXRpb249e2lzTW9iaWxlOiExfSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMCx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2lzV2ViR1BVPSExLHRoaXMuX3NuYXBzaG90UmVuZGVyaW5nTW9kZT0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkPXt4OjAseTowLHo6MCx3OjB9LHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPW51bGwsdGhpcy5lbmFibGVVbnBhY2tGbGlwWUNhY2hlZD0hMCx0aGlzLl9ib3VuZFVuaWZvcm1zPXt9LHRoaXMuc3RhcnRUaW1lPWhpLk5vdztsZXQgdj1udWxsO2k9aXx8e30sdGhpcy5fY3JlYXRpb25PcHRpb25zPWksdGhpcy5hZGFwdFRvRGV2aWNlUmF0aW89cz8/ITEsdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbEdsb2JhbD10aGlzLl9zdGVuY2lsU3RhdGUsVWUuU2V0TWF0cml4UHJlY2lzaW9uKCEhaS51c2VIaWdoUHJlY2lzaW9uTWF0cml4KSxpLmFudGlhbGlhcz10Pz9pLmFudGlhbGlhcyxpLmRldGVybWluaXN0aWNMb2Nrc3RlcD0ocj1pLmRldGVybWluaXN0aWNMb2Nrc3RlcCkhPT1udWxsJiZyIT09dm9pZCAwP3I6ITEsaS5sb2Nrc3RlcE1heFN0ZXBzPShuPWkubG9ja3N0ZXBNYXhTdGVwcykhPT1udWxsJiZuIT09dm9pZCAwP246NCxpLnRpbWVTdGVwPShhPWkudGltZVN0ZXApIT09bnVsbCYmYSE9PXZvaWQgMD9hOjEvNjAsaS5hdWRpb0VuZ2luZT0obz1pLmF1ZGlvRW5naW5lKSE9PW51bGwmJm8hPT12b2lkIDA/bzohMCxpLnN0ZW5jaWw9KGg9aS5zdGVuY2lsKSE9PW51bGwmJmghPT12b2lkIDA/aDohMCx0aGlzLl9hdWRpb0NvbnRleHQ9KHU9KGw9aS5hdWRpb0VuZ2luZU9wdGlvbnMpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC5hdWRpb0NvbnRleHQpIT09bnVsbCYmdSE9PXZvaWQgMD91Om51bGwsdGhpcy5fYXVkaW9EZXN0aW5hdGlvbj0oXz0oZD1pLmF1ZGlvRW5naW5lT3B0aW9ucyk9PT1udWxsfHxkPT09dm9pZCAwP3ZvaWQgMDpkLmF1ZGlvRGVzdGluYXRpb24pIT09bnVsbCYmXyE9PXZvaWQgMD9fOm51bGwsdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9KGY9aS5wcmVtdWx0aXBsaWVkQWxwaGEpIT09bnVsbCYmZiE9PXZvaWQgMD9mOiEwLHRoaXMudXNlRXhhY3RTcmdiQ29udmVyc2lvbnM9KG09aS51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucykhPT1udWxsJiZtIT09dm9pZCAwP206ITEsdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD0hIWkuZG9Ob3RIYW5kbGVDb250ZXh0TG9zdCx0aGlzLl9pc1N0ZW5jaWxFbmFibGU9ISFpLnN0ZW5jaWwscz1zfHxpLmFkYXB0VG9EZXZpY2VSYXRpb3x8ITE7Y29uc3QgRT1qZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxTPWkubGltaXREZXZpY2VSYXRpb3x8RTtpZih0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1zPzEvTWF0aC5taW4oUyxFKToxLHRoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPUUsIWUpcmV0dXJuO2lmKGUuZ2V0Q29udGV4dCl7aWYodj1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz12LGkucHJlc2VydmVEcmF3aW5nQnVmZmVyPT09dm9pZCAwJiYoaS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ITEpLGkueHJDb21wYXRpYmxlPT09dm9pZCAwJiYoaS54ckNvbXBhdGlibGU9ITApLG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCl7dGhpcy5fc2V0dXBNb2JpbGVDaGVja3MoKTtjb25zdCBBPW5hdmlnYXRvci51c2VyQWdlbnQ7Zm9yKGNvbnN0IEMgb2Ygb2UuRXhjZXB0aW9uTGlzdCl7Y29uc3QgYj1DLmtleSx4PUMudGFyZ2V0cztpZihuZXcgUmVnRXhwKGIpLnRlc3QoQSkpe2lmKEMuY2FwdHVyZSYmQy5jYXB0dXJlQ29uc3RyYWludCl7Y29uc3QgVT1DLmNhcHR1cmUsaz1DLmNhcHR1cmVDb25zdHJhaW50LHE9bmV3IFJlZ0V4cChVKS5leGVjKEEpO2lmKHEmJnEubGVuZ3RoPjAmJnBhcnNlSW50KHFbcS5sZW5ndGgtMV0pPj1rKWNvbnRpbnVlfWZvcihjb25zdCBVIG9mIHgpc3dpdGNoKFUpe2Nhc2UidW5pZm9ybUJ1ZmZlciI6dGhpcy5kaXNhYmxlVW5pZm9ybUJ1ZmZlcnM9ITA7YnJlYWs7Y2FzZSJ2YW8iOnRoaXMuZGlzYWJsZVZlcnRleEFycmF5T2JqZWN0cz0hMDticmVhaztjYXNlImFudGlhbGlhcyI6aS5hbnRpYWxpYXM9ITE7YnJlYWs7Y2FzZSJtYXhNU0FBU2FtcGxlcyI6dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZT0xO2JyZWFrfX19fWlmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9vbkNvbnRleHRMb3N0PUE9PntBLnByZXZlbnREZWZhdWx0KCksdGhpcy5fY29udGV4dFdhc0xvc3Q9ITAsTy5XYXJuKCJXZWJHTCBjb250ZXh0IGxvc3QuIiksdGhpcy5vbkNvbnRleHRMb3N0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LHRoaXMuX29uQ29udGV4dFJlc3RvcmVkPSgpPT57dGhpcy5fcmVzdG9yZUVuZ2luZUFmdGVyQ29udGV4dExvc3QodGhpcy5faW5pdEdMQ29udGV4dC5iaW5kKHRoaXMpKX0sdi5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0Iix0aGlzLl9vbkNvbnRleHRMb3N0LCExKSx2LmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCwhMSksaS5wb3dlclByZWZlcmVuY2U9aS5wb3dlclByZWZlcmVuY2V8fCJoaWdoLXBlcmZvcm1hbmNlIiksdGhpcy5fYmFkRGVza3RvcE9TPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdGhpcy5fYmFkRGVza3RvcE9TJiYoaS54ckNvbXBhdGlibGU9ITEpLCFpLmRpc2FibGVXZWJHTDJTdXBwb3J0KXRyeXt0aGlzLl9nbD12LmdldENvbnRleHQoIndlYmdsMiIsaSl8fHYuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsMiIsaSksdGhpcy5fZ2wmJih0aGlzLl93ZWJHTFZlcnNpb249Mix0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMiIsdGhpcy5fZ2wuZGVsZXRlUXVlcnl8fCh0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMSIpKX1jYXRjaHt9aWYoIXRoaXMuX2dsKXtpZighdil0aHJvdyBuZXcgRXJyb3IoIlRoZSBwcm92aWRlZCBjYW52YXMgaXMgbnVsbCBvciB1bmRlZmluZWQuIik7dHJ5e3RoaXMuX2dsPXYuZ2V0Q29udGV4dCgid2ViZ2wiLGkpfHx2LmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsaSl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKCJXZWJHTCBub3Qgc3VwcG9ydGVkIil9fWlmKCF0aGlzLl9nbCl0aHJvdyBuZXcgRXJyb3IoIldlYkdMIG5vdCBzdXBwb3J0ZWQiKX1lbHNle3RoaXMuX2dsPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPXRoaXMuX2dsLmNhbnZhcyx0aGlzLl9nbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/KHRoaXMuX3dlYkdMVmVyc2lvbj0yLHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wyIik6dGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDEiO2NvbnN0IEE9dGhpcy5fZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtBJiYoaS5zdGVuY2lsPUEuc3RlbmNpbCl9dGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCx0aGlzLl9nbC5OT05FKSxpLnVzZUhpZ2hQcmVjaXNpb25GbG9hdHMhPT12b2lkIDAmJih0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9aS51c2VIaWdoUHJlY2lzaW9uRmxvYXRzKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX2luaXRHTENvbnRleHQoKSx0aGlzLl9pbml0RmVhdHVyZXMoKTtmb3IobGV0IEE9MDtBPHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlicztBKyspdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW0FdPW5ldyBnbjt0aGlzLl9zaGFkZXJQcm9jZXNzb3I9dGhpcy53ZWJHTFZlcnNpb24+MT9uZXcgZG46bmV3IHVuLHRoaXMuX2JhZE9TPS9pUGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L2lQaG9uZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7Y29uc3QgUj1gQmFieWxvbi5qcyB2JHtvZS5WZXJzaW9ufWA7Y29uc29sZS5sb2coUitgIC0gJHt0aGlzLmRlc2NyaXB0aW9ufWApLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSgiZGF0YS1lbmdpbmUiLFIpfV9zZXR1cE1vYmlsZUNoZWNrcygpe25hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmKHRoaXMuX2NoZWNrRm9yTW9iaWxlPSgpPT57Y29uc3QgZT1uYXZpZ2F0b3IudXNlckFnZW50O3RoaXMuaG9zdEluZm9ybWF0aW9uLmlzTW9iaWxlPWUuaW5kZXhPZigiTW9iaWxlIikhPT0tMXx8ZS5pbmRleE9mKCJNYWMiKSE9PS0xJiZGaSgpJiYib250b3VjaGVuZCJpbiBkb2N1bWVudH0sdGhpcy5fY2hlY2tGb3JNb2JpbGUoKSxqZSgpJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9jaGVja0Zvck1vYmlsZSkpfV9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdChlKXtzZXRUaW1lb3V0KGFzeW5jKCk9Pnt2YXIgdDt0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGw7Y29uc3QgaT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Qscz10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmMscj10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2ssbj10aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q7YXdhaXQgZSgpLHRoaXMud2lwZUNhY2hlcyghMCksdGhpcy5fcmVidWlsZEVmZmVjdHMoKSwodD10aGlzLl9yZWJ1aWxkQ29tcHV0ZUVmZmVjdHMpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5jYWxsKHRoaXMpLHRoaXMuX3JlYnVpbGRCdWZmZXJzKCksdGhpcy5fcmVidWlsZEludGVybmFsVGV4dHVyZXMoKSx0aGlzLl9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnMoKSx0aGlzLndpcGVDYWNoZXMoITApLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD1pLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz1zLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1yLHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD1uLE8uV2Fybih0aGlzLm5hbWUrIiBjb250ZXh0IHN1Y2Nlc3NmdWxseSByZXN0b3JlZC4iKSx0aGlzLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY29udGV4dFdhc0xvc3Q9ITF9LDApfV9zaGFyZWRJbml0KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcz1lfV9nZXRTaGFkZXJQcm9jZXNzaW5nQ29udGV4dChlKXtyZXR1cm4gbnVsbH1fcmVidWlsZEludGVybmFsVGV4dHVyZXMoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5zbGljZSgpO2Zvcihjb25zdCB0IG9mIGUpdC5fcmVidWlsZCgpfV9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnMoKXtjb25zdCBlPXRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zbGljZSgpO2Zvcihjb25zdCB0IG9mIGUpdC5fcmVidWlsZCgpfV9yZWJ1aWxkRWZmZWN0cygpe2Zvcihjb25zdCBlIGluIHRoaXMuX2NvbXBpbGVkRWZmZWN0cyl7Y29uc3QgdD10aGlzLl9jb21waWxlZEVmZmVjdHNbZV07dC5fcGlwZWxpbmVDb250ZXh0PW51bGwsdC5fd2FzUHJldmlvdXNseVJlYWR5PSExLHQuX3ByZXBhcmVFZmZlY3QoKX1EZS5SZXNldENhY2hlKCl9YXJlQWxsRWZmZWN0c1JlYWR5KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKWlmKCF0aGlzLl9jb21waWxlZEVmZmVjdHNbZV0uaXNSZWFkeSgpKXJldHVybiExO3JldHVybiEwfV9yZWJ1aWxkQnVmZmVycygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3VuaWZvcm1CdWZmZXJzKWUuX3JlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9zdG9yYWdlQnVmZmVycyllLl9yZWJ1aWxkKCl9X2luaXRHTENvbnRleHQoKXt2YXIgZTt0aGlzLl9jYXBzPXttYXhUZXh0dXJlc0ltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxtYXhDb21iaW5lZFRleHR1cmVzSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFZlcnRleFRleHR1cmVJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVEVYVFVSRV9TSVpFKSxtYXhTYW1wbGVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfU0FNUExFUyk6MSxtYXhDdWJlbWFwVGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUpLG1heFJlbmRlclRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfUkVOREVSQlVGRkVSX1NJWkUpLG1heFZlcnRleEF0dHJpYnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfQVRUUklCUyksbWF4VmFyeWluZ1ZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpLG1heEZyYWdtZW50VW5pZm9ybVZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9GUkFHTUVOVF9VTklGT1JNX1ZFQ1RPUlMpLG1heFZlcnRleFVuaWZvcm1WZWN0b3JzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1VOSUZPUk1fVkVDVE9SUykscGFyYWxsZWxTaGFkZXJDb21waWxlOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiS0hSX3BhcmFsbGVsX3NoYWRlcl9jb21waWxlIil8fHZvaWQgMCxzdGFuZGFyZERlcml2YXRpdmVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpIT09bnVsbCxtYXhBbmlzb3Ryb3B5OjEsYXN0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiksYnB0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpLHMzdGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpLHMzdGNfc3JnYjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2IiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpLHB2cnRjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpLGV0YzE6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpLGV0YzI6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXMzXzAiKSx0ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb246dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpLHVpbnRJbmRpY2VzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4X3VpbnQiKSE9PW51bGwsZnJhZ21lbnREZXB0aFN1cHBvcnRlZDp0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZnJhZ19kZXB0aCIpIT09bnVsbCxoaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkOiExLHRpbWVyUXVlcnk6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Iiksc3VwcG9ydE9jY2x1c2lvblF1ZXJ5OnRoaXMuX3dlYkdMVmVyc2lvbj4xLGNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk6ITEsZHJhd0J1ZmZlcnNFeHRlbnNpb246ITEsbWF4TVNBQVNhbXBsZXM6MSxjb2xvckJ1ZmZlckZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSksdGV4dHVyZUZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2Zsb2F0IikpLHRleHR1cmVIYWxmRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdCIpKSx0ZXh0dXJlSGFsZkZsb2F0UmVuZGVyOiExLHRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZzohMSx0ZXh0dXJlRmxvYXRSZW5kZXI6ITEsdGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZzohMSx2ZXJ0ZXhBcnJheU9iamVjdDohMSxpbnN0YW5jZWRBcnJheXM6ITEsdGV4dHVyZUxPRDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIikpLHRleGVsRmV0Y2g6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxibGVuZE1pbk1heDohMSxtdWx0aXZpZXc6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPVlJfbXVsdGl2aWV3MiIpLG9jdWx1c011bHRpdmlldzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9DVUxVU19tdWx0aXZpZXciKSxkZXB0aFRleHR1cmVFeHRlbnNpb246ITEsY2FuVXNlR0xJbnN0YW5jZUlEOnRoaXMuX3dlYkdMVmVyc2lvbj4xLGNhblVzZUdMVmVydGV4SUQ6dGhpcy5fd2ViR0xWZXJzaW9uPjEsc3VwcG9ydENvbXB1dGVTaGFkZXJzOiExLHN1cHBvcnRTUkdCQnVmZmVyczohMSxzdXBwb3J0VHJhbnNmb3JtRmVlZGJhY2tzOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHRleHR1cmVNYXhMZXZlbDp0aGlzLl93ZWJHTFZlcnNpb24+MSx0ZXh0dXJlMkRBcnJheU1heExheWVyQ291bnQ6dGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9BUlJBWV9URVhUVVJFX0xBWUVSUyk6MTI4LGRpc2FibGVNb3JwaFRhcmdldFRleHR1cmU6ITF9LHRoaXMuX2dsVmVyc2lvbj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVSU0lPTik7Y29uc3QgdD10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKTtpZih0IT1udWxsJiYodGhpcy5fZ2xSZW5kZXJlcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodC5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCksdGhpcy5fZ2xWZW5kb3I9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHQuVU5NQVNLRURfVkVORE9SX1dFQkdMKSksdGhpcy5fZ2xWZW5kb3J8fCh0aGlzLl9nbFZlbmRvcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVORE9SKXx8IlVua25vd24gdmVuZG9yIiksdGhpcy5fZ2xSZW5kZXJlcnx8KHRoaXMuX2dsUmVuZGVyZXI9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlJFTkRFUkVSKXx8IlVua25vd24gcmVuZGVyZXIiKSx0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTM2MTkzJiYodGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM9MzYxOTMpLHRoaXMuX2dsLlJHQkExNkYhPT0zNDg0MiYmKHRoaXMuX2dsLlJHQkExNkY9MzQ4NDIpLHRoaXMuX2dsLlJHQkEzMkYhPT0zNDgzNiYmKHRoaXMuX2dsLlJHQkEzMkY9MzQ4MzYpLHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDghPT0zNTA1NiYmKHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDg9MzUwNTYpLHRoaXMuX2NhcHMudGltZXJRdWVyeSYmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEmJih0aGlzLl9nbC5nZXRRdWVyeT10aGlzLl9jYXBzLnRpbWVyUXVlcnkuZ2V0UXVlcnlFWFQuYmluZCh0aGlzLl9jYXBzLnRpbWVyUXVlcnkpKSx0aGlzLl9jYXBzLmNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk9KChlPXRoaXMuX2dsLmdldFF1ZXJ5KHRoaXMuX2NhcHMudGltZXJRdWVyeS5USU1FU1RBTVBfRVhULHRoaXMuX2NhcHMudGltZXJRdWVyeS5RVUVSWV9DT1VOVEVSX0JJVFNfRVhUKSkhPT1udWxsJiZlIT09dm9pZCAwP2U6MCk+MCksdGhpcy5fY2Fwcy5tYXhBbmlzb3Ryb3B5PXRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpOjAsdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc9ISEodGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIikpLHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0UmVuZGVyPSEhKHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKSksdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nPSEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKSksdGhpcy5fY2Fwcy5hc3RjJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSPXRoaXMuX2NhcHMuYXN0Yy5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFIpLHRoaXMuX2NhcHMuYnB0YyYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVD10aGlzLl9jYXBzLmJwdGMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUKSx0aGlzLl9jYXBzLnMzdGNfc3JnYiYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUKSx0aGlzLl9jYXBzLmV0YzImJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0VUQzI9dGhpcy5fY2Fwcy5ldGMyLkNPTVBSRVNTRURfU1JHQjhfRVRDMix0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQz10aGlzLl9jYXBzLmV0YzIuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUMpLHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTUxMzEmJih0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUz01MTMxKSx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRSZW5kZXI9dGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0hhbGZGbG9hdEZyYW1lYnVmZmVyKCksdGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9jYXBzLm1heE1TQUFTYW1wbGVzPXRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGUhPT1udWxsP3RoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9TQU1QTEVTKTtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKTtpZihpIT09bnVsbCl7dGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9nbC5kcmF3QnVmZmVycz1pLmRyYXdCdWZmZXJzV0VCR0wuYmluZChpKSx0aGlzLl9nbC5EUkFXX0ZSQU1FQlVGRkVSPXRoaXMuX2dsLkZSQU1FQlVGRkVSO2ZvcihsZXQgcz0wO3M8MTY7cysrKXRoaXMuX2dsWyJDT0xPUl9BVFRBQ0hNRU5UIitzKyJfV0VCR0wiXT1pWyJDT0xPUl9BVFRBQ0hNRU5UIitzKyJfV0VCR0wiXX19aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb249ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZGVwdGhfdGV4dHVyZSIpO2khPW51bGwmJih0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbj0hMCx0aGlzLl9nbC5VTlNJR05FRF9JTlRfMjRfOD1pLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMKX1pZih0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMTtlbHNlIGlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTtpIT1udWxsJiYodGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMCx0aGlzLl9nbC5jcmVhdGVWZXJ0ZXhBcnJheT1pLmNyZWF0ZVZlcnRleEFycmF5T0VTLmJpbmQoaSksdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5PWkuYmluZFZlcnRleEFycmF5T0VTLmJpbmQoaSksdGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXk9aS5kZWxldGVWZXJ0ZXhBcnJheU9FUy5iaW5kKGkpKX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7aSE9bnVsbD8odGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITAsdGhpcy5fZ2wuZHJhd0FycmF5c0luc3RhbmNlZD1pLmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRS5iaW5kKGkpLHRoaXMuX2dsLmRyYXdFbGVtZW50c0luc3RhbmNlZD1pLmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFLmJpbmQoaSksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcj1pLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRS5iaW5kKGkpKTp0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMX1pZih0aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpe2NvbnN0IGk9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLlZFUlRFWF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCkscz10aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQodGhpcy5fZ2wuRlJBR01FTlRfU0hBREVSLHRoaXMuX2dsLkhJR0hfRkxPQVQpO2kmJnMmJih0aGlzLl9jYXBzLmhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQ9aS5wcmVjaXNpb24hPT0wJiZzLnByZWNpc2lvbiE9PTApfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuYmxlbmRNaW5NYXg9ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2JsZW5kX21pbm1heCIpO2khPW51bGwmJih0aGlzLl9jYXBzLmJsZW5kTWluTWF4PSEwLHRoaXMuX2dsLk1BWD1pLk1BWF9FWFQsdGhpcy5fZ2wuTUlOPWkuTUlOX0VYVCl9aWYoIXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzKXtpZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc1JHQiIpO2khPW51bGwmJih0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMCx0aGlzLl9nbC5TUkdCPWkuU1JHQl9FWFQsdGhpcy5fZ2wuU1JHQjg9aS5TUkdCX0FMUEhBX0VYVCx0aGlzLl9nbC5TUkdCOF9BTFBIQTg9aS5TUkdCX0FMUEhBX0VYVCl9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJiEhKHRoaXMuX2NyZWF0aW9uT3B0aW9ucyYmdGhpcy5fY3JlYXRpb25PcHRpb25zLmZvcmNlU1JHQkJ1ZmZlclN1cHBvcnRTdGF0ZSl9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5MRVFVQUwsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPSEwLHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPXRoaXMuX2NhcHMubWF4Q29tYmluZWRUZXh0dXJlc0ltYWdlVW5pdHM7Zm9yKGxldCBpPTA7aTx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztpKyspdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHMucHVzaChpKTt0aGlzLl9nbFJlbmRlcmVyPT09Ik1hbGktRzcyIiYmKHRoaXMuX2NhcHMuZGlzYWJsZU1vcnBoVGFyZ2V0VGV4dHVyZT0hMCl9X2luaXRGZWF0dXJlcygpe3RoaXMuX2ZlYXR1cmVzPXtmb3JjZUJpdG1hcE92ZXJIVE1MSW1hZ2VFbGVtZW50OiExLHN1cHBvcnRSZW5kZXJBbmRDb3B5VG9Mb2RGb3JGbG9hdFRleHR1cmVzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydERlcHRoU3RlbmNpbFRleHR1cmU6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U2hhZG93U2FtcGxlcnM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSx1bmlmb3JtQnVmZmVySGFyZENoZWNrTWF0cml4OiExLGFsbG93VGV4dHVyZVByZWZpbHRlcmluZzp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHRyYWNrVWJvc0luRnJhbWU6ITEsY2hlY2tVYm9zQ29udGVudEJlZm9yZVVwbG9hZDohMSxzdXBwb3J0Q1NNOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsYmFzaXNOZWVkc1BPVDp0aGlzLl93ZWJHTFZlcnNpb249PT0xLHN1cHBvcnQzRFRleHR1cmVzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsbmVlZFR5cGVTdWZmaXhJblNoYWRlckNvbnN0YW50czp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRNU0FBOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFNTQU8yOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydEV4dGVuZGVkVGV4dHVyZUZvcm1hdHM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U3dpdGNoQ2FzZUluU2hhZGVyOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFN5bmNUZXh0dXJlUmVhZDohMCxuZWVkc0ludmVydGluZ0JpdG1hcDohMCx1c2VVQk9CaW5kaW5nQ2FjaGU6ITAsbmVlZFNoYWRlckNvZGVJbmxpbmluZzohMSxuZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnM6ITEsc3VwcG9ydFJlbmRlclBhc3NlczohMSxzdXBwb3J0U3ByaXRlSW5zdGFuY2luZzohMCxfY29sbGVjdFVib3NVcGRhdGVkSW5GcmFtZTohMX19Z2V0IHdlYkdMVmVyc2lvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb259Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRoaW5FbmdpbmUifWdldCBpc1N0ZW5jaWxFbmFibGUoKXtyZXR1cm4gdGhpcy5faXNTdGVuY2lsRW5hYmxlfV9wcmVwYXJlV29ya2luZ0NhbnZhcygpe2lmKHRoaXMuX3dvcmtpbmdDYW52YXMpcmV0dXJuO3RoaXMuX3dvcmtpbmdDYW52YXM9dGhpcy5jcmVhdGVDYW52YXMoMSwxKTtjb25zdCBlPXRoaXMuX3dvcmtpbmdDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTtlJiYodGhpcy5fd29ya2luZ0NvbnRleHQ9ZSl9cmVzZXRUZXh0dXJlQ2FjaGUoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZSxlKSYmKHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXT1udWxsKTt0aGlzLl9jdXJyZW50VGV4dHVyZUNoYW5uZWw9LTF9Z2V0SW5mbygpe3JldHVybiB0aGlzLmdldEdsSW5mbygpfWdldEdsSW5mbygpe3JldHVybnt2ZW5kb3I6dGhpcy5fZ2xWZW5kb3IscmVuZGVyZXI6dGhpcy5fZ2xSZW5kZXJlcix2ZXJzaW9uOnRoaXMuX2dsVmVyc2lvbn19c2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoZSl7dGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWw9ZSx0aGlzLnJlc2l6ZSgpfWdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCl7cmV0dXJuIHRoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsfWdldExvYWRlZFRleHR1cmVzQ2FjaGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlfWdldENhcHMoKXtyZXR1cm4gdGhpcy5fY2Fwc31zdG9wUmVuZGVyTG9vcChlKXtpZighZSl7dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPTA7cmV0dXJufWNvbnN0IHQ9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuaW5kZXhPZihlKTt0Pj0wJiZ0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5zcGxpY2UodCwxKX1fcmVuZGVyTG9vcCgpe2lmKCF0aGlzLl9jb250ZXh0V2FzTG9zdCl7bGV0IGU9ITA7aWYoKHRoaXMuX2lzRGlzcG9zZWR8fCF0aGlzLnJlbmRlckV2ZW5JbkJhY2tncm91bmQmJnRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZCkmJihlPSExKSxlKXt0aGlzLmJlZ2luRnJhbWUoKTtmb3IobGV0IHQ9MDt0PHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbdF07aSgpfXRoaXMuZW5kRnJhbWUoKX19dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPjA/dGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSk6dGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMX1nZXRSZW5kZXJpbmdDYW52YXMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzfWdldEF1ZGlvQ29udGV4dCgpe3JldHVybiB0aGlzLl9hdWRpb0NvbnRleHR9Z2V0QXVkaW9EZXN0aW5hdGlvbigpe3JldHVybiB0aGlzLl9hdWRpb0Rlc3RpbmF0aW9ufWdldEhvc3RXaW5kb3coKXtyZXR1cm4gamUoKT90aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50JiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldzp3aW5kb3c6bnVsbH1nZXRSZW5kZXJXaWR0aChlPSExKXtyZXR1cm4hZSYmdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0LndpZHRoOnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJXaWR0aDp0aGlzLl9nbC5kcmF3aW5nQnVmZmVyV2lkdGh9Z2V0UmVuZGVySGVpZ2h0KGU9ITEpe3JldHVybiFlJiZ0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQuaGVpZ2h0OnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJIZWlnaHQ6dGhpcy5fZ2wuZHJhd2luZ0J1ZmZlckhlaWdodH1fcXVldWVOZXdGcmFtZShlLHQpe3JldHVybiBvZS5RdWV1ZU5ld0ZyYW1lKGUsdCl9cnVuUmVuZGVyTG9vcChlKXt0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5wdXNoKGUpLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWR8fCh0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSEwLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyTG9vcC5iaW5kKHRoaXMpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpKSl9Y2xlYXIoZSx0LGkscz0hMSl7Y29uc3Qgcj10aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5O3RoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9ITAsdGhpcy5hcHBseVN0YXRlcygpLHRoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9cjtsZXQgbj0wO3QmJmUmJih0aGlzLl9nbC5jbGVhckNvbG9yKGUucixlLmcsZS5iLGUuYSE9PXZvaWQgMD9lLmE6MSksbnw9dGhpcy5fZ2wuQ09MT1JfQlVGRkVSX0JJVCksaSYmKHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuR0VRVUFMLHRoaXMuX2dsLmNsZWFyRGVwdGgoMCkpOnRoaXMuX2dsLmNsZWFyRGVwdGgoMSksbnw9dGhpcy5fZ2wuREVQVEhfQlVGRkVSX0JJVCkscyYmKHRoaXMuX2dsLmNsZWFyU3RlbmNpbCgwKSxufD10aGlzLl9nbC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX2dsLmNsZWFyKG4pfV92aWV3cG9ydChlLHQsaSxzKXsoZSE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnh8fHQhPT10aGlzLl92aWV3cG9ydENhY2hlZC55fHxpIT09dGhpcy5fdmlld3BvcnRDYWNoZWQuenx8cyE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLncpJiYodGhpcy5fdmlld3BvcnRDYWNoZWQueD1lLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9dCx0aGlzLl92aWV3cG9ydENhY2hlZC56PWksdGhpcy5fdmlld3BvcnRDYWNoZWQudz1zLHRoaXMuX2dsLnZpZXdwb3J0KGUsdCxpLHMpKX1zZXRWaWV3cG9ydChlLHQsaSl7Y29uc3Qgcz10fHx0aGlzLmdldFJlbmRlcldpZHRoKCkscj1pfHx0aGlzLmdldFJlbmRlckhlaWdodCgpLG49ZS54fHwwLGE9ZS55fHwwO3RoaXMuX2NhY2hlZFZpZXdwb3J0PWUsdGhpcy5fdmlld3BvcnQobipzLGEqcixzKmUud2lkdGgsciplLmhlaWdodCl9YmVnaW5GcmFtZSgpe31lbmRGcmFtZSgpe3RoaXMuX2JhZE9TJiZ0aGlzLmZsdXNoRnJhbWVidWZmZXIoKSx0aGlzLl9mcmFtZUlkKyt9cmVzaXplKGU9ITEpe2xldCB0LGk7aWYodGhpcy5hZGFwdFRvRGV2aWNlUmF0aW8pe2NvbnN0IHM9amUoKSYmd2luZG93LmRldmljZVBpeGVsUmF0aW98fDEscj10aGlzLl9sYXN0RGV2aWNlUGl4ZWxSYXRpby9zO3RoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPXMsdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWwqPXJ9amUoKT8odD10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudFdpZHRofHx0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6d2luZG93LmlubmVyV2lkdGgsaT10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudEhlaWdodHx8dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHQpOih0PXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6MTAwLGk9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ6MTAwKSx0aGlzLnNldFNpemUodC90aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCxpL3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsLGUpfXNldFNpemUoZSx0LGk9ITEpe3JldHVybiF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fChlPWV8MCx0PXR8MCwhaSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoPT09ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodD09PXQpPyExOih0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0PXQsITApfWJpbmRGcmFtZWJ1ZmZlcihlLHQ9MCxpLHMscixuPTAsYT0wKXt2YXIgbyxoLGwsdSxkO2NvbnN0IF89ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0JiZ0aGlzLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQpLHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ9ZSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKF8uX01TQUFGcmFtZWJ1ZmZlcj9fLl9NU0FBRnJhbWVidWZmZXI6Xy5fZnJhbWVidWZmZXIpO2NvbnN0IGY9dGhpcy5fZ2w7ZS5pc011bHRpfHwoZS5pczJEQXJyYXk/Zi5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihmLkZSQU1FQlVGRkVSLGYuQ09MT1JfQVRUQUNITUVOVDAsKG89ZS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by51bmRlcmx5aW5nUmVzb3VyY2UsbixhKTplLmlzQ3ViZSYmZi5mcmFtZWJ1ZmZlclRleHR1cmUyRChmLkZSQU1FQlVGRkVSLGYuQ09MT1JfQVRUQUNITUVOVDAsZi5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grdCwoaD1lLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwP3ZvaWQgMDpoLnVuZGVybHlpbmdSZXNvdXJjZSxuKSk7Y29uc3QgbT1lLl9kZXB0aFN0ZW5jaWxUZXh0dXJlO2lmKG0pe2NvbnN0IHY9ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsP2YuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UOmYuREVQVEhfQVRUQUNITUVOVDtlLmlzMkRBcnJheT9mLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKGYuRlJBTUVCVUZGRVIsdiwobD1tLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC51bmRlcmx5aW5nUmVzb3VyY2UsbixhKTplLmlzQ3ViZT9mLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGYuRlJBTUVCVUZGRVIsdixmLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCt0LCh1PW0uX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnVuZGVybHlpbmdSZXNvdXJjZSxuKTpmLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGYuRlJBTUVCVUZGRVIsdixmLlRFWFRVUkVfMkQsKGQ9bS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGQ9PT12b2lkIDA/dm9pZCAwOmQudW5kZXJseWluZ1Jlc291cmNlLG4pfXRoaXMuX2NhY2hlZFZpZXdwb3J0JiYhcj90aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0LGkscyk6KGl8fChpPWUud2lkdGgsbiYmKGk9aS9NYXRoLnBvdygyLG4pKSksc3x8KHM9ZS5oZWlnaHQsbiYmKHM9cy9NYXRoLnBvdygyLG4pKSksdGhpcy5fdmlld3BvcnQoMCwwLGkscykpLHRoaXMud2lwZUNhY2hlcygpfXNldFN0YXRlKGUsdD0wLGkscz0hMSxyLG4sYT0wKXt2YXIgbyxoOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsIT09ZXx8aSkmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsPWUpO2NvbnN0IGw9ISgoaD0obz10aGlzLmN1bGxCYWNrRmFjZXMpIT09bnVsbCYmbyE9PXZvaWQgMD9vOnIpIT09bnVsbCYmaCE9PXZvaWQgMCl8fGg/dGhpcy5fZ2wuQkFDSzp0aGlzLl9nbC5GUk9OVDsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbEZhY2UhPT1sfHxpKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGxGYWNlPWwpLHRoaXMuc2V0Wk9mZnNldCh0KSx0aGlzLnNldFpPZmZzZXRVbml0cyhhKTtjb25zdCB1PXM/dGhpcy5fZ2wuQ1c6dGhpcy5fZ2wuQ0NXOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2UhPT11fHxpKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmZyb250RmFjZT11KSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsTWF0ZXJpYWw9bn1nZXREZXB0aEJ1ZmZlcigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3R9c2V0RGVwdGhCdWZmZXIoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PWV9c2V0Wk9mZnNldChlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0PXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9Z2V0Wk9mZnNldCgpe2NvbnN0IGU9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldDtyZXR1cm4gdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX1zZXRaT2Zmc2V0VW5pdHMoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldFVuaXRzPXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9Z2V0Wk9mZnNldFVuaXRzKCl7Y29uc3QgZT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0VW5pdHM7cmV0dXJuIHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9X2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZSl7dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyIT09ZSYmKHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixlKSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9ZSl9X2N1cnJlbnRGcmFtZUJ1ZmZlcklzRGVmYXVsdEZyYW1lQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcj09PW51bGx9Z2VuZXJhdGVNaXBtYXBzKGUpe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcCh0aGlzLl9nbC5URVhUVVJFXzJEKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCl9dW5CaW5kRnJhbWVidWZmZXIoZSx0PSExLGkpe3ZhciBzO2NvbnN0IHI9ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0PW51bGw7Y29uc3Qgbj10aGlzLl9nbDtpZihyLl9NU0FBRnJhbWVidWZmZXIpe2lmKGUuaXNNdWx0aSl7dGhpcy51bkJpbmRNdWx0aUNvbG9yQXR0YWNobWVudEZyYW1lYnVmZmVyKGUsdCxpKTtyZXR1cm59bi5iaW5kRnJhbWVidWZmZXIobi5SRUFEX0ZSQU1FQlVGRkVSLHIuX01TQUFGcmFtZWJ1ZmZlciksbi5iaW5kRnJhbWVidWZmZXIobi5EUkFXX0ZSQU1FQlVGRkVSLHIuX2ZyYW1lYnVmZmVyKSxuLmJsaXRGcmFtZWJ1ZmZlcigwLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsZS53aWR0aCxlLmhlaWdodCxuLkNPTE9SX0JVRkZFUl9CSVQsbi5ORUFSRVNUKX0hKChzPWUudGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5nZW5lcmF0ZU1pcE1hcHMmJiF0JiYhZS5pc0N1YmUmJnRoaXMuZ2VuZXJhdGVNaXBtYXBzKGUudGV4dHVyZSksaSYmKHIuX01TQUFGcmFtZWJ1ZmZlciYmdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihyLl9mcmFtZWJ1ZmZlciksaSgpKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpfWZsdXNoRnJhbWVidWZmZXIoKXt0aGlzLl9nbC5mbHVzaCgpfXJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKXt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fY3VycmVudFJlbmRlclRhcmdldCk6dGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRWaWV3cG9ydCYmdGhpcy5zZXRWaWV3cG9ydCh0aGlzLl9jYWNoZWRWaWV3cG9ydCksdGhpcy53aXBlQ2FjaGVzKCl9X3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpe3RoaXMuYmluZEFycmF5QnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9bnVsbH1jcmVhdGVWZXJ0ZXhCdWZmZXIoZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVZlcnRleEJ1ZmZlcihlLHRoaXMuX2dsLlNUQVRJQ19EUkFXKX1fY3JlYXRlVmVydGV4QnVmZmVyKGUsdCl7Y29uc3QgaT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdmVydGV4IGJ1ZmZlciIpO2NvbnN0IHM9bmV3IExpKGkpO3JldHVybiB0aGlzLmJpbmRBcnJheUJ1ZmZlcihzKSxlIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShlKSx0KTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixlLHQpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpLHMucmVmZXJlbmNlcz0xLHN9Y3JlYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5fY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKX1fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKXt0aGlzLmJpbmRJbmRleEJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1udWxsfWNyZWF0ZUluZGV4QnVmZmVyKGUsdCl7Y29uc3QgaT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKSxzPW5ldyBMaShpKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgaW5kZXggYnVmZmVyIik7dGhpcy5iaW5kSW5kZXhCdWZmZXIocyk7Y29uc3Qgcj10aGlzLl9ub3JtYWxpemVJbmRleERhdGEoZSk7cmV0dXJuIHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIscix0P3RoaXMuX2dsLkRZTkFNSUNfRFJBVzp0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKSxzLnJlZmVyZW5jZXM9MSxzLmlzMzJCaXRzPXIuQllURVNfUEVSX0VMRU1FTlQ9PT00LHN9X25vcm1hbGl6ZUluZGV4RGF0YShlKXtpZihlLkJZVEVTX1BFUl9FTEVNRU5UPT09MilyZXR1cm4gZTtpZih0aGlzLl9jYXBzLnVpbnRJbmRpY2VzKXtpZihlIGluc3RhbmNlb2YgVWludDMyQXJyYXkpcmV0dXJuIGU7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXT49NjU1MzUpcmV0dXJuIG5ldyBVaW50MzJBcnJheShlKTtyZXR1cm4gbmV3IFVpbnQxNkFycmF5KGUpfXJldHVybiBuZXcgVWludDE2QXJyYXkoZSl9YmluZEFycmF5QnVmZmVyKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fYmluZEJ1ZmZlcihlLHRoaXMuX2dsLkFSUkFZX0JVRkZFUil9YmluZFVuaWZvcm1CbG9jayhlLHQsaSl7Y29uc3Qgcz1lLnByb2dyYW0scj10aGlzLl9nbC5nZXRVbmlmb3JtQmxvY2tJbmRleChzLHQpO3RoaXMuX2dsLnVuaWZvcm1CbG9ja0JpbmRpbmcocyxyLGkpfWJpbmRJbmRleEJ1ZmZlcihlKXt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuX2JpbmRCdWZmZXIoZSx0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUil9X2JpbmRCdWZmZXIoZSx0KXsodGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RdIT09ZSkmJih0aGlzLl9nbC5iaW5kQnVmZmVyKHQsZT9lLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKSx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdF09ZSl9dXBkYXRlQXJyYXlCdWZmZXIoZSl7dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCxlKX1fdmVydGV4QXR0cmliUG9pbnRlcihlLHQsaSxzLHIsbixhKXtjb25zdCBvPXRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1t0XTtpZighbylyZXR1cm47bGV0IGg9ITE7by5hY3RpdmU/KG8uYnVmZmVyIT09ZSYmKG8uYnVmZmVyPWUsaD0hMCksby5zaXplIT09aSYmKG8uc2l6ZT1pLGg9ITApLG8udHlwZSE9PXMmJihvLnR5cGU9cyxoPSEwKSxvLm5vcm1hbGl6ZWQhPT1yJiYoby5ub3JtYWxpemVkPXIsaD0hMCksby5zdHJpZGUhPT1uJiYoby5zdHJpZGU9bixoPSEwKSxvLm9mZnNldCE9PWEmJihvLm9mZnNldD1hLGg9ITApKTooaD0hMCxvLmFjdGl2ZT0hMCxvLmluZGV4PXQsby5zaXplPWksby50eXBlPXMsby5ub3JtYWxpemVkPXIsby5zdHJpZGU9bixvLm9mZnNldD1hLG8uYnVmZmVyPWUpLChofHx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzKSYmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHM9PT10aGlzLl9nbC5VTlNJR05FRF9JTlR8fHM9PT10aGlzLl9nbC5JTlQ/dGhpcy5fZ2wudmVydGV4QXR0cmliSVBvaW50ZXIodCxpLHMsbixhKTp0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHQsaSxzLHIsbixhKSl9X2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZShlKXtlIT1udWxsJiZ0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlciE9PWUmJih0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1lLHRoaXMuYmluZEluZGV4QnVmZmVyKGUpLHRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PWUuaXMzMkJpdHMpfV9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSx0LGkpe2NvbnN0IHM9dC5nZXRBdHRyaWJ1dGVzTmFtZXMoKTt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMudW5iaW5kQWxsQXR0cmlidXRlcygpO2ZvcihsZXQgcj0wO3I8cy5sZW5ndGg7cisrKXtjb25zdCBuPXQuZ2V0QXR0cmlidXRlTG9jYXRpb24ocik7aWYobj49MCl7Y29uc3QgYT1zW3JdO2xldCBvPW51bGw7aWYoaSYmKG89aVthXSksb3x8KG89ZVthXSksIW8pY29udGludWU7dGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobiksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8KHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbbl09ITApO2NvbnN0IGg9by5nZXRCdWZmZXIoKTtoJiYodGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihoLG4sby5nZXRTaXplKCksby50eXBlLG8ubm9ybWFsaXplZCxvLmJ5dGVTdHJpZGUsby5ieXRlT2Zmc2V0KSxvLmdldElzSW5zdGFuY2VkKCkmJih0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKG4sby5nZXRJbnN0YW5jZURpdmlzb3IoKSksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8KHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKG4pLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChoKSkpKX19fXJlY29yZFZlcnRleEFycmF5T2JqZWN0KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgVkFPIik7cmV0dXJuIHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITAsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KHIpLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxpLHMpLHRoaXMuYmluZEluZGV4QnVmZmVyKHQpLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KG51bGwpLHJ9YmluZFZlcnRleEFycmF5T2JqZWN0KGUsdCl7dGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3QhPT1lJiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9ZSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkoZSksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGwsdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9dCE9bnVsbCYmdC5pczMyQml0cyx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITApfWJpbmRCdWZmZXJzRGlyZWN0bHkoZSx0LGkscyxyKXtpZih0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzIT09ZXx8dGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycyE9PXIpe3RoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9ZSx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPXI7Y29uc3Qgbj1yLmdldEF0dHJpYnV0ZXNDb3VudCgpO3RoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7bGV0IGE9MDtmb3IobGV0IG89MDtvPG47bysrKWlmKG88aS5sZW5ndGgpe2NvbnN0IGg9ci5nZXRBdHRyaWJ1dGVMb2NhdGlvbihvKTtoPj0wJiYodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaCksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtoXT0hMCx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsaCxpW29dLHRoaXMuX2dsLkZMT0FULCExLHMsYSkpLGErPWlbb10qNH19dGhpcy5fYmluZEluZGV4QnVmZmVyV2l0aENhY2hlKHQpfV91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpe3RoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9bnVsbCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCkpfWJpbmRCdWZmZXJzKGUsdCxpLHMpeyh0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzIT09ZXx8dGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycyE9PWkpJiYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9aSx0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxpLHMpKSx0aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9dW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl7bGV0IGU7Zm9yKGxldCB0PTAsaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVyc1t0XTtlIT1zJiZzLnJlZmVyZW5jZXMmJihlPXMsdGhpcy5iaW5kQXJyYXlCdWZmZXIocykpO2NvbnN0IHI9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zW3RdO3RoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IociwwKX10aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLmxlbmd0aD0wLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5sZW5ndGg9MH1yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QoZSl7dGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXkoZSl9X3JlbGVhc2VCdWZmZXIoZSl7cmV0dXJuIGUucmVmZXJlbmNlcy0tLGUucmVmZXJlbmNlcz09PTA/KHRoaXMuX2RlbGV0ZUJ1ZmZlcihlKSwhMCk6ITF9X2RlbGV0ZUJ1ZmZlcihlKXt0aGlzLl9nbC5kZWxldGVCdWZmZXIoZS51bmRlcmx5aW5nUmVzb3VyY2UpfXVwZGF0ZUFuZEJpbmRJbnN0YW5jZXNCdWZmZXIoZSx0LGkpe2lmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHQmJnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsdCksaVswXS5pbmRleCE9PXZvaWQgMCl0aGlzLmJpbmRJbnN0YW5jZXNCdWZmZXIoZSxpLCEwKTtlbHNlIGZvcihsZXQgcz0wO3M8NDtzKyspe2NvbnN0IHI9aVtzXTt0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3JdfHwodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkociksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtyXT0hMCksdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLHIsNCx0aGlzLl9nbC5GTE9BVCwhMSw2NCxzKjE2KSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKHIsMSksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gociksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpfX1iaW5kSW5zdGFuY2VzQnVmZmVyKGUsdCxpPSEwKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihlKTtsZXQgcz0wO2lmKGkpZm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49dFtyXTtzKz1uLmF0dHJpYnV0ZVNpemUqNH1mb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdO24uaW5kZXg9PT12b2lkIDAmJihuLmluZGV4PXRoaXMuX2N1cnJlbnRFZmZlY3QuZ2V0QXR0cmlidXRlTG9jYXRpb25CeU5hbWUobi5hdHRyaWJ1dGVOYW1lKSksIShuLmluZGV4PDApJiYodGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtuLmluZGV4XXx8KHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4uaW5kZXgpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbbi5pbmRleF09ITApLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxuLmluZGV4LG4uYXR0cmlidXRlU2l6ZSxuLmF0dHJpYnV0ZVR5cGV8fHRoaXMuX2dsLkZMT0FULG4ubm9ybWFsaXplZHx8ITEscyxuLm9mZnNldCksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihuLmluZGV4LG4uZGl2aXNvcj09PXZvaWQgMD8xOm4uZGl2aXNvciksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gobi5pbmRleCksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpKX19ZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlQnlOYW1lKGUpe2lmKCF0aGlzLl9jdXJyZW50RWZmZWN0KXJldHVybjtjb25zdCB0PXRoaXMuX2N1cnJlbnRFZmZlY3QuZ2V0QXR0cmlidXRlTG9jYXRpb25CeU5hbWUoZSk7dGhpcy5kaXNhYmxlSW5zdGFuY2VBdHRyaWJ1dGUodCl9ZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlKGUpe2xldCB0PSExLGk7Zm9yKDsoaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuaW5kZXhPZihlKSkhPT0tMTspdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnNwbGljZShpLDEpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMuc3BsaWNlKGksMSksdD0hMCxpPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5pbmRleE9mKGUpO3QmJih0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsMCksdGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKSl9ZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSl7dGhpcy5fZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV09ITEsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW2VdLmFjdGl2ZT0hMX1kcmF3KGUsdCxpLHMpe3RoaXMuZHJhd0VsZW1lbnRzVHlwZShlPzA6MSx0LGkscyl9ZHJhd1BvaW50Q2xvdWRzKGUsdCxpKXt0aGlzLmRyYXdBcnJheXNUeXBlKDIsZSx0LGkpfWRyYXdVbkluZGV4ZWQoZSx0LGkscyl7dGhpcy5kcmF3QXJyYXlzVHlwZShlPzA6MSx0LGkscyl9ZHJhd0VsZW1lbnRzVHlwZShlLHQsaSxzKXt0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5fcmVwb3J0RHJhd0NhbGwoKTtjb25zdCByPXRoaXMuX2RyYXdNb2RlKGUpLG49dGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ/dGhpcy5fZ2wuVU5TSUdORURfSU5UOnRoaXMuX2dsLlVOU0lHTkVEX1NIT1JULGE9dGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ/NDoyO3M/dGhpcy5fZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKHIsaSxuLHQqYSxzKTp0aGlzLl9nbC5kcmF3RWxlbWVudHMocixpLG4sdCphKX1kcmF3QXJyYXlzVHlwZShlLHQsaSxzKXt0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5fcmVwb3J0RHJhd0NhbGwoKTtjb25zdCByPXRoaXMuX2RyYXdNb2RlKGUpO3M/dGhpcy5fZ2wuZHJhd0FycmF5c0luc3RhbmNlZChyLHQsaSxzKTp0aGlzLl9nbC5kcmF3QXJyYXlzKHIsdCxpKX1fZHJhd01vZGUoZSl7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVTO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuUE9JTlRTO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTElORVM7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5QT0lOVFM7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5MSU5FUztjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLkxJTkVfTE9PUDtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLkxJTkVfU1RSSVA7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRV9TVFJJUDtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFX0ZBTjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRVN9fV9yZXBvcnREcmF3Q2FsbCgpe31fcmVsZWFzZUVmZmVjdChlKXt0aGlzLl9jb21waWxlZEVmZmVjdHNbZS5fa2V5XSYmZGVsZXRlIHRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlLl9rZXldO2NvbnN0IHQ9ZS5nZXRQaXBlbGluZUNvbnRleHQoKTt0JiZ0aGlzLl9kZWxldGVQaXBlbGluZUNvbnRleHQodCl9X2RlbGV0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWU7dCYmdC5wcm9ncmFtJiYodC5wcm9ncmFtLl9fU1BFQ1RPUl9yZWJ1aWxkUHJvZ3JhbT1udWxsLHRoaXMuX2dsLmRlbGV0ZVByb2dyYW0odC5wcm9ncmFtKSl9X2dldEdsb2JhbERlZmluZXMoZSl7aWYoZSl7dGhpcy5pc05EQ0hhbGZaUmFuZ2U/ZS5JU19ORENfSEFMRl9aUkFOR0U9IiI6ZGVsZXRlIGUuSVNfTkRDX0hBTEZfWlJBTkdFLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyP2UuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVI9IiI6ZGVsZXRlIGUuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIsdGhpcy51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucz9lLlVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TPSIiOmRlbGV0ZSBlLlVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TO3JldHVybn1lbHNle2xldCB0PSIiO3JldHVybiB0aGlzLmlzTkRDSGFsZlpSYW5nZSYmKHQrPSIjZGVmaW5lIElTX05EQ19IQUxGX1pSQU5HRSIpLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiYodCYmKHQrPWAKYCksdCs9IiNkZWZpbmUgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIiKSx0aGlzLnVzZUV4YWN0U3JnYkNvbnZlcnNpb25zJiYodCYmKHQrPWAKYCksdCs9IiNkZWZpbmUgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMiKSx0fX1jcmVhdGVFZmZlY3QoZSx0LGkscyxyLG4sYSxvLGgsbD1aZS5HTFNMKXt2YXIgdTtjb25zdCBkPWUudmVydGV4RWxlbWVudHx8ZS52ZXJ0ZXh8fGUudmVydGV4VG9rZW58fGUudmVydGV4U291cmNlfHxlLF89ZS5mcmFnbWVudEVsZW1lbnR8fGUuZnJhZ21lbnR8fGUuZnJhZ21lbnRUb2tlbnx8ZS5mcmFnbWVudFNvdXJjZXx8ZSxmPXRoaXMuX2dldEdsb2JhbERlZmluZXMoKTtsZXQgbT0odT1yPz90LmRlZmluZXMpIT09bnVsbCYmdSE9PXZvaWQgMD91OiIiO2YmJihtKz1mKTtjb25zdCB2PWQrIisiK18rIkAiK207aWYodGhpcy5fY29tcGlsZWRFZmZlY3RzW3ZdKXtjb25zdCBTPXRoaXMuX2NvbXBpbGVkRWZmZWN0c1t2XTtyZXR1cm4gYSYmUy5pc1JlYWR5KCkmJmEoUyksU31jb25zdCBFPW5ldyBEZShlLHQsaSxzLHRoaXMscixuLGEsbyxoLHYsbCk7cmV0dXJuIHRoaXMuX2NvbXBpbGVkRWZmZWN0c1t2XT1FLEV9c3RhdGljIF9Db25jYXRlbmF0ZVNoYWRlcihlLHQsaT0iIil7cmV0dXJuIGkrKHQ/dCtgCmA6IiIpK2V9X2NvbXBpbGVTaGFkZXIoZSx0LGkscyl7cmV0dXJuIHRoaXMuX2NvbXBpbGVSYXdTaGFkZXIob2UuX0NvbmNhdGVuYXRlU2hhZGVyKGUsaSxzKSx0KX1fY29tcGlsZVJhd1NoYWRlcihlLHQpe2NvbnN0IGk9dGhpcy5fZ2wscz1pLmNyZWF0ZVNoYWRlcih0PT09InZlcnRleCI/aS5WRVJURVhfU0hBREVSOmkuRlJBR01FTlRfU0hBREVSKTtpZighcyl7bGV0IHI9aS5OT19FUlJPUixuPWkuTk9fRVJST1I7Zm9yKDsobj1pLmdldEVycm9yKCkpIT09aS5OT19FUlJPUjspcj1uO3Rocm93IG5ldyBFcnJvcihgU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgY3JlYXRpbmcgYSBnbCAke3R9IHNoYWRlciBvYmplY3QuIGdsIGVycm9yPSR7cn0sIGdsIGlzQ29udGV4dExvc3Q9JHtpLmlzQ29udGV4dExvc3QoKX0sIF9jb250ZXh0V2FzTG9zdD0ke3RoaXMuX2NvbnRleHRXYXNMb3N0fWApfXJldHVybiBpLnNoYWRlclNvdXJjZShzLGUpLGkuY29tcGlsZVNoYWRlcihzKSxzfV9nZXRTaGFkZXJTb3VyY2UoZSl7cmV0dXJuIHRoaXMuX2dsLmdldFNoYWRlclNvdXJjZShlKX1jcmVhdGVSYXdTaGFkZXJQcm9ncmFtKGUsdCxpLHMscj1udWxsKXtzPXN8fHRoaXMuX2dsO2NvbnN0IG49dGhpcy5fY29tcGlsZVJhd1NoYWRlcih0LCJ2ZXJ0ZXgiKSxhPXRoaXMuX2NvbXBpbGVSYXdTaGFkZXIoaSwiZnJhZ21lbnQiKTtyZXR1cm4gdGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLG4sYSxzLHIpfWNyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyLG49bnVsbCl7cj1yfHx0aGlzLl9nbDtjb25zdCBhPXRoaXMuX3dlYkdMVmVyc2lvbj4xP2AjdmVyc2lvbiAzMDAgZXMKI2RlZmluZSBXRUJHTDIgCmA6IiIsbz10aGlzLl9jb21waWxlU2hhZGVyKHQsInZlcnRleCIscyxhKSxoPXRoaXMuX2NvbXBpbGVTaGFkZXIoaSwiZnJhZ21lbnQiLHMsYSk7cmV0dXJuIHRoaXMuX2NyZWF0ZVNoYWRlclByb2dyYW0oZSxvLGgscixuKX1pbmxpbmVTaGFkZXJDb2RlKGUpe3JldHVybiBlfWNyZWF0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PW5ldyBmbjtyZXR1cm4gdC5lbmdpbmU9dGhpcyx0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZSYmKHQuaXNQYXJhbGxlbENvbXBpbGVkPSEwKSx0fWNyZWF0ZU1hdGVyaWFsQ29udGV4dCgpe31jcmVhdGVEcmF3Q29udGV4dCgpe31fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHI9bnVsbCl7Y29uc3Qgbj1zLmNyZWF0ZVByb2dyYW0oKTtpZihlLnByb2dyYW09biwhbil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO3JldHVybiBzLmF0dGFjaFNoYWRlcihuLHQpLHMuYXR0YWNoU2hhZGVyKG4saSkscy5saW5rUHJvZ3JhbShuKSxlLmNvbnRleHQ9cyxlLnZlcnRleFNoYWRlcj10LGUuZnJhZ21lbnRTaGFkZXI9aSxlLmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSksbn1fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSl7Y29uc3QgdD1lLmNvbnRleHQsaT1lLnZlcnRleFNoYWRlcixzPWUuZnJhZ21lbnRTaGFkZXIscj1lLnByb2dyYW07aWYoIXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihyLHQuTElOS19TVEFUVVMpKXtpZighdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGksdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpKXtjb25zdCBvPXRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2coaSk7aWYobyl0aHJvdyBlLnZlcnRleENvbXBpbGF0aW9uRXJyb3I9byxuZXcgRXJyb3IoIlZFUlRFWCBTSEFERVIgIitvKX1pZighdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHMsdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpKXtjb25zdCBvPXRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2cocyk7aWYobyl0aHJvdyBlLmZyYWdtZW50Q29tcGlsYXRpb25FcnJvcj1vLG5ldyBFcnJvcigiRlJBR01FTlQgU0hBREVSICIrbyl9Y29uc3QgYT10LmdldFByb2dyYW1JbmZvTG9nKHIpO2lmKGEpdGhyb3cgZS5wcm9ncmFtTGlua0Vycm9yPWEsbmV3IEVycm9yKGEpfWlmKHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcyYmKHQudmFsaWRhdGVQcm9ncmFtKHIpLCF0LmdldFByb2dyYW1QYXJhbWV0ZXIocix0LlZBTElEQVRFX1NUQVRVUykpKXtjb25zdCBvPXQuZ2V0UHJvZ3JhbUluZm9Mb2cocik7aWYobyl0aHJvdyBlLnByb2dyYW1WYWxpZGF0aW9uRXJyb3I9byxuZXcgRXJyb3Iobyl9dC5kZWxldGVTaGFkZXIoaSksdC5kZWxldGVTaGFkZXIocyksZS52ZXJ0ZXhTaGFkZXI9dm9pZCAwLGUuZnJhZ21lbnRTaGFkZXI9dm9pZCAwLGUub25Db21waWxlZCYmKGUub25Db21waWxlZCgpLGUub25Db21waWxlZD12b2lkIDApfV9wcmVwYXJlUGlwZWxpbmVDb250ZXh0KGUsdCxpLHMscixuLGEsbyxoLGwpe2NvbnN0IHU9ZTtzP3UucHJvZ3JhbT10aGlzLmNyZWF0ZVJhd1NoYWRlclByb2dyYW0odSx0LGksdm9pZCAwLGgpOnUucHJvZ3JhbT10aGlzLmNyZWF0ZVNoYWRlclByb2dyYW0odSx0LGksbyx2b2lkIDAsaCksdS5wcm9ncmFtLl9fU1BFQ1RPUl9yZWJ1aWxkUHJvZ3JhbT1hfV9pc1JlbmRlcmluZ1N0YXRlQ29tcGlsZWQoZSl7Y29uc3QgdD1lO3JldHVybiB0aGlzLl9nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHQucHJvZ3JhbSx0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZS5DT01QTEVUSU9OX1NUQVRVU19LSFIpPyh0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dCh0KSwhMCk6ITF9X2V4ZWN1dGVXaGVuUmVuZGVyaW5nU3RhdGVJc0NvbXBpbGVkKGUsdCl7Y29uc3QgaT1lO2lmKCFpLmlzUGFyYWxsZWxDb21waWxlZCl7dCgpO3JldHVybn1jb25zdCBzPWkub25Db21waWxlZDtzP2kub25Db21waWxlZD0oKT0+e3MoKSx0KCl9Omkub25Db21waWxlZD10fWdldFVuaWZvcm1zKGUsdCl7Y29uc3QgaT1uZXcgQXJyYXkscz1lO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWkucHVzaCh0aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24ocy5wcm9ncmFtLHRbcl0pKTtyZXR1cm4gaX1nZXRBdHRyaWJ1dGVzKGUsdCl7Y29uc3QgaT1bXSxzPWU7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspdHJ5e2kucHVzaCh0aGlzLl9nbC5nZXRBdHRyaWJMb2NhdGlvbihzLnByb2dyYW0sdFtyXSkpfWNhdGNoe2kucHVzaCgtMSl9cmV0dXJuIGl9ZW5hYmxlRWZmZWN0KGUpe2U9ZSE9PW51bGwmJnZpLklzV3JhcHBlcihlKT9lLmVmZmVjdDplLCEoIWV8fGU9PT10aGlzLl9jdXJyZW50RWZmZWN0KSYmKHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnN0ZW5jaWxNYXRlcmlhbD12b2lkIDAsZT1lLHRoaXMuYmluZFNhbXBsZXJzKGUpLHRoaXMuX2N1cnJlbnRFZmZlY3Q9ZSxlLm9uQmluZCYmZS5vbkJpbmQoZSksZS5fb25CaW5kT2JzZXJ2YWJsZSYmZS5fb25CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfXNldEludChlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWkoZSx0KSwhMCk6ITF9c2V0SW50MihlLHQsaSl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0yaShlLHQsaSksITApOiExfXNldEludDMoZSx0LGkscyl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zaShlLHQsaSxzKSwhMCk6ITF9c2V0SW50NChlLHQsaSxzLHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNGkoZSx0LGkscyxyKSwhMCk6ITF9c2V0SW50QXJyYXkoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTFpdihlLHQpLCEwKTohMX1zZXRJbnRBcnJheTIoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0yaXYoZSx0KSwhMCl9c2V0SW50QXJyYXkzKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTMhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtM2l2KGUsdCksITApfXNldEludEFycmF5NChlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCU0IT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTRpdihlLHQpLCEwKX1zZXRVSW50KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xdWkoZSx0KSwhMCk6ITF9c2V0VUludDIoZSx0LGkpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMnVpKGUsdCxpKSwhMCk6ITF9c2V0VUludDMoZSx0LGkscyl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zdWkoZSx0LGkscyksITApOiExfXNldFVJbnQ0KGUsdCxpLHMscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00dWkoZSx0LGkscyxyKSwhMCk6ITF9c2V0VUludEFycmF5KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xdWl2KGUsdCksITApOiExfXNldFVJbnRBcnJheTIoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0ydWl2KGUsdCksITApfXNldFVJbnRBcnJheTMoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMyE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0zdWl2KGUsdCksITApfXNldFVJbnRBcnJheTQoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00dWl2KGUsdCksITApfXNldEFycmF5KGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoPDE/ITE6KHRoaXMuX2dsLnVuaWZvcm0xZnYoZSx0KSwhMCl9c2V0QXJyYXkyKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTIhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtMmZ2KGUsdCksITApfXNldEFycmF5MyhlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTNmdihlLHQpLCEwKX1zZXRBcnJheTQoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00ZnYoZSx0KSwhMCl9c2V0TWF0cmljZXMoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDRmdihlLCExLHQpLCEwKTohMX1zZXRNYXRyaXgzeDMoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDNmdihlLCExLHQpLCEwKTohMX1zZXRNYXRyaXgyeDIoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDJmdihlLCExLHQpLCEwKTohMX1zZXRGbG9hdChlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWYoZSx0KSwhMCk6ITF9c2V0RmxvYXQyKGUsdCxpKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJmKGUsdCxpKSwhMCk6ITF9c2V0RmxvYXQzKGUsdCxpLHMpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtM2YoZSx0LGkscyksITApOiExfXNldEZsb2F0NChlLHQsaSxzLHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNGYoZSx0LGkscyxyKSwhMCk6ITF9YXBwbHlTdGF0ZXMoKXtpZih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5hcHBseSh0aGlzLl9nbCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2FscGhhU3RhdGUuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkKXt0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMTtjb25zdCBlPXRoaXMuX2NvbG9yV3JpdGU7dGhpcy5fZ2wuY29sb3JNYXNrKGUsZSxlLGUpfX1zZXRDb2xvcldyaXRlKGUpe2UhPT10aGlzLl9jb2xvcldyaXRlJiYodGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fY29sb3JXcml0ZT1lKX1nZXRDb2xvcldyaXRlKCl7cmV0dXJuIHRoaXMuX2NvbG9yV3JpdGV9Z2V0IGRlcHRoQ3VsbGluZ1N0YXRlKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlfWdldCBhbHBoYVN0YXRlKCl7cmV0dXJuIHRoaXMuX2FscGhhU3RhdGV9Z2V0IHN0ZW5jaWxTdGF0ZSgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGV9Z2V0IHN0ZW5jaWxTdGF0ZUNvbXBvc2VyKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyfWNsZWFySW50ZXJuYWxUZXh0dXJlc0NhY2hlKCl7dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLmxlbmd0aD0wfXdpcGVDYWNoZXMoZSl7dGhpcy5wcmV2ZW50Q2FjaGVXaXBlQmV0d2VlbkZyYW1lcyYmIWV8fCh0aGlzLl9jdXJyZW50RWZmZWN0PW51bGwsdGhpcy5fdmlld3BvcnRDYWNoZWQueD0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9MCx0aGlzLl92aWV3cG9ydENhY2hlZC56PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQudz0wLHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksZSYmKHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5yZXNldFRleHR1cmVDYWNoZSgpLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnJlc2V0KCksdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUucmVzZXQoKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuTEVRVUFMLHRoaXMuX2FscGhhU3RhdGUucmVzZXQoKSx0aGlzLl9hbHBoYU1vZGU9MSx0aGlzLl9hbHBoYUVxdWF0aW9uPTAsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1udWxsLHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLDApLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCksdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIobnVsbCkpfV9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMuX2dsO2xldCBzPWkuTkVBUkVTVCxyPWkuTkVBUkVTVDtzd2l0Y2goZSl7Y2FzZSAxMTpzPWkuTElORUFSLHQ/cj1pLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDpyPWkuTElORUFSO2JyZWFrO2Nhc2UgMzpzPWkuTElORUFSLHQ/cj1pLkxJTkVBUl9NSVBNQVBfTElORUFSOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA4OnM9aS5ORUFSRVNULHQ/cj1pLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjpyPWkuTkVBUkVTVDticmVhaztjYXNlIDQ6cz1pLk5FQVJFU1QsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDpyPWkuTkVBUkVTVDticmVhaztjYXNlIDU6cz1pLk5FQVJFU1QsdD9yPWkuTElORUFSX01JUE1BUF9ORUFSRVNUOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA2OnM9aS5ORUFSRVNULHQ/cj1pLkxJTkVBUl9NSVBNQVBfTElORUFSOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA3OnM9aS5ORUFSRVNULHI9aS5MSU5FQVI7YnJlYWs7Y2FzZSAxOnM9aS5ORUFSRVNULHI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgOTpzPWkuTElORUFSLHQ/cj1pLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6cj1pLk5FQVJFU1Q7YnJlYWs7Y2FzZSAxMDpzPWkuTElORUFSLHQ/cj1pLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjpyPWkuTkVBUkVTVDticmVhaztjYXNlIDI6cz1pLkxJTkVBUixyPWkuTElORUFSO2JyZWFrO2Nhc2UgMTI6cz1pLkxJTkVBUixyPWkuTkVBUkVTVDticmVha31yZXR1cm57bWluOnIsbWFnOnN9fV9jcmVhdGVUZXh0dXJlKCl7Y29uc3QgZT10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHRleHR1cmUiKTtyZXR1cm4gZX1fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCl7cmV0dXJuIG5ldyBucih0aGlzLl9jcmVhdGVUZXh0dXJlKCksdGhpcy5fZ2wpfV9jcmVhdGVJbnRlcm5hbFRleHR1cmUoZSx0LGk9ITAscz1MZS5Vbmtub3duKXt2YXIgcjtsZXQgbj0hMSxhPTAsbz0zLGg9NSxsPSExLHU9MSxkO3QhPT12b2lkIDAmJnR5cGVvZiB0PT0ib2JqZWN0Ij8obj0hIXQuZ2VuZXJhdGVNaXBNYXBzLGE9dC50eXBlPT09dm9pZCAwPzA6dC50eXBlLG89dC5zYW1wbGluZ01vZGU9PT12b2lkIDA/Mzp0LnNhbXBsaW5nTW9kZSxoPXQuZm9ybWF0PT09dm9pZCAwPzU6dC5mb3JtYXQsbD10LnVzZVNSR0JCdWZmZXI9PT12b2lkIDA/ITE6dC51c2VTUkdCQnVmZmVyLHU9KHI9dC5zYW1wbGVzKSE9PW51bGwmJnIhPT12b2lkIDA/cjoxLGQ9dC5sYWJlbCk6bj0hIXQsbCYmKGw9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJih0aGlzLndlYkdMVmVyc2lvbj4xfHx0aGlzLmlzV2ViR1BVKSksKGE9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGE9PT0yJiYhdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSYmKG89MSksYT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmKGE9MCxPLldhcm4oIkZsb2F0IHRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkLiBUeXBlIGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTlNJR05FRF9CWVRFIikpO2NvbnN0IF89dGhpcy5fZ2wsZj1uZXcgTHQodGhpcyxzKSxtPWUud2lkdGh8fGUsdj1lLmhlaWdodHx8ZSxFPWUubGF5ZXJzfHwwLFM9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKG8sbiksUj1FIT09MD9fLlRFWFRVUkVfMkRfQVJSQVk6Xy5URVhUVVJFXzJELEE9dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoYSxoLGwpLEM9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoaCksYj10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGEpO3JldHVybiB0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KFIsZiksRSE9PTA/KGYuaXMyREFycmF5PSEwLF8udGV4SW1hZ2UzRChSLDAsQSxtLHYsRSwwLEMsYixudWxsKSk6Xy50ZXhJbWFnZTJEKFIsMCxBLG0sdiwwLEMsYixudWxsKSxfLnRleFBhcmFtZXRlcmkoUixfLlRFWFRVUkVfTUFHX0ZJTFRFUixTLm1hZyksXy50ZXhQYXJhbWV0ZXJpKFIsXy5URVhUVVJFX01JTl9GSUxURVIsUy5taW4pLF8udGV4UGFyYW1ldGVyaShSLF8uVEVYVFVSRV9XUkFQX1MsXy5DTEFNUF9UT19FREdFKSxfLnRleFBhcmFtZXRlcmkoUixfLlRFWFRVUkVfV1JBUF9ULF8uQ0xBTVBfVE9fRURHRSksbiYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoUiksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShSLG51bGwpLGYuX3VzZVNSR0JCdWZmZXI9bCxmLmJhc2VXaWR0aD1tLGYuYmFzZUhlaWdodD12LGYud2lkdGg9bSxmLmhlaWdodD12LGYuZGVwdGg9RSxmLmlzUmVhZHk9ITAsZi5zYW1wbGVzPXUsZi5nZW5lcmF0ZU1pcE1hcHM9bixmLnNhbXBsaW5nTW9kZT1vLGYudHlwZT1hLGYuZm9ybWF0PWgsZi5sYWJlbD1kLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKGYpLGZ9X2dldFVzZVNSR0JCdWZmZXIoZSx0KXtyZXR1cm4gZSYmdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJih0aGlzLndlYkdMVmVyc2lvbj4xfHx0aGlzLmlzV2ViR1BVfHx0KX1fY3JlYXRlVGV4dHVyZUJhc2UoZSx0LGkscyxyPTMsbj1udWxsLGE9bnVsbCxvLGgsbD1udWxsLHU9bnVsbCxkPW51bGwsXz1udWxsLGYsbSx2KXtlPWV8fCIiO2NvbnN0IEU9ZS5zdWJzdHIoMCw1KT09PSJkYXRhOiIsUz1lLnN1YnN0cigwLDUpPT09ImJsb2I6IixSPUUmJmUuaW5kZXhPZigiO2Jhc2U2NCwiKSE9PS0xLEE9dXx8bmV3IEx0KHRoaXMsTGUuVXJsKTtBIT09dSYmKEEubGFiZWw9ZS5zdWJzdHJpbmcoMCw2MCkpO2NvbnN0IEM9ZTt0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsJiYhUiYmIXUmJiFsJiYoZT10aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsKGUpKSxDIT09ZSYmKEEuX29yaWdpbmFsVXJsPUMpO2NvbnN0IGI9ZS5sYXN0SW5kZXhPZigiLiIpO2xldCB4PV98fChiPi0xP2Uuc3Vic3RyaW5nKGIpLnRvTG93ZXJDYXNlKCk6IiIpLEk9bnVsbDt4LmluZGV4T2YoIj8iKT4tMSYmKHg9eC5zcGxpdCgiPyIpWzBdKTtmb3IoY29uc3QgcSBvZiBvZS5fVGV4dHVyZUxvYWRlcnMpaWYocS5jYW5Mb2FkKHgsZikpe0k9cTticmVha31zJiZzLmFkZFBlbmRpbmdEYXRhKEEpLEEudXJsPWUsQS5nZW5lcmF0ZU1pcE1hcHM9IXQsQS5zYW1wbGluZ01vZGU9cixBLmludmVydFk9aSxBLl91c2VTUkdCQnVmZmVyPXRoaXMuX2dldFVzZVNSR0JCdWZmZXIoISF2LHQpLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fChBLl9idWZmZXI9bCk7bGV0IGs9bnVsbDtuJiYhdSYmKGs9QS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKG4pKSx1fHx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChBKTtjb25zdCBtZT0ocSxkZSk9PntzJiZzLnJlbW92ZVBlbmRpbmdEYXRhKEEpLGU9PT1DPyhrJiZBLm9uTG9hZGVkT2JzZXJ2YWJsZS5yZW1vdmUoayksY2UuVXNlRmFsbGJhY2tUZXh0dXJlJiZ0aGlzLl9jcmVhdGVUZXh0dXJlQmFzZShjZS5GYWxsYmFja1RleHR1cmUsdCxBLmludmVydFkscyxyLG51bGwsYSxvLGgsbCxBKSxxPShxfHwiVW5rbm93biBlcnJvciIpKyhjZS5Vc2VGYWxsYmFja1RleHR1cmU/IiAtIEZhbGxiYWNrIHRleHR1cmUgd2FzIHVzZWQiOiIiKSxBLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7bWVzc2FnZTpxLGV4Y2VwdGlvbjpkZX0pLGEmJmEocSxkZSkpOihPLldhcm4oYEZhaWxlZCB0byBsb2FkICR7ZX0sIGZhbGxpbmcgYmFjayB0byAke0N9YCksdGhpcy5fY3JlYXRlVGV4dHVyZUJhc2UoQyx0LEEuaW52ZXJ0WSxzLHIsbixhLG8saCxsLEEsZCxfLGYsbSx2KSl9O2lmKEkpe2NvbnN0IHE9ZGU9PntJLmxvYWREYXRhKGRlLEEsKGllLGJlLE1lLEhlLEtlLFllKT0+e1llP21lKCJUZXh0dXJlTG9hZGVyIGZhaWxlZCB0byBsb2FkIGRhdGEiKTpvKEEseCxzLHt3aWR0aDppZSxoZWlnaHQ6YmV9LEEuaW52ZXJ0WSwhTWUsSGUsKCk9PihLZSgpLCExKSxyKX0sbSl9O2w/bCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3EobmV3IFVpbnQ4QXJyYXkobCkpOkFycmF5QnVmZmVyLmlzVmlldyhsKT9xKGwpOmEmJmEoIlVuYWJsZSB0byBsb2FkOiBvbmx5IEFycmF5QnVmZmVyIG9yIEFycmF5QnVmZmVyVmlldyBpcyBzdXBwb3J0ZWQiLG51bGwpOnRoaXMuX2xvYWRGaWxlKGUsZGU9PnEobmV3IFVpbnQ4QXJyYXkoZGUpKSx2b2lkIDAscz9zLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAsITAsKGRlLGllKT0+e21lKCJVbmFibGUgdG8gbG9hZCAiKyhkZSYmZGUucmVzcG9uc2VVUkwsaWUpKX0pfWVsc2V7Y29uc3QgcT1kZT0+e1MmJiF0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0JiYoQS5fYnVmZmVyPWRlKSxvKEEseCxzLGRlLEEuaW52ZXJ0WSx0LCExLGgscil9OyFFfHxSP2wmJih0eXBlb2YgbC5kZWNvZGluZz09InN0cmluZyJ8fGwuY2xvc2UpP3EobCk6b2UuX0ZpbGVUb29sc0xvYWRJbWFnZShlLHEsbWUscz9zLm9mZmxpbmVQcm92aWRlcjpudWxsLGYsQS5pbnZlcnRZJiZ0aGlzLl9mZWF0dXJlcy5uZWVkc0ludmVydGluZ0JpdG1hcD97aW1hZ2VPcmllbnRhdGlvbjoiZmxpcFkifTp2b2lkIDApOnR5cGVvZiBsPT0ic3RyaW5nInx8bCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcobCl8fGwgaW5zdGFuY2VvZiBCbG9iP29lLl9GaWxlVG9vbHNMb2FkSW1hZ2UobCxxLG1lLHM/cy5vZmZsaW5lUHJvdmlkZXI6bnVsbCxmLEEuaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTpsJiZxKGwpfXJldHVybiBBfWNyZWF0ZVRleHR1cmUoZSx0LGkscyxyPTMsbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCx1PW51bGwsZCxfLGYsbSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKGUsdCxpLHMscixuLGEsdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZS5iaW5kKHRoaXMpLCh2LEUsUyxSLEEsQyk9Pntjb25zdCBiPXRoaXMuX2dsLHg9Uy53aWR0aD09PXYmJlMuaGVpZ2h0PT09RSxJPWw/dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQobCxBLl91c2VTUkdCQnVmZmVyKTpSPT09Ii5qcGciJiYhQS5fdXNlU1JHQkJ1ZmZlcj9iLlJHQjpBLl91c2VTUkdCQnVmZmVyP2IuU1JHQjhfQUxQSEE4OmIuUkdCQTtsZXQgVT1sP3RoaXMuX2dldEludGVybmFsRm9ybWF0KGwpOlI9PT0iLmpwZyImJiFBLl91c2VTUkdCQnVmZmVyP2IuUkdCOmIuUkdCQTtpZihBLl91c2VTUkdCQnVmZmVyJiZ0aGlzLndlYkdMVmVyc2lvbj09PTEmJihVPUkpLHgpcmV0dXJuIGIudGV4SW1hZ2UyRChiLlRFWFRVUkVfMkQsMCxJLFUsYi5VTlNJR05FRF9CWVRFLFMpLCExO2NvbnN0IGs9dGhpcy5fY2Fwcy5tYXhUZXh0dXJlU2l6ZTtpZihTLndpZHRoPmt8fFMuaGVpZ2h0Pmt8fCF0aGlzLl9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZylyZXR1cm4gdGhpcy5fcHJlcGFyZVdvcmtpbmdDYW52YXMoKSwhdGhpcy5fd29ya2luZ0NhbnZhc3x8IXRoaXMuX3dvcmtpbmdDb250ZXh0fHwodGhpcy5fd29ya2luZ0NhbnZhcy53aWR0aD12LHRoaXMuX3dvcmtpbmdDYW52YXMuaGVpZ2h0PUUsdGhpcy5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKFMsMCwwLFMud2lkdGgsUy5oZWlnaHQsMCwwLHYsRSksYi50ZXhJbWFnZTJEKGIuVEVYVFVSRV8yRCwwLEksVSxiLlVOU0lHTkVEX0JZVEUsdGhpcy5fd29ya2luZ0NhbnZhcyksQS53aWR0aD12LEEuaGVpZ2h0PUUpLCExO3tjb25zdCBtZT1uZXcgTHQodGhpcyxMZS5UZW1wKTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGIuVEVYVFVSRV8yRCxtZSwhMCksYi50ZXhJbWFnZTJEKGIuVEVYVFVSRV8yRCwwLEksVSxiLlVOU0lHTkVEX0JZVEUsUyksdGhpcy5fcmVzY2FsZVRleHR1cmUobWUsQSxzLEksKCk9Pnt0aGlzLl9yZWxlYXNlVGV4dHVyZShtZSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShiLlRFWFRVUkVfMkQsQSwhMCksQygpfSl9cmV0dXJuITB9LG8saCxsLHUsZCxfLG0pfXN0YXRpYyBfRmlsZVRvb2xzTG9hZEltYWdlKGUsdCxpLHMscixuKXt0aHJvdyBRKCJGaWxlVG9vbHMiKX1fcmVzY2FsZVRleHR1cmUoZSx0LGkscyxyKXt9Y3JlYXRlUmF3VGV4dHVyZShlLHQsaSxzLHIsbixhLG89bnVsbCxoPTAsbD0wLHU9ITEpe3Rocm93IFEoIkVuZ2luZS5SYXdUZXh0dXJlIil9Y3JlYXRlUmF3Q3ViZVRleHR1cmUoZSx0LGkscyxyLG4sYSxvPW51bGwpe3Rocm93IFEoIkVuZ2luZS5SYXdUZXh0dXJlIil9Y3JlYXRlUmF3VGV4dHVyZTNEKGUsdCxpLHMscixuLGEsbyxoPW51bGwsbD0wKXt0aHJvdyBRKCJFbmdpbmUuUmF3VGV4dHVyZSIpfWNyZWF0ZVJhd1RleHR1cmUyREFycmF5KGUsdCxpLHMscixuLGEsbyxoPW51bGwsbD0wKXt0aHJvdyBRKCJFbmdpbmUuUmF3VGV4dHVyZSIpfV91bnBhY2tGbGlwWShlKXt0aGlzLl91bnBhY2tGbGlwWUNhY2hlZCE9PWUmJih0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGU/MTowKSx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkJiYodGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9ZSkpfV9nZXRVbnBhY2tBbGlnbmVtZW50KCl7cmV0dXJuIHRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5VTlBBQ0tfQUxJR05NRU5UKX1fZ2V0VGV4dHVyZVRhcmdldChlKXtyZXR1cm4gZS5pc0N1YmU/dGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUDplLmlzM0Q/dGhpcy5fZ2wuVEVYVFVSRV8zRDplLmlzMkRBcnJheXx8ZS5pc011bHRpdmlldz90aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZOnRoaXMuX2dsLlRFWFRVUkVfMkR9dXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZShlLHQsaT0hMSl7Y29uc3Qgcz10aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KHQpLHI9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGUsdC51c2VNaXBNYXBzfHxpKTt0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihzLHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUixyLm1hZyx0KSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihzLHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUixyLm1pbiksaSYmKHQuZ2VuZXJhdGVNaXBNYXBzPSEwLHRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKHMpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsbnVsbCksdC5zYW1wbGluZ01vZGU9ZX11cGRhdGVUZXh0dXJlRGltZW5zaW9ucyhlLHQsaSxzPTEpe311cGRhdGVUZXh0dXJlV3JhcHBpbmdNb2RlKGUsdCxpPW51bGwscz1udWxsKXtjb25zdCByPXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSk7dCE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihyLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0KSxlKSxlLl9jYWNoZWRXcmFwVT10KSxpIT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKGkpLGUpLGUuX2NhY2hlZFdyYXBWPWkpLChlLmlzMkRBcnJheXx8ZS5pczNEKSYmcyE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihyLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9SLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZShzKSxlKSxlLl9jYWNoZWRXcmFwUj1zKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbnVsbCl9X3NldHVwRGVwdGhTdGVuY2lsVGV4dHVyZShlLHQsaSxzLHIsbj0xKXtjb25zdCBhPXQud2lkdGh8fHQsbz10LmhlaWdodHx8dCxoPXQubGF5ZXJzfHwwO2UuYmFzZVdpZHRoPWEsZS5iYXNlSGVpZ2h0PW8sZS53aWR0aD1hLGUuaGVpZ2h0PW8sZS5pczJEQXJyYXk9aD4wLGUuZGVwdGg9aCxlLmlzUmVhZHk9ITAsZS5zYW1wbGVzPW4sZS5nZW5lcmF0ZU1pcE1hcHM9ITEsZS5zYW1wbGluZ01vZGU9cz8yOjEsZS50eXBlPTAsZS5fY29tcGFyaXNvbkZ1bmN0aW9uPXI7Y29uc3QgbD10aGlzLl9nbCx1PXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSksZD10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZS5zYW1wbGluZ01vZGUsITEpO2wudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9NQUdfRklMVEVSLGQubWFnKSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfTUlOX0ZJTFRFUixkLm1pbiksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX1dSQVBfUyxsLkNMQU1QX1RPX0VER0UpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9XUkFQX1QsbC5DTEFNUF9UT19FREdFKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYocj09PTA/KGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGwuTk9ORSkpOihsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHIpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX01PREUsbC5DT01QQVJFX1JFRl9UT19URVhUVVJFKSkpfV91cGxvYWRDb21wcmVzc2VkRGF0YVRvVGV4dHVyZURpcmVjdGx5KGUsdCxpLHMscixuPTAsYT0wKXtjb25zdCBvPXRoaXMuX2dsO2xldCBoPW8uVEVYVFVSRV8yRDtpZihlLmlzQ3ViZSYmKGg9by5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbiksZS5fdXNlU1JHQkJ1ZmZlcilzd2l0Y2godCl7Y2FzZSAzNzQ5MjpjYXNlIDM2MTk2OnRoaXMuX2NhcHMuZXRjMj90PW8uQ09NUFJFU1NFRF9TUkdCOF9FVEMyOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNzQ5Njp0aGlzLl9jYXBzLmV0YzI/dD1vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNjQ5Mjp0PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUO2JyZWFrO2Nhc2UgMzc4MDg6dD1vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUjticmVhaztjYXNlIDMzNzc2OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9by5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2Nhc2UgMzM3Nzc6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD1vLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzMzc3OTp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztkZWZhdWx0OmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWt9dGhpcy5fZ2wuY29tcHJlc3NlZFRleEltYWdlMkQoaCxhLHQsaSxzLDAscil9X3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseShlLHQsaT0wLHM9MCxyLG49ITEpe2NvbnN0IGE9dGhpcy5fZ2wsbz10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksaD10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCksbD1yPT09dm9pZCAwP3RoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUudHlwZSxlLmZvcm1hdCxlLl91c2VTUkdCQnVmZmVyKTp0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChyLGUuX3VzZVNSR0JCdWZmZXIpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IHU9YS5URVhUVVJFXzJEO2UuaXNDdWJlJiYodT1hLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpKTtjb25zdCBkPU1hdGgucm91bmQoTWF0aC5sb2coZS53aWR0aCkqTWF0aC5MT0cyRSksXz1NYXRoLnJvdW5kKE1hdGgubG9nKGUuaGVpZ2h0KSpNYXRoLkxPRzJFKSxmPW4/ZS53aWR0aDpNYXRoLnBvdygyLE1hdGgubWF4KGQtcywwKSksbT1uP2UuaGVpZ2h0Ok1hdGgucG93KDIsTWF0aC5tYXgoXy1zLDApKTthLnRleEltYWdlMkQodSxzLGwsZixtLDAsaCxvLHQpfXVwZGF0ZVRleHR1cmVEYXRhKGUsdCxpLHMscixuLGE9MCxvPTAsaD0hMSl7Y29uc3QgbD10aGlzLl9nbCx1PXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxkPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KTt0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO2xldCBfPWwuVEVYVFVSRV8yRCxmPWwuVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKGY9bC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grYSxfPWwuVEVYVFVSRV9DVUJFX01BUCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShfLGUsITApLGwudGV4U3ViSW1hZ2UyRChmLG8saSxzLHIsbixkLHUsdCksaCYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoZiksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShfLG51bGwpfV91cGxvYWRBcnJheUJ1ZmZlclZpZXdUb1RleHR1cmUoZSx0LGk9MCxzPTApe2NvbnN0IHI9dGhpcy5fZ2wsbj1lLmlzQ3ViZT9yLlRFWFRVUkVfQ1VCRV9NQVA6ci5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobixlLCEwKSx0aGlzLl91cGxvYWREYXRhVG9UZXh0dXJlRGlyZWN0bHkoZSx0LGkscyksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLG51bGwsITApfV9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsdCxpLHMscil7Y29uc3Qgbj10aGlzLl9nbDtpZighbilyZXR1cm47Y29uc3QgYT10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMociwhaSk7bi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUFHX0ZJTFRFUixhLm1hZyksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUlOX0ZJTFRFUixhLm1pbiksIWkmJiFzJiZuLmdlbmVyYXRlTWlwbWFwKG4uVEVYVFVSRV8yRCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLlRFWFRVUkVfMkQsbnVsbCksdCYmdC5yZW1vdmVQZW5kaW5nRGF0YShlKSxlLm9uTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksZS5vbkxvYWRlZE9ic2VydmFibGUuY2xlYXIoKX1fcHJlcGFyZVdlYkdMVGV4dHVyZShlLHQsaSxzLHIsbixhLG8saD0zKXtjb25zdCBsPXRoaXMuZ2V0Q2FwcygpLm1heFRleHR1cmVTaXplLHU9TWF0aC5taW4obCx0aGlzLm5lZWRQT1RUZXh0dXJlcz9vZS5HZXRFeHBvbmVudE9mVHdvKHMud2lkdGgsbCk6cy53aWR0aCksZD1NYXRoLm1pbihsLHRoaXMubmVlZFBPVFRleHR1cmVzP29lLkdldEV4cG9uZW50T2ZUd28ocy5oZWlnaHQsbCk6cy5oZWlnaHQpLF89dGhpcy5fZ2w7aWYoXyl7aWYoIWUuX2hhcmR3YXJlVGV4dHVyZSl7aSYmaS5yZW1vdmVQZW5kaW5nRGF0YShlKTtyZXR1cm59dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShfLlRFWFRVUkVfMkQsZSwhMCksdGhpcy5fdW5wYWNrRmxpcFkocj09PXZvaWQgMD8hMDohIXIpLGUuYmFzZVdpZHRoPXMud2lkdGgsZS5iYXNlSGVpZ2h0PXMuaGVpZ2h0LGUud2lkdGg9dSxlLmhlaWdodD1kLGUuaXNSZWFkeT0hMCwhbyh1LGQscyx0LGUsKCk9Pnt0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsaSxuLGEsaCl9KSYmdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZUNvbnRpbnVhdGlvbihlLGksbixhLGgpfX1fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoZSx0LGkscyxyPTEpe2NvbnN0IG49dGhpcy5fZ2w7aWYoZSYmdClyZXR1cm4gdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkscyxyLG4uREVQVEhfU1RFTkNJTCxuLkRFUFRIMjRfU1RFTkNJTDgsbi5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQpO2lmKHQpe2xldCBhPW4uREVQVEhfQ09NUE9ORU5UMTY7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xJiYoYT1uLkRFUFRIX0NPTVBPTkVOVDMyRiksdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkscyxyLGEsYSxuLkRFUFRIX0FUVEFDSE1FTlQpfXJldHVybiBlP3RoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihpLHMscixuLlNURU5DSUxfSU5ERVg4LG4uU1RFTkNJTF9JTkRFWDgsbi5TVEVOQ0lMX0FUVEFDSE1FTlQpOm51bGx9X2NyZWF0ZVJlbmRlckJ1ZmZlcihlLHQsaSxzLHIsbixhPSEwKXtjb25zdCBoPXRoaXMuX2dsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLl91cGRhdGVSZW5kZXJCdWZmZXIoaCxlLHQsaSxzLHIsbixhKX1fdXBkYXRlUmVuZGVyQnVmZmVyKGUsdCxpLHMscixuLGEsbz0hMCl7Y29uc3QgaD10aGlzLl9nbDtyZXR1cm4gaC5iaW5kUmVuZGVyYnVmZmVyKGguUkVOREVSQlVGRkVSLGUpLHM+MSYmaC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/aC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoaC5SRU5ERVJCVUZGRVIscyxuLHQsaSk6aC5yZW5kZXJidWZmZXJTdG9yYWdlKGguUkVOREVSQlVGRkVSLHIsdCxpKSxoLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGguRlJBTUVCVUZGRVIsYSxoLlJFTkRFUkJVRkZFUixlKSxvJiZoLmJpbmRSZW5kZXJidWZmZXIoaC5SRU5ERVJCVUZGRVIsbnVsbCksZX1fcmVsZWFzZVRleHR1cmUoZSl7dmFyIHQ7dGhpcy5fZGVsZXRlVGV4dHVyZSgodD1lLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC51bmRlcmx5aW5nUmVzb3VyY2UpLHRoaXMudW5iaW5kQWxsVGV4dHVyZXMoKTtjb25zdCBpPXRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5pbmRleE9mKGUpO2khPT0tMSYmdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnNwbGljZShpLDEpLGUuX2xvZFRleHR1cmVIaWdoJiZlLl9sb2RUZXh0dXJlSGlnaC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZU1pZCYmZS5fbG9kVGV4dHVyZU1pZC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZUxvdyYmZS5fbG9kVGV4dHVyZUxvdy5kaXNwb3NlKCksZS5faXJyYWRpYW5jZVRleHR1cmUmJmUuX2lycmFkaWFuY2VUZXh0dXJlLmRpc3Bvc2UoKX1fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSl7Y29uc3QgdD10aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuaW5kZXhPZihlKTt0IT09LTEmJnRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zcGxpY2UodCwxKX1fZGVsZXRlVGV4dHVyZShlKXtlJiZ0aGlzLl9nbC5kZWxldGVUZXh0dXJlKGUpfV9zZXRQcm9ncmFtKGUpe3RoaXMuX2N1cnJlbnRQcm9ncmFtIT09ZSYmKHRoaXMuX2dsLnVzZVByb2dyYW0oZSksdGhpcy5fY3VycmVudFByb2dyYW09ZSl9YmluZFNhbXBsZXJzKGUpe2NvbnN0IHQ9ZS5nZXRQaXBlbGluZUNvbnRleHQoKTt0aGlzLl9zZXRQcm9ncmFtKHQucHJvZ3JhbSk7Y29uc3QgaT1lLmdldFNhbXBsZXJzKCk7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspe2NvbnN0IHI9ZS5nZXRVbmlmb3JtKGlbc10pO3ImJih0aGlzLl9ib3VuZFVuaWZvcm1zW3NdPXIpfXRoaXMuX2N1cnJlbnRFZmZlY3Q9bnVsbH1fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpe3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbCE9PXRoaXMuX2FjdGl2ZUNoYW5uZWwmJih0aGlzLl9nbC5hY3RpdmVUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkUwK3RoaXMuX2FjdGl2ZUNoYW5uZWwpLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX1fYmluZFRleHR1cmVEaXJlY3RseShlLHQsaT0hMSxzPSExKXt2YXIgcixuO2xldCBhPSExO2NvbnN0IG89dCYmdC5fYXNzb2NpYXRlZENoYW5uZWw+LTE7aWYoaSYmbyYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9dC5fYXNzb2NpYXRlZENoYW5uZWwpLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXSE9PXR8fHMpe2lmKHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSx0JiZ0LmlzTXVsdGl2aWV3KXRocm93IGNvbnNvbGUuZXJyb3IoZSx0KSwiX2JpbmRUZXh0dXJlRGlyZWN0bHkgY2FsbGVkIHdpdGggYSBtdWx0aXZpZXcgdGV4dHVyZSEiO3RoaXMuX2dsLmJpbmRUZXh0dXJlKGUsKG49KHI9dD09bnVsbD92b2lkIDA6dC5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudW5kZXJseWluZ1Jlc291cmNlKSE9PW51bGwmJm4hPT12b2lkIDA/bjpudWxsKSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbdGhpcy5fYWN0aXZlQ2hhbm5lbF09dCx0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9dGhpcy5fYWN0aXZlQ2hhbm5lbCl9ZWxzZSBpJiYoYT0hMCx0aGlzLl9hY3RpdmF0ZUN1cnJlbnRUZXh0dXJlKCkpO3JldHVybiBvJiYhaSYmdGhpcy5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKHQuX2Fzc29jaWF0ZWRDaGFubmVsLHRoaXMuX2FjdGl2ZUNoYW5uZWwpLGF9X2JpbmRUZXh0dXJlKGUsdCxpKXtpZihlPT09dm9pZCAwKXJldHVybjt0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9ZSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO2NvbnN0IHM9dD90aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KHQpOnRoaXMuX2dsLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLHQpfXVuYmluZEFsbFRleHR1cmVzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztlKyspdGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy53ZWJHTFZlcnNpb24+MSYmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8zRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVksbnVsbCkpfXNldFRleHR1cmUoZSx0LGkscyl7ZSE9PXZvaWQgMCYmKHQmJih0aGlzLl9ib3VuZFVuaWZvcm1zW2VdPXQpLHRoaXMuX3NldFRleHR1cmUoZSxpKSl9X2JpbmRTYW1wbGVyVW5pZm9ybVRvQ2hhbm5lbChlLHQpe2NvbnN0IGk9dGhpcy5fYm91bmRVbmlmb3Jtc1tlXTshaXx8aS5fY3VycmVudFN0YXRlPT09dHx8KHRoaXMuX2dsLnVuaWZvcm0xaShpLHQpLGkuX2N1cnJlbnRTdGF0ZT10KX1fZ2V0VGV4dHVyZVdyYXBNb2RlKGUpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLlJFUEVBVDtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkNMQU1QX1RPX0VER0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5NSVJST1JFRF9SRVBFQVR9cmV0dXJuIHRoaXMuX2dsLlJFUEVBVH1fc2V0VGV4dHVyZShlLHQsaT0hMSxzPSExLHI9IiIpe2lmKCF0KXJldHVybiB0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbZV0hPW51bGwmJih0aGlzLl9hY3RpdmVDaGFubmVsPWUsdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzNELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRF9BUlJBWSxudWxsKSkpLCExO2lmKHQudmlkZW8pdGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHQudXBkYXRlKCk7ZWxzZSBpZih0LmRlbGF5TG9hZFN0YXRlPT09NClyZXR1cm4gdC5kZWxheUxvYWQoKSwhMTtsZXQgbjtzP249dC5kZXB0aFN0ZW5jaWxUZXh0dXJlOnQuaXNSZWFkeSgpP249dC5nZXRJbnRlcm5hbFRleHR1cmUoKTp0LmlzQ3ViZT9uPXRoaXMuZW1wdHlDdWJlVGV4dHVyZTp0LmlzM0Q/bj10aGlzLmVtcHR5VGV4dHVyZTNEOnQuaXMyREFycmF5P249dGhpcy5lbXB0eVRleHR1cmUyREFycmF5Om49dGhpcy5lbXB0eVRleHR1cmUsIWkmJm4mJihuLl9hc3NvY2lhdGVkQ2hhbm5lbD1lKTtsZXQgYT0hMDt0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbZV09PT1uJiYoaXx8dGhpcy5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKG4uX2Fzc29jaWF0ZWRDaGFubmVsLGUpLGE9ITEpLHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZTtjb25zdCBvPXRoaXMuX2dldFRleHR1cmVUYXJnZXQobik7aWYoYSYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShvLG4saSksbiYmIW4uaXNNdWx0aXZpZXcpe2lmKG4uaXNDdWJlJiZuLl9jYWNoZWRDb29yZGluYXRlc01vZGUhPT10LmNvb3JkaW5hdGVzTW9kZSl7bi5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPXQuY29vcmRpbmF0ZXNNb2RlO2NvbnN0IGg9dC5jb29yZGluYXRlc01vZGUhPT0zJiZ0LmNvb3JkaW5hdGVzTW9kZSE9PTU/MTowO3Qud3JhcFU9aCx0LndyYXBWPWh9bi5fY2FjaGVkV3JhcFUhPT10LndyYXBVJiYobi5fY2FjaGVkV3JhcFU9dC53cmFwVSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihvLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBVKSxuKSksbi5fY2FjaGVkV3JhcFYhPT10LndyYXBWJiYobi5fY2FjaGVkV3JhcFY9dC53cmFwVix0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihvLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBWKSxuKSksbi5pczNEJiZuLl9jYWNoZWRXcmFwUiE9PXQud3JhcFImJihuLl9jYWNoZWRXcmFwUj10LndyYXBSLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG8sdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1IsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFIpLG4pKSx0aGlzLl9zZXRBbmlzb3Ryb3BpY0xldmVsKG8sbix0LmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwpfXJldHVybiEwfXNldFRleHR1cmVBcnJheShlLHQsaSxzKXtpZighKGU9PT12b2lkIDB8fCF0KSl7KCF0aGlzLl90ZXh0dXJlVW5pdHN8fHRoaXMuX3RleHR1cmVVbml0cy5sZW5ndGghPT1pLmxlbmd0aCkmJih0aGlzLl90ZXh0dXJlVW5pdHM9bmV3IEludDMyQXJyYXkoaS5sZW5ndGgpKTtmb3IobGV0IHI9MDtyPGkubGVuZ3RoO3IrKyl7Y29uc3Qgbj1pW3JdLmdldEludGVybmFsVGV4dHVyZSgpO24/KHRoaXMuX3RleHR1cmVVbml0c1tyXT1lK3Isbi5fYXNzb2NpYXRlZENoYW5uZWw9ZStyKTp0aGlzLl90ZXh0dXJlVW5pdHNbcl09LTF9dGhpcy5fZ2wudW5pZm9ybTFpdih0LHRoaXMuX3RleHR1cmVVbml0cyk7Zm9yKGxldCByPTA7cjxpLmxlbmd0aDtyKyspdGhpcy5fc2V0VGV4dHVyZSh0aGlzLl90ZXh0dXJlVW5pdHNbcl0saVtyXSwhMCl9fV9zZXRBbmlzb3Ryb3BpY0xldmVsKGUsdCxpKXtjb25zdCBzPXRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uO3Quc2FtcGxpbmdNb2RlIT09MTEmJnQuc2FtcGxpbmdNb2RlIT09MyYmdC5zYW1wbGluZ01vZGUhPT0yJiYoaT0xKSxzJiZ0Ll9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIT09aSYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJGbG9hdChlLHMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsTWF0aC5taW4oaSx0aGlzLl9jYXBzLm1heEFuaXNvdHJvcHkpLHQpLHQuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9aSl9X3NldFRleHR1cmVQYXJhbWV0ZXJGbG9hdChlLHQsaSxzKXt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGUscywhMCwhMCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyZihlLHQsaSl9X3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKGUsdCxpLHMpe3MmJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxzLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKGUsdCxpKX11bmJpbmRBbGxBdHRyaWJ1dGVzKCl7aWYodGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzKXt0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITE7Zm9yKGxldCBlPTA7ZTx0aGlzLl9jYXBzLm1heFZlcnRleEF0dHJpYnM7ZSsrKXRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSk7cmV0dXJufWZvcihsZXQgZT0wLHQ9dGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZC5sZW5ndGg7ZTx0O2UrKyllPj10aGlzLl9jYXBzLm1heFZlcnRleEF0dHJpYnN8fCF0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2VdfHx0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpfXJlbGVhc2VFZmZlY3RzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXtjb25zdCB0PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXS5nZXRQaXBlbGluZUNvbnRleHQoKTt0aGlzLl9kZWxldGVQaXBlbGluZUNvbnRleHQodCl9dGhpcy5fY29tcGlsZWRFZmZlY3RzPXt9fWRpc3Bvc2UoKXt2YXIgZTt0aGlzLl9pc0Rpc3Bvc2VkPSEwLHRoaXMuc3RvcFJlbmRlckxvb3AoKSx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlJiZ0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW1wdHlUZXh0dXJlJiYodGhpcy5fcmVsZWFzZVRleHR1cmUodGhpcy5fZW1wdHlUZXh0dXJlKSx0aGlzLl9lbXB0eVRleHR1cmU9bnVsbCksdGhpcy5fZW1wdHlDdWJlVGV4dHVyZSYmKHRoaXMuX3JlbGVhc2VUZXh0dXJlKHRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpLHRoaXMuX2VtcHR5Q3ViZVRleHR1cmU9bnVsbCksdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciYmdGhpcy5fZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciksdGhpcy5yZWxlYXNlRWZmZWN0cygpLChlPXRoaXMucmVsZWFzZUNvbXB1dGVFZmZlY3RzKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSx0aGlzLl9ib3VuZFVuaWZvcm1zPXt9LGplKCkmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsdGhpcy5fb25Db250ZXh0TG9zdCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX2NoZWNrRm9yTW9iaWxlKSksdGhpcy5fd29ya2luZ0NhbnZhcz1udWxsLHRoaXMuX3dvcmtpbmdDb250ZXh0PW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzLmxlbmd0aD0wLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz1udWxsLHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbj1udWxsLERlLlJlc2V0Q2FjaGUoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVSZXF1ZXN0cyl0LmFib3J0KCk7dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKX1hdHRhY2hDb250ZXh0TG9zdEV2ZW50KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLGUsITEpfWF0dGFjaENvbnRleHRSZXN0b3JlZEV2ZW50KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIixlLCExKX1nZXRFcnJvcigpe3JldHVybiB0aGlzLl9nbC5nZXRFcnJvcigpfV9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMSl9X2NhblJlbmRlclRvSGFsZkZsb2F0RnJhbWVidWZmZXIoKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMil9X2NhblJlbmRlclRvRnJhbWVidWZmZXIoZSl7Y29uc3QgdD10aGlzLl9nbDtmb3IoO3QuZ2V0RXJyb3IoKSE9PXQuTk9fRVJST1I7KTtsZXQgaT0hMDtjb25zdCBzPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHMpLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlKSwxLDEsMCx0LlJHQkEsdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlKSxudWxsKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTkVBUkVTVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0Lk5FQVJFU1QpO2NvbnN0IHI9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsciksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELHMsMCk7Y29uc3Qgbj10LmNoZWNrRnJhbWVidWZmZXJTdGF0dXModC5GUkFNRUJVRkZFUik7aWYoaT1pJiZuPT09dC5GUkFNRUJVRkZFUl9DT01QTEVURSxpPWkmJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1IsaSYmKHQuY2xlYXIodC5DT0xPUl9CVUZGRVJfQklUKSxpPWkmJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1IpLGkpe3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCk7Y29uc3QgYT10LlJHQkEsbz10LlVOU0lHTkVEX0JZVEUsaD1uZXcgVWludDhBcnJheSg0KTt0LnJlYWRQaXhlbHMoMCwwLDEsMSxhLG8saCksaT1pJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SfWZvcih0LmRlbGV0ZVRleHR1cmUocyksdC5kZWxldGVGcmFtZWJ1ZmZlcihyKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpOyFpJiZ0LmdldEVycm9yKCkhPT10Lk5PX0VSUk9SOyk7cmV0dXJuIGl9X2dldFdlYkdMVGV4dHVyZVR5cGUoZSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUztjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNX1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX1zd2l0Y2goZSl7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5CWVRFO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURTtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlNIT1JUO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlQ7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5JTlQ7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlQ7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5GTE9BVDtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkhBTEZfRkxPQVQ7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVY7Y2FzZSAxMjpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzI0Xzg7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVjtjYXNlIDE0OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfNV85XzlfOV9SRVY7Y2FzZSAxNTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWfXJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFfV9nZXRJbnRlcm5hbEZvcm1hdChlLHQ9ITEpe2xldCBpPXQ/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE7c3dpdGNoKGUpe2Nhc2UgMDppPXRoaXMuX2dsLkFMUEhBO2JyZWFrO2Nhc2UgMTppPXRoaXMuX2dsLkxVTUlOQU5DRTticmVhaztjYXNlIDI6aT10aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7YnJlYWs7Y2FzZSA2Omk9dGhpcy5fZ2wuUkVEO2JyZWFrO2Nhc2UgNzppPXRoaXMuX2dsLlJHO2JyZWFrO2Nhc2UgNDppPXQ/dGhpcy5fZ2wuU1JHQjp0aGlzLl9nbC5SR0I7YnJlYWs7Y2FzZSA1Omk9dD90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTticmVha31pZih0aGlzLl93ZWJHTFZlcnNpb24+MSlzd2l0Y2goZSl7Y2FzZSA4Omk9dGhpcy5fZ2wuUkVEX0lOVEVHRVI7YnJlYWs7Y2FzZSA5Omk9dGhpcy5fZ2wuUkdfSU5URUdFUjticmVhaztjYXNlIDEwOmk9dGhpcy5fZ2wuUkdCX0lOVEVHRVI7YnJlYWs7Y2FzZSAxMTppPXRoaXMuX2dsLlJHQkFfSU5URUdFUjticmVha31yZXR1cm4gaX1fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZSx0LGk9ITEpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEpe2lmKHQhPT12b2lkIDApc3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQUxQSEE7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7Y2FzZSA0OnJldHVybiBpP3RoaXMuX2dsLlNSR0I6dGhpcy5fZ2wuUkdCfXJldHVybiB0aGlzLl9nbC5SR0JBfXN3aXRjaChlKXtjYXNlIDM6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjhfU05PUk07Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzhfU05PUk07Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0I4X1NOT1JNO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjhJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkc4STtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I4STtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBOEk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQThfU05PUk19Y2FzZSAwOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlI4O2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkc4O2Nhc2UgNDpyZXR1cm4gaT90aGlzLl9nbC5TUkdCODp0aGlzLl9nbC5SR0I4O2Nhc2UgNTpyZXR1cm4gaT90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTg7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SOFVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkc4VUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCOFVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkE4VUk7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5BTFBIQTtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRV9BTFBIQTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBOH1jYXNlIDQ6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjE2STtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMTZJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjE2STtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMTZJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkl9Y2FzZSA1OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIxNlVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkcxNlVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjE2VUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2VUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2VUl9Y2FzZSA2OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIzMkk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzMySTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IzMkk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMySTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJJfWNhc2UgNzpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMzJVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMzJVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IzMlVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMlVJfWNhc2UgMTpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SMzJGO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkczMkY7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0IzMkY7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0JBMzJGO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkZ9Y2FzZSAyOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlIxNkY7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzE2RjtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlJHQjE2RjtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkY7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2Rn1jYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I1NjU7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuUjExRl9HMTFGX0IxMEY7Y2FzZSAxNDpyZXR1cm4gdGhpcy5fZ2wuUkdCOV9FNTtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlJHQkE0O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkdCNV9BMTtjYXNlIDExOnN3aXRjaCh0KXtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyVUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTJ9fXJldHVybiBpP3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBOH1fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0KGUpe3JldHVybiBlPT09MT90aGlzLl9nbC5SR0JBMzJGOmU9PT0yP3RoaXMuX2dsLlJHQkExNkY6dGhpcy5fZ2wuUkdCQTh9X2xvYWRGaWxlKGUsdCxpLHMscixuKXtjb25zdCBhPW9lLl9GaWxlVG9vbHNMb2FkRmlsZShlLHQsaSxzLHIsbik7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2goYSksYS5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQobz0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKG8pLDEpfSksYX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxpLHMscixuKXt0aHJvdyBRKCJGaWxlVG9vbHMiKX1yZWFkUGl4ZWxzKGUsdCxpLHMscj0hMCxuPSEwKXtjb25zdCBhPXI/NDozLG89cj90aGlzLl9nbC5SR0JBOnRoaXMuX2dsLlJHQixoPW5ldyBVaW50OEFycmF5KHMqaSphKTtyZXR1cm4gbiYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZ2wucmVhZFBpeGVscyhlLHQsaSxzLG8sdGhpcy5fZ2wuVU5TSUdORURfQllURSxoKSxQcm9taXNlLnJlc29sdmUoaCl9c3RhdGljIGdldCBJc1N1cHBvcnRlZEFzeW5jKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmlzU3VwcG9ydGVkKCkpfXN0YXRpYyBnZXQgSXNTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZCgpfXN0YXRpYyBpc1N1cHBvcnRlZCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQhPT1udWxsKXJldHVybiF0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O2lmKHRoaXMuX0lzU3VwcG9ydGVkPT09bnVsbCl0cnl7Y29uc3QgZT10aGlzLl9DcmVhdGVDYW52YXMoMSwxKSx0PWUuZ2V0Q29udGV4dCgid2ViZ2wiKXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiKTt0aGlzLl9Jc1N1cHBvcnRlZD10IT1udWxsJiYhIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHR9Y2F0Y2h7dGhpcy5fSXNTdXBwb3J0ZWQ9ITF9cmV0dXJuIHRoaXMuX0lzU3VwcG9ydGVkfXN0YXRpYyBnZXQgSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9PT1udWxsKXRyeXtjb25zdCBlPXRoaXMuX0NyZWF0ZUNhbnZhcygxLDEpLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSk7dGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD0hdH1jYXRjaHt0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PSExfXJldHVybiB0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0fXN0YXRpYyBDZWlsaW5nUE9UKGUpe3JldHVybiBlLS0sZXw9ZT4+MSxlfD1lPj4yLGV8PWU+PjQsZXw9ZT4+OCxlfD1lPj4xNixlKyssZX1zdGF0aWMgRmxvb3JQT1QoZSl7cmV0dXJuIGU9ZXxlPj4xLGU9ZXxlPj4yLGU9ZXxlPj40LGU9ZXxlPj44LGU9ZXxlPj4xNixlLShlPj4xKX1zdGF0aWMgTmVhcmVzdFBPVChlKXtjb25zdCB0PW9lLkNlaWxpbmdQT1QoZSksaT1vZS5GbG9vclBPVChlKTtyZXR1cm4gdC1lPmUtaT9pOnR9c3RhdGljIEdldEV4cG9uZW50T2ZUd28oZSx0LGk9Mil7bGV0IHM7c3dpdGNoKGkpe2Nhc2UgMTpzPW9lLkZsb29yUE9UKGUpO2JyZWFrO2Nhc2UgMjpzPW9lLk5lYXJlc3RQT1QoZSk7YnJlYWs7Y2FzZSAzOmRlZmF1bHQ6cz1vZS5DZWlsaW5nUE9UKGUpO2JyZWFrfXJldHVybiBNYXRoLm1pbihzLHQpfXN0YXRpYyBRdWV1ZU5ld0ZyYW1lKGUsdCl7aWYoamUoKSl7Y29uc3R7cmVxdWVzdFBvc3RBbmltYXRpb25GcmFtZTppLHJlcXVlc3RBbmltYXRpb25GcmFtZTpzfT10fHx3aW5kb3c7aWYodHlwZW9mIGk9PSJmdW5jdGlvbiIpcmV0dXJuIGkoZSk7aWYodHlwZW9mIHM9PSJmdW5jdGlvbiIpcmV0dXJuIHMoZSl9ZWxzZSBpZih0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lPT0iZnVuY3Rpb24iKXJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk7cmV0dXJuIHNldFRpbWVvdXQoZSwxNil9Z2V0SG9zdERvY3VtZW50KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ6RmkoKT9kb2N1bWVudDpudWxsfX1vZS5FeGNlcHRpb25MaXN0PVt7a2V5OiJDaHJvbWUvNjMuMCIsY2FwdHVyZToiNjNcXC4wXFwuMzIzOVxcLihcXGQrKSIsY2FwdHVyZUNvbnN0cmFpbnQ6MTA4LHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTgiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkNocm9tZS83Mi4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJDaHJvbWUvNzMuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzc0Lis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcxIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcyIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiIuKkFwcGxlV2ViS2l0LiooMTUuNCkuKlNhZmFyaSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbImFudGlhbGlhcyIsIm1heE1TQUFTYW1wbGVzIl19LHtrZXk6Ii4qKDE1LjQpLipBcHBsZVdlYktpdC4qU2FmYXJpIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsiYW50aWFsaWFzIiwibWF4TVNBQVNhbXBsZXMiXX1dLG9lLl9UZXh0dXJlTG9hZGVycz1bXSxvZS5Db2xsaXNpb25zRXBzaWxvbj0uMDAxLG9lLl9Jc1N1cHBvcnRlZD1udWxsLG9lLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PW51bGw7Y2xhc3MgcG57Y29uc3RydWN0b3IoZT0zMCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lPW5ldyBtbihlKX1zYW1wbGVGcmFtZShlPWhpLk5vdyl7aWYodGhpcy5fZW5hYmxlZCl7aWYodGhpcy5fbGFzdEZyYW1lVGltZU1zIT1udWxsKXtjb25zdCB0PWUtdGhpcy5fbGFzdEZyYW1lVGltZU1zO3RoaXMuX3JvbGxpbmdGcmFtZVRpbWUuYWRkKHQpfXRoaXMuX2xhc3RGcmFtZVRpbWVNcz1lfX1nZXQgYXZlcmFnZUZyYW1lVGltZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmF2ZXJhZ2V9Z2V0IGF2ZXJhZ2VGcmFtZVRpbWVWYXJpYW5jZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLnZhcmlhbmNlfWdldCBpbnN0YW50YW5lb3VzRnJhbWVUaW1lKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaGlzdG9yeSgwKX1nZXQgYXZlcmFnZUZQUygpe3JldHVybiAxZTMvdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfWdldCBpbnN0YW50YW5lb3VzRlBTKCl7Y29uc3QgZT10aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmhpc3RvcnkoMCk7cmV0dXJuIGU9PT0wPzA6MWUzL2V9Z2V0IGlzU2F0dXJhdGVkKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaXNTYXR1cmF0ZWQoKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1yZXNldCgpe3RoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsLHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUucmVzZXQoKX19Y2xhc3MgbW57Y29uc3RydWN0b3IoZSl7dGhpcy5fc2FtcGxlcz1uZXcgQXJyYXkoZSksdGhpcy5yZXNldCgpfWFkZChlKXtsZXQgdDtpZih0aGlzLmlzU2F0dXJhdGVkKCkpe2NvbnN0IGk9dGhpcy5fc2FtcGxlc1t0aGlzLl9wb3NdO3Q9aS10aGlzLmF2ZXJhZ2UsdGhpcy5hdmVyYWdlLT10Lyh0aGlzLl9zYW1wbGVDb3VudC0xKSx0aGlzLl9tMi09dCooaS10aGlzLmF2ZXJhZ2UpfWVsc2UgdGhpcy5fc2FtcGxlQ291bnQrKzt0PWUtdGhpcy5hdmVyYWdlLHRoaXMuYXZlcmFnZSs9dC90aGlzLl9zYW1wbGVDb3VudCx0aGlzLl9tMis9dCooZS10aGlzLmF2ZXJhZ2UpLHRoaXMudmFyaWFuY2U9dGhpcy5fbTIvKHRoaXMuX3NhbXBsZUNvdW50LTEpLHRoaXMuX3NhbXBsZXNbdGhpcy5fcG9zXT1lLHRoaXMuX3BvcysrLHRoaXMuX3BvcyU9dGhpcy5fc2FtcGxlcy5sZW5ndGh9aGlzdG9yeShlKXtpZihlPj10aGlzLl9zYW1wbGVDb3VudHx8ZT49dGhpcy5fc2FtcGxlcy5sZW5ndGgpcmV0dXJuIDA7Y29uc3QgdD10aGlzLl93cmFwUG9zaXRpb24odGhpcy5fcG9zLTEpO3JldHVybiB0aGlzLl9zYW1wbGVzW3RoaXMuX3dyYXBQb3NpdGlvbih0LWUpXX1pc1NhdHVyYXRlZCgpe3JldHVybiB0aGlzLl9zYW1wbGVDb3VudD49dGhpcy5fc2FtcGxlcy5sZW5ndGh9cmVzZXQoKXt0aGlzLmF2ZXJhZ2U9MCx0aGlzLnZhcmlhbmNlPTAsdGhpcy5fc2FtcGxlQ291bnQ9MCx0aGlzLl9wb3M9MCx0aGlzLl9tMj0wfV93cmFwUG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLl9zYW1wbGVzLmxlbmd0aDtyZXR1cm4oZSV0K3QpJXR9fWNsYXNzIEN0e2dldCBtaW4oKXtyZXR1cm4gdGhpcy5fbWlufWdldCBtYXgoKXtyZXR1cm4gdGhpcy5fbWF4fWdldCBhdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2F2ZXJhZ2V9Z2V0IGxhc3RTZWNBdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2xhc3RTZWNBdmVyYWdlfWdldCBjdXJyZW50KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnR9Z2V0IHRvdGFsKCl7cmV0dXJuIHRoaXMuX3RvdGFsQWNjdW11bGF0ZWR9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX3RvdGFsVmFsdWVDb3VudH1jb25zdHJ1Y3Rvcigpe3RoaXMuX3N0YXJ0TW9uaXRvcmluZ1RpbWU9MCx0aGlzLl9taW49MCx0aGlzLl9tYXg9MCx0aGlzLl9hdmVyYWdlPTAsdGhpcy5fbGFzdFNlY0F2ZXJhZ2U9MCx0aGlzLl9jdXJyZW50PTAsdGhpcy5fdG90YWxWYWx1ZUNvdW50PTAsdGhpcy5fdG90YWxBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNUaW1lPTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQ9MH1mZXRjaE5ld0ZyYW1lKCl7dGhpcy5fdG90YWxWYWx1ZUNvdW50KyssdGhpcy5fY3VycmVudD0wLHRoaXMuX2xhc3RTZWNWYWx1ZUNvdW50Kyt9YWRkQ291bnQoZSx0KXtDdC5FbmFibGVkJiYodGhpcy5fY3VycmVudCs9ZSx0JiZ0aGlzLl9mZXRjaFJlc3VsdCgpKX1iZWdpbk1vbml0b3JpbmcoKXtDdC5FbmFibGVkJiYodGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT1oaS5Ob3cpfWVuZE1vbml0b3JpbmcoZT0hMCl7aWYoIUN0LkVuYWJsZWQpcmV0dXJuO2UmJnRoaXMuZmV0Y2hOZXdGcmFtZSgpO2NvbnN0IHQ9aGkuTm93O3RoaXMuX2N1cnJlbnQ9dC10aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lLGUmJnRoaXMuX2ZldGNoUmVzdWx0KCl9X2ZldGNoUmVzdWx0KCl7dGhpcy5fdG90YWxBY2N1bXVsYXRlZCs9dGhpcy5fY3VycmVudCx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQrPXRoaXMuX2N1cnJlbnQsdGhpcy5fbWluPU1hdGgubWluKHRoaXMuX21pbix0aGlzLl9jdXJyZW50KSx0aGlzLl9tYXg9TWF0aC5tYXgodGhpcy5fbWF4LHRoaXMuX2N1cnJlbnQpLHRoaXMuX2F2ZXJhZ2U9dGhpcy5fdG90YWxBY2N1bXVsYXRlZC90aGlzLl90b3RhbFZhbHVlQ291bnQ7Y29uc3QgZT1oaS5Ob3c7ZS10aGlzLl9sYXN0U2VjVGltZT4xZTMmJih0aGlzLl9sYXN0U2VjQXZlcmFnZT10aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQvdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQsdGhpcy5fbGFzdFNlY1RpbWU9ZSx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudD0wKX19Q3QuRW5hYmxlZD0hMCxvZS5wcm90b3R5cGUuc2V0QWxwaGFDb25zdGFudHM9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kQ29uc3RhbnRzKGMsZSx0LGkpfSxvZS5wcm90b3R5cGUuc2V0QWxwaGFNb2RlPWZ1bmN0aW9uKGMsZT0hMSl7aWYodGhpcy5fYWxwaGFNb2RlPT09Yyl7aWYoIWUpe2NvbnN0IHQ9Yz09PTA7dGhpcy5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2shPT10JiYodGhpcy5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9dCl9cmV0dXJufXN3aXRjaChjKXtjYXNlIDA6dGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSExO2JyZWFrO2Nhc2UgNzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgODp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDY6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA5OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5DT05TVEFOVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfQ09OU1RBTlRfQ09MT1IsdGhpcy5fZ2wuQ09OU1RBTlRfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDExOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuWkVSTyksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8pLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE2OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE3OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrfWV8fCh0aGlzLmRlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1jPT09MCksdGhpcy5fYWxwaGFNb2RlPWN9LG9lLnByb3RvdHlwZS5nZXRBbHBoYU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGFNb2RlfSxvZS5wcm90b3R5cGUuc2V0QWxwaGFFcXVhdGlvbj1mdW5jdGlvbihjKXtpZih0aGlzLl9hbHBoYUVxdWF0aW9uIT09Yyl7c3dpdGNoKGMpe2Nhc2UgMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc0LDMyNzc0KTticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3OCwzMjc3OCk7YnJlYWs7Y2FzZSAyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzksMzI3NzkpO2JyZWFrO2Nhc2UgMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc2LDMyNzc2KTticmVhaztjYXNlIDQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NSwzMjc3NSk7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzUsMzI3NzQpO2JyZWFrfXRoaXMuX2FscGhhRXF1YXRpb249Y319LG9lLnByb3RvdHlwZS5nZXRBbHBoYUVxdWF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhRXF1YXRpb259O2Z1bmN0aW9uIHZuKGMsZSx0PSExLGkpe3N3aXRjaChjKXtjYXNlIDM6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQ4QXJyYXkoZSk6bmV3IEludDhBcnJheShlKTtyZXR1cm4gaSYmci5zZXQobmV3IEludDhBcnJheShpKSkscn1jYXNlIDA6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpO3JldHVybiBpJiZyLnNldChuZXcgVWludDhBcnJheShpKSkscn1jYXNlIDQ6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQxNkFycmF5KGUpOm5ldyBJbnQxNkFycmF5KHQ/ZS8yOmUpO3JldHVybiBpJiZyLnNldChuZXcgSW50MTZBcnJheShpKSkscn1jYXNlIDU6Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMjp7Y29uc3Qgcj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQxNkFycmF5KGUpOm5ldyBVaW50MTZBcnJheSh0P2UvMjplKTtyZXR1cm4gaSYmci5zZXQobmV3IFVpbnQxNkFycmF5KGkpKSxyfWNhc2UgNjp7Y29uc3Qgcj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IEludDMyQXJyYXkoZSk6bmV3IEludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBJbnQzMkFycmF5KGkpKSxyfWNhc2UgNzpjYXNlIDExOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDE0OmNhc2UgMTU6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MzJBcnJheShlKTpuZXcgVWludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBVaW50MzJBcnJheShpKSkscn1jYXNlIDE6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBGbG9hdDMyQXJyYXkoZSk6bmV3IEZsb2F0MzJBcnJheSh0P2UvNDplKTtyZXR1cm4gaSYmci5zZXQobmV3IEZsb2F0MzJBcnJheShpKSkscn19Y29uc3Qgcz1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoZSk6bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIGkmJnMuc2V0KG5ldyBVaW50OEFycmF5KGkpKSxzfW9lLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHNTeW5jPWZ1bmN0aW9uKGMsZSx0LGk9LTEscz0wLHI9bnVsbCxuPSEwLGE9ITEsbz0wLGg9MCl7dmFyIGwsdTtjb25zdCBkPXRoaXMuX2dsO2lmKCFkKXRocm93IG5ldyBFcnJvcigiRW5naW5lIGRvZXMgbm90IGhhdmUgZ2wgcmVuZGVyaW5nIGNvbnRleHQuIik7aWYoIXRoaXMuX2R1bW15RnJhbWVidWZmZXIpe2NvbnN0IGY9ZC5jcmVhdGVGcmFtZWJ1ZmZlcigpO2lmKCFmKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBkdW1teSBmcmFtZWJ1ZmZlciIpO3RoaXMuX2R1bW15RnJhbWVidWZmZXI9Zn1kLmJpbmRGcmFtZWJ1ZmZlcihkLkZSQU1FQlVGRkVSLHRoaXMuX2R1bW15RnJhbWVidWZmZXIpLGk+LTE/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRChkLkZSQU1FQlVGRkVSLGQuQ09MT1JfQVRUQUNITUVOVDAsZC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graSwobD1jLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC51bmRlcmx5aW5nUmVzb3VyY2Uscyk6ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRChkLkZSQU1FQlVGRkVSLGQuQ09MT1JfQVRUQUNITUVOVDAsZC5URVhUVVJFXzJELCh1PWMuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnVuZGVybHlpbmdSZXNvdXJjZSxzKTtsZXQgXz1jLnR5cGUhPT12b2lkIDA/dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShjLnR5cGUpOmQuVU5TSUdORURfQllURTtpZihhKXJ8fChyPXZuKGMudHlwZSw0KmUqdCkpO2Vsc2Ugc3dpdGNoKF8pe2Nhc2UgZC5VTlNJR05FRF9CWVRFOnJ8fChyPW5ldyBVaW50OEFycmF5KDQqZSp0KSksXz1kLlVOU0lHTkVEX0JZVEU7YnJlYWs7ZGVmYXVsdDpyfHwocj1uZXcgRmxvYXQzMkFycmF5KDQqZSp0KSksXz1kLkZMT0FUO2JyZWFrfXJldHVybiBuJiZ0aGlzLmZsdXNoRnJhbWVidWZmZXIoKSxkLnJlYWRQaXhlbHMobyxoLGUsdCxkLlJHQkEsXyxyKSxkLmJpbmRGcmFtZWJ1ZmZlcihkLkZSQU1FQlVGRkVSLHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcikscn0sb2UucHJvdG90eXBlLl9yZWFkVGV4dHVyZVBpeGVscz1mdW5jdGlvbihjLGUsdCxpPS0xLHM9MCxyPW51bGwsbj0hMCxhPSExLG89MCxoPTApe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKGMsZSx0LGkscyxyLG4sYSxvLGgpKX0sb2UucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNJbmRleEJ1ZmZlcj1mdW5jdGlvbihjLGUsdD0wKXt0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJdPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIoYyk7bGV0IGk7Yy5pczMyQml0cz9pPWUgaW5zdGFuY2VvZiBVaW50MzJBcnJheT9lOm5ldyBVaW50MzJBcnJheShlKTppPWUgaW5zdGFuY2VvZiBVaW50MTZBcnJheT9lOm5ldyBVaW50MTZBcnJheShlKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGksdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpfSxvZS5wcm90b3R5cGUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcj1mdW5jdGlvbihjLGUsdCxpKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihjKSx0PT09dm9pZCAwJiYodD0wKTtjb25zdCBzPWUuYnl0ZUxlbmd0aHx8ZS5sZW5ndGg7aT09PXZvaWQgMHx8aT49cyYmdD09PTA/ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsbmV3IEZsb2F0MzJBcnJheShlKSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsdCxlKTplIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCxuZXcgRmxvYXQzMkFycmF5KGUpLnN1YmFycmF5KHQsdCtpKSk6KGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9lPW5ldyBVaW50OEFycmF5KGUsdCxpKTplPW5ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCt0LGkpLHRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsZSkpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpfTtjbGFzcyBQIGV4dGVuZHMgb2V7c3RhdGljIGdldCBOcG1QYWNrYWdlKCl7cmV0dXJuIG9lLk5wbVBhY2thZ2V9c3RhdGljIGdldCBWZXJzaW9uKCl7cmV0dXJuIG9lLlZlcnNpb259c3RhdGljIGdldCBJbnN0YW5jZXMoKXtyZXR1cm4gY2UuSW5zdGFuY2VzfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRFbmdpbmUoKXtyZXR1cm4gY2UuTGFzdENyZWF0ZWRFbmdpbmV9c3RhdGljIGdldCBMYXN0Q3JlYXRlZFNjZW5lKCl7cmV0dXJuIGNlLkxhc3RDcmVhdGVkU2NlbmV9X2NyZWF0ZUltYWdlQml0bWFwRnJvbVNvdXJjZShlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgocyxyKT0+e2NvbnN0IG49bmV3IEltYWdlO24ub25sb2FkPSgpPT57bi5kZWNvZGUoKS50aGVuKCgpPT57dGhpcy5jcmVhdGVJbWFnZUJpdG1hcChuLHQpLnRoZW4oYT0+e3MoYSl9KX0pfSxuLm9uZXJyb3I9KCk9PntyKGBFcnJvciBsb2FkaW5nIGltYWdlICR7bi5zcmN9YCl9LG4uc3JjPWV9KX1jcmVhdGVJbWFnZUJpdG1hcChlLHQpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcChlLHQpfXJlc2l6ZUltYWdlQml0bWFwKGUsdCxpKXtjb25zdCByPXRoaXMuY3JlYXRlQ2FudmFzKHQsaSkuZ2V0Q29udGV4dCgiMmQiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBnZXQgMmQgY29udGV4dCBmb3IgcmVzaXplSW1hZ2VCaXRtYXAiKTtyZXR1cm4gci5kcmF3SW1hZ2UoZSwwLDApLHIuZ2V0SW1hZ2VEYXRhKDAsMCx0LGkpLmRhdGF9c3RhdGljIE1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KGUsdCl7Zm9yKGxldCBpPTA7aTxQLkluc3RhbmNlcy5sZW5ndGg7aSsrKXtjb25zdCBzPVAuSW5zdGFuY2VzW2ldO2ZvcihsZXQgcj0wO3I8cy5zY2VuZXMubGVuZ3RoO3IrKylzLnNjZW5lc1tyXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eShlLHQpfX1zdGF0aWMgRGVmYXVsdExvYWRpbmdTY3JlZW5GYWN0b3J5KGUpe3Rocm93IFEoIkxvYWRpbmdTY3JlZW4iKX1nZXQgX3N1cHBvcnRzSGFyZHdhcmVUZXh0dXJlUmVzY2FsaW5nKCl7cmV0dXJuISFQLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5fWdldCBwZXJmb3JtYW5jZU1vbml0b3IoKXtyZXR1cm4gdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yfWdldCBjb21wYXRpYmlsaXR5TW9kZSgpe3JldHVybiB0aGlzLl9jb21wYXRpYmlsaXR5TW9kZX1zZXQgY29tcGF0aWJpbGl0eU1vZGUoZSl7dGhpcy5fY29tcGF0aWJpbGl0eU1vZGU9ITB9Z2V0SW5wdXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhc31jb25zdHJ1Y3RvcihlLHQsaSxzPSExKXtpZihzdXBlcihlLHQsaSxzKSx0aGlzLmVuYWJsZU9mZmxpbmVTdXBwb3J0PSExLHRoaXMuZGlzYWJsZU1hbmlmZXN0Q2hlY2s9ITEsdGhpcy5kaXNhYmxlQ29udGV4dE1lbnU9ITAsdGhpcy5zY2VuZXM9bmV3IEFycmF5LHRoaXMuX3ZpcnR1YWxTY2VuZXM9bmV3IEFycmF5LHRoaXMub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLnBvc3RQcm9jZXNzZXM9bmV3IEFycmF5LHRoaXMuaXNQb2ludGVyTG9jaz0hMSx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQ2FudmFzQmx1ck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlPW5ldyB3LHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXI9bnVsbCx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2RldGVybWluaXN0aWNMb2Nrc3RlcD0hMSx0aGlzLl9sb2Nrc3RlcE1heFN0ZXBzPTQsdGhpcy5fdGltZVN0ZXA9MS82MCx0aGlzLl9mcHM9NjAsdGhpcy5fZGVsdGFUaW1lPTAsdGhpcy5fZHJhd0NhbGxzPW5ldyBDdCx0aGlzLmNhbnZhc1RhYkluZGV4PTEsdGhpcy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kPSExLHRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvcj1uZXcgcG4sdGhpcy5fY29tcGF0aWJpbGl0eU1vZGU9ITAsdGhpcy5jdXJyZW50UmVuZGVyUGFzc0lkPTAsdGhpcy5fcmVuZGVyUGFzc05hbWVzPVsibWFpbiJdLFAuSW5zdGFuY2VzLnB1c2godGhpcyksISFlKXtpZih0aGlzLl9mZWF0dXJlcy5zdXBwb3J0UmVuZGVyUGFzc2VzPSEwLGk9dGhpcy5fY3JlYXRpb25PcHRpb25zLGUuZ2V0Q29udGV4dCl7Y29uc3Qgcj1lO3RoaXMuX3NoYXJlZEluaXQociksdGhpcy5fY29ubmVjdFZSRXZlbnRzKCl9dGhpcy5fcHJlcGFyZVZSQ29tcG9uZW50KCksaS5hdXRvRW5hYmxlV2ViVlImJnRoaXMuaW5pdFdlYlZSKCl9fV9pbml0R0xDb250ZXh0KCl7c3VwZXIuX2luaXRHTENvbnRleHQoKSx0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3M9bnVsbH1fc2hhcmVkSW5pdChlKXtzdXBlci5fc2hhcmVkSW5pdChlKSx0aGlzLl9vbkNhbnZhc0ZvY3VzPSgpPT57dGhpcy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LHRoaXMuX29uQ2FudmFzQmx1cj0oKT0+e3RoaXMub25DYW52YXNCbHVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LHRoaXMuX29uQ2FudmFzQ29udGV4dE1lbnU9aT0+e3RoaXMuZGlzYWJsZUNvbnRleHRNZW51JiZpLnByZXZlbnREZWZhdWx0KCl9LGUuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uQ2FudmFzRm9jdXMpLGUuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25DYW52YXNCbHVyKSxlLmFkZEV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix0aGlzLl9vbkNhbnZhc0NvbnRleHRNZW51KSx0aGlzLl9vbkJsdXI9KCk9Pnt0aGlzLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQmJnRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5kaXNhYmxlKCksdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kPSEwfSx0aGlzLl9vbkZvY3VzPSgpPT57dGhpcy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kJiZ0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuZW5hYmxlKCksdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kPSExfSx0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQ9aT0+e2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoaS5jbGllbnRYLGkuY2xpZW50WSkhPT1lJiZ0aGlzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpfTtjb25zdCB0PXRoaXMuZ2V0SG9zdFdpbmRvdygpO3QmJnR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXI9PSJmdW5jdGlvbiImJih0LmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1ciksdC5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25Gb2N1cykpLGUuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcm91dCIsdGhpcy5fb25DYW52YXNQb2ludGVyT3V0KSx0aGlzLl9jcmVhdGlvbk9wdGlvbnMuZG9Ob3RIYW5kbGVUb3VjaEFjdGlvbnx8dGhpcy5fZGlzYWJsZVRvdWNoQWN0aW9uKCksIVAuYXVkaW9FbmdpbmUmJnRoaXMuX2NyZWF0aW9uT3B0aW9ucy5hdWRpb0VuZ2luZSYmUC5BdWRpb0VuZ2luZUZhY3RvcnkmJihQLmF1ZGlvRW5naW5lPVAuQXVkaW9FbmdpbmVGYWN0b3J5KHRoaXMuZ2V0UmVuZGVyaW5nQ2FudmFzKCksdGhpcy5nZXRBdWRpb0NvbnRleHQoKSx0aGlzLmdldEF1ZGlvRGVzdGluYXRpb24oKSkpLEZpKCkmJih0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2U9KCk9Pnt0aGlzLmlzRnVsbHNjcmVlbj0hIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50LHRoaXMuaXNGdWxsc2NyZWVuJiZ0aGlzLl9wb2ludGVyTG9ja1JlcXVlc3RlZCYmZSYmUC5fUmVxdWVzdFBvaW50ZXJsb2NrKGUpfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZT0oKT0+e3RoaXMuaXNQb2ludGVyTG9jaz1kb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQ9PT1lfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpKSx0aGlzLmVuYWJsZU9mZmxpbmVTdXBwb3J0PVAuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeSE9PXZvaWQgMCx0aGlzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ISF0aGlzLl9jcmVhdGlvbk9wdGlvbnMuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwLHRoaXMuX2xvY2tzdGVwTWF4U3RlcHM9dGhpcy5fY3JlYXRpb25PcHRpb25zLmxvY2tzdGVwTWF4U3RlcHN8fDAsdGhpcy5fdGltZVN0ZXA9dGhpcy5fY3JlYXRpb25PcHRpb25zLnRpbWVTdGVwfHwxLzYwfV92ZXJpZnlQb2ludGVyTG9jaygpe3ZhciBlOyhlPXRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMpfWdldEFzcGVjdFJhdGlvKGUsdD0hMSl7Y29uc3QgaT1lLnZpZXdwb3J0O3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKHQpKmkud2lkdGgvKHRoaXMuZ2V0UmVuZGVySGVpZ2h0KHQpKmkuaGVpZ2h0KX1nZXRTY3JlZW5Bc3BlY3RSYXRpbygpe3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKCEwKS90aGlzLmdldFJlbmRlckhlaWdodCghMCl9Z2V0UmVuZGVyaW5nQ2FudmFzQ2xpZW50UmVjdCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGx9Z2V0SW5wdXRFbGVtZW50Q2xpZW50UmVjdCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsfWlzRGV0ZXJtaW5pc3RpY0xvY2tTdGVwKCl7cmV0dXJuIHRoaXMuX2RldGVybWluaXN0aWNMb2Nrc3RlcH1nZXRMb2Nrc3RlcE1heFN0ZXBzKCl7cmV0dXJuIHRoaXMuX2xvY2tzdGVwTWF4U3RlcHN9Z2V0VGltZVN0ZXAoKXtyZXR1cm4gdGhpcy5fdGltZVN0ZXAqMWUzfWdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXAoZSx0PSEwKXtpZihlLmdlbmVyYXRlTWlwTWFwcyl7Y29uc3QgaT10aGlzLl9nbDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGkuVEVYVFVSRV9DVUJFX01BUCxlLCEwKSxpLmdlbmVyYXRlTWlwbWFwKGkuVEVYVFVSRV9DVUJFX01BUCksdCYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShpLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCl9fWdldERlcHRoV3JpdGUoKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrfXNldERlcHRoV3JpdGUoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPWV9Z2V0U3RlbmNpbEJ1ZmZlcigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3R9c2V0U3RlbmNpbEJ1ZmZlcihlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9ZX1nZXRTdGVuY2lsTWFzaygpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE1hc2t9c2V0U3RlbmNpbE1hc2soZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxNYXNrPWV9Z2V0U3RlbmNpbEZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY31nZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jUmVmfWdldFN0ZW5jaWxGdW5jdGlvbk1hc2soKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jTWFza31zZXRTdGVuY2lsRnVuY3Rpb24oZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jPWV9c2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY1JlZj1lfXNldFN0ZW5jaWxGdW5jdGlvbk1hc2soZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jTWFzaz1lfWdldFN0ZW5jaWxPcGVyYXRpb25GYWlsKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRmFpbH1nZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BEZXB0aEZhaWx9Z2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3N9c2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxGYWlsPWV9c2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbChlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wRGVwdGhGYWlsPWV9c2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3M9ZX1zZXREaXRoZXJpbmdTdGF0ZShlKXtlP3RoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5ESVRIRVIpOnRoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuRElUSEVSKX1zZXRSYXN0ZXJpemVyU3RhdGUoZSl7ZT90aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLlJBU1RFUklaRVJfRElTQ0FSRCk6dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLlJBU1RFUklaRVJfRElTQ0FSRCl9Z2V0RGVwdGhGdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmN9c2V0RGVwdGhGdW5jdGlvbihlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9ZX1zZXREZXB0aEZ1bmN0aW9uVG9HcmVhdGVyKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxNil9c2V0RGVwdGhGdW5jdGlvblRvR3JlYXRlck9yRXF1YWwoKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE4KX1zZXREZXB0aEZ1bmN0aW9uVG9MZXNzKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxMyl9c2V0RGVwdGhGdW5jdGlvblRvTGVzc09yRXF1YWwoKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE1KX1jYWNoZVN0ZW5jaWxTdGF0ZSgpe3RoaXMuX2NhY2hlZFN0ZW5jaWxCdWZmZXI9dGhpcy5nZXRTdGVuY2lsQnVmZmVyKCksdGhpcy5fY2FjaGVkU3RlbmNpbEZ1bmN0aW9uPXRoaXMuZ2V0U3RlbmNpbEZ1bmN0aW9uKCksdGhpcy5fY2FjaGVkU3RlbmNpbE1hc2s9dGhpcy5nZXRTdGVuY2lsTWFzaygpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25QYXNzPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRmFpbD10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25GYWlsKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbD10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwoKSx0aGlzLl9jYWNoZWRTdGVuY2lsUmVmZXJlbmNlPXRoaXMuZ2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKCl9cmVzdG9yZVN0ZW5jaWxTdGF0ZSgpe3RoaXMuc2V0U3RlbmNpbEZ1bmN0aW9uKHRoaXMuX2NhY2hlZFN0ZW5jaWxGdW5jdGlvbiksdGhpcy5zZXRTdGVuY2lsTWFzayh0aGlzLl9jYWNoZWRTdGVuY2lsTWFzayksdGhpcy5zZXRTdGVuY2lsQnVmZmVyKHRoaXMuX2NhY2hlZFN0ZW5jaWxCdWZmZXIpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvblBhc3ModGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvblBhc3MpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwodGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkZhaWwpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCh0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKSx0aGlzLnNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSh0aGlzLl9jYWNoZWRTdGVuY2lsUmVmZXJlbmNlKX1zZXREaXJlY3RWaWV3cG9ydChlLHQsaSxzKXtjb25zdCByPXRoaXMuX2NhY2hlZFZpZXdwb3J0O3JldHVybiB0aGlzLl9jYWNoZWRWaWV3cG9ydD1udWxsLHRoaXMuX3ZpZXdwb3J0KGUsdCxpLHMpLHJ9c2Npc3NvckNsZWFyKGUsdCxpLHMscil7dGhpcy5lbmFibGVTY2lzc29yKGUsdCxpLHMpLHRoaXMuY2xlYXIociwhMCwhMCwhMCksdGhpcy5kaXNhYmxlU2Npc3NvcigpfWVuYWJsZVNjaXNzb3IoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9nbDtyLmVuYWJsZShyLlNDSVNTT1JfVEVTVCksci5zY2lzc29yKGUsdCxpLHMpfWRpc2FibGVTY2lzc29yKCl7Y29uc3QgZT10aGlzLl9nbDtlLmRpc2FibGUoZS5TQ0lTU09SX1RFU1QpfV9yZXBvcnREcmF3Q2FsbChlPTEpe3RoaXMuX2RyYXdDYWxscy5hZGRDb3VudChlLCExKX1pbml0V2ViVlIoKXt0aHJvdyBRKCJXZWJWUkNhbWVyYSIpfV9wcmVwYXJlVlJDb21wb25lbnQoKXt9X2Nvbm5lY3RWUkV2ZW50cyhlLHQpe31fc3VibWl0VlJGcmFtZSgpe31kaXNhYmxlVlIoKXt9aXNWUlByZXNlbnRpbmcoKXtyZXR1cm4hMX1fcmVxdWVzdFZSRnJhbWUoKXt9X2xvYWRGaWxlQXN5bmMoZSx0LGkpe3JldHVybiBuZXcgUHJvbWlzZSgocyxyKT0+e3RoaXMuX2xvYWRGaWxlKGUsbj0+e3Mobil9LHZvaWQgMCx0LGksKG4sYSk9PntyKGEpfSl9KX1nZXRWZXJ0ZXhTaGFkZXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nbC5nZXRBdHRhY2hlZFNoYWRlcnMoZSk7cmV0dXJuIHQ/dGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKHRbMF0pOm51bGx9Z2V0RnJhZ21lbnRTaGFkZXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nbC5nZXRBdHRhY2hlZFNoYWRlcnMoZSk7cmV0dXJuIHQ/dGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKHRbMV0pOm51bGx9c2V0RGVwdGhTdGVuY2lsVGV4dHVyZShlLHQsaSxzKXtlIT09dm9pZCAwJiYodCYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbZV09dCksIWl8fCFpLmRlcHRoU3RlbmNpbFRleHR1cmU/dGhpcy5fc2V0VGV4dHVyZShlLG51bGwsdm9pZCAwLHZvaWQgMCxzKTp0aGlzLl9zZXRUZXh0dXJlKGUsaSwhMSwhMCxzKSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2VzcyhlLHQsaSl7dmFyIHM7bGV0IHI9bnVsbDt0JiYodC5fdGV4dHVyZXMuZGF0YVt0Ll9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF0/cj10Ll90ZXh0dXJlcy5kYXRhW3QuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXTp0Ll9mb3JjZWRPdXRwdXRUZXh0dXJlJiYocj10Ll9mb3JjZWRPdXRwdXRUZXh0dXJlKSksdGhpcy5fYmluZFRleHR1cmUoZSwocz1yPT1udWxsP3ZvaWQgMDpyLnRleHR1cmUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOm51bGwsaSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dChlLHQsaSl7dmFyIHMscjt0aGlzLl9iaW5kVGV4dHVyZShlLChyPShzPXQ9PW51bGw/dm9pZCAwOnQuX291dHB1dFRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy50ZXh0dXJlKSE9PW51bGwmJnIhPT12b2lkIDA/cjpudWxsLGkpfV9yZWJ1aWxkQnVmZmVycygpe2Zvcihjb25zdCBlIG9mIHRoaXMuc2NlbmVzKWUucmVzZXRDYWNoZWRNYXRlcmlhbCgpLGUuX3JlYnVpbGRHZW9tZXRyaWVzKCksZS5fcmVidWlsZFRleHR1cmVzKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdmlydHVhbFNjZW5lcyllLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxlLl9yZWJ1aWxkR2VvbWV0cmllcygpLGUuX3JlYnVpbGRUZXh0dXJlcygpO3N1cGVyLl9yZWJ1aWxkQnVmZmVycygpfV9yZW5kZXJGcmFtZSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLl9hY3RpdmVSZW5kZXJMb29wc1tlXTt0KCl9fV9yZW5kZXJMb29wKCl7aWYoIXRoaXMuX2NvbnRleHRXYXNMb3N0KXtsZXQgZT0hMDsodGhpcy5pc0Rpc3Bvc2VkfHwhdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kJiZ0aGlzLl93aW5kb3dJc0JhY2tncm91bmQpJiYoZT0hMSksZSYmKHRoaXMuYmVnaW5GcmFtZSgpLHRoaXMuX3JlbmRlclZpZXdzKCl8fHRoaXMuX3JlbmRlckZyYW1lKCksdGhpcy5lbmRGcmFtZSgpKX10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg+MD90aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyPyh0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlcXVlc3RJRD10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVuZGVyRnVuY3Rpb258fHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3RlciksdGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVxdWVzdElEKTp0aGlzLmlzVlJQcmVzZW50aW5nKCk/dGhpcy5fcmVxdWVzdFZSRnJhbWUoKTp0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKTp0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExfV9yZW5kZXJWaWV3cygpe3JldHVybiExfXN3aXRjaEZ1bGxzY3JlZW4oZSl7dGhpcy5pc0Z1bGxzY3JlZW4/dGhpcy5leGl0RnVsbHNjcmVlbigpOnRoaXMuZW50ZXJGdWxsc2NyZWVuKGUpfWVudGVyRnVsbHNjcmVlbihlKXt0aGlzLmlzRnVsbHNjcmVlbnx8KHRoaXMuX3BvaW50ZXJMb2NrUmVxdWVzdGVkPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZQLl9SZXF1ZXN0RnVsbHNjcmVlbih0aGlzLl9yZW5kZXJpbmdDYW52YXMpKX1leGl0RnVsbHNjcmVlbigpe3RoaXMuaXNGdWxsc2NyZWVuJiZQLl9FeGl0RnVsbHNjcmVlbigpfWVudGVyUG9pbnRlcmxvY2soKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJlAuX1JlcXVlc3RQb2ludGVybG9jayh0aGlzLl9yZW5kZXJpbmdDYW52YXMpfWV4aXRQb2ludGVybG9jaygpe1AuX0V4aXRQb2ludGVybG9jaygpfWJlZ2luRnJhbWUoKXt0aGlzLl9tZWFzdXJlRnBzKCksdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxzdXBlci5iZWdpbkZyYW1lKCl9ZW5kRnJhbWUoKXtzdXBlci5lbmRGcmFtZSgpLHRoaXMuX3N1Ym1pdFZSRnJhbWUoKSx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1yZXNpemUoZT0hMSl7dGhpcy5pc1ZSUHJlc2VudGluZygpfHxzdXBlci5yZXNpemUoZSl9c2V0U2l6ZShlLHQsaT0hMSl7aWYoIXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXN1cGVyLnNldFNpemUoZSx0LGkpKXJldHVybiExO2lmKHRoaXMuc2NlbmVzKXtmb3IobGV0IHM9MDtzPHRoaXMuc2NlbmVzLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5zY2VuZXNbc107Zm9yKGxldCBuPTA7bjxyLmNhbWVyYXMubGVuZ3RoO24rKyl7Y29uc3QgYT1yLmNhbWVyYXNbbl07YS5fY3VycmVudFJlbmRlcklkPTB9fXRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9cmV0dXJuITB9X2RlbGV0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWU7dCYmdC5wcm9ncmFtJiZ0LnRyYW5zZm9ybUZlZWRiYWNrJiYodGhpcy5kZWxldGVUcmFuc2Zvcm1GZWVkYmFjayh0LnRyYW5zZm9ybUZlZWRiYWNrKSx0LnRyYW5zZm9ybUZlZWRiYWNrPW51bGwpLHN1cGVyLl9kZWxldGVQaXBlbGluZUNvbnRleHQoZSl9Y3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbj1udWxsKXtyPXJ8fHRoaXMuX2dsLHRoaXMub25CZWZvcmVTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGE9c3VwZXIuY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbik7cmV0dXJuIHRoaXMub25BZnRlclNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksYX1fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHI9bnVsbCl7Y29uc3Qgbj1zLmNyZWF0ZVByb2dyYW0oKTtpZihlLnByb2dyYW09biwhbil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO2lmKHMuYXR0YWNoU2hhZGVyKG4sdCkscy5hdHRhY2hTaGFkZXIobixpKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZyKXtjb25zdCBhPXRoaXMuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKTt0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhhKSx0aGlzLnNldFRyYW5mb3JtRmVlZGJhY2tWYXJ5aW5ncyhuLHIpLGUudHJhbnNmb3JtRmVlZGJhY2s9YX1yZXR1cm4gcy5saW5rUHJvZ3JhbShuKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZyJiZ0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhudWxsKSxlLmNvbnRleHQ9cyxlLnZlcnRleFNoYWRlcj10LGUuZnJhZ21lbnRTaGFkZXI9aSxlLmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSksbn1fcmVsZWFzZVRleHR1cmUoZSl7c3VwZXIuX3JlbGVhc2VUZXh0dXJlKGUpfV9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtzdXBlci5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSksdGhpcy5zY2VuZXMuZm9yRWFjaCh0PT57dC5wb3N0UHJvY2Vzc2VzLmZvckVhY2goaT0+e2kuX291dHB1dFRleHR1cmU9PT1lJiYoaS5fb3V0cHV0VGV4dHVyZT1udWxsKX0pLHQuY2FtZXJhcy5mb3JFYWNoKGk9PntpLl9wb3N0UHJvY2Vzc2VzLmZvckVhY2gocz0+e3MmJnMuX291dHB1dFRleHR1cmU9PT1lJiYocy5fb3V0cHV0VGV4dHVyZT1udWxsKX0pfSl9KX1nZXRSZW5kZXJQYXNzTmFtZXMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzfWdldEN1cnJlbnRSZW5kZXJQYXNzTmFtZSgpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdGhpcy5jdXJyZW50UmVuZGVyUGFzc0lkXX1jcmVhdGVSZW5kZXJQYXNzSWQoZSl7Y29uc3QgdD0rK1AuX1JlbmRlclBhc3NJZENvdW50ZXI7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc1t0XT1lPz8iTk9OQU1FIix0fXJlbGVhc2VSZW5kZXJQYXNzSWQoZSl7dGhpcy5fcmVuZGVyUGFzc05hbWVzW2VdPXZvaWQgMDtmb3IobGV0IHQ9MDt0PHRoaXMuc2NlbmVzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9dGhpcy5zY2VuZXNbdF07Zm9yKGxldCBzPTA7czxpLm1lc2hlcy5sZW5ndGg7KytzKXtjb25zdCByPWkubWVzaGVzW3NdO2lmKHIuc3ViTWVzaGVzKWZvcihsZXQgbj0wO248ci5zdWJNZXNoZXMubGVuZ3RoOysrbilyLnN1Yk1lc2hlc1tuXS5fcmVtb3ZlRHJhd1dyYXBwZXIoZSl9fX1fcmVzY2FsZVRleHR1cmUoZSx0LGkscyxyKXt0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX2dsLkxJTkVBUiksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9nbC5MSU5FQVIpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9nbC5DTEFNUF9UT19FREdFKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSk7Y29uc3Qgbj10aGlzLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoe3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fSx7Z2VuZXJhdGVNaXBNYXBzOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6MixnZW5lcmF0ZURlcHRoQnVmZmVyOiExLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjohMX0pOyF0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJlAuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3RvcnkmJih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3M9UC5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeSh0aGlzKSksdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzJiYodGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5nZXRFZmZlY3QoKS5leGVjdXRlV2hlbkNvbXBpbGVkKCgpPT57dGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLm9uQXBwbHk9ZnVuY3Rpb24obyl7by5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixlKX07bGV0IGE9aTthfHwoYT10aGlzLnNjZW5lc1t0aGlzLnNjZW5lcy5sZW5ndGgtMV0pLGEucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihbdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzXSxuLCEwKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsdCwhMCksdGhpcy5fZ2wuY29weVRleEltYWdlMkQodGhpcy5fZ2wuVEVYVFVSRV8yRCwwLHMsMCwwLHQud2lkdGgsdC5oZWlnaHQsMCksdGhpcy51bkJpbmRGcmFtZWJ1ZmZlcihuKSxuLmRpc3Bvc2UoKSxyJiZyKCl9KSl9Z2V0RnBzKCl7cmV0dXJuIHRoaXMuX2Zwc31nZXREZWx0YVRpbWUoKXtyZXR1cm4gdGhpcy5fZGVsdGFUaW1lfV9tZWFzdXJlRnBzKCl7dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLnNhbXBsZUZyYW1lKCksdGhpcy5fZnBzPXRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5hdmVyYWdlRlBTLHRoaXMuX2RlbHRhVGltZT10aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuaW5zdGFudGFuZW91c0ZyYW1lVGltZXx8MH13cmFwV2ViR0xUZXh0dXJlKGUsdD0hMSxpPTMpe2NvbnN0IHM9bmV3IG5yKGUsdGhpcy5fZ2wpLHI9bmV3IEx0KHRoaXMsTGUuVW5rbm93biwhMCk7cmV0dXJuIHIuX2hhcmR3YXJlVGV4dHVyZT1zLHIuaXNSZWFkeT0hMCxyLnVzZU1pcE1hcHM9dCx0aGlzLnVwZGF0ZVRleHR1cmVTYW1wbGluZ01vZGUoaSxyKSxyfV91cGxvYWRJbWFnZVRvVGV4dHVyZShlLHQsaT0wLHM9MCl7Y29uc3Qgcj10aGlzLl9nbCxuPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxhPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KSxvPXRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUudHlwZSxhKSxoPWUuaXNDdWJlP3IuVEVYVFVSRV9DVUJFX01BUDpyLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShoLGUsITApLHRoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IGw9ci5URVhUVVJFXzJEO2UuaXNDdWJlJiYobD1yLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpKSxyLnRleEltYWdlMkQobCxzLG8sYSxuLHQpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaCxudWxsLCEwKX11cGRhdGVUZXh0dXJlQ29tcGFyaXNvbkZ1bmN0aW9uKGUsdCl7aWYodGhpcy53ZWJHTFZlcnNpb249PT0xKXtPLkVycm9yKCJXZWJHTCAxIGRvZXMgbm90IHN1cHBvcnQgdGV4dHVyZSBjb21wYXJpc29uLiIpO3JldHVybn1jb25zdCBpPXRoaXMuX2dsO2UuaXNDdWJlPyh0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsZSwhMCksdD09PTA/KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLk5PTkUpKTooaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV9DVUJFX01BUCxpLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHQpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCkpOih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsZSwhMCksdD09PTA/KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLk5PTkUpKTooaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHQpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCkpLGUuX2NvbXBhcmlzb25GdW5jdGlvbj10fWNyZWF0ZUluc3RhbmNlc0J1ZmZlcihlKXtjb25zdCB0PXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBpbnN0YW5jZSBidWZmZXIiKTtjb25zdCBpPW5ldyBMaSh0KTtyZXR1cm4gaS5jYXBhY2l0eT1lLHRoaXMuYmluZEFycmF5QnVmZmVyKGkpLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGUsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSxpLnJlZmVyZW5jZXM9MSxpfWRlbGV0ZUluc3RhbmNlc0J1ZmZlcihlKXt0aGlzLl9nbC5kZWxldGVCdWZmZXIoZSl9X2NsaWVudFdhaXRBc3luYyhlLHQ9MCxpPTEwKXtjb25zdCBzPXRoaXMuX2dsO3JldHVybiBuZXcgUHJvbWlzZSgocixuKT0+e2NvbnN0IGE9KCk9Pntjb25zdCBvPXMuY2xpZW50V2FpdFN5bmMoZSx0LDApO2lmKG89PXMuV0FJVF9GQUlMRUQpe24oKTtyZXR1cm59aWYobz09cy5USU1FT1VUX0VYUElSRUQpe3NldFRpbWVvdXQoYSxpKTtyZXR1cm59cigpfTthKCl9KX1fcmVhZFBpeGVsc0FzeW5jKGUsdCxpLHMscixuLGEpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbjwyKXRocm93IG5ldyBFcnJvcigiX3JlYWRQaXhlbHNBc3luYyBvbmx5IHdvcmsgb24gV2ViR0wyKyIpO2NvbnN0IG89dGhpcy5fZ2wsaD1vLmNyZWF0ZUJ1ZmZlcigpO28uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLGgpLG8uYnVmZmVyRGF0YShvLlBJWEVMX1BBQ0tfQlVGRkVSLGEuYnl0ZUxlbmd0aCxvLlNUUkVBTV9SRUFEKSxvLnJlYWRQaXhlbHMoZSx0LGkscyxyLG4sMCksby5iaW5kQnVmZmVyKG8uUElYRUxfUEFDS19CVUZGRVIsbnVsbCk7Y29uc3QgbD1vLmZlbmNlU3luYyhvLlNZTkNfR1BVX0NPTU1BTkRTX0NPTVBMRVRFLDApO3JldHVybiBsPyhvLmZsdXNoKCksdGhpcy5fY2xpZW50V2FpdEFzeW5jKGwsMCwxMCkudGhlbigoKT0+KG8uZGVsZXRlU3luYyhsKSxvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixoKSxvLmdldEJ1ZmZlclN1YkRhdGEoby5QSVhFTF9QQUNLX0JVRkZFUiwwLGEpLG8uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpLG8uZGVsZXRlQnVmZmVyKGgpLGEpKSk6bnVsbH1kaXNwb3NlKCl7Zm9yKHRoaXMuaGlkZUxvYWRpbmdVSSgpLHRoaXMub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpO3RoaXMucG9zdFByb2Nlc3Nlcy5sZW5ndGg7KXRoaXMucG9zdFByb2Nlc3Nlc1swXS5kaXNwb3NlKCk7Zm9yKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmRpc3Bvc2UoKTt0aGlzLnNjZW5lcy5sZW5ndGg7KXRoaXMuc2NlbmVzWzBdLmRpc3Bvc2UoKTtmb3IoO3RoaXMuX3ZpcnR1YWxTY2VuZXMubGVuZ3RoOyl0aGlzLl92aXJ0dWFsU2NlbmVzWzBdLmRpc3Bvc2UoKTtjZS5JbnN0YW5jZXMubGVuZ3RoPT09MSYmUC5hdWRpb0VuZ2luZSYmKFAuYXVkaW9FbmdpbmUuZGlzcG9zZSgpLFAuYXVkaW9FbmdpbmU9bnVsbCksdGhpcy5kaXNhYmxlVlIoKTtjb25zdCBlPXRoaXMuZ2V0SG9zdFdpbmRvdygpO2UmJnR5cGVvZiBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9PSJmdW5jdGlvbiImJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1ciksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25Gb2N1cykpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25DYW52YXNGb2N1cyksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQ2FudmFzQmx1ciksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJvdXQiLHRoaXMuX29uQ2FudmFzUG9pbnRlck91dCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix0aGlzLl9vbkNhbnZhc0NvbnRleHRNZW51KSksRmkoKSYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW96ZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1zZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibXNwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW96cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdHBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSksc3VwZXIuZGlzcG9zZSgpO2NvbnN0IHQ9Y2UuSW5zdGFuY2VzLmluZGV4T2YodGhpcyk7dD49MCYmY2UuSW5zdGFuY2VzLnNwbGljZSh0LDEpLFAuSW5zdGFuY2VzLmxlbmd0aHx8KGNlLk9uRW5naW5lc0Rpc3Bvc2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksY2UuT25FbmdpbmVzRGlzcG9zZWRPYnNlcnZhYmxlLmNsZWFyKCkpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FbmRGcmFtZU9ic2VydmFibGUuY2xlYXIoKX1fZGlzYWJsZVRvdWNoQWN0aW9uKCl7IXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGV8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJ0b3VjaC1hY3Rpb24iLCJub25lIiksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLnRvdWNoQWN0aW9uPSJub25lIix0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I9InRyYW5zcGFyZW50Iil9ZGlzcGxheUxvYWRpbmdVSSgpe2lmKCFqZSgpKXJldHVybjtjb25zdCBlPXRoaXMubG9hZGluZ1NjcmVlbjtlJiZlLmRpc3BsYXlMb2FkaW5nVUkoKX1oaWRlTG9hZGluZ1VJKCl7aWYoIWplKCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5fbG9hZGluZ1NjcmVlbjtlJiZlLmhpZGVMb2FkaW5nVUkoKX1nZXQgbG9hZGluZ1NjcmVlbigpe3JldHVybiF0aGlzLl9sb2FkaW5nU2NyZWVuJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9sb2FkaW5nU2NyZWVuPVAuRGVmYXVsdExvYWRpbmdTY3JlZW5GYWN0b3J5KHRoaXMuX3JlbmRlcmluZ0NhbnZhcykpLHRoaXMuX2xvYWRpbmdTY3JlZW59c2V0IGxvYWRpbmdTY3JlZW4oZSl7dGhpcy5fbG9hZGluZ1NjcmVlbj1lfXNldCBsb2FkaW5nVUlUZXh0KGUpe3RoaXMubG9hZGluZ1NjcmVlbi5sb2FkaW5nVUlUZXh0PWV9c2V0IGxvYWRpbmdVSUJhY2tncm91bmRDb2xvcihlKXt0aGlzLmxvYWRpbmdTY3JlZW4ubG9hZGluZ1VJQmFja2dyb3VuZENvbG9yPWV9Y3JlYXRlVmlkZW9FbGVtZW50KGUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpfXN0YXRpYyBfUmVxdWVzdFBvaW50ZXJsb2NrKGUpe2lmKGUucmVxdWVzdFBvaW50ZXJMb2NrKXtjb25zdCB0PWUucmVxdWVzdFBvaW50ZXJMb2NrKCk7dCBpbnN0YW5jZW9mIFByb21pc2U/dC50aGVuKCgpPT57ZS5mb2N1cygpfSkuY2F0Y2goKCk9Pnt9KTplLmZvY3VzKCl9fXN0YXRpYyBfRXhpdFBvaW50ZXJsb2NrKCl7ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrJiZkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKX1zdGF0aWMgX1JlcXVlc3RGdWxsc2NyZWVuKGUpe2NvbnN0IHQ9ZS5yZXF1ZXN0RnVsbHNjcmVlbnx8ZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbjt0JiZ0LmNhbGwoZSl9c3RhdGljIF9FeGl0RnVsbHNjcmVlbigpe2NvbnN0IGU9ZG9jdW1lbnQ7ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4/ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTplLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJmUud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpfWdldEZvbnRPZmZzZXQoZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7dC5pbm5lckhUTUw9IkhnIix0LnNldEF0dHJpYnV0ZSgic3R5bGUiLGBmb250OiAke2V9ICFpbXBvcnRhbnRgKTtjb25zdCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIixpLnN0eWxlLndpZHRoPSIxcHgiLGkuc3R5bGUuaGVpZ2h0PSIwcHgiLGkuc3R5bGUudmVydGljYWxBbGlnbj0iYm90dG9tIjtjb25zdCBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Muc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIixzLmFwcGVuZENoaWxkKHQpLHMuYXBwZW5kQ2hpbGQoaSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTtsZXQgcj0wLG49MDt0cnl7bj1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxpLnN0eWxlLnZlcnRpY2FsQWxpZ249ImJhc2VsaW5lIixyPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wfWZpbmFsbHl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzKX1yZXR1cm57YXNjZW50OnIsaGVpZ2h0Om4sZGVzY2VudDpuLXJ9fX1QLkFMUEhBX0RJU0FCTEU9MCxQLkFMUEhBX0FERD0xLFAuQUxQSEFfQ09NQklORT0yLFAuQUxQSEFfU1VCVFJBQ1Q9MyxQLkFMUEhBX01VTFRJUExZPTQsUC5BTFBIQV9NQVhJTUlaRUQ9NSxQLkFMUEhBX09ORU9ORT02LFAuQUxQSEFfUFJFTVVMVElQTElFRD03LFAuQUxQSEFfUFJFTVVMVElQTElFRF9QT1JURVJEVUZGPTgsUC5BTFBIQV9JTlRFUlBPTEFURT05LFAuQUxQSEFfU0NSRUVOTU9ERT0xMCxQLkRFTEFZTE9BRFNUQVRFX05PTkU9MCxQLkRFTEFZTE9BRFNUQVRFX0xPQURFRD0xLFAuREVMQVlMT0FEU1RBVEVfTE9BRElORz0yLFAuREVMQVlMT0FEU1RBVEVfTk9UTE9BREVEPTQsUC5ORVZFUj01MTIsUC5BTFdBWVM9NTE5LFAuTEVTUz01MTMsUC5FUVVBTD01MTQsUC5MRVFVQUw9NTE1LFAuR1JFQVRFUj01MTYsUC5HRVFVQUw9NTE4LFAuTk9URVFVQUw9NTE3LFAuS0VFUD03NjgwLFAuUkVQTEFDRT03NjgxLFAuSU5DUj03NjgyLFAuREVDUj03NjgzLFAuSU5WRVJUPTUzODYsUC5JTkNSX1dSQVA9MzQwNTUsUC5ERUNSX1dSQVA9MzQwNTYsUC5URVhUVVJFX0NMQU1QX0FERFJFU1NNT0RFPTAsUC5URVhUVVJFX1dSQVBfQUREUkVTU01PREU9MSxQLlRFWFRVUkVfTUlSUk9SX0FERFJFU1NNT0RFPTIsUC5URVhUVVJFRk9STUFUX0FMUEhBPTAsUC5URVhUVVJFRk9STUFUX0xVTUlOQU5DRT0xLFAuVEVYVFVSRUZPUk1BVF9MVU1JTkFOQ0VfQUxQSEE9MixQLlRFWFRVUkVGT1JNQVRfUkdCPTQsUC5URVhUVVJFRk9STUFUX1JHQkE9NSxQLlRFWFRVUkVGT1JNQVRfUkVEPTYsUC5URVhUVVJFRk9STUFUX1I9NixQLlRFWFRVUkVGT1JNQVRfUkc9NyxQLlRFWFRVUkVGT1JNQVRfUkVEX0lOVEVHRVI9OCxQLlRFWFRVUkVGT1JNQVRfUl9JTlRFR0VSPTgsUC5URVhUVVJFRk9STUFUX1JHX0lOVEVHRVI9OSxQLlRFWFRVUkVGT1JNQVRfUkdCX0lOVEVHRVI9MTAsUC5URVhUVVJFRk9STUFUX1JHQkFfSU5URUdFUj0xMSxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0JZVEU9MCxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVD0wLFAuVEVYVFVSRVRZUEVfRkxPQVQ9MSxQLlRFWFRVUkVUWVBFX0hBTEZfRkxPQVQ9MixQLlRFWFRVUkVUWVBFX0JZVEU9MyxQLlRFWFRVUkVUWVBFX1NIT1JUPTQsUC5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVD01LFAuVEVYVFVSRVRZUEVfSU5UPTYsUC5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRFR0VSPTcsUC5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF80XzRfNF80PTgsUC5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzVfNV8xPTksUC5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzZfNT0xMCxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVj0xMSxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yNF84PTEyLFAuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVj0xMyxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF81XzlfOV85X1JFVj0xNCxQLlRFWFRVUkVUWVBFX0ZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVj0xNSxQLlRFWFRVUkVfTkVBUkVTVF9TQU1QTElOR01PREU9MSxQLlRFWFRVUkVfQklMSU5FQVJfU0FNUExJTkdNT0RFPTIsUC5URVhUVVJFX1RSSUxJTkVBUl9TQU1QTElOR01PREU9MyxQLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUX01JUExJTkVBUj04LFAuVEVYVFVSRV9MSU5FQVJfTElORUFSX01JUE5FQVJFU1Q9MTEsUC5URVhUVVJFX0xJTkVBUl9MSU5FQVJfTUlQTElORUFSPTMsUC5URVhUVVJFX05FQVJFU1RfTkVBUkVTVF9NSVBORUFSRVNUPTQsUC5URVhUVVJFX05FQVJFU1RfTElORUFSX01JUE5FQVJFU1Q9NSxQLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVJfTUlQTElORUFSPTYsUC5URVhUVVJFX05FQVJFU1RfTElORUFSPTcsUC5URVhUVVJFX05FQVJFU1RfTkVBUkVTVD0xLFAuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVF9NSVBORUFSRVNUPTksUC5URVhUVVJFX0xJTkVBUl9ORUFSRVNUX01JUExJTkVBUj0xMCxQLlRFWFRVUkVfTElORUFSX0xJTkVBUj0yLFAuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVD0xMixQLlRFWFRVUkVfRVhQTElDSVRfTU9ERT0wLFAuVEVYVFVSRV9TUEhFUklDQUxfTU9ERT0xLFAuVEVYVFVSRV9QTEFOQVJfTU9ERT0yLFAuVEVYVFVSRV9DVUJJQ19NT0RFPTMsUC5URVhUVVJFX1BST0pFQ1RJT05fTU9ERT00LFAuVEVYVFVSRV9TS1lCT1hfTU9ERT01LFAuVEVYVFVSRV9JTlZDVUJJQ19NT0RFPTYsUC5URVhUVVJFX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTcsUC5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTgsUC5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFPTksUC5TQ0FMRU1PREVfRkxPT1I9MSxQLlNDQUxFTU9ERV9ORUFSRVNUPTIsUC5TQ0FMRU1PREVfQ0VJTElORz0zLFAuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3Rvcnk9bnVsbCxQLl9SZW5kZXJQYXNzSWRDb3VudGVyPTAsb2UucHJvdG90eXBlLl9kZWJ1Z1B1c2hHcm91cD1mdW5jdGlvbihjLGUpe30sb2UucHJvdG90eXBlLl9kZWJ1Z1BvcEdyb3VwPWZ1bmN0aW9uKGMpe30sb2UucHJvdG90eXBlLl9kZWJ1Z0luc2VydE1hcmtlcj1mdW5jdGlvbihjLGUpe30sb2UucHJvdG90eXBlLl9kZWJ1Z0ZsdXNoUGVuZGluZ0NvbW1hbmRzPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBFbihjKXtyZXR1cm4gbmV3IFAoYywhMCx7cHJlc2VydmVEcmF3aW5nQnVmZmVyOiEwLHN0ZW5jaWw6ITB9KX1mdW5jdGlvbiBFaShjKXtyZXR1cm4gTWF0aC5wb3coYyxPZSl9ZnVuY3Rpb24gVGkoYyl7cmV0dXJuIGM8PS4wNDA0NT8uMDc3Mzk5MzgwOCpjOk1hdGgucG93KC45NDc4NjcyOTkqKGMrLjA1NSksMi40KX1mdW5jdGlvbiBiaShjKXtyZXR1cm4gTWF0aC5wb3coYyxDZSl9ZnVuY3Rpb24gU2koYyl7cmV0dXJuIGM8PS4wMDMxMzA4PzEyLjkyKmM6MS4wNTUqTWF0aC5wb3coYywuNDE2NjYpLS4wNTV9Y2xhc3MgcmV7Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTApe3RoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1pfXRvU3RyaW5nKCl7cmV0dXJuIntSOiAiK3RoaXMucisiIEc6Iit0aGlzLmcrIiBCOiIrdGhpcy5iKyJ9In1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQ29sb3IzIn1nZXRIYXNoQ29kZSgpe2xldCBlPXRoaXMucioyNTV8MDtyZXR1cm4gZT1lKjM5N14odGhpcy5nKjI1NXwwKSxlPWUqMzk3Xih0aGlzLmIqMjU1fDApLGV9dG9BcnJheShlLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy5yLGVbdCsxXT10aGlzLmcsZVt0KzJdPXRoaXMuYix0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHJlLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfXRvQ29sb3I0KGU9MSl7cmV0dXJuIG5ldyBOZSh0aGlzLnIsdGhpcy5nLHRoaXMuYixlKX1hc0FycmF5KCl7cmV0dXJuW3RoaXMucix0aGlzLmcsdGhpcy5iXX10b0x1bWluYW5jZSgpe3JldHVybiB0aGlzLnIqLjMrdGhpcy5nKi41OSt0aGlzLmIqLjExfW11bHRpcGx5KGUpe3JldHVybiBuZXcgcmUodGhpcy5yKmUucix0aGlzLmcqZS5nLHRoaXMuYiplLmIpfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLnIsdC5nPXRoaXMuZyplLmcsdC5iPXRoaXMuYiplLmIsdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMucj09PWUuciYmdGhpcy5nPT09ZS5nJiZ0aGlzLmI9PT1lLmJ9ZXF1YWxzRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5yPT09ZSYmdGhpcy5nPT09dCYmdGhpcy5iPT09aX1zY2FsZShlKXtyZXR1cm4gbmV3IHJlKHRoaXMuciplLHRoaXMuZyplLHRoaXMuYiplKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMucio9ZSx0aGlzLmcqPWUsdGhpcy5iKj1lLHRoaXN9c2NhbGVUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUsdC5nPXRoaXMuZyplLHQuYj10aGlzLmIqZSx0aGlzfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5yKz10aGlzLnIqZSx0LmcrPXRoaXMuZyplLHQuYis9dGhpcy5iKmUsdGhpc31jbGFtcFRvUmVmKGU9MCx0PTEsaSl7cmV0dXJuIGkucj1XLkNsYW1wKHRoaXMucixlLHQpLGkuZz1XLkNsYW1wKHRoaXMuZyxlLHQpLGkuYj1XLkNsYW1wKHRoaXMuYixlLHQpLHRoaXN9YWRkKGUpe3JldHVybiBuZXcgcmUodGhpcy5yK2Uucix0aGlzLmcrZS5nLHRoaXMuYitlLmIpfWFkZFRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIrZS5yLHQuZz10aGlzLmcrZS5nLHQuYj10aGlzLmIrZS5iLHRoaXN9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyByZSh0aGlzLnItZS5yLHRoaXMuZy1lLmcsdGhpcy5iLWUuYil9c3VidHJhY3RUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yLWUucix0Lmc9dGhpcy5nLWUuZyx0LmI9dGhpcy5iLWUuYix0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyByZSh0aGlzLnIsdGhpcy5nLHRoaXMuYil9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMucj1lLnIsdGhpcy5nPWUuZyx0aGlzLmI9ZS5iLHRoaXN9Y29weUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9aSx0aGlzfXNldChlLHQsaSl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkpfXRvSGV4U3RyaW5nKCl7Y29uc3QgZT1NYXRoLnJvdW5kKHRoaXMucioyNTUpLHQ9TWF0aC5yb3VuZCh0aGlzLmcqMjU1KSxpPU1hdGgucm91bmQodGhpcy5iKjI1NSk7cmV0dXJuIiMiK1cuVG9IZXgoZSkrVy5Ub0hleCh0KStXLlRvSGV4KGkpfXRvSFNWKCl7Y29uc3QgZT1uZXcgcmU7cmV0dXJuIHRoaXMudG9IU1ZUb1JlZihlKSxlfXRvSFNWVG9SZWYoZSl7Y29uc3QgdD10aGlzLnIsaT10aGlzLmcscz10aGlzLmIscj1NYXRoLm1heCh0LGkscyksbj1NYXRoLm1pbih0LGkscyk7bGV0IGE9MCxvPTA7Y29uc3QgaD1yLGw9ci1uO3IhPT0wJiYobz1sL3IpLHIhPW4mJihyPT10PyhhPShpLXMpL2wsaTxzJiYoYSs9NikpOnI9PWk/YT0ocy10KS9sKzI6cj09cyYmKGE9KHQtaSkvbCs0KSxhKj02MCksZS5yPWEsZS5nPW8sZS5iPWh9dG9MaW5lYXJTcGFjZShlPSExKXtjb25zdCB0PW5ldyByZTtyZXR1cm4gdGhpcy50b0xpbmVhclNwYWNlVG9SZWYodCxlKSx0fXRvTGluZWFyU3BhY2VUb1JlZihlLHQ9ITEpe3JldHVybiB0PyhlLnI9VGkodGhpcy5yKSxlLmc9VGkodGhpcy5nKSxlLmI9VGkodGhpcy5iKSk6KGUucj1FaSh0aGlzLnIpLGUuZz1FaSh0aGlzLmcpLGUuYj1FaSh0aGlzLmIpKSx0aGlzfXRvR2FtbWFTcGFjZShlPSExKXtjb25zdCB0PW5ldyByZTtyZXR1cm4gdGhpcy50b0dhbW1hU3BhY2VUb1JlZih0LGUpLHR9dG9HYW1tYVNwYWNlVG9SZWYoZSx0PSExKXtyZXR1cm4gdD8oZS5yPVNpKHRoaXMuciksZS5nPVNpKHRoaXMuZyksZS5iPVNpKHRoaXMuYikpOihlLnI9YmkodGhpcy5yKSxlLmc9YmkodGhpcy5nKSxlLmI9YmkodGhpcy5iKSksdGhpc31zdGF0aWMgSFNWdG9SR0JUb1JlZihlLHQsaSxzKXtjb25zdCByPWkqdCxuPWUvNjAsYT1yKigxLU1hdGguYWJzKG4lMi0xKSk7bGV0IG89MCxoPTAsbD0wO24+PTAmJm48PTE/KG89cixoPWEpOm4+PTEmJm48PTI/KG89YSxoPXIpOm4+PTImJm48PTM/KGg9cixsPWEpOm4+PTMmJm48PTQ/KGg9YSxsPXIpOm4+PTQmJm48PTU/KG89YSxsPXIpOm4+PTUmJm48PTYmJihvPXIsbD1hKTtjb25zdCB1PWktcjtzLnNldChvK3UsaCt1LGwrdSl9c3RhdGljIEZyb21IU1YoZSx0LGkpe2NvbnN0IHM9bmV3IHJlKDAsMCwwKTtyZXR1cm4gcmUuSFNWdG9SR0JUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBGcm9tSGV4U3RyaW5nKGUpe2lmKGUuc3Vic3RyaW5nKDAsMSkhPT0iIyJ8fGUubGVuZ3RoIT09NylyZXR1cm4gbmV3IHJlKDAsMCwwKTtjb25zdCB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMyksMTYpLGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMyw1KSwxNikscz1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDE2KTtyZXR1cm4gcmUuRnJvbUludHModCxpLHMpfXN0YXRpYyBGcm9tQXJyYXkoZSx0PTApe3JldHVybiBuZXcgcmUoZVt0XSxlW3QrMV0sZVt0KzJdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0PTAsaSl7aS5yPWVbdF0saS5nPWVbdCsxXSxpLmI9ZVt0KzJdfXN0YXRpYyBGcm9tSW50cyhlLHQsaSl7cmV0dXJuIG5ldyByZShlLzI1NSx0LzI1NSxpLzI1NSl9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IHJlKDAsMCwwKTtyZXR1cm4gcmUuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtzLnI9ZS5yKyh0LnItZS5yKSppLHMuZz1lLmcrKHQuZy1lLmcpKmkscy5iPWUuYisodC5iLWUuYikqaX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5yKm8raS5yKmgrdC5yKmwrcy5yKnUsXz1lLmcqbytpLmcqaCt0LmcqbCtzLmcqdSxmPWUuYipvK2kuYipoK3QuYipsK3MuYip1O3JldHVybiBuZXcgcmUoZCxfLGYpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49cmUuQmxhY2soKTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtuLnI9KGEtcikqNiplLnIrKDMqYS00KnIrMSkqdC5yKygtYStyKSo2KmkucisoMyphLTIqcikqcy5yLG4uZz0oYS1yKSo2KmUuZysoMyphLTQqcisxKSp0LmcrKC1hK3IpKjYqaS5nKygzKmEtMipyKSpzLmcsbi5iPShhLXIpKjYqZS5iKygzKmEtNCpyKzEpKnQuYisoLWErcikqNippLmIrKDMqYS0yKnIpKnMuYn1zdGF0aWMgUmVkKCl7cmV0dXJuIG5ldyByZSgxLDAsMCl9c3RhdGljIEdyZWVuKCl7cmV0dXJuIG5ldyByZSgwLDEsMCl9c3RhdGljIEJsdWUoKXtyZXR1cm4gbmV3IHJlKDAsMCwxKX1zdGF0aWMgQmxhY2soKXtyZXR1cm4gbmV3IHJlKDAsMCwwKX1zdGF0aWMgZ2V0IEJsYWNrUmVhZE9ubHkoKXtyZXR1cm4gcmUuX0JsYWNrUmVhZE9ubHl9c3RhdGljIFdoaXRlKCl7cmV0dXJuIG5ldyByZSgxLDEsMSl9c3RhdGljIFB1cnBsZSgpe3JldHVybiBuZXcgcmUoLjUsMCwuNSl9c3RhdGljIE1hZ2VudGEoKXtyZXR1cm4gbmV3IHJlKDEsMCwxKX1zdGF0aWMgWWVsbG93KCl7cmV0dXJuIG5ldyByZSgxLDEsMCl9c3RhdGljIEdyYXkoKXtyZXR1cm4gbmV3IHJlKC41LC41LC41KX1zdGF0aWMgVGVhbCgpe3JldHVybiBuZXcgcmUoMCwxLDEpfXN0YXRpYyBSYW5kb20oKXtyZXR1cm4gbmV3IHJlKE1hdGgucmFuZG9tKCksTWF0aC5yYW5kb20oKSxNYXRoLnJhbmRvbSgpKX19cmUuX0JsYWNrUmVhZE9ubHk9cmUuQmxhY2soKTtsZXQgTmU9Y2xhc3MgUWV7Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0xKXt0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9aSx0aGlzLmE9c31hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLnIrPWUucix0aGlzLmcrPWUuZyx0aGlzLmIrPWUuYix0aGlzLmErPWUuYSx0aGlzfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hXX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLGVbdCszXT10aGlzLmEsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiBRZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMucj09PWUuciYmdGhpcy5nPT09ZS5nJiZ0aGlzLmI9PT1lLmImJnRoaXMuYT09PWUuYX1hZGQoZSl7cmV0dXJuIG5ldyBRZSh0aGlzLnIrZS5yLHRoaXMuZytlLmcsdGhpcy5iK2UuYix0aGlzLmErZS5hKX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IFFlKHRoaXMuci1lLnIsdGhpcy5nLWUuZyx0aGlzLmItZS5iLHRoaXMuYS1lLmEpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdC5hPXRoaXMuYS1lLmEsdGhpc31zY2FsZShlKXtyZXR1cm4gbmV3IFFlKHRoaXMuciplLHRoaXMuZyplLHRoaXMuYiplLHRoaXMuYSplKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMucio9ZSx0aGlzLmcqPWUsdGhpcy5iKj1lLHRoaXMuYSo9ZSx0aGlzfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLHQuZz10aGlzLmcqZSx0LmI9dGhpcy5iKmUsdC5hPXRoaXMuYSplLHRoaXN9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0LmErPXRoaXMuYSplLHRoaXN9Y2xhbXBUb1JlZihlPTAsdD0xLGkpe3JldHVybiBpLnI9Vy5DbGFtcCh0aGlzLnIsZSx0KSxpLmc9Vy5DbGFtcCh0aGlzLmcsZSx0KSxpLmI9Vy5DbGFtcCh0aGlzLmIsZSx0KSxpLmE9Vy5DbGFtcCh0aGlzLmEsZSx0KSx0aGlzfW11bHRpcGx5KGUpe3JldHVybiBuZXcgUWUodGhpcy5yKmUucix0aGlzLmcqZS5nLHRoaXMuYiplLmIsdGhpcy5hKmUuYSl9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUucix0Lmc9dGhpcy5nKmUuZyx0LmI9dGhpcy5iKmUuYix0LmE9dGhpcy5hKmUuYSx0fXRvU3RyaW5nKCl7cmV0dXJuIntSOiAiK3RoaXMucisiIEc6Iit0aGlzLmcrIiBCOiIrdGhpcy5iKyIgQToiK3RoaXMuYSsifSJ9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yNCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLnIqMjU1fDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZyoyNTV8MCksZT1lKjM5N14odGhpcy5iKjI1NXwwKSxlPWUqMzk3Xih0aGlzLmEqMjU1fDApLGV9Y2xvbmUoKXtyZXR1cm4gbmV3IFFlKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMucj1lLnIsdGhpcy5nPWUuZyx0aGlzLmI9ZS5iLHRoaXMuYT1lLmEsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWksdGhpcy5hPXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9dG9IZXhTdHJpbmcoZT0hMSl7Y29uc3QgdD1NYXRoLnJvdW5kKHRoaXMucioyNTUpLGk9TWF0aC5yb3VuZCh0aGlzLmcqMjU1KSxzPU1hdGgucm91bmQodGhpcy5iKjI1NSk7aWYoZSlyZXR1cm4iIyIrVy5Ub0hleCh0KStXLlRvSGV4KGkpK1cuVG9IZXgocyk7Y29uc3Qgcj1NYXRoLnJvdW5kKHRoaXMuYSoyNTUpO3JldHVybiIjIitXLlRvSGV4KHQpK1cuVG9IZXgoaSkrVy5Ub0hleChzKStXLlRvSGV4KHIpfXRvTGluZWFyU3BhY2UoZT0hMSl7Y29uc3QgdD1uZXcgUWU7cmV0dXJuIHRoaXMudG9MaW5lYXJTcGFjZVRvUmVmKHQsZSksdH10b0xpbmVhclNwYWNlVG9SZWYoZSx0PSExKXtyZXR1cm4gdD8oZS5yPVRpKHRoaXMuciksZS5nPVRpKHRoaXMuZyksZS5iPVRpKHRoaXMuYikpOihlLnI9RWkodGhpcy5yKSxlLmc9RWkodGhpcy5nKSxlLmI9RWkodGhpcy5iKSksZS5hPXRoaXMuYSx0aGlzfXRvR2FtbWFTcGFjZShlPSExKXtjb25zdCB0PW5ldyBRZTtyZXR1cm4gdGhpcy50b0dhbW1hU3BhY2VUb1JlZih0LGUpLHR9dG9HYW1tYVNwYWNlVG9SZWYoZSx0PSExKXtyZXR1cm4gdD8oZS5yPVNpKHRoaXMuciksZS5nPVNpKHRoaXMuZyksZS5iPVNpKHRoaXMuYikpOihlLnI9YmkodGhpcy5yKSxlLmc9YmkodGhpcy5nKSxlLmI9YmkodGhpcy5iKSksZS5hPXRoaXMuYSx0aGlzfXN0YXRpYyBGcm9tSGV4U3RyaW5nKGUpe2lmKGUuc3Vic3RyaW5nKDAsMSkhPT0iIyJ8fGUubGVuZ3RoIT09OSYmZS5sZW5ndGghPT03KXJldHVybiBuZXcgUWUoMCwwLDAsMCk7Y29uc3QgdD1wYXJzZUludChlLnN1YnN0cmluZygxLDMpLDE2KSxpPXBhcnNlSW50KGUuc3Vic3RyaW5nKDMsNSksMTYpLHM9cGFyc2VJbnQoZS5zdWJzdHJpbmcoNSw3KSwxNikscj1lLmxlbmd0aD09PTk/cGFyc2VJbnQoZS5zdWJzdHJpbmcoNyw5KSwxNik6MjU1O3JldHVybiBRZS5Gcm9tSW50cyh0LGkscyxyKX1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgUWUoMCwwLDAsMCk7cmV0dXJuIFFlLkxlcnBUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBMZXJwVG9SZWYoZSx0LGkscyl7cy5yPWUucisodC5yLWUucikqaSxzLmc9ZS5nKyh0LmctZS5nKSppLHMuYj1lLmIrKHQuYi1lLmIpKmkscy5hPWUuYSsodC5hLWUuYSkqaX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5yKm8raS5yKmgrdC5yKmwrcy5yKnUsXz1lLmcqbytpLmcqaCt0LmcqbCtzLmcqdSxmPWUuYipvK2kuYipoK3QuYipsK3MuYip1LG09ZS5hKm8raS5hKmgrdC5hKmwrcy5hKnU7cmV0dXJuIG5ldyBRZShkLF8sZixtKX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPW5ldyBRZTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtuLnI9KGEtcikqNiplLnIrKDMqYS00KnIrMSkqdC5yKygtYStyKSo2KmkucisoMyphLTIqcikqcy5yLG4uZz0oYS1yKSo2KmUuZysoMyphLTQqcisxKSp0LmcrKC1hK3IpKjYqaS5nKygzKmEtMipyKSpzLmcsbi5iPShhLXIpKjYqZS5iKygzKmEtNCpyKzEpKnQuYisoLWErcikqNippLmIrKDMqYS0yKnIpKnMuYixuLmE9KGEtcikqNiplLmErKDMqYS00KnIrMSkqdC5hKygtYStyKSo2KmkuYSsoMyphLTIqcikqcy5hfXN0YXRpYyBGcm9tQ29sb3IzKGUsdD0xKXtyZXR1cm4gbmV3IFFlKGUucixlLmcsZS5iLHQpfXN0YXRpYyBGcm9tQXJyYXkoZSx0PTApe3JldHVybiBuZXcgUWUoZVt0XSxlW3QrMV0sZVt0KzJdLGVbdCszXSl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdD0wLGkpe2kucj1lW3RdLGkuZz1lW3QrMV0saS5iPWVbdCsyXSxpLmE9ZVt0KzNdfXN0YXRpYyBGcm9tSW50cyhlLHQsaSxzKXtyZXR1cm4gbmV3IFFlKGUvMjU1LHQvMjU1LGkvMjU1LHMvMjU1KX1zdGF0aWMgQ2hlY2tDb2xvcnM0KGUsdCl7aWYoZS5sZW5ndGg9PT10KjMpe2NvbnN0IGk9W107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKz0zKXtjb25zdCByPXMvMyo0O2lbcl09ZVtzXSxpW3IrMV09ZVtzKzFdLGlbcisyXT1lW3MrMl0saVtyKzNdPTF9cmV0dXJuIGl9cmV0dXJuIGV9fTtjbGFzcyB4aXt9eGkuQ29sb3IzPUJlLkJ1aWxkQXJyYXkoMyxyZS5CbGFjaykseGkuQ29sb3I0PUJlLkJ1aWxkQXJyYXkoMywoKT0+bmV3IE5lKDAsMCwwLDApKSxzdCgiQkFCWUxPTi5Db2xvcjMiLHJlKSxzdCgiQkFCWUxPTi5Db2xvcjQiLE5lKTtjb25zdCBhcj0oYyxlKT0+IWN8fGMuZ2V0Q2xhc3NOYW1lJiZjLmdldENsYXNzTmFtZSgpPT09Ik1lc2giP251bGw6Yy5nZXRDbGFzc05hbWUmJmMuZ2V0Q2xhc3NOYW1lKCk9PT0iU3ViTWVzaCI/Yy5jbG9uZShlKTpjLmNsb25lP2MuY2xvbmUoKTpudWxsO2Z1bmN0aW9uIFRuKGMpe2NvbnN0IGU9W107ZG8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYykuZm9yRWFjaChmdW5jdGlvbih0KXtlLmluZGV4T2YodCk9PT0tMSYmZS5wdXNoKHQpfSk7d2hpbGUoYz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYykpO3JldHVybiBlfWNsYXNzIE1ze3N0YXRpYyBEZWVwQ29weShlLHQsaSxzKXtjb25zdCByPVRuKGUpO2Zvcihjb25zdCBuIG9mIHIpe2lmKG5bMF09PT0iXyImJighc3x8cy5pbmRleE9mKG4pPT09LTEpfHxuLmVuZHNXaXRoKCJPYnNlcnZhYmxlIil8fGkmJmkuaW5kZXhPZihuKSE9PS0xKWNvbnRpbnVlO2NvbnN0IGE9ZVtuXSxvPXR5cGVvZiBhO2lmKG8hPT0iZnVuY3Rpb24iKXRyeXtpZihvPT09Im9iamVjdCIpaWYoYSBpbnN0YW5jZW9mIEFycmF5KXtpZih0W25dPVtdLGEubGVuZ3RoPjApaWYodHlwZW9mIGFbMF09PSJvYmplY3QiKWZvcihsZXQgaD0wO2g8YS5sZW5ndGg7aCsrKXtjb25zdCBsPWFyKGFbaF0sdCk7dFtuXS5pbmRleE9mKGwpPT09LTEmJnRbbl0ucHVzaChsKX1lbHNlIHRbbl09YS5zbGljZSgwKX1lbHNlIHRbbl09YXIoYSx0KTtlbHNlIHRbbl09YX1jYXRjaChoKXtPLldhcm4oaC5tZXNzYWdlKX19fX1mdW5jdGlvbiBibigpe3JldHVybiB0eXBlb2YgX25hdGl2ZTwidSImJl9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q/bmV3IF9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q6bmV3IFhNTEh0dHBSZXF1ZXN0fWNsYXNzIHV0e2NvbnN0cnVjdG9yKCl7dGhpcy5feGhyPWJuKCksdGhpcy5fcmVxdWVzdFVSTD0iIn1faW5qZWN0Q3VzdG9tUmVxdWVzdEhlYWRlcnMoKXtpZighdGhpcy5fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKHRoaXMuX3JlcXVlc3RVUkwpKWZvcihjb25zdCBlIGluIHV0LkN1c3RvbVJlcXVlc3RIZWFkZXJzKXtjb25zdCB0PXV0LkN1c3RvbVJlcXVlc3RIZWFkZXJzW2VdO3QmJnRoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9fV9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnMoZSl7cmV0dXJuIHV0LlNraXBSZXF1ZXN0TW9kaWZpY2F0aW9uRm9yQmFieWxvbkNETiYmKGUuaW5jbHVkZXMoInByZXZpZXcuYmFieWxvbmpzLmNvbSIpfHxlLmluY2x1ZGVzKCJjZG4uYmFieWxvbmpzLmNvbSIpKX1nZXQgb25wcm9ncmVzcygpe3JldHVybiB0aGlzLl94aHIub25wcm9ncmVzc31zZXQgb25wcm9ncmVzcyhlKXt0aGlzLl94aHIub25wcm9ncmVzcz1lfWdldCByZWFkeVN0YXRlKCl7cmV0dXJuIHRoaXMuX3hoci5yZWFkeVN0YXRlfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5feGhyLnN0YXR1c31nZXQgc3RhdHVzVGV4dCgpe3JldHVybiB0aGlzLl94aHIuc3RhdHVzVGV4dH1nZXQgcmVzcG9uc2UoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlfWdldCByZXNwb25zZVVSTCgpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VVUkx9Z2V0IHJlc3BvbnNlVGV4dCgpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VUZXh0fWdldCByZXNwb25zZVR5cGUoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVHlwZX1zZXQgcmVzcG9uc2VUeXBlKGUpe3RoaXMuX3hoci5yZXNwb25zZVR5cGU9ZX1nZXQgdGltZW91dCgpe3JldHVybiB0aGlzLl94aHIudGltZW91dH1zZXQgdGltZW91dChlKXt0aGlzLl94aHIudGltZW91dD1lfWFkZEV2ZW50TGlzdGVuZXIoZSx0LGkpe3RoaXMuX3hoci5hZGRFdmVudExpc3RlbmVyKGUsdCxpKX1yZW1vdmVFdmVudExpc3RlbmVyKGUsdCxpKXt0aGlzLl94aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQsaSl9YWJvcnQoKXt0aGlzLl94aHIuYWJvcnQoKX1zZW5kKGUpe3V0LkN1c3RvbVJlcXVlc3RIZWFkZXJzJiZ0aGlzLl9pbmplY3RDdXN0b21SZXF1ZXN0SGVhZGVycygpLHRoaXMuX3hoci5zZW5kKGUpfW9wZW4oZSx0KXtmb3IoY29uc3QgaSBvZiB1dC5DdXN0b21SZXF1ZXN0TW9kaWZpZXJzKXtpZih0aGlzLl9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnModCkpcmV0dXJuO2kodGhpcy5feGhyLHQpfXJldHVybiB0PXQucmVwbGFjZSgiZmlsZTpodHRwOiIsImh0dHA6IiksdD10LnJlcGxhY2UoImZpbGU6aHR0cHM6IiwiaHR0cHM6IiksdGhpcy5fcmVxdWVzdFVSTD10LHRoaXMuX3hoci5vcGVuKGUsdCwhMCl9c2V0UmVxdWVzdEhlYWRlcihlLHQpe3RoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9Z2V0UmVzcG9uc2VIZWFkZXIoZSl7cmV0dXJuIHRoaXMuX3hoci5nZXRSZXNwb25zZUhlYWRlcihlKX19dXQuQ3VzdG9tUmVxdWVzdEhlYWRlcnM9e30sdXQuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycz1uZXcgQXJyYXksdXQuU2tpcFJlcXVlc3RNb2RpZmljYXRpb25Gb3JCYWJ5bG9uQ0ROPSEwO2NsYXNzIE5pe31OaS5GaWxlc1RvTG9hZD17fTtjbGFzcyBTbntzdGF0aWMgRXhwb25lbnRpYWxCYWNrb2ZmKGU9Myx0PTUwMCl7cmV0dXJuKGkscyxyKT0+cy5zdGF0dXMhPT0wfHxyPj1lfHxpLmluZGV4T2YoImZpbGU6IikhPT0tMT8tMTpNYXRoLnBvdygyLHIpKnR9fWNsYXNzIE1pIGV4dGVuZHMgRXJyb3J7fU1pLl9zZXRQcm90b3R5cGVPZj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgoYyxlKT0+KGMuX19wcm90b19fPWUsYykpO2NvbnN0IGxpPXtNZXNoSW52YWxpZFBvc2l0aW9uc0Vycm9yOjAsVW5zdXBwb3J0ZWRUZXh0dXJlRXJyb3I6MWUzLEdMVEZMb2FkZXJVbmV4cGVjdGVkTWFnaWNFcnJvcjoyZTMsU2NlbmVMb2FkZXJFcnJvcjozZTMsTG9hZEZpbGVFcnJvcjo0ZTMsUmVxdWVzdEZpbGVFcnJvcjo0MDAxLFJlYWRGaWxlRXJyb3I6NDAwMn07Y2xhc3MgQnQgZXh0ZW5kcyBNaXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSksdGhpcy5lcnJvckNvZGU9dCx0aGlzLmlubmVyRXJyb3I9aSx0aGlzLm5hbWU9IlJ1bnRpbWVFcnJvciIsTWkuX3NldFByb3RvdHlwZU9mKHRoaXMsQnQucHJvdG90eXBlKX19Y29uc3Qgb3I9Yz0+e2NvbnN0IGU9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89IjtsZXQgdD0iIixpLHMscixuLGEsbyxoLGw9MDtjb25zdCB1PUFycmF5QnVmZmVyLmlzVmlldyhjKT9uZXcgVWludDhBcnJheShjLmJ1ZmZlcixjLmJ5dGVPZmZzZXQsYy5ieXRlTGVuZ3RoKTpuZXcgVWludDhBcnJheShjKTtmb3IoO2w8dS5sZW5ndGg7KWk9dVtsKytdLHM9bDx1Lmxlbmd0aD91W2wrK106TnVtYmVyLk5hTixyPWw8dS5sZW5ndGg/dVtsKytdOk51bWJlci5OYU4sbj1pPj4yLGE9KGkmMyk8PDR8cz4+NCxvPShzJjE1KTw8MnxyPj42LGg9ciY2Myxpc05hTihzKT9vPWg9NjQ6aXNOYU4ocikmJihoPTY0KSx0Kz1lLmNoYXJBdChuKStlLmNoYXJBdChhKStlLmNoYXJBdChvKStlLmNoYXJBdChoKTtyZXR1cm4gdH0saHI9Yz0+YXRvYihjKSx4bj1jPT57Y29uc3QgZT1ocihjKSx0PWUubGVuZ3RoLGk9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQpKTtmb3IobGV0IHM9MDtzPHQ7cysrKWlbc109ZS5jaGFyQ29kZUF0KHMpO3JldHVybiBpLmJ1ZmZlcn07Y2xhc3MgWml7c3RhdGljIFNldEltbWVkaWF0ZShlKXtqZSgpJiZ3aW5kb3cuc2V0SW1tZWRpYXRlP3dpbmRvdy5zZXRJbW1lZGlhdGUoZSk6c2V0VGltZW91dChlLDEpfX1jb25zdCBscj1uZXcgUmVnRXhwKC9eZGF0YTooW14sXStcL1teLF0rKT87YmFzZTY0LC9pKTtjbGFzcyBxaSBleHRlbmRzIEJ0e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxsaS5Mb2FkRmlsZUVycm9yKSx0aGlzLm5hbWU9IkxvYWRGaWxlRXJyb3IiLE1pLl9zZXRQcm90b3R5cGVPZih0aGlzLHFpLnByb3RvdHlwZSksdCBpbnN0YW5jZW9mIHV0P3RoaXMucmVxdWVzdD10OnRoaXMuZmlsZT10fX1jbGFzcyBqaSBleHRlbmRzIEJ0e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxsaS5SZXF1ZXN0RmlsZUVycm9yKSx0aGlzLnJlcXVlc3Q9dCx0aGlzLm5hbWU9IlJlcXVlc3RGaWxlRXJyb3IiLE1pLl9zZXRQcm90b3R5cGVPZih0aGlzLGppLnByb3RvdHlwZSl9fWNsYXNzIEFzIGV4dGVuZHMgQnR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLGxpLlJlYWRGaWxlRXJyb3IpLHRoaXMuZmlsZT10LHRoaXMubmFtZT0iUmVhZEZpbGVFcnJvciIsTWkuX3NldFByb3RvdHlwZU9mKHRoaXMsQXMucHJvdG90eXBlKX19Y29uc3QgcWU9e0RlZmF1bHRSZXRyeVN0cmF0ZWd5OlNuLkV4cG9uZW50aWFsQmFja29mZigpLEJhc2VVcmw6IiIsQ29yc0JlaGF2aW9yOiJhbm9ueW1vdXMiLFByZXByb2Nlc3NVcmw6Yz0+Y30sY3I9Yz0+KGM9Yy5yZXBsYWNlKC8jL2dtLCIlMjMiKSxjKSxScz0oYyxlKT0+e2lmKCEoYyYmYy5pbmRleE9mKCJkYXRhOiIpPT09MCkmJnFlLkNvcnNCZWhhdmlvcilpZih0eXBlb2YgcWUuQ29yc0JlaGF2aW9yPT0ic3RyaW5nInx8cWUuQ29yc0JlaGF2aW9yIGluc3RhbmNlb2YgU3RyaW5nKWUuY3Jvc3NPcmlnaW49cWUuQ29yc0JlaGF2aW9yO2Vsc2V7Y29uc3QgdD1xZS5Db3JzQmVoYXZpb3IoYyk7dCYmKGUuY3Jvc3NPcmlnaW49dCl9fSx5cz0oYyxlLHQsaSxzPSIiLHIpPT57dmFyIG47bGV0IGEsbz0hMTtjIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhjKT90eXBlb2YgQmxvYjwidSImJnR5cGVvZiBVUkw8InUiPyhhPVVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2NdLHt0eXBlOnN9KSksbz0hMCk6YT1gZGF0YToke3N9O2Jhc2U2NCxgK29yKGMpOmMgaW5zdGFuY2VvZiBCbG9iPyhhPVVSTC5jcmVhdGVPYmplY3RVUkwoYyksbz0hMCk6KGE9Y3IoYyksYT1xZS5QcmVwcm9jZXNzVXJsKGMpKTtjb25zdCBoPWNlLkxhc3RDcmVhdGVkRW5naW5lLGw9Yj0+e2lmKHQpe2NvbnN0IHg9YXx8Yy50b1N0cmluZygpO3QoYEVycm9yIHdoaWxlIHRyeWluZyB0byBsb2FkIGltYWdlOiAke3guaW5kZXhPZigiaHR0cCIpPT09MHx8eC5sZW5ndGg8PTEyOD94Onguc2xpY2UoMCwxMjgpKyIuLi4ifWAsYil9fTtpZih0eXBlb2YgSW1hZ2U+InUifHwobj1oPT1udWxsP3ZvaWQgMDpoLl9mZWF0dXJlcy5mb3JjZUJpdG1hcE92ZXJIVE1MSW1hZ2VFbGVtZW50KSE9PW51bGwmJm4hPT12b2lkIDAmJm4pcmV0dXJuICR0KGEsYj0+e2guY3JlYXRlSW1hZ2VCaXRtYXAobmV3IEJsb2IoW2JdLHt0eXBlOnN9KSx7cHJlbXVsdGlwbHlBbHBoYToibm9uZSIsLi4ucn0pLnRoZW4oeD0+e2UoeCksbyYmVVJMLnJldm9rZU9iamVjdFVSTChhKX0pLmNhdGNoKHg9Pnt0JiZ0KCJFcnJvciB3aGlsZSB0cnlpbmcgdG8gbG9hZCBpbWFnZTogIitjLHgpfSl9LHZvaWQgMCxpfHx2b2lkIDAsITAsKGIseCk9PntsKHgpfSksbnVsbDtjb25zdCB1PW5ldyBJbWFnZTtScyhhLHUpO2NvbnN0IGQ9W10sXz0oKT0+e2QuZm9yRWFjaChiPT57Yi50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLm5hbWUsYi5oYW5kbGVyKX0pfSxmPSgpPT57ZC5mb3JFYWNoKGI9PntiLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGIubmFtZSxiLmhhbmRsZXIpfSksZC5sZW5ndGg9MH0sbT0oKT0+e2YoKSxlKHUpLG8mJnUuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKHUuc3JjKX0sdj1iPT57ZigpLGwoYiksbyYmdS5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwodS5zcmMpfSxFPWI9PntpZihiLmJsb2NrZWRVUkkhPT11LnNyYylyZXR1cm47ZigpO2NvbnN0IHg9bmV3IEVycm9yKGBDU1AgdmlvbGF0aW9uIG9mIHBvbGljeSAke2IuZWZmZWN0aXZlRGlyZWN0aXZlfSAke2IuYmxvY2tlZFVSSX0uIEN1cnJlbnQgcG9saWN5IGlzICR7Yi5vcmlnaW5hbFBvbGljeX1gKTtjZS5Vc2VGYWxsYmFja1RleHR1cmU9ITEsbCh4KSxvJiZ1LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh1LnNyYyksdS5zcmM9IiJ9O2QucHVzaCh7dGFyZ2V0OnUsbmFtZToibG9hZCIsaGFuZGxlcjptfSksZC5wdXNoKHt0YXJnZXQ6dSxuYW1lOiJlcnJvciIsaGFuZGxlcjp2fSksZC5wdXNoKHt0YXJnZXQ6ZG9jdW1lbnQsbmFtZToic2VjdXJpdHlwb2xpY3l2aW9sYXRpb24iLGhhbmRsZXI6RX0pLF8oKTtjb25zdCBTPWEuc3Vic3RyaW5nKDAsNSk9PT0iYmxvYjoiLFI9YS5zdWJzdHJpbmcoMCw1KT09PSJkYXRhOiIsQT0oKT0+e1N8fFI/dS5zcmM9YTokdChhLChiLHgsSSk9Pntjb25zdCBVPSFzJiZJP0k6cyxrPW5ldyBCbG9iKFtiXSx7dHlwZTpVfSksbWU9VVJMLmNyZWF0ZU9iamVjdFVSTChrKTtvPSEwLHUuc3JjPW1lfSx2b2lkIDAsaXx8dm9pZCAwLCEwLChiLHgpPT57bCh4KX0pfSxDPSgpPT57aSYmaS5sb2FkSW1hZ2UoYSx1KX07aWYoIVMmJiFSJiZpJiZpLmVuYWJsZVRleHR1cmVzT2ZmbGluZSlpLm9wZW4oQyxBKTtlbHNle2lmKGEuaW5kZXhPZigiZmlsZToiKSE9PS0xKXtjb25zdCBiPWRlY29kZVVSSUNvbXBvbmVudChhLnN1YnN0cmluZyg1KS50b0xvd2VyQ2FzZSgpKTtpZihOaS5GaWxlc1RvTG9hZFtiXSYmdHlwZW9mIFVSTDwidSIpe3RyeXtsZXQgeDt0cnl7eD1VUkwuY3JlYXRlT2JqZWN0VVJMKE5pLkZpbGVzVG9Mb2FkW2JdKX1jYXRjaHt4PVVSTC5jcmVhdGVPYmplY3RVUkwoTmkuRmlsZXNUb0xvYWRbYl0pfXUuc3JjPXgsbz0hMH1jYXRjaHt1LnNyYz0iIn1yZXR1cm4gdX19QSgpfXJldHVybiB1fSxCaT0oYyxlLHQsaSxzKT0+e2NvbnN0IHI9bmV3IEZpbGVSZWFkZXIsbj17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IHcsYWJvcnQ6KCk9PnIuYWJvcnQoKX07cmV0dXJuIHIub25sb2FkZW5kPSgpPT5uLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhuKSxzJiYoci5vbmVycm9yPSgpPT57cyhuZXcgQXMoYFVuYWJsZSB0byByZWFkICR7Yy5uYW1lfWAsYykpfSksci5vbmxvYWQ9YT0+e2UoYS50YXJnZXQucmVzdWx0KX0sdCYmKHIub25wcm9ncmVzcz10KSxpP3IucmVhZEFzQXJyYXlCdWZmZXIoYyk6ci5yZWFkQXNUZXh0KGMpLG59LCR0PShjLGUsdCxpLHMscixuKT0+e2lmKGMubmFtZSlyZXR1cm4gQmkoYyxlLHQscyxyP2w9PntyKHZvaWQgMCxsKX06dm9pZCAwKTtjb25zdCBhPWM7aWYoYS5pbmRleE9mKCJmaWxlOiIpIT09LTEpe2xldCBsPWRlY29kZVVSSUNvbXBvbmVudChhLnN1YnN0cmluZyg1KS50b0xvd2VyQ2FzZSgpKTtsLmluZGV4T2YoIi4vIik9PT0wJiYobD1sLnN1YnN0cmluZygyKSk7Y29uc3QgdT1OaS5GaWxlc1RvTG9hZFtsXTtpZih1KXJldHVybiBCaSh1LGUsdCxzLHI/ZD0+cih2b2lkIDAsbmV3IHFpKGQubWVzc2FnZSxkLmZpbGUpKTp2b2lkIDApfWNvbnN0e21hdGNoOm8sdHlwZTpofT1NbihhKTtpZihvKXtjb25zdCBsPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgdyxhYm9ydDooKT0+KCk9Pnt9fTt0cnl7Y29uc3QgdT1zP1BzKGEpOmRyKGEpO2UodSx2b2lkIDAsaCl9Y2F0Y2godSl7cj9yKHZvaWQgMCx1KTpPLkVycm9yKHUubWVzc2FnZXx8IkZhaWxlZCB0byBwYXJzZSB0aGUgRGF0YSBVUkwiKX1yZXR1cm4gWmkuU2V0SW1tZWRpYXRlKCgpPT57bC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCl9KSxsfXJldHVybiBDcyhhLChsLHUpPT57ZShsLHU9PW51bGw/dm9pZCAwOnUucmVzcG9uc2VVUkwsdT09bnVsbD92b2lkIDA6dS5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIikpfSx0LGkscyxyP2w9PntyKGwucmVxdWVzdCxuZXcgcWkobC5tZXNzYWdlLGwucmVxdWVzdCkpfTp2b2lkIDAsbil9LENzPShjLGUsdCxpLHMscixuKT0+e2M9Y3IoYyksYz1xZS5QcmVwcm9jZXNzVXJsKGMpO2NvbnN0IGE9cWUuQmFzZVVybCtjO2xldCBvPSExO2NvbnN0IGg9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyB3LGFib3J0OigpPT5vPSEwfSxsPSgpPT57bGV0IHU9bmV3IHV0LGQ9bnVsbCxfO2NvbnN0IGY9KCk9Pnt1JiYodCYmdS5yZW1vdmVFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdCksXyYmdS5yZW1vdmVFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixfKSx1LnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLG0pKX07bGV0IG09KCk9PntmKCksaC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCksaC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5jbGVhcigpLHQ9dm9pZCAwLF89bnVsbCxtPW51bGwscj12b2lkIDAsbj12b2lkIDAsZT12b2lkIDB9O2guYWJvcnQ9KCk9PntvPSEwLG0mJm0oKSx1JiZ1LnJlYWR5U3RhdGUhPT0oWE1MSHR0cFJlcXVlc3QuRE9ORXx8NCkmJnUuYWJvcnQoKSxkIT09bnVsbCYmKGNsZWFyVGltZW91dChkKSxkPW51bGwpLHU9bnVsbH07Y29uc3Qgdj1TPT57Y29uc3QgUj1TLm1lc3NhZ2V8fCJVbmtub3duIGVycm9yIjtyJiZ1P3IobmV3IGppKFIsdSkpOk8uRXJyb3IoUil9LEU9Uz0+e2lmKHUpe2lmKHUub3BlbigiR0VUIixhKSxuKXRyeXtuKHUpfWNhdGNoKFIpe3YoUik7cmV0dXJufXMmJih1LnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSx0JiZ1LmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix0KSxtJiZ1LmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLG0pLF89KCk9PntpZighKG98fCF1KSYmdS5yZWFkeVN0YXRlPT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpKXtpZihfJiZ1LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLF8pLHUuc3RhdHVzPj0yMDAmJnUuc3RhdHVzPDMwMHx8dS5zdGF0dXM9PT0wJiYoIWplKCl8fHVyKCkpKXt0cnl7ZSYmZShzP3UucmVzcG9uc2U6dS5yZXNwb25zZVRleHQsdSl9Y2F0Y2goQyl7dihDKX1yZXR1cm59Y29uc3QgUj1xZS5EZWZhdWx0UmV0cnlTdHJhdGVneTtpZihSKXtjb25zdCBDPVIoYSx1LFMpO2lmKEMhPT0tMSl7ZigpLHU9bmV3IHV0LGQ9c2V0VGltZW91dCgoKT0+RShTKzEpLEMpO3JldHVybn19Y29uc3QgQT1uZXcgamkoIkVycm9yIHN0YXR1czogIit1LnN0YXR1cysiICIrdS5zdGF0dXNUZXh0KyIgLSBVbmFibGUgdG8gbG9hZCAiK2EsdSk7ciYmcihBKX19LHUuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsXyksdS5zZW5kKCl9fTtFKDApfTtpZihpJiZpLmVuYWJsZVNjZW5lT2ZmbGluZSl7Y29uc3QgdT1fPT57XyYmXy5zdGF0dXM+NDAwP3ImJnIoXyk6bCgpfSxkPSgpPT57aSYmaS5sb2FkRmlsZShxZS5CYXNlVXJsK2MsXz0+eyFvJiZlJiZlKF8pLGgub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgpfSx0P189PnshbyYmdCYmdChfKX06dm9pZCAwLHUscyl9O2kub3BlbihkLHUpfWVsc2UgbCgpO3JldHVybiBofSx1cj0oKT0+dHlwZW9mIGxvY2F0aW9uPCJ1IiYmbG9jYXRpb24ucHJvdG9jb2w9PT0iZmlsZToiLElzPWM9PmxyLnRlc3QoYyksTW49Yz0+e2NvbnN0IGU9bHIuZXhlYyhjKTtyZXR1cm4gZT09PW51bGx8fGUubGVuZ3RoPT09MD97bWF0Y2g6ITEsdHlwZToiIn06e21hdGNoOiEwLHR5cGU6ZVswXS5yZXBsYWNlKCJkYXRhOiIsIiIpLnJlcGxhY2UoImJhc2U2NCwiLCIiKX19O2Z1bmN0aW9uIFBzKGMpe3JldHVybiB4bihjLnNwbGl0KCIsIilbMV0pfWNvbnN0IGRyPWM9PmhyKGMuc3BsaXQoIiwiKVsxXSk7KCgpPT57b2UuX0ZpbGVUb29sc0xvYWRJbWFnZT15cyxvZS5fRmlsZVRvb2xzTG9hZEZpbGU9JHQsb2kuX0ZpbGVUb29sc0xvYWRGaWxlPSR0fSkoKTtsZXQgVWk7KChjLGUsdCxpLHMscixuLGEsbyxoKT0+e1VpPXtEZWNvZGVCYXNlNjRVcmxUb0JpbmFyeTpjLERlY29kZUJhc2U2NFVybFRvU3RyaW5nOmUsRGVmYXVsdFJldHJ5U3RyYXRlZ3k6dC5EZWZhdWx0UmV0cnlTdHJhdGVneSxCYXNlVXJsOnQuQmFzZVVybCxDb3JzQmVoYXZpb3I6dC5Db3JzQmVoYXZpb3IsUHJlcHJvY2Vzc1VybDp0LlByZXByb2Nlc3NVcmwsSXNCYXNlNjREYXRhVXJsOmksSXNGaWxlVVJMOnMsTG9hZEZpbGU6cixMb2FkSW1hZ2U6bixSZWFkRmlsZTphLFJlcXVlc3RGaWxlOm8sU2V0Q29yc0JlaGF2aW9yOmh9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVaSwiRGVmYXVsdFJldHJ5U3RyYXRlZ3kiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5EZWZhdWx0UmV0cnlTdHJhdGVneX0sc2V0OmZ1bmN0aW9uKGwpe3QuRGVmYXVsdFJldHJ5U3RyYXRlZ3k9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVWksIkJhc2VVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5CYXNlVXJsfSxzZXQ6ZnVuY3Rpb24obCl7dC5CYXNlVXJsPWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFVpLCJQcmVwcm9jZXNzVXJsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuUHJlcHJvY2Vzc1VybH0sc2V0OmZ1bmN0aW9uKGwpe3QuUHJlcHJvY2Vzc1VybD1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVaSwiQ29yc0JlaGF2aW9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQ29yc0JlaGF2aW9yfSxzZXQ6ZnVuY3Rpb24obCl7dC5Db3JzQmVoYXZpb3I9bH19KX0pKFBzLGRyLHFlLElzLHVyLCR0LHlzLEJpLENzLFJzKTtjbGFzcyBraXtzdGF0aWMgSW5zdGFudGlhdGUoZSl7aWYodGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzJiZ0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXNbZV0pcmV0dXJuIHRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc1tlXTtjb25zdCB0PWFpKGUpO2lmKHQpcmV0dXJuIHQ7Ty5XYXJuKGUrIiBub3QgZm91bmQsIHlvdSBtYXkgaGF2ZSBtaXNzZWQgYW4gaW1wb3J0LiIpO2NvbnN0IGk9ZS5zcGxpdCgiLiIpO2xldCBzPXdpbmRvd3x8dGhpcztmb3IobGV0IHI9MCxuPWkubGVuZ3RoO3I8bjtyKyspcz1zW2lbcl1dO3JldHVybiB0eXBlb2YgcyE9ImZ1bmN0aW9uIj9udWxsOnN9fWtpLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXM9e307ZnVuY3Rpb24gZnIoKXtyZXR1cm4ieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKC9beHldL2csYz0+e2NvbnN0IGU9TWF0aC5yYW5kb20oKSoxNnwwO3JldHVybihjPT09IngiP2U6ZSYzfDgpLnRvU3RyaW5nKDE2KX0pfWNsYXNzIFh7c3RhdGljIGdldCBCYXNlVXJsKCl7cmV0dXJuIHFlLkJhc2VVcmx9c3RhdGljIHNldCBCYXNlVXJsKGUpe3FlLkJhc2VVcmw9ZX1zdGF0aWMgZ2V0IERlZmF1bHRSZXRyeVN0cmF0ZWd5KCl7cmV0dXJuIHFlLkRlZmF1bHRSZXRyeVN0cmF0ZWd5fXN0YXRpYyBzZXQgRGVmYXVsdFJldHJ5U3RyYXRlZ3koZSl7cWUuRGVmYXVsdFJldHJ5U3RyYXRlZ3k9ZX1zdGF0aWMgZ2V0IENvcnNCZWhhdmlvcigpe3JldHVybiBxZS5Db3JzQmVoYXZpb3J9c3RhdGljIHNldCBDb3JzQmVoYXZpb3IoZSl7cWUuQ29yc0JlaGF2aW9yPWV9c3RhdGljIGdldCBVc2VGYWxsYmFja1RleHR1cmUoKXtyZXR1cm4gY2UuVXNlRmFsbGJhY2tUZXh0dXJlfXN0YXRpYyBzZXQgVXNlRmFsbGJhY2tUZXh0dXJlKGUpe2NlLlVzZUZhbGxiYWNrVGV4dHVyZT1lfXN0YXRpYyBnZXQgUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlcygpe3JldHVybiBraS5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzfXN0YXRpYyBzZXQgUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3NlcyhlKXtraS5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzPWV9c3RhdGljIGdldCBmYWxsYmFja1RleHR1cmUoKXtyZXR1cm4gY2UuRmFsbGJhY2tUZXh0dXJlfXN0YXRpYyBzZXQgZmFsbGJhY2tUZXh0dXJlKGUpe2NlLkZhbGxiYWNrVGV4dHVyZT1lfXN0YXRpYyBGZXRjaFRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPU1hdGguYWJzKGUpKmklaXwwLG89TWF0aC5hYnModCkqcyVzfDAsaD0oYStvKmkpKjQ7bi5yPXJbaF0vMjU1LG4uZz1yW2grMV0vMjU1LG4uYj1yW2grMl0vMjU1LG4uYT1yW2grM10vMjU1fXN0YXRpYyBNaXgoZSx0LGkpe3JldHVybiBlKigxLWkpK3QqaX1zdGF0aWMgSW5zdGFudGlhdGUoZSl7cmV0dXJuIGtpLkluc3RhbnRpYXRlKGUpfXN0YXRpYyBTZXRJbW1lZGlhdGUoZSl7WmkuU2V0SW1tZWRpYXRlKGUpfXN0YXRpYyBJc0V4cG9uZW50T2ZUd28oZSl7bGV0IHQ9MTtkbyB0Kj0yO3doaWxlKHQ8ZSk7cmV0dXJuIHQ9PT1lfXN0YXRpYyBGbG9hdFJvdW5kKGUpe3JldHVybiBNYXRoLmZyb3VuZD9NYXRoLmZyb3VuZChlKTooWC5fVG1wRmxvYXRBcnJheVswXT1lLFguX1RtcEZsb2F0QXJyYXlbMF0pfXN0YXRpYyBHZXRGaWxlbmFtZShlKXtjb25zdCB0PWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gdDwwP2U6ZS5zdWJzdHJpbmcodCsxKX1zdGF0aWMgR2V0Rm9sZGVyUGF0aChlLHQ9ITEpe2NvbnN0IGk9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiBpPDA/dD9lOiIiOmUuc3Vic3RyaW5nKDAsaSsxKX1zdGF0aWMgVG9EZWdyZWVzKGUpe3JldHVybiBlKjE4MC9NYXRoLlBJfXN0YXRpYyBUb1JhZGlhbnMoZSl7cmV0dXJuIGUqTWF0aC5QSS8xODB9c3RhdGljIFNtb290aEFuZ2xlQ2hhbmdlKGUsdCxpPS45KXtjb25zdCBzPXRoaXMuVG9SYWRpYW5zKGUpLHI9dGhpcy5Ub1JhZGlhbnModCk7cmV0dXJuIHRoaXMuVG9EZWdyZWVzKE1hdGguYXRhbjIoKDEtaSkqTWF0aC5zaW4ocikraSpNYXRoLnNpbihzKSwoMS1pKSpNYXRoLmNvcyhyKStpKk1hdGguY29zKHMpKSl9c3RhdGljIE1ha2VBcnJheShlLHQpe3JldHVybiB0IT09ITAmJihlPT09dm9pZCAwfHxlPT1udWxsKT9udWxsOkFycmF5LmlzQXJyYXkoZSk/ZTpbZV19c3RhdGljIEdldFBvaW50ZXJQcmVmaXgoZSl7bGV0IHQ9InBvaW50ZXIiO3JldHVybiBqZSgpJiYhd2luZG93LlBvaW50ZXJFdmVudCYmKHQ9Im1vdXNlIiksZS5fYmFkRGVza3RvcE9TJiYhZS5fYmFkT1MmJiEoZG9jdW1lbnQmJiJvbnRvdWNoZW5kImluIGRvY3VtZW50KSYmKHQ9Im1vdXNlIiksdH1zdGF0aWMgU2V0Q29yc0JlaGF2aW9yKGUsdCl7UnMoZSx0KX1zdGF0aWMgU2V0UmVmZXJyZXJQb2xpY3lCZWhhdmlvcihlLHQpe3QucmVmZXJyZXJQb2xpY3k9ZX1zdGF0aWMgQ2xlYW5VcmwoZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKC8jL2dtLCIlMjMiKSxlfXN0YXRpYyBnZXQgUHJlcHJvY2Vzc1VybCgpe3JldHVybiBxZS5QcmVwcm9jZXNzVXJsfXN0YXRpYyBzZXQgUHJlcHJvY2Vzc1VybChlKXtxZS5QcmVwcm9jZXNzVXJsPWV9c3RhdGljIExvYWRJbWFnZShlLHQsaSxzLHIsbil7cmV0dXJuIHlzKGUsdCxpLHMscixuKX1zdGF0aWMgTG9hZEZpbGUoZSx0LGkscyxyLG4pe3JldHVybiAkdChlLHQsaSxzLHIsbil9c3RhdGljIExvYWRGaWxlQXN5bmMoZSx0PSEwKXtyZXR1cm4gbmV3IFByb21pc2UoKGkscyk9PnskdChlLHI9PntpKHIpfSx2b2lkIDAsdm9pZCAwLHQsKHIsbik9PntzKG4pfSl9KX1zdGF0aWMgTG9hZFNjcmlwdChlLHQsaSxzKXtpZih0eXBlb2YgaW1wb3J0U2NyaXB0cz09ImZ1bmN0aW9uIil7dHJ5e2ltcG9ydFNjcmlwdHMoZSksdCgpfWNhdGNoKGEpe2k9PW51bGx8fGkoYFVuYWJsZSB0byBsb2FkIHNjcmlwdCAnJHtlfScgaW4gd29ya2VyYCxhKX1yZXR1cm59ZWxzZSBpZighamUoKSl7aT09bnVsbHx8aShgQ2Fubm90IGxvYWQgc2NyaXB0ICcke2V9JyBvdXRzaWRlIG9mIGEgd2luZG93IG9yIGEgd29ya2VyYCk7cmV0dXJufWNvbnN0IHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO24uc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9qYXZhc2NyaXB0Iiksbi5zZXRBdHRyaWJ1dGUoInNyYyIsZSkscyYmKG4uaWQ9cyksbi5vbmxvYWQ9KCk9Pnt0JiZ0KCl9LG4ub25lcnJvcj1hPT57aSYmaShgVW5hYmxlIHRvIGxvYWQgc2NyaXB0ICcke2V9J2AsYSl9LHIuYXBwZW5kQ2hpbGQobil9c3RhdGljIExvYWRTY3JpcHRBc3luYyhlKXtyZXR1cm4gbmV3IFByb21pc2UoKHQsaSk9Pnt0aGlzLkxvYWRTY3JpcHQoZSwoKT0+e3QoKX0sKHMscik9PntpKHJ8fG5ldyBFcnJvcihzKSl9KX0pfXN0YXRpYyBSZWFkRmlsZUFzRGF0YVVSTChlLHQsaSl7Y29uc3Qgcz1uZXcgRmlsZVJlYWRlcixyPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgdyxhYm9ydDooKT0+cy5hYm9ydCgpfTtyZXR1cm4gcy5vbmxvYWRlbmQ9KCk9PntyLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKX0scy5vbmxvYWQ9bj0+e3Qobi50YXJnZXQucmVzdWx0KX0scy5vbnByb2dyZXNzPWkscy5yZWFkQXNEYXRhVVJMKGUpLHJ9c3RhdGljIFJlYWRGaWxlKGUsdCxpLHMscil7cmV0dXJuIEJpKGUsdCxpLHMscil9c3RhdGljIEZpbGVBc1VSTChlKXtjb25zdCB0PW5ldyBCbG9iKFtlXSk7cmV0dXJuIHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHQpfXN0YXRpYyBGb3JtYXQoZSx0PTIpe3JldHVybiBlLnRvRml4ZWQodCl9c3RhdGljIERlZXBDb3B5KGUsdCxpLHMpe01zLkRlZXBDb3B5KGUsdCxpLHMpfXN0YXRpYyBJc0VtcHR5KGUpe2Zvcihjb25zdCB0IGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9c3RhdGljIFJlZ2lzdGVyVG9wUm9vdEV2ZW50cyhlLHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPXRbaV07ZS5hZGRFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIsITEpO3RyeXt3aW5kb3cucGFyZW50JiZ3aW5kb3cucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIocy5uYW1lLHMuaGFuZGxlciwhMSl9Y2F0Y2h7fX19c3RhdGljIFVucmVnaXN0ZXJUb3BSb290RXZlbnRzKGUsdCl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dFtpXTtlLnJlbW92ZUV2ZW50TGlzdGVuZXIocy5uYW1lLHMuaGFuZGxlcik7dHJ5e2UucGFyZW50JiZlLnBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIpfWNhdGNoe319fXN0YXRpYyBhc3luYyBEdW1wRnJhbWVidWZmZXIoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4pe3Rocm93IFEoIkR1bXBUb29scyIpfXN0YXRpYyBEdW1wRGF0YShlLHQsaSxzLHI9ImltYWdlL3BuZyIsbixhPSExLG89ITEsaCl7dGhyb3cgUSgiRHVtcFRvb2xzIil9c3RhdGljIER1bXBEYXRhQXN5bmMoZSx0LGkscz0iaW1hZ2UvcG5nIixyLG49ITEsYT0hMSxvKXt0aHJvdyBRKCJEdW1wVG9vbHMiKX1zdGF0aWMgVG9CbG9iKGUsdCxpPSJpbWFnZS9wbmciLHMpe2UudG9CbG9ifHwoZS50b0Jsb2I9ZnVuY3Rpb24ocixuLGEpe3NldFRpbWVvdXQoKCk9Pntjb25zdCBvPWF0b2IodGhpcy50b0RhdGFVUkwobixhKS5zcGxpdCgiLCIpWzFdKSxoPW8ubGVuZ3RoLGw9bmV3IFVpbnQ4QXJyYXkoaCk7Zm9yKGxldCB1PTA7dTxoO3UrKylsW3VdPW8uY2hhckNvZGVBdCh1KTtyKG5ldyBCbG9iKFtsXSkpfSl9KSxlLnRvQmxvYihmdW5jdGlvbihyKXt0KHIpfSxpLHMpfXN0YXRpYyBEb3dubG9hZEJsb2IoZSx0KXtpZigiZG93bmxvYWQiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKXtpZighdCl7Y29uc3QgaT1uZXcgRGF0ZTt0PSJzY3JlZW5zaG90XyIrKChpLmdldEZ1bGxZZWFyKCkrIi0iKyhpLmdldE1vbnRoKCkrMSkpLnNsaWNlKDIpKyItIitpLmdldERhdGUoKSsiXyIraS5nZXRIb3VycygpKyItIisoIjAiK2kuZ2V0TWludXRlcygpKS5zbGljZSgtMikpKyIucG5nIn1YLkRvd25sb2FkKGUsdCl9ZWxzZSBpZihlJiZ0eXBlb2YgVVJMPCJ1Iil7Y29uc3QgaT1VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLHM9d2luZG93Lm9wZW4oIiIpO2lmKCFzKXJldHVybjtjb25zdCByPXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7ci5vbmxvYWQ9ZnVuY3Rpb24oKXtVUkwucmV2b2tlT2JqZWN0VVJMKGkpfSxyLnNyYz1pLHMuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyKX19c3RhdGljIEVuY29kZVNjcmVlbnNob3RDYW52YXNEYXRhKGUsdCxpPSJpbWFnZS9wbmciLHMscil7aWYodCl7Y29uc3Qgbj1lLnRvRGF0YVVSTChpLHIpO3Qobil9ZWxzZSB0aGlzLlRvQmxvYihlLGZ1bmN0aW9uKG4pe24mJlguRG93bmxvYWRCbG9iKG4scyl9LGkscil9c3RhdGljIERvd25sb2FkKGUsdCl7aWYodHlwZW9mIFVSTD4idSIpcmV0dXJuO2NvbnN0IGk9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZSkscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKSxzLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHMuaHJlZj1pLHMuZG93bmxvYWQ9dCxzLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwoKT0+e3MucGFyZW50RWxlbWVudCYmcy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHMpfSkscy5jbGljaygpLHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGkpfXN0YXRpYyBCYWNrQ29tcGF0Q2FtZXJhTm9QcmV2ZW50RGVmYXVsdChlKXtyZXR1cm4gdHlwZW9mIGVbMF09PSJib29sZWFuIj9lWzBdOnR5cGVvZiBlWzFdPT0iYm9vbGVhbiI/ZVsxXTohMX1zdGF0aWMgQ3JlYXRlU2NyZWVuc2hvdChlLHQsaSxzLHI9ImltYWdlL3BuZyIpe3Rocm93IFEoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90QXN5bmMoZSx0LGkscz0iaW1hZ2UvcG5nIil7dGhyb3cgUSgiU2NyZWVuc2hvdFRvb2xzIil9c3RhdGljIENyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldChlLHQsaSxzLHI9ImltYWdlL3BuZyIsbj0xLGE9ITEsbyl7dGhyb3cgUSgiU2NyZWVuc2hvdFRvb2xzIil9c3RhdGljIENyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldEFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIscj0xLG49ITEsYSl7dGhyb3cgUSgiU2NyZWVuc2hvdFRvb2xzIil9c3RhdGljIFJhbmRvbUlkKCl7cmV0dXJuIGZyKCl9c3RhdGljIElzQmFzZTY0KGUpe3JldHVybiBJcyhlKX1zdGF0aWMgRGVjb2RlQmFzZTY0KGUpe3JldHVybiBQcyhlKX1zdGF0aWMgZ2V0IGVycm9yc0NvdW50KCl7cmV0dXJuIE8uZXJyb3JzQ291bnR9c3RhdGljIExvZyhlKXtPLkxvZyhlKX1zdGF0aWMgV2FybihlKXtPLldhcm4oZSl9c3RhdGljIEVycm9yKGUpe08uRXJyb3IoZSl9c3RhdGljIGdldCBMb2dDYWNoZSgpe3JldHVybiBPLkxvZ0NhY2hlfXN0YXRpYyBDbGVhckxvZ0NhY2hlKCl7Ty5DbGVhckxvZ0NhY2hlKCl9c3RhdGljIHNldCBMb2dMZXZlbHMoZSl7Ty5Mb2dMZXZlbHM9ZX1zdGF0aWMgc2V0IFBlcmZvcm1hbmNlTG9nTGV2ZWwoZSl7aWYoKGUmWC5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpPT09WC5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpe1guU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9WC5fU3RhcnRVc2VyTWFyayxYLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1YLl9FbmRVc2VyTWFyaztyZXR1cm59aWYoKGUmWC5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCk9PT1YLlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsKXtYLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPVguX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlLFguRW5kUGVyZm9ybWFuY2VDb3VudGVyPVguX0VuZFBlcmZvcm1hbmNlQ29uc29sZTtyZXR1cm59WC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1YLl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLFguRW5kUGVyZm9ybWFuY2VDb3VudGVyPVguX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkfXN0YXRpYyBfU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZChlLHQpe31zdGF0aWMgX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkKGUsdCl7fXN0YXRpYyBfU3RhcnRVc2VyTWFyayhlLHQ9ITApe2lmKCFYLl9QZXJmb3JtYW5jZSl7aWYoIWplKCkpcmV0dXJuO1guX1BlcmZvcm1hbmNlPXdpbmRvdy5wZXJmb3JtYW5jZX0hdHx8IVguX1BlcmZvcm1hbmNlLm1hcmt8fFguX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUJlZ2luIil9c3RhdGljIF9FbmRVc2VyTWFyayhlLHQ9ITApeyF0fHwhWC5fUGVyZm9ybWFuY2UubWFya3x8KFguX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUVuZCIpLFguX1BlcmZvcm1hbmNlLm1lYXN1cmUoZSxlKyItQmVnaW4iLGUrIi1FbmQiKSl9c3RhdGljIF9TdGFydFBlcmZvcm1hbmNlQ29uc29sZShlLHQ9ITApe3QmJihYLl9TdGFydFVzZXJNYXJrKGUsdCksY29uc29sZS50aW1lJiZjb25zb2xlLnRpbWUoZSkpfXN0YXRpYyBfRW5kUGVyZm9ybWFuY2VDb25zb2xlKGUsdD0hMCl7dCYmKFguX0VuZFVzZXJNYXJrKGUsdCksY29uc29sZS50aW1lRW5kKGUpKX1zdGF0aWMgZ2V0IE5vdygpe3JldHVybiBoaS5Ob3d9c3RhdGljIEdldENsYXNzTmFtZShlLHQ9ITEpe2xldCBpPW51bGw7cmV0dXJuIXQmJmUuZ2V0Q2xhc3NOYW1lP2k9ZS5nZXRDbGFzc05hbWUoKTooZSBpbnN0YW5jZW9mIE9iamVjdCYmKGk9KHQ/ZTpPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpLmNvbnN0cnVjdG9yLl9fYmpzY2xhc3NOYW1lX18pLGl8fChpPXR5cGVvZiBlKSksaX1zdGF0aWMgRmlyc3QoZSx0KXtmb3IoY29uc3QgaSBvZiBlKWlmKHQoaSkpcmV0dXJuIGk7cmV0dXJuIG51bGx9c3RhdGljIGdldEZ1bGxDbGFzc05hbWUoZSx0PSExKXtsZXQgaT1udWxsLHM9bnVsbDtpZighdCYmZS5nZXRDbGFzc05hbWUpaT1lLmdldENsYXNzTmFtZSgpO2Vsc2V7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCl7Y29uc3Qgcj10P2U6T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2k9ci5jb25zdHJ1Y3Rvci5fX2Jqc2NsYXNzTmFtZV9fLHM9ci5jb25zdHJ1Y3Rvci5fX2Jqc21vZHVsZU5hbWVfX31pfHwoaT10eXBlb2YgZSl9cmV0dXJuIGk/KHMhPW51bGw/cysiLiI6IiIpK2k6bnVsbH1zdGF0aWMgRGVsYXlBc3luYyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3NldFRpbWVvdXQoKCk9Pnt0KCl9LGUpfSl9c3RhdGljIElzU2FmYXJpKCl7cmV0dXJuIEVzKCk/L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTohMX19WC5Vc2VDdXN0b21SZXF1ZXN0SGVhZGVycz0hMSxYLkN1c3RvbVJlcXVlc3RIZWFkZXJzPXV0LkN1c3RvbVJlcXVlc3RIZWFkZXJzLFguX1RtcEZsb2F0QXJyYXk9bmV3IEZsb2F0MzJBcnJheSgxKSxYLkdldERPTVRleHRDb250ZW50PVRzLFguR2V0QWJzb2x1dGVVcmw9dHlwZW9mIGRvY3VtZW50PT0ib2JqZWN0Ij9jPT57Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGUuaHJlZj1jLGUuaHJlZn06dHlwZW9mIFVSTD09ImZ1bmN0aW9uIiYmdHlwZW9mIGxvY2F0aW9uPT0ib2JqZWN0Ij9jPT5uZXcgVVJMKGMsbG9jYXRpb24ub3JpZ2luKS5ocmVmOigpPT57dGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZ2V0IGFic29sdXRlIFVSTC4gT3ZlcnJpZGUgQkFCWUxPTi5Ub29scy5HZXRBYnNvbHV0ZVVybCB0byBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIGN1cnJlbnQgY29udGV4dC4iKX0sWC5Ob25lTG9nTGV2ZWw9Ty5Ob25lTG9nTGV2ZWwsWC5NZXNzYWdlTG9nTGV2ZWw9Ty5NZXNzYWdlTG9nTGV2ZWwsWC5XYXJuaW5nTG9nTGV2ZWw9Ty5XYXJuaW5nTG9nTGV2ZWwsWC5FcnJvckxvZ0xldmVsPU8uRXJyb3JMb2dMZXZlbCxYLkFsbExvZ0xldmVsPU8uQWxsTG9nTGV2ZWwsWC5Jc1dpbmRvd09iamVjdEV4aXN0PWplLFguUGVyZm9ybWFuY2VOb25lTG9nTGV2ZWw9MCxYLlBlcmZvcm1hbmNlVXNlck1hcmtMb2dMZXZlbD0xLFguUGVyZm9ybWFuY2VDb25zb2xlTG9nTGV2ZWw9MixYLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPVguX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQsWC5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9WC5fRW5kUGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQ7Y2xhc3MgJGl7Y29uc3RydWN0b3IoZSx0LGkscz0wKXt0aGlzLml0ZXJhdGlvbnM9ZSx0aGlzLmluZGV4PXMtMSx0aGlzLl9kb25lPSExLHRoaXMuX2ZuPXQsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrPWl9ZXhlY3V0ZU5leHQoKXt0aGlzLl9kb25lfHwodGhpcy5pbmRleCsxPHRoaXMuaXRlcmF0aW9ucz8oKyt0aGlzLmluZGV4LHRoaXMuX2ZuKHRoaXMpKTp0aGlzLmJyZWFrTG9vcCgpKX1icmVha0xvb3AoKXt0aGlzLl9kb25lPSEwLHRoaXMuX3N1Y2Nlc3NDYWxsYmFjaygpfXN0YXRpYyBSdW4oZSx0LGkscz0wKXtjb25zdCByPW5ldyAkaShlLHQsaSxzKTtyZXR1cm4gci5leGVjdXRlTmV4dCgpLHJ9c3RhdGljIFN5bmNBc3luY0Zvckxvb3AoZSx0LGkscyxyLG49MCl7cmV0dXJuICRpLlJ1bihNYXRoLmNlaWwoZS90KSxhPT57ciYmcigpP2EuYnJlYWtMb29wKCk6c2V0VGltZW91dCgoKT0+e2ZvcihsZXQgbz0wO288dDsrK28pe2NvbnN0IGg9YS5pbmRleCp0K287aWYoaD49ZSlicmVhaztpZihpKGgpLHImJnIoKSl7YS5icmVha0xvb3AoKTticmVha319YS5leGVjdXRlTmV4dCgpfSxuKX0scyl9fWNlLkZhbGxiYWNrVGV4dHVyZT0iZGF0YTppbWFnZS9qcGc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUVBWUFCZ0FBRC80UUJtUlhocFpnQUFUVTBBS2dBQUFBZ0FCQUVhQUFVQUFBQUJBQUFBUGdFYkFBVUFBQUFCQUFBQVJnRW9BQU1BQUFBQkFBSUFBQUV4QUFJQUFBQVFBQUFBVGdBQUFBQUFBQUJnQUFBQUFRQUFBR0FBQUFBQmNHRnBiblF1Ym1WMElEUXVNQzQxQVAvYkFFTUFCQUlEQXdNQ0JBTURBd1FFQkFRRkNRWUZCUVVGQ3dnSUJna05DdzBORFFzTURBNFFGQkVPRHhNUERBd1NHQklURlJZWEZ4Y09FUmtiR1JZYUZCWVhGdi9iQUVNQkJBUUVCUVVGQ2dZR0NoWVBEQThXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0Z2L0FBQkVJQVFBQkFBTUJJZ0FDRVFFREVRSC94QUFmQUFBQkJRRUJBUUVCQVFBQUFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFQUFDQVFNREFnUURCUVVFQkFBQUFYMEJBZ01BQkJFRkVpRXhRUVlUVVdFSEluRVVNb0dSb1FnalFySEJGVkxSOENRelluS0NDUW9XRnhnWkdpVW1KeWdwS2pRMU5qYzRPVHBEUkVWR1IwaEpTbE5VVlZaWFdGbGFZMlJsWm1kb2FXcHpkSFYyZDNoNWVvT0VoWWFIaUltS2twT1VsWmFYbUptYW9xT2twYWFucUttcXNyTzB0YmEzdUxtNndzUEV4Y2JIeU1uSzB0UFUxZGJYMk5uYTRlTGo1T1htNStqcDZ2SHk4L1QxOXZmNCtmci94QUFmQVFBREFRRUJBUUVCQVFFQkFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFUUFDQVFJRUJBTUVCd1VFQkFBQkFuY0FBUUlERVFRRklURUdFa0ZSQjJGeEV5SXlnUWdVUXBHaHNjRUpJek5TOEJWaWN0RUtGaVEwNFNYeEZ4Z1pHaVluS0NrcU5UWTNPRGs2UTBSRlJrZElTVXBUVkZWV1YxaFpXbU5rWldabmFHbHFjM1IxZG5kNGVYcUNnNFNGaG9lSWlZcVNrNVNWbHBlWW1acWlvNlNscHFlb3FhcXlzN1MxdHJlNHVickN3OFRGeHNmSXljclMwOVRWMXRmWTJkcmk0K1RsNXVmbzZlcnk4L1QxOXZmNCtmci8yZ0FNQXdFQUFoRURFUUEvQVBINktLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2Q2lpaWdENWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlFvb29vQStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvS0tLS0FQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZDaWlpZ0Q1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCUW9vb29BK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm9LS0tLQVBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlAvL1oiO2NsYXNzIEple2NvbnN0cnVjdG9yKGUpe3RoaXMubGVuZ3RoPTAsdGhpcy5kYXRhPW5ldyBBcnJheShlKSx0aGlzLl9pZD1KZS5fR2xvYmFsSWQrK31wdXNoKGUpe3RoaXMuZGF0YVt0aGlzLmxlbmd0aCsrXT1lLHRoaXMubGVuZ3RoPnRoaXMuZGF0YS5sZW5ndGgmJih0aGlzLmRhdGEubGVuZ3RoKj0yKX1mb3JFYWNoKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5sZW5ndGg7dCsrKWUodGhpcy5kYXRhW3RdKX1zb3J0KGUpe3RoaXMuZGF0YS5zb3J0KGUpfXJlc2V0KCl7dGhpcy5sZW5ndGg9MH1kaXNwb3NlKCl7dGhpcy5yZXNldCgpLHRoaXMuZGF0YSYmKHRoaXMuZGF0YS5sZW5ndGg9MCl9Y29uY2F0KGUpe2lmKGUubGVuZ3RoIT09MCl7dGhpcy5sZW5ndGgrZS5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGg9KHRoaXMubGVuZ3RoK2UubGVuZ3RoKSoyKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLmRhdGFbdGhpcy5sZW5ndGgrK109KGUuZGF0YXx8ZSlbdF19fWluZGV4T2YoZSl7Y29uc3QgdD10aGlzLmRhdGEuaW5kZXhPZihlKTtyZXR1cm4gdD49dGhpcy5sZW5ndGg/LTE6dH1jb250YWlucyhlKXtyZXR1cm4gdGhpcy5pbmRleE9mKGUpIT09LTF9fUplLl9HbG9iYWxJZD0wO2NsYXNzIGNpIGV4dGVuZHMgSmV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2R1cGxpY2F0ZUlkPTB9cHVzaChlKXtzdXBlci5wdXNoKGUpLGUuX19zbWFydEFycmF5RmxhZ3N8fChlLl9fc21hcnRBcnJheUZsYWdzPXt9KSxlLl9fc21hcnRBcnJheUZsYWdzW3RoaXMuX2lkXT10aGlzLl9kdXBsaWNhdGVJZH1wdXNoTm9EdXBsaWNhdGUoZSl7cmV0dXJuIGUuX19zbWFydEFycmF5RmxhZ3MmJmUuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPT09dGhpcy5fZHVwbGljYXRlSWQ/ITE6KHRoaXMucHVzaChlKSwhMCl9cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX2R1cGxpY2F0ZUlkKyt9Y29uY2F0V2l0aE5vRHVwbGljYXRlKGUpe2lmKGUubGVuZ3RoIT09MCl7dGhpcy5sZW5ndGgrZS5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGg9KHRoaXMubGVuZ3RoK2UubGVuZ3RoKSoyKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT0oZS5kYXRhfHxlKVt0XTt0aGlzLnB1c2hOb0R1cGxpY2F0ZShpKX19fX1jbGFzcyBfcntjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvdW50PTAsdGhpcy5fZGF0YT17fX1jb3B5RnJvbShlKXt0aGlzLmNsZWFyKCksZS5mb3JFYWNoKCh0LGkpPT50aGlzLmFkZCh0LGkpKX1nZXQoZSl7Y29uc3QgdD10aGlzLl9kYXRhW2VdO2lmKHQhPT12b2lkIDApcmV0dXJuIHR9Z2V0T3JBZGRXaXRoRmFjdG9yeShlLHQpe2xldCBpPXRoaXMuZ2V0KGUpO3JldHVybiBpIT09dm9pZCAwfHwoaT10KGUpLGkmJnRoaXMuYWRkKGUsaSkpLGl9Z2V0T3JBZGQoZSx0KXtjb25zdCBpPXRoaXMuZ2V0KGUpO3JldHVybiBpIT09dm9pZCAwP2k6KHRoaXMuYWRkKGUsdCksdCl9Y29udGFpbnMoZSl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDB9YWRkKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwrK3RoaXMuX2NvdW50LCEwKX1zZXQoZSx0KXtyZXR1cm4gdGhpcy5fZGF0YVtlXT09PXZvaWQgMD8hMToodGhpcy5fZGF0YVtlXT10LCEwKX1nZXRBbmRSZW1vdmUoZSl7Y29uc3QgdD10aGlzLmdldChlKTtyZXR1cm4gdCE9PXZvaWQgMD8oZGVsZXRlIHRoaXMuX2RhdGFbZV0sLS10aGlzLl9jb3VudCx0KTpudWxsfXJlbW92ZShlKXtyZXR1cm4gdGhpcy5jb250YWlucyhlKT8oZGVsZXRlIHRoaXMuX2RhdGFbZV0sLS10aGlzLl9jb3VudCwhMCk6ITF9Y2xlYXIoKXt0aGlzLl9kYXRhPXt9LHRoaXMuX2NvdW50PTB9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX2NvdW50fWZvckVhY2goZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fZGF0YSl7Y29uc3QgaT10aGlzLl9kYXRhW3RdO2UodCxpKX19Zmlyc3QoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fZGF0YSl7Y29uc3QgaT10aGlzLl9kYXRhW3RdLHM9ZSh0LGkpO2lmKHMpcmV0dXJuIHN9cmV0dXJuIG51bGx9fWNsYXNzIHVpe3N0YXRpYyBFdmFsKGUsdCl7cmV0dXJuIGUubWF0Y2goL1woW14oKV0qXCkvZyk/ZT1lLnJlcGxhY2UoL1woW14oKV0qXCkvZyxpPT4oaT1pLnNsaWNlKDEsaS5sZW5ndGgtMSksdWkuX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudChpLHQpKSk6ZT11aS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KGUsdCksZT09PSJ0cnVlIj8hMDplPT09ImZhbHNlIj8hMTp1aS5FdmFsKGUsdCl9c3RhdGljIF9IYW5kbGVQYXJlbnRoZXNpc0NvbnRlbnQoZSx0KXt0PXR8fChyPT5yPT09InRydWUiKTtsZXQgaTtjb25zdCBzPWUuc3BsaXQoInx8Iik7Zm9yKGNvbnN0IHIgaW4gcylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxyKSl7bGV0IG49dWkuX1NpbXBsaWZ5TmVnYXRpb24oc1tyXS50cmltKCkpO2NvbnN0IGE9bi5zcGxpdCgiJiYiKTtpZihhLmxlbmd0aD4xKWZvcihsZXQgbz0wO288YS5sZW5ndGg7KytvKXtjb25zdCBoPXVpLl9TaW1wbGlmeU5lZ2F0aW9uKGFbb10udHJpbSgpKTtpZihoIT09InRydWUiJiZoIT09ImZhbHNlIj9oWzBdPT09IiEiP2k9IXQoaC5zdWJzdHJpbmcoMSkpOmk9dChoKTppPWg9PT0idHJ1ZSIsIWkpe249ImZhbHNlIjticmVha319aWYoaXx8bj09PSJ0cnVlIil7aT0hMDticmVha31uIT09InRydWUiJiZuIT09ImZhbHNlIj9uWzBdPT09IiEiP2k9IXQobi5zdWJzdHJpbmcoMSkpOmk9dChuKTppPW49PT0idHJ1ZSJ9cmV0dXJuIGk/InRydWUiOiJmYWxzZSJ9c3RhdGljIF9TaW1wbGlmeU5lZ2F0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgvXltccyFdKy8sdD0+KHQ9dC5yZXBsYWNlKC9bXHNdL2csKCk9PiIiKSx0Lmxlbmd0aCUyPyIhIjoiIikpLGU9ZS50cmltKCksZT09PSIhdHJ1ZSI/ZT0iZmFsc2UiOmU9PT0iIWZhbHNlIiYmKGU9InRydWUiKSxlfX1jbGFzcyBmZXtzdGF0aWMgRW5hYmxlRm9yKGUpe2UuX3RhZ3M9ZS5fdGFnc3x8e30sZS5oYXNUYWdzPSgpPT5mZS5IYXNUYWdzKGUpLGUuYWRkVGFncz10PT5mZS5BZGRUYWdzVG8oZSx0KSxlLnJlbW92ZVRhZ3M9dD0+ZmUuUmVtb3ZlVGFnc0Zyb20oZSx0KSxlLm1hdGNoZXNUYWdzUXVlcnk9dD0+ZmUuTWF0Y2hlc1F1ZXJ5KGUsdCl9c3RhdGljIERpc2FibGVGb3IoZSl7ZGVsZXRlIGUuX3RhZ3MsZGVsZXRlIGUuaGFzVGFncyxkZWxldGUgZS5hZGRUYWdzLGRlbGV0ZSBlLnJlbW92ZVRhZ3MsZGVsZXRlIGUubWF0Y2hlc1RhZ3NRdWVyeX1zdGF0aWMgSGFzVGFncyhlKXtpZighZS5fdGFncylyZXR1cm4hMTtjb25zdCB0PWUuX3RhZ3M7Zm9yKGNvbnN0IGkgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSlyZXR1cm4hMDtyZXR1cm4hMX1zdGF0aWMgR2V0VGFncyhlLHQ9ITApe2lmKCFlLl90YWdzKXJldHVybiBudWxsO2lmKHQpe2NvbnN0IGk9W107Zm9yKGNvbnN0IHMgaW4gZS5fdGFncylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5fdGFncyxzKSYmZS5fdGFnc1tzXT09PSEwJiZpLnB1c2gocyk7cmV0dXJuIGkuam9pbigiICIpfWVsc2UgcmV0dXJuIGUuX3RhZ3N9c3RhdGljIEFkZFRhZ3NUbyhlLHQpe2lmKCF0fHx0eXBlb2YgdCE9InN0cmluZyIpcmV0dXJuO3Quc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKHMpe2ZlLl9BZGRUYWdUbyhlLHMpfSl9c3RhdGljIF9BZGRUYWdUbyhlLHQpe3Q9dC50cmltKCksISh0PT09IiJ8fHQ9PT0idHJ1ZSJ8fHQ9PT0iZmFsc2UiKSYmKHQubWF0Y2goL1tcc10vKXx8dC5tYXRjaCgvXihbIV18KFt8XXxbJl0pezJ9KS8pfHwoZmUuRW5hYmxlRm9yKGUpLGUuX3RhZ3NbdF09ITApKX1zdGF0aWMgUmVtb3ZlVGFnc0Zyb20oZSx0KXtpZighZmUuSGFzVGFncyhlKSlyZXR1cm47Y29uc3QgaT10LnNwbGl0KCIgIik7Zm9yKGNvbnN0IHMgaW4gaSlmZS5fUmVtb3ZlVGFnRnJvbShlLGlbc10pfXN0YXRpYyBfUmVtb3ZlVGFnRnJvbShlLHQpe2RlbGV0ZSBlLl90YWdzW3RdfXN0YXRpYyBNYXRjaGVzUXVlcnkoZSx0KXtyZXR1cm4gdD09PXZvaWQgMD8hMDp0PT09IiI/ZmUuSGFzVGFncyhlKTp1aS5FdmFsKHQsaT0+ZmUuSGFzVGFncyhlKSYmZS5fdGFnc1tpXSl9fWNsYXNzIFFpe2NvbnN0cnVjdG9yKCl7dGhpcy5yb290Tm9kZXM9bmV3IEFycmF5LHRoaXMuY2FtZXJhcz1uZXcgQXJyYXksdGhpcy5saWdodHM9bmV3IEFycmF5LHRoaXMubWVzaGVzPW5ldyBBcnJheSx0aGlzLnNrZWxldG9ucz1uZXcgQXJyYXksdGhpcy5wYXJ0aWNsZVN5c3RlbXM9bmV3IEFycmF5LHRoaXMuYW5pbWF0aW9ucz1bXSx0aGlzLmFuaW1hdGlvbkdyb3Vwcz1uZXcgQXJyYXksdGhpcy5tdWx0aU1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5tYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy5nZW9tZXRyaWVzPW5ldyBBcnJheSx0aGlzLnRyYW5zZm9ybU5vZGVzPW5ldyBBcnJheSx0aGlzLmFjdGlvbk1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLnRleHR1cmVzPW5ldyBBcnJheSx0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9bnVsbCx0aGlzLnBvc3RQcm9jZXNzZXM9bmV3IEFycmF5fXN0YXRpYyBBZGRQYXJzZXIoZSx0KXt0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV09dH1zdGF0aWMgR2V0UGFyc2VyKGUpe3JldHVybiB0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV0/dGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdOm51bGx9c3RhdGljIEFkZEluZGl2aWR1YWxQYXJzZXIoZSx0KXt0aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdPXR9c3RhdGljIEdldEluZGl2aWR1YWxQYXJzZXIoZSl7cmV0dXJuIHRoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV0/dGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXTpudWxsfXN0YXRpYyBQYXJzZShlLHQsaSxzKXtmb3IoY29uc3QgciBpbiB0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX0JhYnlsb25GaWxlUGFyc2VycyxyKSYmdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW3JdKGUsdCxpLHMpfWdldCBlbnZpcm9ubWVudFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlfXNldCBlbnZpcm9ubWVudFRleHR1cmUoZSl7dGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPWV9Z2V0Tm9kZXMoKXtsZXQgZT1uZXcgQXJyYXk7cmV0dXJuIGU9ZS5jb25jYXQodGhpcy5tZXNoZXMpLGU9ZS5jb25jYXQodGhpcy5saWdodHMpLGU9ZS5jb25jYXQodGhpcy5jYW1lcmFzKSxlPWUuY29uY2F0KHRoaXMudHJhbnNmb3JtTm9kZXMpLHRoaXMuc2tlbGV0b25zLmZvckVhY2godD0+ZT1lLmNvbmNhdCh0LmJvbmVzKSksZX19UWkuX0JhYnlsb25GaWxlUGFyc2Vycz17fSxRaS5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vycz17fTtmdW5jdGlvbiBUKGMsZSx0LGkpe3ZhciBzPWFyZ3VtZW50cy5sZW5ndGgscj1zPDM/ZTppPT09bnVsbD9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTppLG47aWYodHlwZW9mIFJlZmxlY3Q9PSJvYmplY3QiJiZ0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZT09ImZ1bmN0aW9uIilyPVJlZmxlY3QuZGVjb3JhdGUoYyxlLHQsaSk7ZWxzZSBmb3IodmFyIGE9Yy5sZW5ndGgtMTthPj0wO2EtLSkobj1jW2FdKSYmKHI9KHM8Mz9uKHIpOnM+Mz9uKGUsdCxyKTpuKGUsdCkpfHxyKTtyZXR1cm4gcz4zJiZyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHIpLHJ9Y29uc3QgSmk9e30sZXM9e30sZ3I9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9YygpO2ZlJiZmZS5IYXNUYWdzKGUpJiZmZS5BZGRUYWdzVG8oaSxmZS5HZXRUYWdzKGUsITApKTtjb25zdCBzPURzKGkpO2Zvcihjb25zdCByIGluIHMpe2NvbnN0IG49c1tyXSxhPWVbcl0sbz1uLnR5cGU7aWYoYSE9bnVsbCYmKHIhPT0idW5pcXVlSWQifHxuZS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpc3dpdGNoKG8pe2Nhc2UgMDpjYXNlIDY6Y2FzZSAxMTppW3JdPWE7YnJlYWs7Y2FzZSAxOmlbcl09dHx8YS5pc1JlbmRlclRhcmdldD9hOmEuY2xvbmUoKTticmVhaztjYXNlIDI6Y2FzZSAzOmNhc2UgNDpjYXNlIDU6Y2FzZSA3OmNhc2UgMTA6Y2FzZSAxMjppW3JdPXQ/YTphLmNsb25lKCk7YnJlYWt9fXJldHVybiBpfTtmdW5jdGlvbiBBbihjKXtjb25zdCBlPWMuZ2V0Q2xhc3NOYW1lKCk7cmV0dXJuIEppW2VdfHwoSmlbZV09e30pLEppW2VdfWZ1bmN0aW9uIERzKGMpe2NvbnN0IGU9Yy5nZXRDbGFzc05hbWUoKTtpZihlc1tlXSlyZXR1cm4gZXNbZV07ZXNbZV09e307Y29uc3QgdD1lc1tlXTtsZXQgaT1jLHM9ZTtmb3IoO3M7KXtjb25zdCByPUppW3NdO2Zvcihjb25zdCBvIGluIHIpdFtvXT1yW29dO2xldCBuLGE9ITE7ZG97aWYobj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaSksIW4uZ2V0Q2xhc3NOYW1lKXthPSEwO2JyZWFrfWlmKG4uZ2V0Q2xhc3NOYW1lKCkhPT1zKWJyZWFrO2k9bn13aGlsZShuKTtpZihhKWJyZWFrO3M9bi5nZXRDbGFzc05hbWUoKSxpPW59cmV0dXJuIHR9ZnVuY3Rpb24gSXQoYyxlKXtyZXR1cm4odCxpKT0+e2NvbnN0IHM9QW4odCk7c1tpXXx8KHNbaV09e3R5cGU6Yyxzb3VyY2VOYW1lOmV9KX19ZnVuY3Rpb24gUm4oYyxlPW51bGwpe3JldHVybih0LGkpPT57Y29uc3Qgcz1lfHwiXyIraTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tzXX0sc2V0OmZ1bmN0aW9uKHIpe3R5cGVvZiB0aGlzLmVxdWFscz09ImZ1bmN0aW9uIiYmdGhpcy5lcXVhbHMocil8fHRoaXNbc10hPT1yJiYodGhpc1tzXT1yLHRbY10uYXBwbHkodGhpcykpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX1mdW5jdGlvbiBUZShjLGU9bnVsbCl7cmV0dXJuIFJuKGMsZSl9ZnVuY3Rpb24geShjKXtyZXR1cm4gSXQoMCxjKX1mdW5jdGlvbiB2dChjKXtyZXR1cm4gSXQoMSxjKX1mdW5jdGlvbiBkaShjKXtyZXR1cm4gSXQoMixjKX1mdW5jdGlvbiBWaShjKXtyZXR1cm4gSXQoMyxjKX1mdW5jdGlvbiB5bihjKXtyZXR1cm4gSXQoNCxjKX1mdW5jdGlvbiBVdChjKXtyZXR1cm4gSXQoNSxjKX1mdW5jdGlvbiBDbihjKXtyZXR1cm4gSXQoNixjKX1mdW5jdGlvbiBJbihjKXtyZXR1cm4gSXQoNyxjKX1mdW5jdGlvbiBwcihjKXtyZXR1cm4gSXQoOCxjKX1mdW5jdGlvbiBQbihjKXtyZXR1cm4gSXQoMTAsYyl9Y2xhc3MgbmV7c3RhdGljIEFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKGUsdCl7aWYoZS5hbmltYXRpb25zKXt0LmFuaW1hdGlvbnM9W107Zm9yKGxldCBpPTA7aTxlLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl7Y29uc3Qgcz1lLmFuaW1hdGlvbnNbaV07dC5hbmltYXRpb25zLnB1c2gocy5zZXJpYWxpemUoKSl9fX1zdGF0aWMgU2VyaWFsaXplKGUsdCl7dHx8KHQ9e30pLGZlJiYodC50YWdzPWZlLkdldFRhZ3MoZSkpO2NvbnN0IGk9RHMoZSk7Zm9yKGNvbnN0IHMgaW4gaSl7Y29uc3Qgcj1pW3NdLG49ci5zb3VyY2VOYW1lfHxzLGE9ci50eXBlLG89ZVtzXTtpZihvIT1udWxsJiYocyE9PSJ1bmlxdWVJZCJ8fG5lLkFsbG93TG9hZGluZ1VuaXF1ZUlkKSlzd2l0Y2goYSl7Y2FzZSAwOnRbbl09bzticmVhaztjYXNlIDE6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgMjp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgMzp0W25dPW8uc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSA0OnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSA1OnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSA2OnRbbl09by5pZDticmVhaztjYXNlIDc6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgODp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgOTp0W25dPW8uc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSAxMDp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgMTE6dFtuXT1vLmlkO2JyZWFrO2Nhc2UgMTI6dFtuXT1vLmFzQXJyYXkoKTticmVha319cmV0dXJuIHR9c3RhdGljIFBhcnNlUHJvcGVydGllcyhlLHQsaSxzKXtzfHwocz0iIik7Y29uc3Qgcj1Ecyh0KTtmb3IoY29uc3QgbiBpbiByKXtjb25zdCBhPXJbbl0sbz1lW2Euc291cmNlTmFtZXx8bl0saD1hLnR5cGU7aWYobyE9bnVsbCYmKG4hPT0idW5pcXVlSWQifHxuZS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpe2NvbnN0IGw9dDtzd2l0Y2goaCl7Y2FzZSAwOmxbbl09bzticmVhaztjYXNlIDE6aSYmKGxbbl09bmUuX1RleHR1cmVQYXJzZXIobyxpLHMpKTticmVhaztjYXNlIDI6bFtuXT1yZS5Gcm9tQXJyYXkobyk7YnJlYWs7Y2FzZSAzOmxbbl09bmUuX0ZyZXNuZWxQYXJhbWV0ZXJzUGFyc2VyKG8pO2JyZWFrO2Nhc2UgNDpsW25dPXZlLkZyb21BcnJheShvKTticmVhaztjYXNlIDU6bFtuXT1wLkZyb21BcnJheShvKTticmVhaztjYXNlIDY6aSYmKGxbbl09aS5nZXRMYXN0TWVzaEJ5SWQobykpO2JyZWFrO2Nhc2UgNzpsW25dPW5lLl9Db2xvckN1cnZlc1BhcnNlcihvKTticmVhaztjYXNlIDg6bFtuXT1OZS5Gcm9tQXJyYXkobyk7YnJlYWs7Y2FzZSA5Omxbbl09bmUuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXIobyk7YnJlYWs7Y2FzZSAxMDpsW25dPVouRnJvbUFycmF5KG8pO2JyZWFrO2Nhc2UgMTE6aSYmKGxbbl09aS5nZXRDYW1lcmFCeUlkKG8pKTticmVhaztjYXNlIDEyOmxbbl09TS5Gcm9tQXJyYXkobyk7YnJlYWt9fX19c3RhdGljIFBhcnNlKGUsdCxpLHM9bnVsbCl7Y29uc3Qgcj1lKCk7cmV0dXJuIGZlJiZmZS5BZGRUYWdzVG8ocix0LnRhZ3MpLG5lLlBhcnNlUHJvcGVydGllcyh0LHIsaSxzKSxyfXN0YXRpYyBDbG9uZShlLHQpe3JldHVybiBncihlLHQsITEpfXN0YXRpYyBJbnN0YW5jaWF0ZShlLHQpe3JldHVybiBncihlLHQsITApfX1uZS5BbGxvd0xvYWRpbmdVbmlxdWVJZD0hMSxuZS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcj1jPT57dGhyb3cgUSgiSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIpfSxuZS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXI9Yz0+e3Rocm93IFEoIkZyZXNuZWxQYXJhbWV0ZXJzIil9LG5lLl9Db2xvckN1cnZlc1BhcnNlcj1jPT57dGhyb3cgUSgiQ29sb3JDdXJ2ZXMiKX0sbmUuX1RleHR1cmVQYXJzZXI9KGMsZSx0KT0+e3Rocm93IFEoIlRleHR1cmUiKX07ZnVuY3Rpb24gUXQoYyxlLHQsaSl7Y29uc3Qgcz10LnZhbHVlO3QudmFsdWU9KC4uLnIpPT57bGV0IG49cztpZih0eXBlb2YgX25hdGl2ZTwidSImJl9uYXRpdmVbZV0pe2NvbnN0IGE9X25hdGl2ZVtlXTtpP249KC4uLm8pPT5pKC4uLm8pP2EoLi4ubyk6cyguLi5vKTpuPWF9cmV0dXJuIGNbZV09bixuKC4uLnIpfX1RdC5maWx0ZXI9ZnVuY3Rpb24oYyl7cmV0dXJuKGUsdCxpKT0+UXQoZSx0LGksYyl9O2NsYXNzIEZze2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuX2tleXM9W10sdGhpcy5faXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXNwb3NlZD0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMCx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9ub3JtYWxzPSExLHRoaXMuX3V2cz0hMSx0aGlzLl9uZWVkTm9ybWFscz0hMSx0aGlzLl9uZWVkVVZzPSExLHRoaXMuX2V4dGVybmFsUHJvcGVydGllcz1lLGUpZm9yKGNvbnN0IHQgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmdGhpcy5fc2V0RGVmYXVsdFZhbHVlKHQpfWdldCBpc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2lzRGlydHl9bWFya0FzUHJvY2Vzc2VkKCl7dGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITEsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMSx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlTWlzY0RpcnR5PSExLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMSx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMX1tYXJrQXNVbnByb2Nlc3NlZCgpe3RoaXMuX2lzRGlydHk9ITB9bWFya0FsbEFzRGlydHkoKXt0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2FyZUF0dHJpYnV0ZXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZUltYWdlUHJvY2Vzc2luZ0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKXt0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0xpZ2h0RGlydHkoZT0hMSl7dGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9dGhpcy5fYXJlTGlnaHRzRGlzcG9zZWR8fGUsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKXt0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNUZXh0dXJlc0RpcnR5KCl7dGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0ZyZXNuZWxEaXJ0eSgpe3RoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc01pc2NEaXJ0eSgpe3RoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc1ByZVBhc3NEaXJ0eSgpe3RoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfXJlYnVpbGQoKXt0aGlzLl9rZXlzLmxlbmd0aD0wO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMpKWVbMF0hPT0iXyImJnRoaXMuX2tleXMucHVzaChlKTtpZih0aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpZm9yKGNvbnN0IGUgaW4gdGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKXRoaXMuX2tleXMuaW5kZXhPZihlKT09PS0xJiZ0aGlzLl9rZXlzLnB1c2goZSl9aXNFcXVhbChlKXtpZih0aGlzLl9rZXlzLmxlbmd0aCE9PWUuX2tleXMubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuX2tleXNbdF07aWYodGhpc1tpXSE9PWVbaV0pcmV0dXJuITF9cmV0dXJuITB9Y2xvbmVUbyhlKXt0aGlzLl9rZXlzLmxlbmd0aCE9PWUuX2tleXMubGVuZ3RoJiYoZS5fa2V5cz10aGlzLl9rZXlzLnNsaWNlKDApKTtmb3IobGV0IHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9rZXlzW3RdO2VbaV09dGhpc1tpXX19cmVzZXQoKXt0aGlzLl9rZXlzLmZvckVhY2goZT0+dGhpcy5fc2V0RGVmYXVsdFZhbHVlKGUpKX1fc2V0RGVmYXVsdFZhbHVlKGUpe3ZhciB0LGkscyxyLG47Y29uc3QgYT0ocz0oaT0odD10aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dFtlXSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnR5cGUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOnR5cGVvZiB0aGlzW2VdLG89KG49KHI9dGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnJbZV0pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5kZWZhdWx0O3N3aXRjaChhKXtjYXNlIm51bWJlciI6dGhpc1tlXT1vPz8wO2JyZWFrO2Nhc2Uic3RyaW5nIjp0aGlzW2VdPW8/PyIiO2JyZWFrO2RlZmF1bHQ6dGhpc1tlXT1vPz8hMTticmVha319dG9TdHJpbmcoKXtsZXQgZT0iIjtmb3IobGV0IHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9rZXlzW3RdLHM9dGhpc1tpXTtzd2l0Y2godHlwZW9mIHMpe2Nhc2UibnVtYmVyIjpjYXNlInN0cmluZyI6ZSs9IiNkZWZpbmUgIitpKyIgIitzK2AKYDticmVhaztkZWZhdWx0OnMmJihlKz0iI2RlZmluZSAiK2krYApgKTticmVha319cmV0dXJuIGV9fWNsYXNzIEFle2NvbnN0cnVjdG9yKCl7dGhpcy5fZGlydHk9ITAsdGhpcy5fdGVtcENvbG9yPW5ldyBOZSgwLDAsMCwwKSx0aGlzLl9nbG9iYWxDdXJ2ZT1uZXcgTmUoMCwwLDAsMCksdGhpcy5faGlnaGxpZ2h0c0N1cnZlPW5ldyBOZSgwLDAsMCwwKSx0aGlzLl9taWR0b25lc0N1cnZlPW5ldyBOZSgwLDAsMCwwKSx0aGlzLl9zaGFkb3dzQ3VydmU9bmV3IE5lKDAsMCwwLDApLHRoaXMuX3Bvc2l0aXZlQ3VydmU9bmV3IE5lKDAsMCwwLDApLHRoaXMuX25lZ2F0aXZlQ3VydmU9bmV3IE5lKDAsMCwwLDApLHRoaXMuX2dsb2JhbEh1ZT0zMCx0aGlzLl9nbG9iYWxEZW5zaXR5PTAsdGhpcy5fZ2xvYmFsU2F0dXJhdGlvbj0wLHRoaXMuX2dsb2JhbEV4cG9zdXJlPTAsdGhpcy5faGlnaGxpZ2h0c0h1ZT0zMCx0aGlzLl9oaWdobGlnaHRzRGVuc2l0eT0wLHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9uPTAsdGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlPTAsdGhpcy5fbWlkdG9uZXNIdWU9MzAsdGhpcy5fbWlkdG9uZXNEZW5zaXR5PTAsdGhpcy5fbWlkdG9uZXNTYXR1cmF0aW9uPTAsdGhpcy5fbWlkdG9uZXNFeHBvc3VyZT0wLHRoaXMuX3NoYWRvd3NIdWU9MzAsdGhpcy5fc2hhZG93c0RlbnNpdHk9MCx0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbj0wLHRoaXMuX3NoYWRvd3NFeHBvc3VyZT0wfWdldCBnbG9iYWxIdWUoKXtyZXR1cm4gdGhpcy5fZ2xvYmFsSHVlfXNldCBnbG9iYWxIdWUoZSl7dGhpcy5fZ2xvYmFsSHVlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IGdsb2JhbERlbnNpdHkoKXtyZXR1cm4gdGhpcy5fZ2xvYmFsRGVuc2l0eX1zZXQgZ2xvYmFsRGVuc2l0eShlKXt0aGlzLl9nbG9iYWxEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IGdsb2JhbFNhdHVyYXRpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsU2F0dXJhdGlvbn1zZXQgZ2xvYmFsU2F0dXJhdGlvbihlKXt0aGlzLl9nbG9iYWxTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9Z2V0IGdsb2JhbEV4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEV4cG9zdXJlfXNldCBnbG9iYWxFeHBvc3VyZShlKXt0aGlzLl9nbG9iYWxFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBoaWdobGlnaHRzSHVlKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNIdWV9c2V0IGhpZ2hsaWdodHNIdWUoZSl7dGhpcy5faGlnaGxpZ2h0c0h1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBoaWdobGlnaHRzRGVuc2l0eSgpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzRGVuc2l0eX1zZXQgaGlnaGxpZ2h0c0RlbnNpdHkoZSl7dGhpcy5faGlnaGxpZ2h0c0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c1NhdHVyYXRpb24oKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c1NhdHVyYXRpb259c2V0IGhpZ2hsaWdodHNTYXR1cmF0aW9uKGUpe3RoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9Z2V0IGhpZ2hsaWdodHNFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmV9c2V0IGhpZ2hsaWdodHNFeHBvc3VyZShlKXt0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgbWlkdG9uZXNIdWUoKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNIdWV9c2V0IG1pZHRvbmVzSHVlKGUpe3RoaXMuX21pZHRvbmVzSHVlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzRGVuc2l0eSgpe3JldHVybiB0aGlzLl9taWR0b25lc0RlbnNpdHl9c2V0IG1pZHRvbmVzRGVuc2l0eShlKXt0aGlzLl9taWR0b25lc0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgbWlkdG9uZXNTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzU2F0dXJhdGlvbn1zZXQgbWlkdG9uZXNTYXR1cmF0aW9uKGUpe3RoaXMuX21pZHRvbmVzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBtaWR0b25lc0V4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzRXhwb3N1cmV9c2V0IG1pZHRvbmVzRXhwb3N1cmUoZSl7dGhpcy5fbWlkdG9uZXNFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBzaGFkb3dzSHVlKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NIdWV9c2V0IHNoYWRvd3NIdWUoZSl7dGhpcy5fc2hhZG93c0h1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBzaGFkb3dzRGVuc2l0eSgpe3JldHVybiB0aGlzLl9zaGFkb3dzRGVuc2l0eX1zZXQgc2hhZG93c0RlbnNpdHkoZSl7dGhpcy5fc2hhZG93c0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c1NhdHVyYXRpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93c1NhdHVyYXRpb259c2V0IHNoYWRvd3NTYXR1cmF0aW9uKGUpe3RoaXMuX3NoYWRvd3NTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9Z2V0IHNoYWRvd3NFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9zaGFkb3dzRXhwb3N1cmV9c2V0IHNoYWRvd3NFeHBvc3VyZShlKXt0aGlzLl9zaGFkb3dzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQ29sb3JDdXJ2ZXMifXN0YXRpYyBCaW5kKGUsdCxpPSJ2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlIixzPSJ2Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWwiLHI9InZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmUiKXtlLl9kaXJ0eSYmKGUuX2RpcnR5PSExLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9nbG9iYWxIdWUsZS5fZ2xvYmFsRGVuc2l0eSxlLl9nbG9iYWxTYXR1cmF0aW9uLGUuX2dsb2JhbEV4cG9zdXJlLGUuX2dsb2JhbEN1cnZlKSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5faGlnaGxpZ2h0c0h1ZSxlLl9oaWdobGlnaHRzRGVuc2l0eSxlLl9oaWdobGlnaHRzU2F0dXJhdGlvbixlLl9oaWdobGlnaHRzRXhwb3N1cmUsZS5fdGVtcENvbG9yKSxlLl90ZW1wQ29sb3IubXVsdGlwbHlUb1JlZihlLl9nbG9iYWxDdXJ2ZSxlLl9oaWdobGlnaHRzQ3VydmUpLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9taWR0b25lc0h1ZSxlLl9taWR0b25lc0RlbnNpdHksZS5fbWlkdG9uZXNTYXR1cmF0aW9uLGUuX21pZHRvbmVzRXhwb3N1cmUsZS5fdGVtcENvbG9yKSxlLl90ZW1wQ29sb3IubXVsdGlwbHlUb1JlZihlLl9nbG9iYWxDdXJ2ZSxlLl9taWR0b25lc0N1cnZlKSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fc2hhZG93c0h1ZSxlLl9zaGFkb3dzRGVuc2l0eSxlLl9zaGFkb3dzU2F0dXJhdGlvbixlLl9zaGFkb3dzRXhwb3N1cmUsZS5fdGVtcENvbG9yKSxlLl90ZW1wQ29sb3IubXVsdGlwbHlUb1JlZihlLl9nbG9iYWxDdXJ2ZSxlLl9zaGFkb3dzQ3VydmUpLGUuX2hpZ2hsaWdodHNDdXJ2ZS5zdWJ0cmFjdFRvUmVmKGUuX21pZHRvbmVzQ3VydmUsZS5fcG9zaXRpdmVDdXJ2ZSksZS5fbWlkdG9uZXNDdXJ2ZS5zdWJ0cmFjdFRvUmVmKGUuX3NoYWRvd3NDdXJ2ZSxlLl9uZWdhdGl2ZUN1cnZlKSksdCYmKHQuc2V0RmxvYXQ0KGksZS5fcG9zaXRpdmVDdXJ2ZS5yLGUuX3Bvc2l0aXZlQ3VydmUuZyxlLl9wb3NpdGl2ZUN1cnZlLmIsZS5fcG9zaXRpdmVDdXJ2ZS5hKSx0LnNldEZsb2F0NChzLGUuX21pZHRvbmVzQ3VydmUucixlLl9taWR0b25lc0N1cnZlLmcsZS5fbWlkdG9uZXNDdXJ2ZS5iLGUuX21pZHRvbmVzQ3VydmUuYSksdC5zZXRGbG9hdDQocixlLl9uZWdhdGl2ZUN1cnZlLnIsZS5fbmVnYXRpdmVDdXJ2ZS5nLGUuX25lZ2F0aXZlQ3VydmUuYixlLl9uZWdhdGl2ZUN1cnZlLmEpKX1zdGF0aWMgUHJlcGFyZVVuaWZvcm1zKGUpe2UucHVzaCgidkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsIiwidkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZSIsInZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmUiKX1fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUsdCxpLHMscil7ZSE9bnVsbCYmKGU9QWUuX0NsYW1wKGUsMCwzNjApLHQ9QWUuX0NsYW1wKHQsLTEwMCwxMDApLGk9QWUuX0NsYW1wKGksLTEwMCwxMDApLHM9QWUuX0NsYW1wKHMsLTEwMCwxMDApLHQ9QWUuX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyKHQpLHQqPS41LHM9QWUuX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyKHMpLHQ8MCYmKHQqPS0xLGU9KGUrMTgwKSUzNjApLEFlLl9Gcm9tSFNCVG9SZWYoZSx0LDUwKy4yNSpzLHIpLHIuc2NhbGVUb1JlZigyLHIpLHIuYT0xKy4wMSppKX1zdGF0aWMgX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyKGUpe2UvPTEwMDtsZXQgdD1NYXRoLmFicyhlKTtyZXR1cm4gdD1NYXRoLnBvdyh0LDIpLGU8MCYmKHQqPS0xKSx0Kj0xMDAsdH1zdGF0aWMgX0Zyb21IU0JUb1JlZihlLHQsaSxzKXtsZXQgcj1BZS5fQ2xhbXAoZSwwLDM2MCk7Y29uc3Qgbj1BZS5fQ2xhbXAodC8xMDAsMCwxKSxhPUFlLl9DbGFtcChpLzEwMCwwLDEpO2lmKG49PT0wKXMucj1hLHMuZz1hLHMuYj1hO2Vsc2V7ci89NjA7Y29uc3Qgbz1NYXRoLmZsb29yKHIpLGg9ci1vLGw9YSooMS1uKSx1PWEqKDEtbipoKSxkPWEqKDEtbiooMS1oKSk7c3dpdGNoKG8pe2Nhc2UgMDpzLnI9YSxzLmc9ZCxzLmI9bDticmVhaztjYXNlIDE6cy5yPXUscy5nPWEscy5iPWw7YnJlYWs7Y2FzZSAyOnMucj1sLHMuZz1hLHMuYj1kO2JyZWFrO2Nhc2UgMzpzLnI9bCxzLmc9dSxzLmI9YTticmVhaztjYXNlIDQ6cy5yPWQscy5nPWwscy5iPWE7YnJlYWs7ZGVmYXVsdDpzLnI9YSxzLmc9bCxzLmI9dTticmVha319cy5hPTF9c3RhdGljIF9DbGFtcChlLHQsaSl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGUsdCksaSl9Y2xvbmUoKXtyZXR1cm4gbmUuQ2xvbmUoKCk9Pm5ldyBBZSx0aGlzKX1zZXJpYWxpemUoKXtyZXR1cm4gbmUuU2VyaWFsaXplKHRoaXMpfXN0YXRpYyBQYXJzZShlKXtyZXR1cm4gbmUuUGFyc2UoKCk9Pm5ldyBBZSxlLG51bGwsbnVsbCl9fVQoW3koKV0sQWUucHJvdG90eXBlLCJfZ2xvYmFsSHVlIix2b2lkIDApLFQoW3koKV0sQWUucHJvdG90eXBlLCJfZ2xvYmFsRGVuc2l0eSIsdm9pZCAwKSxUKFt5KCldLEFlLnByb3RvdHlwZSwiX2dsb2JhbFNhdHVyYXRpb24iLHZvaWQgMCksVChbeSgpXSxBZS5wcm90b3R5cGUsIl9nbG9iYWxFeHBvc3VyZSIsdm9pZCAwKSxUKFt5KCldLEFlLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNIdWUiLHZvaWQgMCksVChbeSgpXSxBZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzRGVuc2l0eSIsdm9pZCAwKSxUKFt5KCldLEFlLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNTYXR1cmF0aW9uIix2b2lkIDApLFQoW3koKV0sQWUucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0V4cG9zdXJlIix2b2lkIDApLFQoW3koKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNIdWUiLHZvaWQgMCksVChbeSgpXSxBZS5wcm90b3R5cGUsIl9taWR0b25lc0RlbnNpdHkiLHZvaWQgMCksVChbeSgpXSxBZS5wcm90b3R5cGUsIl9taWR0b25lc1NhdHVyYXRpb24iLHZvaWQgMCksVChbeSgpXSxBZS5wcm90b3R5cGUsIl9taWR0b25lc0V4cG9zdXJlIix2b2lkIDApLG5lLl9Db2xvckN1cnZlc1BhcnNlcj1BZS5QYXJzZTtjbGFzcyBnZXtjb25zdHJ1Y3Rvcigpe3RoaXMuY29sb3JDdXJ2ZXM9bmV3IEFlLHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZD0hMSx0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkPSExLHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoPSEwLHRoaXMuX2NvbG9yR3JhZGluZ0JHUj0hMCx0aGlzLl9leHBvc3VyZT0xLHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZD0hMSx0aGlzLl90b25lTWFwcGluZ1R5cGU9Z2UuVE9ORU1BUFBJTkdfU1RBTkRBUkQsdGhpcy5fY29udHJhc3Q9MSx0aGlzLnZpZ25ldHRlU3RyZXRjaD0wLHRoaXMudmlnbmV0dGVDZW50ZXJYPTAsdGhpcy52aWduZXR0ZUNlbnRlclk9MCx0aGlzLnZpZ25ldHRlV2VpZ2h0PTEuNSx0aGlzLnZpZ25ldHRlQ29sb3I9bmV3IE5lKDAsMCwwLDApLHRoaXMudmlnbmV0dGVDYW1lcmFGb3Y9LjUsdGhpcy5fdmlnbmV0dGVCbGVuZE1vZGU9Z2UuVklHTkVUVEVNT0RFX01VTFRJUExZLHRoaXMuX3ZpZ25ldHRlRW5hYmxlZD0hMSx0aGlzLl9kaXRoZXJpbmdFbmFibGVkPSExLHRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eT0xLzI1NSx0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wPSExLHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzcz0hMSx0aGlzLl9pc0VuYWJsZWQ9ITAsdGhpcy5vblVwZGF0ZVBhcmFtZXRlcnM9bmV3IHd9Z2V0IGNvbG9yQ3VydmVzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWR9c2V0IGNvbG9yQ3VydmVzRW5hYmxlZChlKXt0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQhPT1lJiYodGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nVGV4dHVyZSgpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlfXNldCBjb2xvckdyYWRpbmdUZXh0dXJlKGUpe3RoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmUhPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGNvbG9yR3JhZGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZH1zZXQgY29sb3JHcmFkaW5nRW5hYmxlZChlKXt0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCgpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aH1zZXQgY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgoZSl7dGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGghPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGg9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb2xvckdyYWRpbmdCR1IoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nQkdSfXNldCBjb2xvckdyYWRpbmdCR1IoZSl7dGhpcy5fY29sb3JHcmFkaW5nQkdSIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ0JHUj1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGV4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX2V4cG9zdXJlfXNldCBleHBvc3VyZShlKXt0aGlzLl9leHBvc3VyZSE9PWUmJih0aGlzLl9leHBvc3VyZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHRvbmVNYXBwaW5nRW5hYmxlZCgpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ0VuYWJsZWR9c2V0IHRvbmVNYXBwaW5nRW5hYmxlZChlKXt0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdG9uZU1hcHBpbmdUeXBlKCl7cmV0dXJuIHRoaXMuX3RvbmVNYXBwaW5nVHlwZX1zZXQgdG9uZU1hcHBpbmdUeXBlKGUpe3RoaXMuX3RvbmVNYXBwaW5nVHlwZSE9PWUmJih0aGlzLl90b25lTWFwcGluZ1R5cGU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb250cmFzdCgpe3JldHVybiB0aGlzLl9jb250cmFzdH1zZXQgY29udHJhc3QoZSl7dGhpcy5fY29udHJhc3QhPT1lJiYodGhpcy5fY29udHJhc3Q9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCB2aWduZXR0ZUNlbnRyZVkoKXtyZXR1cm4gdGhpcy52aWduZXR0ZUNlbnRlcll9c2V0IHZpZ25ldHRlQ2VudHJlWShlKXt0aGlzLnZpZ25ldHRlQ2VudGVyWT1lfWdldCB2aWduZXR0ZUNlbnRyZVgoKXtyZXR1cm4gdGhpcy52aWduZXR0ZUNlbnRlclh9c2V0IHZpZ25ldHRlQ2VudHJlWChlKXt0aGlzLnZpZ25ldHRlQ2VudGVyWD1lfWdldCB2aWduZXR0ZUJsZW5kTW9kZSgpe3JldHVybiB0aGlzLl92aWduZXR0ZUJsZW5kTW9kZX1zZXQgdmlnbmV0dGVCbGVuZE1vZGUoZSl7dGhpcy5fdmlnbmV0dGVCbGVuZE1vZGUhPT1lJiYodGhpcy5fdmlnbmV0dGVCbGVuZE1vZGU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCB2aWduZXR0ZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVFbmFibGVkfXNldCB2aWduZXR0ZUVuYWJsZWQoZSl7dGhpcy5fdmlnbmV0dGVFbmFibGVkIT09ZSYmKHRoaXMuX3ZpZ25ldHRlRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGRpdGhlcmluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZGl0aGVyaW5nRW5hYmxlZH1zZXQgZGl0aGVyaW5nRW5hYmxlZChlKXt0aGlzLl9kaXRoZXJpbmdFbmFibGVkIT09ZSYmKHRoaXMuX2RpdGhlcmluZ0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBkaXRoZXJpbmdJbnRlbnNpdHkoKXtyZXR1cm4gdGhpcy5fZGl0aGVyaW5nSW50ZW5zaXR5fXNldCBkaXRoZXJpbmdJbnRlbnNpdHkoZSl7dGhpcy5fZGl0aGVyaW5nSW50ZW5zaXR5IT09ZSYmKHRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHNraXBGaW5hbENvbG9yQ2xhbXAoKXtyZXR1cm4gdGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcH1zZXQgc2tpcEZpbmFsQ29sb3JDbGFtcChlKXt0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wIT09ZSYmKHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXA9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBhcHBseUJ5UG9zdFByb2Nlc3MoKXtyZXR1cm4gdGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzfXNldCBhcHBseUJ5UG9zdFByb2Nlc3MoZSl7dGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzIT09ZSYmKHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzcz1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9pc0VuYWJsZWR9c2V0IGlzRW5hYmxlZChlKXt0aGlzLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5faXNFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1fdXBkYXRlUGFyYW1ldGVycygpe3RoaXMub25VcGRhdGVQYXJhbWV0ZXJzLm5vdGlmeU9ic2VydmVycyh0aGlzKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiJ9c3RhdGljIFByZXBhcmVVbmlmb3JtcyhlLHQpe3QuRVhQT1NVUkUmJmUucHVzaCgiZXhwb3N1cmVMaW5lYXIiKSx0LkNPTlRSQVNUJiZlLnB1c2goImNvbnRyYXN0IiksdC5DT0xPUkdSQURJTkcmJmUucHVzaCgiY29sb3JUcmFuc2Zvcm1TZXR0aW5ncyIpLCh0LlZJR05FVFRFfHx0LkRJVEhFUikmJmUucHVzaCgidkludmVyc2VTY3JlZW5TaXplIiksdC5WSUdORVRURSYmKGUucHVzaCgidmlnbmV0dGVTZXR0aW5nczEiKSxlLnB1c2goInZpZ25ldHRlU2V0dGluZ3MyIikpLHQuQ09MT1JDVVJWRVMmJkFlLlByZXBhcmVVbmlmb3JtcyhlKSx0LkRJVEhFUiYmZS5wdXNoKCJkaXRoZXJJbnRlbnNpdHkiKX1zdGF0aWMgUHJlcGFyZVNhbXBsZXJzKGUsdCl7dC5DT0xPUkdSQURJTkcmJmUucHVzaCgidHhDb2xvclRyYW5zZm9ybSIpfXByZXBhcmVEZWZpbmVzKGUsdD0hMSl7aWYodCE9PXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzfHwhdGhpcy5faXNFbmFibGVkKXtlLlZJR05FVFRFPSExLGUuVE9ORU1BUFBJTkc9ITEsZS5UT05FTUFQUElOR19BQ0VTPSExLGUuQ09OVFJBU1Q9ITEsZS5FWFBPU1VSRT0hMSxlLkNPTE9SQ1VSVkVTPSExLGUuQ09MT1JHUkFESU5HPSExLGUuQ09MT1JHUkFESU5HM0Q9ITEsZS5ESVRIRVI9ITEsZS5JTUFHRVBST0NFU1NJTkc9ITEsZS5TS0lQRklOQUxDT0xPUkNMQU1QPXRoaXMuc2tpcEZpbmFsQ29sb3JDbGFtcCxlLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzJiZ0aGlzLl9pc0VuYWJsZWQ7cmV0dXJufXN3aXRjaChlLlZJR05FVFRFPXRoaXMudmlnbmV0dGVFbmFibGVkLGUuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWT10aGlzLnZpZ25ldHRlQmxlbmRNb2RlPT09Z2UuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWSxlLlZJR05FVFRFQkxFTkRNT0RFT1BBUVVFPSFlLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFksZS5UT05FTUFQUElORz10aGlzLnRvbmVNYXBwaW5nRW5hYmxlZCx0aGlzLl90b25lTWFwcGluZ1R5cGUpe2Nhc2UgZ2UuVE9ORU1BUFBJTkdfQUNFUzplLlRPTkVNQVBQSU5HX0FDRVM9ITA7YnJlYWs7ZGVmYXVsdDplLlRPTkVNQVBQSU5HX0FDRVM9ITE7YnJlYWt9ZS5DT05UUkFTVD10aGlzLmNvbnRyYXN0IT09MSxlLkVYUE9TVVJFPXRoaXMuZXhwb3N1cmUhPT0xLGUuQ09MT1JDVVJWRVM9dGhpcy5jb2xvckN1cnZlc0VuYWJsZWQmJiEhdGhpcy5jb2xvckN1cnZlcyxlLkNPTE9SR1JBRElORz10aGlzLmNvbG9yR3JhZGluZ0VuYWJsZWQmJiEhdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLGUuQ09MT1JHUkFESU5HP2UuQ09MT1JHUkFESU5HM0Q9dGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmlzM0Q6ZS5DT0xPUkdSQURJTkczRD0hMSxlLlNBTVBMRVIzREdSRUVOREVQVEg9dGhpcy5jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCxlLlNBTVBMRVIzREJHUk1BUD10aGlzLmNvbG9yR3JhZGluZ0JHUixlLkRJVEhFUj10aGlzLl9kaXRoZXJpbmdFbmFibGVkLGUuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9dGhpcy5hcHBseUJ5UG9zdFByb2Nlc3MsZS5TS0lQRklOQUxDT0xPUkNMQU1QPXRoaXMuc2tpcEZpbmFsQ29sb3JDbGFtcCxlLklNQUdFUFJPQ0VTU0lORz1lLlZJR05FVFRFfHxlLlRPTkVNQVBQSU5HfHxlLkNPTlRSQVNUfHxlLkVYUE9TVVJFfHxlLkNPTE9SQ1VSVkVTfHxlLkNPTE9SR1JBRElOR3x8ZS5ESVRIRVJ9aXNSZWFkeSgpe3JldHVybiF0aGlzLmNvbG9yR3JhZGluZ0VuYWJsZWR8fCF0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmV8fHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5pc1JlYWR5KCl9YmluZChlLHQpe2lmKHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZCYmdGhpcy5jb2xvckN1cnZlcyYmQWUuQmluZCh0aGlzLmNvbG9yQ3VydmVzLGUpLHRoaXMuX3ZpZ25ldHRlRW5hYmxlZHx8dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCl7Y29uc3QgaT0xL2UuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyV2lkdGgoKSxzPTEvZS5nZXRFbmdpbmUoKS5nZXRSZW5kZXJIZWlnaHQoKTtpZihlLnNldEZsb2F0MigidkludmVyc2VTY3JlZW5TaXplIixpLHMpLHRoaXMuX2RpdGhlcmluZ0VuYWJsZWQmJmUuc2V0RmxvYXQoImRpdGhlckludGVuc2l0eSIsLjUqdGhpcy5fZGl0aGVyaW5nSW50ZW5zaXR5KSx0aGlzLl92aWduZXR0ZUVuYWJsZWQpe2NvbnN0IHI9dD8/cy9pO2xldCBuPU1hdGgudGFuKHRoaXMudmlnbmV0dGVDYW1lcmFGb3YqLjUpLGE9bipyO2NvbnN0IG89TWF0aC5zcXJ0KGEqbik7YT1YLk1peChhLG8sdGhpcy52aWduZXR0ZVN0cmV0Y2gpLG49WC5NaXgobixvLHRoaXMudmlnbmV0dGVTdHJldGNoKSxlLnNldEZsb2F0NCgidmlnbmV0dGVTZXR0aW5nczEiLGEsbiwtYSp0aGlzLnZpZ25ldHRlQ2VudGVyWCwtbip0aGlzLnZpZ25ldHRlQ2VudGVyWSk7Y29uc3QgaD0tMip0aGlzLnZpZ25ldHRlV2VpZ2h0O2Uuc2V0RmxvYXQ0KCJ2aWduZXR0ZVNldHRpbmdzMiIsdGhpcy52aWduZXR0ZUNvbG9yLnIsdGhpcy52aWduZXR0ZUNvbG9yLmcsdGhpcy52aWduZXR0ZUNvbG9yLmIsaCl9fWlmKGUuc2V0RmxvYXQoImV4cG9zdXJlTGluZWFyIix0aGlzLmV4cG9zdXJlKSxlLnNldEZsb2F0KCJjb250cmFzdCIsdGhpcy5jb250cmFzdCksdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlKXtlLnNldFRleHR1cmUoInR4Q29sb3JUcmFuc2Zvcm0iLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSk7Y29uc3QgaT10aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUuZ2V0U2l6ZSgpLmhlaWdodDtlLnNldEZsb2F0NCgiY29sb3JUcmFuc2Zvcm1TZXR0aW5ncyIsKGktMSkvaSwuNS9pLGksdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmxldmVsKX19Y2xvbmUoKXtyZXR1cm4gbmUuQ2xvbmUoKCk9Pm5ldyBnZSx0aGlzKX1zZXJpYWxpemUoKXtyZXR1cm4gbmUuU2VyaWFsaXplKHRoaXMpfXN0YXRpYyBQYXJzZShlKXtjb25zdCB0PW5lLlBhcnNlKCgpPT5uZXcgZ2UsZSxudWxsLG51bGwpO3JldHVybiBlLnZpZ25ldHRlQ2VudHJlWCE9PXZvaWQgMCYmKHQudmlnbmV0dGVDZW50ZXJYPWUudmlnbmV0dGVDZW50cmVYKSxlLnZpZ25ldHRlQ2VudHJlWSE9PXZvaWQgMCYmKHQudmlnbmV0dGVDZW50ZXJZPWUudmlnbmV0dGVDZW50cmVZKSx0fXN0YXRpYyBnZXQgVklHTkVUVEVNT0RFX01VTFRJUExZKCl7cmV0dXJuIHRoaXMuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWX1zdGF0aWMgZ2V0IFZJR05FVFRFTU9ERV9PUEFRVUUoKXtyZXR1cm4gdGhpcy5fVklHTkVUVEVNT0RFX09QQVFVRX19Z2UuVE9ORU1BUFBJTkdfU1RBTkRBUkQ9MCxnZS5UT05FTUFQUElOR19BQ0VTPTEsZ2UuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWT0wLGdlLl9WSUdORVRURU1PREVfT1BBUVVFPTEsVChbSW4oKV0sZ2UucHJvdG90eXBlLCJjb2xvckN1cnZlcyIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX2NvbG9yQ3VydmVzRW5hYmxlZCIsdm9pZCAwKSxUKFt2dCgiY29sb3JHcmFkaW5nVGV4dHVyZSIpXSxnZS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdUZXh0dXJlIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nRW5hYmxlZCIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nQkdSIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfZXhwb3N1cmUiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl90b25lTWFwcGluZ0VuYWJsZWQiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl90b25lTWFwcGluZ1R5cGUiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl9jb250cmFzdCIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwidmlnbmV0dGVTdHJldGNoIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJ2aWduZXR0ZUNlbnRlclgiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsInZpZ25ldHRlQ2VudGVyWSIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwidmlnbmV0dGVXZWlnaHQiLHZvaWQgMCksVChbcHIoKV0sZ2UucHJvdG90eXBlLCJ2aWduZXR0ZUNvbG9yIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJ2aWduZXR0ZUNhbWVyYUZvdiIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX3ZpZ25ldHRlQmxlbmRNb2RlIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfdmlnbmV0dGVFbmFibGVkIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfZGl0aGVyaW5nRW5hYmxlZCIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX2RpdGhlcmluZ0ludGVuc2l0eSIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX3NraXBGaW5hbENvbG9yQ2xhbXAiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl9hcHBseUJ5UG9zdFByb2Nlc3MiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl9pc0VuYWJsZWQiLHZvaWQgMCksbmUuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXI9Z2UuUGFyc2Usb2UucHJvdG90eXBlLmNyZWF0ZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oYyl7Y29uc3QgZT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdW5pZm9ybSBidWZmZXIiKTtjb25zdCB0PW5ldyBMaShlKTtyZXR1cm4gdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcih0KSxjIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsYyx0aGlzLl9nbC5TVEFUSUNfRFJBVyk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGMpLHRoaXMuX2dsLlNUQVRJQ19EUkFXKSx0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKG51bGwpLHQucmVmZXJlbmNlcz0xLHR9LG9lLnByb3RvdHlwZS5jcmVhdGVEeW5hbWljVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjKXtjb25zdCBlPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBkeW5hbWljIHVuaWZvcm0gYnVmZmVyIik7Y29uc3QgdD1uZXcgTGkoZSk7cmV0dXJuIHRoaXMuYmluZFVuaWZvcm1CdWZmZXIodCksYyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGMsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoYyksdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSx0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKG51bGwpLHQucmVmZXJlbmNlcz0xLHR9LG9lLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGMsZSx0LGkpe3RoaXMuYmluZFVuaWZvcm1CdWZmZXIoYyksdD09PXZvaWQgMCYmKHQ9MCksaT09PXZvaWQgMD9lIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsdCxlKTp0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLHQsbmV3IEZsb2F0MzJBcnJheShlKSk6ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLDAsZS5zdWJhcnJheSh0LHQraSkpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsMCxuZXcgRmxvYXQzMkFycmF5KGUpLnN1YmFycmF5KHQsdCtpKSksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKX0sb2UucHJvdG90eXBlLmJpbmRVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGMpe3RoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsYz9jLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKX0sb2UucHJvdG90eXBlLmJpbmRVbmlmb3JtQnVmZmVyQmFzZT1mdW5jdGlvbihjLGUsdCl7dGhpcy5fZ2wuYmluZEJ1ZmZlckJhc2UodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsZSxjP2MudW5kZXJseWluZ1Jlc291cmNlOm51bGwpfSxvZS5wcm90b3R5cGUuYmluZFVuaWZvcm1CbG9jaz1mdW5jdGlvbihjLGUsdCl7Y29uc3QgaT1jLnByb2dyYW0scz10aGlzLl9nbC5nZXRVbmlmb3JtQmxvY2tJbmRleChpLGUpO3MhPT00Mjk0OTY3Mjk1JiZ0aGlzLl9nbC51bmlmb3JtQmxvY2tCaW5kaW5nKGkscyx0KX07Y2xhc3MgVntjb25zdHJ1Y3RvcihlLHQsaSxzLHI9ITEpe3RoaXMuX3ZhbHVlQ2FjaGU9e30sdGhpcy5fZW5naW5lPWUsdGhpcy5fbm9VQk89IWUuc3VwcG9ydHNVbmlmb3JtQnVmZmVyc3x8cix0aGlzLl9keW5hbWljPWksdGhpcy5fbmFtZT1zPz8ibm8tbmFtZSIsdGhpcy5fZGF0YT10fHxbXSx0aGlzLl91bmlmb3JtTG9jYXRpb25zPXt9LHRoaXMuX3VuaWZvcm1TaXplcz17fSx0aGlzLl91bmlmb3JtQXJyYXlTaXplcz17fSx0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyPTAsdGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycz1bXSx0aGlzLl9idWZmZXJJbmRleD0tMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRGcmFtZUlkPTApLHRoaXMuX25vVUJPPyh0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQ9dGhpcy5fdXBkYXRlRmxvYXRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0ND10aGlzLl91cGRhdGVGbG9hdDRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZUludEFycmF5PXRoaXMuX3VwZGF0ZUludEFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlVUludEFycmF5PXRoaXMuX3VwZGF0ZVVJbnRBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpeD10aGlzLl91cGRhdGVNYXRyaXhGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaWNlcz10aGlzLl91cGRhdGVNYXRyaWNlc0ZvckVmZmVjdCx0aGlzLnVwZGF0ZVZlY3RvcjM9dGhpcy5fdXBkYXRlVmVjdG9yM0ZvckVmZmVjdCx0aGlzLnVwZGF0ZVZlY3RvcjQ9dGhpcy5fdXBkYXRlVmVjdG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZUNvbG9yMz10aGlzLl91cGRhdGVDb2xvcjNGb3JFZmZlY3QsdGhpcy51cGRhdGVDb2xvcjQ9dGhpcy5fdXBkYXRlQ29sb3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlRGlyZWN0Q29sb3I0PXRoaXMuX3VwZGF0ZURpcmVjdENvbG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZUludD10aGlzLl91cGRhdGVJbnRGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQyPXRoaXMuX3VwZGF0ZUludDJGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQzPXRoaXMuX3VwZGF0ZUludDNGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQ0PXRoaXMuX3VwZGF0ZUludDRGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50PXRoaXMuX3VwZGF0ZVVJbnRGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50Mj10aGlzLl91cGRhdGVVSW50MkZvckVmZmVjdCx0aGlzLnVwZGF0ZVVJbnQzPXRoaXMuX3VwZGF0ZVVJbnQzRm9yRWZmZWN0LHRoaXMudXBkYXRlVUludDQ9dGhpcy5fdXBkYXRlVUludDRGb3JFZmZlY3QpOih0aGlzLl9lbmdpbmUuX3VuaWZvcm1CdWZmZXJzLnB1c2godGhpcyksdGhpcy51cGRhdGVNYXRyaXgzeDM9dGhpcy5fdXBkYXRlTWF0cml4M3gzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZU1hdHJpeDJ4Mj10aGlzLl91cGRhdGVNYXRyaXgyeDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQ9dGhpcy5fdXBkYXRlRmxvYXRGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQyPXRoaXMuX3VwZGF0ZUZsb2F0MkZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDM9dGhpcy5fdXBkYXRlRmxvYXQzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0ND10aGlzLl91cGRhdGVGbG9hdDRGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXRBcnJheT10aGlzLl91cGRhdGVGbG9hdEFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUFycmF5PXRoaXMuX3VwZGF0ZUFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludEFycmF5PXRoaXMuX3VwZGF0ZUludEFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnRBcnJheT10aGlzLl91cGRhdGVVSW50QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaWNlcz10aGlzLl91cGRhdGVNYXRyaWNlc0ZvclVuaWZvcm0sdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUNvbG9yMz10aGlzLl91cGRhdGVDb2xvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludD10aGlzLl91cGRhdGVJbnRGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQ0PXRoaXMuX3VwZGF0ZUludDRGb3JVbmlmb3JtLHRoaXMudXBkYXRlVUludD10aGlzLl91cGRhdGVVSW50Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQyPXRoaXMuX3VwZGF0ZVVJbnQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQzPXRoaXMuX3VwZGF0ZVVJbnQzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQ0PXRoaXMuX3VwZGF0ZVVJbnQ0Rm9yVW5pZm9ybSl9Z2V0IHVzZVVibygpe3JldHVybiF0aGlzLl9ub1VCT31nZXQgaXNTeW5jKCl7cmV0dXJuIXRoaXMuX25lZWRTeW5jfWlzRHluYW1pYygpe3JldHVybiB0aGlzLl9keW5hbWljIT09dm9pZCAwfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fYnVmZmVyRGF0YX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfV9maWxsQWxpZ25tZW50KGUpe2xldCB0O2lmKGU8PTI/dD1lOnQ9NCx0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyJXQhPT0wKXtjb25zdCBpPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXI7dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcis9dC10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyJXQ7Y29uc3Qgcz10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyLWk7Zm9yKGxldCByPTA7cjxzO3IrKyl0aGlzLl9kYXRhLnB1c2goMCl9fWFkZFVuaWZvcm0oZSx0LGk9MCl7aWYodGhpcy5fbm9VQk98fHRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV0hPT12b2lkIDApcmV0dXJuO2xldCBzO2lmKGk+MCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXRocm93ImFkZFVuaWZvcm0gc2hvdWxkIG5vdCBiZSB1c2Ugd2l0aCBBcnJheSBpbiBVQk86ICIrZTtpZih0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdPXtzdHJpZGVTaXplOnQsYXJyYXlTaXplOml9LHQ9PTE2KXQ9dCppO2Vsc2V7Y29uc3Qgbj0oNC10KSppO3Q9dCppK259cz1bXTtmb3IobGV0IHI9MDtyPHQ7cisrKXMucHVzaCgwKX1lbHNle2lmKHQgaW5zdGFuY2VvZiBBcnJheSlzPXQsdD1zLmxlbmd0aDtlbHNle3Q9dCxzPVtdO2ZvcihsZXQgcj0wO3I8dDtyKyspcy5wdXNoKDApfXRoaXMuX2ZpbGxBbGlnbm1lbnQodCl9dGhpcy5fdW5pZm9ybVNpemVzW2VdPXQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXT10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyLHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIrPXQ7Zm9yKGxldCByPTA7cjx0O3IrKyl0aGlzLl9kYXRhLnB1c2goc1tyXSk7dGhpcy5fbmVlZFN5bmM9ITB9YWRkTWF0cml4KGUsdCl7dGhpcy5hZGRVbmlmb3JtKGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC50b0FycmF5KCkpKX1hZGRGbG9hdDIoZSx0LGkpe2NvbnN0IHM9W3QsaV07dGhpcy5hZGRVbmlmb3JtKGUscyl9YWRkRmxvYXQzKGUsdCxpLHMpe2NvbnN0IHI9W3QsaSxzXTt0aGlzLmFkZFVuaWZvcm0oZSxyKX1hZGRDb2xvcjMoZSx0KXtjb25zdCBpPVt0LnIsdC5nLHQuYl07dGhpcy5hZGRVbmlmb3JtKGUsaSl9YWRkQ29sb3I0KGUsdCxpKXtjb25zdCBzPVt0LnIsdC5nLHQuYixpXTt0aGlzLmFkZFVuaWZvcm0oZSxzKX1hZGRWZWN0b3IzKGUsdCl7Y29uc3QgaT1bdC54LHQueSx0LnpdO3RoaXMuYWRkVW5pZm9ybShlLGkpfWFkZE1hdHJpeDN4MyhlKXt0aGlzLmFkZFVuaWZvcm0oZSwxMil9YWRkTWF0cml4MngyKGUpe3RoaXMuYWRkVW5pZm9ybShlLDgpfWNyZWF0ZSgpe3RoaXMuX25vVUJPfHx0aGlzLl9idWZmZXJ8fCh0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX2J1ZmZlckRhdGE9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9kYXRhKSx0aGlzLl9yZWJ1aWxkKCksdGhpcy5fbmVlZFN5bmM9ITApfV9yZWJ1aWxkKCl7dGhpcy5fbm9VQk98fCF0aGlzLl9idWZmZXJEYXRhfHwodGhpcy5fZHluYW1pYz90aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEpOnRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJih0aGlzLl9idWZmZXJzLnB1c2goW3RoaXMuX2J1ZmZlcix0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLmNoZWNrVWJvc0NvbnRlbnRCZWZvcmVVcGxvYWQ/dGhpcy5fYnVmZmVyRGF0YS5zbGljZSgpOnZvaWQgMF0pLHRoaXMuX2J1ZmZlckluZGV4PXRoaXMuX2J1ZmZlcnMubGVuZ3RoLTEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSkpfWdldCBfbnVtQnVmZmVycygpe3JldHVybiB0aGlzLl9idWZmZXJzLmxlbmd0aH1nZXQgX2luZGV4QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4fWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9Z2V0IGN1cnJlbnRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fY3VycmVudEVmZmVjdH1fYnVmZmVyc0VxdWFsKGUsdCl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpaWYoZVtpXSE9PXRbaV0pcmV0dXJuITE7cmV0dXJuITB9X2NvcHlCdWZmZXIoZSx0KXtmb3IobGV0IGk9MDtpPGUubGVuZ3RoOysraSl0W2ldPWVbaV19dXBkYXRlKCl7aWYoIXRoaXMuX25vVUJPKXtpZih0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKCksIXRoaXMuX2J1ZmZlcil7dGhpcy5jcmVhdGUoKTtyZXR1cm59aWYoIXRoaXMuX2R5bmFtaWMmJiF0aGlzLl9uZWVkU3luYyl7dGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT10aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWU7cmV0dXJufWlmKHRoaXMuX2J1ZmZlcnMmJnRoaXMuX2J1ZmZlcnMubGVuZ3RoPjEmJnRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzFdKWlmKHRoaXMuX2J1ZmZlcnNFcXVhbCh0aGlzLl9idWZmZXJEYXRhLHRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzFdKSl7dGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT10aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWU7cmV0dXJufWVsc2UgdGhpcy5fY29weUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhLHRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzFdKTt0aGlzLl9lbmdpbmUudXBkYXRlVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXIsdGhpcy5fYnVmZmVyRGF0YSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy5fY29sbGVjdFVib3NVcGRhdGVkSW5GcmFtZSYmKFYuX1VwZGF0ZWRVYm9zSW5GcmFtZVt0aGlzLl9uYW1lXXx8KFYuX1VwZGF0ZWRVYm9zSW5GcmFtZVt0aGlzLl9uYW1lXT0wKSxWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV0rKyksdGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT10aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWV9fV9jcmVhdGVOZXdCdWZmZXIoKXt0aGlzLl9idWZmZXJJbmRleCsxPHRoaXMuX2J1ZmZlcnMubGVuZ3RoPyh0aGlzLl9idWZmZXJJbmRleCsrLHRoaXMuX2J1ZmZlcj10aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVswXSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX25lZWRTeW5jPSEwKTp0aGlzLl9yZWJ1aWxkKCl9X2NoZWNrTmV3RnJhbWUoKXt0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJnRoaXMuX2N1cnJlbnRGcmFtZUlkIT09dGhpcy5fZW5naW5lLmZyYW1lSWQmJih0aGlzLl9jdXJyZW50RnJhbWVJZD10aGlzLl9lbmdpbmUuZnJhbWVJZCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2J1ZmZlcnMmJnRoaXMuX2J1ZmZlcnMubGVuZ3RoPjA/KHRoaXMuX25lZWRTeW5jPXRoaXMuX2J1ZmZlckluZGV4IT09MCx0aGlzLl9idWZmZXJJbmRleD0wLHRoaXMuX2J1ZmZlcj10aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVswXSk6dGhpcy5fYnVmZmVySW5kZXg9LTEpfXVwZGF0ZVVuaWZvcm0oZSx0LGkpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTtsZXQgcz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdO2lmKHM9PT12b2lkIDApe2lmKHRoaXMuX2J1ZmZlcil7Ty5FcnJvcigiQ2Fubm90IGFkZCBhbiB1bmlmb3JtIGFmdGVyIFVCTyBoYXMgYmVlbiBjcmVhdGVkLiIpO3JldHVybn10aGlzLmFkZFVuaWZvcm0oZSxpKSxzPXRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV19aWYodGhpcy5fYnVmZmVyfHx0aGlzLmNyZWF0ZSgpLHRoaXMuX2R5bmFtaWMpZm9yKGxldCByPTA7cjxpO3IrKyl0aGlzLl9idWZmZXJEYXRhW3Mrcl09dFtyXTtlbHNle2xldCByPSExO2ZvcihsZXQgbj0wO248aTtuKyspKGk9PT0xNiYmIXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudW5pZm9ybUJ1ZmZlckhhcmRDaGVja01hdHJpeHx8dGhpcy5fYnVmZmVyRGF0YVtzK25dIT09WC5GbG9hdFJvdW5kKHRbbl0pKSYmKHI9ITAsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZSYmdGhpcy5fY3JlYXRlTmV3QnVmZmVyKCksdGhpcy5fYnVmZmVyRGF0YVtzK25dPXRbbl0pO3RoaXMuX25lZWRTeW5jPXRoaXMuX25lZWRTeW5jfHxyfX11cGRhdGVVbmlmb3JtQXJyYXkoZSx0LGkpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTtjb25zdCBzPXRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV07aWYocz09PXZvaWQgMCl7Ty5FcnJvcigiQ2Fubm90IGFkZCBhbiB1bmlmb3JtIEFycmF5IGR5bmFtaWNhbGx5LiBQbGVhc2UsIGFkZCBpdCB1c2luZyBhZGRVbmlmb3JtIGFuZCBtYWtlIHN1cmUgdGhhdCB1bmlmb3JtIGJ1ZmZlcnMgYXJlIHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBlbmdpbmUuIik7cmV0dXJufXRoaXMuX2J1ZmZlcnx8dGhpcy5jcmVhdGUoKTtjb25zdCByPXRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdO2lmKHRoaXMuX2R5bmFtaWMpZm9yKGxldCBuPTA7bjxpO24rKyl0aGlzLl9idWZmZXJEYXRhW3Mrbl09dFtuXTtlbHNle2xldCBuPSExLGE9MCxvPTA7Zm9yKGxldCBoPTA7aDxpO2grKylpZih0aGlzLl9idWZmZXJEYXRhW3Mrbyo0K2FdIT09WC5GbG9hdFJvdW5kKHRbaF0pJiYobj0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW3Mrbyo0K2FdPXRbaF0pLGErKyxhPT09ci5zdHJpZGVTaXplKXtmb3IoO2E8NDthKyspdGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXT0wO2E9MCxvKyt9dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fG59fV9jYWNoZU1hdHJpeChlLHQpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV0scz10LnVwZGF0ZUZsYWc7cmV0dXJuIGkhPT12b2lkIDAmJmk9PT1zPyExOih0aGlzLl92YWx1ZUNhY2hlW2VdPXMsITApfV91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtKGUsdCl7Zm9yKGxldCBpPTA7aTwzO2krKylWLl9UZW1wQnVmZmVyW2kqNF09dFtpKjNdLFYuX1RlbXBCdWZmZXJbaSo0KzFdPXRbaSozKzFdLFYuX1RlbXBCdWZmZXJbaSo0KzJdPXRbaSozKzJdLFYuX1RlbXBCdWZmZXJbaSo0KzNdPTA7dGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwxMil9X3VwZGF0ZU1hdHJpeDN4M0ZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cml4M3gzKGUsdCl9X3VwZGF0ZU1hdHJpeDJ4MkZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cml4MngyKGUsdCl9X3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm0oZSx0KXtmb3IobGV0IGk9MDtpPDI7aSsrKVYuX1RlbXBCdWZmZXJbaSo0XT10W2kqMl0sVi5fVGVtcEJ1ZmZlcltpKjQrMV09dFtpKjIrMV0sVi5fVGVtcEJ1ZmZlcltpKjQrMl09MCxWLl9UZW1wQnVmZmVyW2kqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsOCl9X3VwZGF0ZUZsb2F0Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdChlLHQpfV91cGRhdGVGbG9hdEZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwxKX1fdXBkYXRlRmxvYXQyRm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQyKGUrcyx0LGkpfV91cGRhdGVGbG9hdDJGb3JVbmlmb3JtKGUsdCxpKXtWLl9UZW1wQnVmZmVyWzBdPXQsVi5fVGVtcEJ1ZmZlclsxXT1pLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMil9X3VwZGF0ZUZsb2F0M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQzKGUrcix0LGkscyl9X3VwZGF0ZUZsb2F0M0ZvclVuaWZvcm0oZSx0LGkscyl7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSxWLl9UZW1wQnVmZmVyWzJdPXMsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlRmxvYXQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0NChlK24sdCxpLHMscil9X3VwZGF0ZUZsb2F0NEZvclVuaWZvcm0oZSx0LGkscyxyKXtWLl9UZW1wQnVmZmVyWzBdPXQsVi5fVGVtcEJ1ZmZlclsxXT1pLFYuX1RlbXBCdWZmZXJbMl09cyxWLl9UZW1wQnVmZmVyWzNdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1fdXBkYXRlRmxvYXRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXRBcnJheShlLHQpfV91cGRhdGVGbG9hdEFycmF5Rm9yVW5pZm9ybShlLHQpe3RoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsdCx0Lmxlbmd0aCl9X3VwZGF0ZUFycmF5Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRBcnJheShlLHQpfV91cGRhdGVBcnJheUZvclVuaWZvcm0oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfV91cGRhdGVJbnRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50QXJyYXkoZSx0KX1fdXBkYXRlSW50QXJyYXlGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlckludDMyVmlldy5zZXQodCksdGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSxWLl9UZW1wQnVmZmVyLHQubGVuZ3RoKX1fdXBkYXRlVUludEFycmF5Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50QXJyYXkoZSx0KX1fdXBkYXRlVUludEFycmF5Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3LnNldCh0KSx0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLFYuX1RlbXBCdWZmZXIsdC5sZW5ndGgpfV91cGRhdGVNYXRyaXhGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeChlLHQpfV91cGRhdGVNYXRyaXhGb3JVbmlmb3JtKGUsdCl7dGhpcy5fY2FjaGVNYXRyaXgoZSx0KSYmdGhpcy51cGRhdGVVbmlmb3JtKGUsdC50b0FycmF5KCksMTYpfV91cGRhdGVNYXRyaWNlc0ZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cmljZXMoZSx0KX1fdXBkYXRlTWF0cmljZXNGb3JVbmlmb3JtKGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtKGUsdCx0Lmxlbmd0aCl9X3VwZGF0ZVZlY3RvcjNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFZlY3RvcjMoZSx0KX1fdXBkYXRlVmVjdG9yM0ZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQueCxWLl9UZW1wQnVmZmVyWzFdPXQueSxWLl9UZW1wQnVmZmVyWzJdPXQueix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVWZWN0b3I0Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRWZWN0b3I0KGUsdCl9X3VwZGF0ZVZlY3RvcjRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LngsVi5fVGVtcEJ1ZmZlclsxXT10LnksVi5fVGVtcEJ1ZmZlclsyXT10LnosVi5fVGVtcEJ1ZmZlclszXT10LncsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1fdXBkYXRlQ29sb3IzRm9yRWZmZWN0KGUsdCxpPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldENvbG9yMyhlK2ksdCl9X3VwZGF0ZUNvbG9yM0ZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQucixWLl9UZW1wQnVmZmVyWzFdPXQuZyxWLl9UZW1wQnVmZmVyWzJdPXQuYix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVDb2xvcjRGb3JFZmZlY3QoZSx0LGkscz0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjQoZStzLHQsaSl9X3VwZGF0ZURpcmVjdENvbG9yNEZvckVmZmVjdChlLHQsaT0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXREaXJlY3RDb2xvcjQoZStpLHQpfV91cGRhdGVDb2xvcjRGb3JVbmlmb3JtKGUsdCxpKXtWLl9UZW1wQnVmZmVyWzBdPXQucixWLl9UZW1wQnVmZmVyWzFdPXQuZyxWLl9UZW1wQnVmZmVyWzJdPXQuYixWLl9UZW1wQnVmZmVyWzNdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJbMF09dC5yLFYuX1RlbXBCdWZmZXJbMV09dC5nLFYuX1RlbXBCdWZmZXJbMl09dC5iLFYuX1RlbXBCdWZmZXJbM109dC5hLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUludEZvckVmZmVjdChlLHQsaT0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRJbnQoZStpLHQpfV91cGRhdGVJbnRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlckludDMyVmlld1swXT10LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMSl9X3VwZGF0ZUludDJGb3JFZmZlY3QoZSx0LGkscz0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRJbnQyKGUrcyx0LGkpfV91cGRhdGVJbnQyRm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlckludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMV09aSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDIpfV91cGRhdGVJbnQzRm9yRWZmZWN0KGUsdCxpLHMscj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRJbnQzKGUrcix0LGkscyl9X3VwZGF0ZUludDNGb3JVbmlmb3JtKGUsdCxpLHMpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlckludDMyVmlld1syXT1zLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMyl9X3VwZGF0ZUludDRGb3JFZmZlY3QoZSx0LGkscyxyLG49IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50NChlK24sdCxpLHMscil9X3VwZGF0ZUludDRGb3JVbmlmb3JtKGUsdCxpLHMscil7Vi5fVGVtcEJ1ZmZlckludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMV09aSxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzJdPXMsVi5fVGVtcEJ1ZmZlckludDMyVmlld1szXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZVVJbnRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VUludChlK2ksdCl9X3VwZGF0ZVVJbnRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDEpfV91cGRhdGVVSW50MkZvckVmZmVjdChlLHQsaSxzPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQyKGUrcyx0LGkpfV91cGRhdGVVSW50MkZvclVuaWZvcm0oZSx0LGkpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMV09aSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDIpfV91cGRhdGVVSW50M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VUludDMoZStyLHQsaSxzKX1fdXBkYXRlVUludDNGb3JVbmlmb3JtKGUsdCxpLHMpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMV09aSxWLl9UZW1wQnVmZmVyVUludDMyVmlld1syXT1zLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMyl9X3VwZGF0ZVVJbnQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQ0KGUrbix0LGkscyxyKX1fdXBkYXRlVUludDRGb3JVbmlmb3JtKGUsdCxpLHMscil7Vi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVyVUludDMyVmlld1sxXT1pLFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzJdPXMsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbM109cix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfXNldFRleHR1cmUoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFRleHR1cmUoZSx0KX11cGRhdGVVbmlmb3JtRGlyZWN0bHkoZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm0oZSx0LHQubGVuZ3RoKSx0aGlzLnVwZGF0ZSgpfWJpbmRUb0VmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Q9ZSx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT10fWJpbmRVbmlmb3JtQnVmZmVyKCl7IXRoaXMuX25vVUJPJiZ0aGlzLl9idWZmZXImJnRoaXMuX2N1cnJlbnRFZmZlY3QmJnRoaXMuX2N1cnJlbnRFZmZlY3QuYmluZFVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyLHRoaXMuX2N1cnJlbnRFZmZlY3ROYW1lKX11bmJpbmRFZmZlY3QoKXt0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT12b2lkIDB9c2V0RGF0YUJ1ZmZlcihlKXtpZighdGhpcy5fYnVmZmVycylyZXR1cm4gdGhpcy5fYnVmZmVyPT09ZTtmb3IobGV0IHQ9MDt0PHRoaXMuX2J1ZmZlcnMubGVuZ3RoOysrdClpZih0aGlzLl9idWZmZXJzW3RdWzBdPT09ZSlyZXR1cm4gdGhpcy5fYnVmZmVySW5kZXg9dCx0aGlzLl9idWZmZXI9ZSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRFZmZlY3Q9dm9pZCAwLCEwO3JldHVybiExfWRpc3Bvc2UoKXtpZih0aGlzLl9ub1VCTylyZXR1cm47Y29uc3QgZT10aGlzLl9lbmdpbmUuX3VuaWZvcm1CdWZmZXJzLHQ9ZS5pbmRleE9mKHRoaXMpO2lmKHQhPT0tMSYmKGVbdF09ZVtlLmxlbmd0aC0xXSxlLnBvcCgpKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJnRoaXMuX2J1ZmZlcnMpZm9yKGxldCBpPTA7aTx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK2kpe2NvbnN0IHM9dGhpcy5fYnVmZmVyc1tpXVswXTt0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIocyl9ZWxzZSB0aGlzLl9idWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9idWZmZXIpJiYodGhpcy5fYnVmZmVyPW51bGwpfX1WLl9VcGRhdGVkVWJvc0luRnJhbWU9e30sVi5fTUFYX1VOSUZPUk1fU0laRT0yNTYsVi5fVGVtcEJ1ZmZlcj1uZXcgRmxvYXQzMkFycmF5KFYuX01BWF9VTklGT1JNX1NJWkUpLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXc9bmV3IEludDMyQXJyYXkoVi5fVGVtcEJ1ZmZlci5idWZmZXIpLFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3PW5ldyBVaW50MzJBcnJheShWLl9UZW1wQnVmZmVyLmJ1ZmZlcik7Y2xhc3MgdHN7Y29uc3RydWN0b3IoZSx0LGkscz0wLHI9ITEsbj0hMSxhPSExLG8pe3RoaXMuX2lzQWxyZWFkeU93bmVkPSExLGUuZ2V0U2NlbmU/dGhpcy5fZW5naW5lPWUuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTp0aGlzLl9lbmdpbmU9ZSx0aGlzLl91cGRhdGFibGU9aSx0aGlzLl9pbnN0YW5jZWQ9bix0aGlzLl9kaXZpc29yPW98fDEsdCBpbnN0YW5jZW9mIE9pPyh0aGlzLl9kYXRhPW51bGwsdGhpcy5fYnVmZmVyPXQpOih0aGlzLl9kYXRhPXQsdGhpcy5fYnVmZmVyPW51bGwpLHRoaXMuYnl0ZVN0cmlkZT1hP3M6cypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQscnx8dGhpcy5jcmVhdGUoKX1jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0LGkscyxyLG49ITEsYSl7Y29uc3Qgbz1uP3Q6dCpGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsaD1zP24/czpzKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVDp0aGlzLmJ5dGVTdHJpZGU7cmV0dXJuIG5ldyBnKHRoaXMuX2VuZ2luZSx0aGlzLGUsdGhpcy5fdXBkYXRhYmxlLCEwLGgscj09PXZvaWQgMD90aGlzLl9pbnN0YW5jZWQ6cixvLGksdm9pZCAwLHZvaWQgMCwhMCx0aGlzLl9kaXZpc29yfHxhKX1pc1VwZGF0YWJsZSgpe3JldHVybiB0aGlzLl91cGRhdGFibGV9Z2V0RGF0YSgpe3JldHVybiB0aGlzLl9kYXRhfWdldEJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJ9Z2V0U3RyaWRlU2l6ZSgpe3JldHVybiB0aGlzLmJ5dGVTdHJpZGUvRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UfWNyZWF0ZShlPW51bGwpeyFlJiZ0aGlzLl9idWZmZXJ8fChlPWV8fHRoaXMuX2RhdGEsZSYmKHRoaXMuX2J1ZmZlcj90aGlzLl91cGRhdGFibGUmJih0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcih0aGlzLl9idWZmZXIsZSksdGhpcy5fZGF0YT1lKTp0aGlzLl91cGRhdGFibGU/KHRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcihlKSx0aGlzLl9kYXRhPWUpOnRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlVmVydGV4QnVmZmVyKGUpKSl9X3JlYnVpbGQoKXt0aGlzLl9idWZmZXI9bnVsbCx0aGlzLmNyZWF0ZSh0aGlzLl9kYXRhKX11cGRhdGUoZSl7dGhpcy5jcmVhdGUoZSl9dXBkYXRlRGlyZWN0bHkoZSx0LGkscz0hMSl7dGhpcy5fYnVmZmVyJiZ0aGlzLl91cGRhdGFibGUmJih0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcih0aGlzLl9idWZmZXIsZSxzP3Q6dCpGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsaT9pKnRoaXMuYnl0ZVN0cmlkZTp2b2lkIDApLHQ9PT0wJiZpPT09dm9pZCAwP3RoaXMuX2RhdGE9ZTp0aGlzLl9kYXRhPW51bGwpfV9pbmNyZWFzZVJlZmVyZW5jZXMoKXtpZih0aGlzLl9idWZmZXIpe2lmKCF0aGlzLl9pc0FscmVhZHlPd25lZCl7dGhpcy5faXNBbHJlYWR5T3duZWQ9ITA7cmV0dXJufXRoaXMuX2J1ZmZlci5yZWZlcmVuY2VzKyt9fWRpc3Bvc2UoKXt0aGlzLl9idWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9idWZmZXIpJiYodGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fZGF0YT1udWxsKX19Y2xhc3MgZ3tnZXQgaW5zdGFuY2VEaXZpc29yKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGl2aXNvcn1zZXQgaW5zdGFuY2VEaXZpc29yKGUpe2NvbnN0IHQ9ZSE9MDt0aGlzLl9pbnN0YW5jZURpdmlzb3I9ZSx0IT09dGhpcy5faW5zdGFuY2VkJiYodGhpcy5faW5zdGFuY2VkPXQsdGhpcy5fY29tcHV0ZUhhc2hDb2RlKCkpfWNvbnN0cnVjdG9yKGUsdCxpLHMscixuLGEsbyxoLGwsdT0hMSxkPSExLF89MSxmPSExKXtpZih0IGluc3RhbmNlb2YgdHM/KHRoaXMuX2J1ZmZlcj10LHRoaXMuX293bnNCdWZmZXI9Zik6KHRoaXMuX2J1ZmZlcj1uZXcgdHMoZSx0LHMsbixyLGEsZCksdGhpcy5fb3duc0J1ZmZlcj0hMCksdGhpcy51bmlxdWVJZD1nLl9Db3VudGVyKyssdGhpcy5fa2luZD1pLGw9PW51bGwpe2NvbnN0IHY9dGhpcy5nZXREYXRhKCk7dGhpcy50eXBlPWcuRkxPQVQsdiBpbnN0YW5jZW9mIEludDhBcnJheT90aGlzLnR5cGU9Zy5CWVRFOnYgaW5zdGFuY2VvZiBVaW50OEFycmF5P3RoaXMudHlwZT1nLlVOU0lHTkVEX0JZVEU6diBpbnN0YW5jZW9mIEludDE2QXJyYXk/dGhpcy50eXBlPWcuU0hPUlQ6diBpbnN0YW5jZW9mIFVpbnQxNkFycmF5P3RoaXMudHlwZT1nLlVOU0lHTkVEX1NIT1JUOnYgaW5zdGFuY2VvZiBJbnQzMkFycmF5P3RoaXMudHlwZT1nLklOVDp2IGluc3RhbmNlb2YgVWludDMyQXJyYXkmJih0aGlzLnR5cGU9Zy5VTlNJR05FRF9JTlQpfWVsc2UgdGhpcy50eXBlPWw7Y29uc3QgbT1nLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSk7ZD8odGhpcy5fc2l6ZT1ofHwobj9uL206Zy5EZWR1Y2VTdHJpZGUoaSkpLHRoaXMuYnl0ZVN0cmlkZT1ufHx0aGlzLl9idWZmZXIuYnl0ZVN0cmlkZXx8dGhpcy5fc2l6ZSptLHRoaXMuYnl0ZU9mZnNldD1vfHwwKToodGhpcy5fc2l6ZT1ofHxufHxnLkRlZHVjZVN0cmlkZShpKSx0aGlzLmJ5dGVTdHJpZGU9bj9uKm06dGhpcy5fYnVmZmVyLmJ5dGVTdHJpZGV8fHRoaXMuX3NpemUqbSx0aGlzLmJ5dGVPZmZzZXQ9KG98fDApKm0pLHRoaXMubm9ybWFsaXplZD11LHRoaXMuX2luc3RhbmNlZD1hIT09dm9pZCAwP2E6ITEsdGhpcy5faW5zdGFuY2VEaXZpc29yPWE/XzowLHRoaXMuX2NvbXB1dGVIYXNoQ29kZSgpfV9jb21wdXRlSGFzaENvZGUoKXt0aGlzLmhhc2hDb2RlPSh0aGlzLnR5cGUtNTEyMDw8MCkrKCh0aGlzLm5vcm1hbGl6ZWQ/MTowKTw8MykrKHRoaXMuX3NpemU8PDQpKygodGhpcy5faW5zdGFuY2VkPzE6MCk8PDYpKyh0aGlzLmJ5dGVTdHJpZGU8PDEyKX1fcmVidWlsZCgpe3RoaXMuX2J1ZmZlciYmdGhpcy5fYnVmZmVyLl9yZWJ1aWxkKCl9Z2V0S2luZCgpe3JldHVybiB0aGlzLl9raW5kfWlzVXBkYXRhYmxlKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5pc1VwZGF0YWJsZSgpfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldERhdGEoKX1nZXRGbG9hdERhdGEoZSx0KXtjb25zdCBpPXRoaXMuZ2V0RGF0YSgpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9dGhpcy5nZXRTaXplKCkqZy5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpLHI9ZSp0aGlzLmdldFNpemUoKTtpZih0aGlzLnR5cGUhPT1nLkZMT0FUfHx0aGlzLmJ5dGVTdHJpZGUhPT1zKXtjb25zdCBuPW5ldyBGbG9hdDMyQXJyYXkocik7cmV0dXJuIHRoaXMuZm9yRWFjaChyLChhLG8pPT5uW29dPWEpLG59aWYoIShpIGluc3RhbmNlb2YgQXJyYXl8fGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpfHx0aGlzLmJ5dGVPZmZzZXQhPT0wfHxpLmxlbmd0aCE9PXIpaWYoaSBpbnN0YW5jZW9mIEFycmF5KXtjb25zdCBuPXRoaXMuYnl0ZU9mZnNldC80O3JldHVybiBpLnNsaWNlKG4sbityKX1lbHNle2lmKGkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShpLHRoaXMuYnl0ZU9mZnNldCxyKTt7bGV0IG49aS5ieXRlT2Zmc2V0K3RoaXMuYnl0ZU9mZnNldDtpZih0KXtjb25zdCBvPW5ldyBGbG9hdDMyQXJyYXkociksaD1uZXcgRmxvYXQzMkFycmF5KGkuYnVmZmVyLG4scik7cmV0dXJuIG8uc2V0KGgpLG99Y29uc3QgYT1uJTQ7cmV0dXJuIGEmJihuPU1hdGgubWF4KDAsbi1hKSksbmV3IEZsb2F0MzJBcnJheShpLmJ1ZmZlcixuLHIpfX1yZXR1cm4gdD9pLnNsaWNlKCk6aX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldEJ1ZmZlcigpfWdldFN0cmlkZVNpemUoKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL2cuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKX1nZXRPZmZzZXQoKXtyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0L2cuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKX1nZXRTaXplKGU9ITEpe3JldHVybiBlP3RoaXMuX3NpemUqZy5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpOnRoaXMuX3NpemV9Z2V0SXNJbnN0YW5jZWQoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VkfWdldEluc3RhbmNlRGl2aXNvcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURpdmlzb3J9Y3JlYXRlKGUpe3RoaXMuX2J1ZmZlci5jcmVhdGUoZSl9dXBkYXRlKGUpe3RoaXMuX2J1ZmZlci51cGRhdGUoZSl9dXBkYXRlRGlyZWN0bHkoZSx0LGk9ITEpe3RoaXMuX2J1ZmZlci51cGRhdGVEaXJlY3RseShlLHQsdm9pZCAwLGkpfWRpc3Bvc2UoKXt0aGlzLl9vd25zQnVmZmVyJiZ0aGlzLl9idWZmZXIuZGlzcG9zZSgpfWZvckVhY2goZSx0KXtnLkZvckVhY2godGhpcy5fYnVmZmVyLmdldERhdGEoKSx0aGlzLmJ5dGVPZmZzZXQsdGhpcy5ieXRlU3RyaWRlLHRoaXMuX3NpemUsdGhpcy50eXBlLGUsdGhpcy5ub3JtYWxpemVkLHQpfXN0YXRpYyBEZWR1Y2VTdHJpZGUoZSl7c3dpdGNoKGUpe2Nhc2UgZy5VVktpbmQ6Y2FzZSBnLlVWMktpbmQ6Y2FzZSBnLlVWM0tpbmQ6Y2FzZSBnLlVWNEtpbmQ6Y2FzZSBnLlVWNUtpbmQ6Y2FzZSBnLlVWNktpbmQ6cmV0dXJuIDI7Y2FzZSBnLk5vcm1hbEtpbmQ6Y2FzZSBnLlBvc2l0aW9uS2luZDpyZXR1cm4gMztjYXNlIGcuQ29sb3JLaW5kOmNhc2UgZy5NYXRyaWNlc0luZGljZXNLaW5kOmNhc2UgZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6Y2FzZSBnLk1hdHJpY2VzV2VpZ2h0c0tpbmQ6Y2FzZSBnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZDpjYXNlIGcuVGFuZ2VudEtpbmQ6cmV0dXJuIDQ7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQga2luZCAnIitlKyInIil9fXN0YXRpYyBHZXRUeXBlQnl0ZUxlbmd0aChlKXtzd2l0Y2goZSl7Y2FzZSBnLkJZVEU6Y2FzZSBnLlVOU0lHTkVEX0JZVEU6cmV0dXJuIDE7Y2FzZSBnLlNIT1JUOmNhc2UgZy5VTlNJR05FRF9TSE9SVDpyZXR1cm4gMjtjYXNlIGcuSU5UOmNhc2UgZy5VTlNJR05FRF9JTlQ6Y2FzZSBnLkZMT0FUOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGUgJyR7ZX0nYCl9fXN0YXRpYyBGb3JFYWNoKGUsdCxpLHMscixuLGEsbyl7aWYoZSBpbnN0YW5jZW9mIEFycmF5KXtsZXQgaD10LzQ7Y29uc3QgbD1pLzQ7Zm9yKGxldCB1PTA7dTxuO3UrPXMpe2ZvcihsZXQgZD0wO2Q8cztkKyspbyhlW2grZF0sdStkKTtoKz1sfX1lbHNle2NvbnN0IGg9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBEYXRhVmlldyhlKTpuZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksbD1nLkdldFR5cGVCeXRlTGVuZ3RoKHIpO2ZvcihsZXQgdT0wO3U8bjt1Kz1zKXtsZXQgZD10O2ZvcihsZXQgXz0wO188cztfKyspe2NvbnN0IGY9Zy5fR2V0RmxvYXRWYWx1ZShoLHIsZCxhKTtvKGYsdStfKSxkKz1sfXQrPWl9fX1zdGF0aWMgX0dldEZsb2F0VmFsdWUoZSx0LGkscyl7c3dpdGNoKHQpe2Nhc2UgZy5CWVRFOntsZXQgcj1lLmdldEludDgoaSk7cmV0dXJuIHMmJihyPU1hdGgubWF4KHIvMTI3LC0xKSkscn1jYXNlIGcuVU5TSUdORURfQllURTp7bGV0IHI9ZS5nZXRVaW50OChpKTtyZXR1cm4gcyYmKHI9ci8yNTUpLHJ9Y2FzZSBnLlNIT1JUOntsZXQgcj1lLmdldEludDE2KGksITApO3JldHVybiBzJiYocj1NYXRoLm1heChyLzMyNzY3LC0xKSkscn1jYXNlIGcuVU5TSUdORURfU0hPUlQ6e2xldCByPWUuZ2V0VWludDE2KGksITApO3JldHVybiBzJiYocj1yLzY1NTM1KSxyfWNhc2UgZy5JTlQ6cmV0dXJuIGUuZ2V0SW50MzIoaSwhMCk7Y2FzZSBnLlVOU0lHTkVEX0lOVDpyZXR1cm4gZS5nZXRVaW50MzIoaSwhMCk7Y2FzZSBnLkZMT0FUOnJldHVybiBlLmdldEZsb2F0MzIoaSwhMCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29tcG9uZW50IHR5cGUgJHt0fWApfX19Zy5fQ291bnRlcj0wLGcuQllURT01MTIwLGcuVU5TSUdORURfQllURT01MTIxLGcuU0hPUlQ9NTEyMixnLlVOU0lHTkVEX1NIT1JUPTUxMjMsZy5JTlQ9NTEyNCxnLlVOU0lHTkVEX0lOVD01MTI1LGcuRkxPQVQ9NTEyNixnLlBvc2l0aW9uS2luZD0icG9zaXRpb24iLGcuTm9ybWFsS2luZD0ibm9ybWFsIixnLlRhbmdlbnRLaW5kPSJ0YW5nZW50IixnLlVWS2luZD0idXYiLGcuVVYyS2luZD0idXYyIixnLlVWM0tpbmQ9InV2MyIsZy5VVjRLaW5kPSJ1djQiLGcuVVY1S2luZD0idXY1IixnLlVWNktpbmQ9InV2NiIsZy5Db2xvcktpbmQ9ImNvbG9yIixnLkNvbG9ySW5zdGFuY2VLaW5kPSJpbnN0YW5jZUNvbG9yIixnLk1hdHJpY2VzSW5kaWNlc0tpbmQ9Im1hdHJpY2VzSW5kaWNlcyIsZy5NYXRyaWNlc1dlaWdodHNLaW5kPSJtYXRyaWNlc1dlaWdodHMiLGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kPSJtYXRyaWNlc0luZGljZXNFeHRyYSIsZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ9Im1hdHJpY2VzV2VpZ2h0c0V4dHJhIjtjbGFzcyBrdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaGl0PSExLHRoaXMuZGlzdGFuY2U9MCx0aGlzLnBpY2tlZFBvaW50PW51bGwsdGhpcy5waWNrZWRNZXNoPW51bGwsdGhpcy5idT0wLHRoaXMuYnY9MCx0aGlzLmZhY2VJZD0tMSx0aGlzLnN1Yk1lc2hGYWNlSWQ9LTEsdGhpcy5zdWJNZXNoSWQ9MCx0aGlzLnBpY2tlZFNwcml0ZT1udWxsLHRoaXMudGhpbkluc3RhbmNlSW5kZXg9LTEsdGhpcy5yYXk9bnVsbCx0aGlzLm9yaWdpbk1lc2g9bnVsbCx0aGlzLmFpbVRyYW5zZm9ybT1udWxsLHRoaXMuZ3JpcFRyYW5zZm9ybT1udWxsfWdldE5vcm1hbChlPSExLHQ9ITApe2lmKCF0aGlzLnBpY2tlZE1lc2h8fHQmJiF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCkpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLnBpY2tlZE1lc2guZ2V0SW5kaWNlcygpO2lmKCFpKXJldHVybiBudWxsO2xldCBzO2lmKHQpe2NvbnN0IG49dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpO2xldCBhPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozXSozKSxvPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzFdKjMpLGg9cC5Gcm9tQXJyYXkobixpW3RoaXMuZmFjZUlkKjMrMl0qMyk7YT1hLnNjYWxlKHRoaXMuYnUpLG89by5zY2FsZSh0aGlzLmJ2KSxoPWguc2NhbGUoMS10aGlzLmJ1LXRoaXMuYnYpLHM9bmV3IHAoYS54K28ueCtoLngsYS55K28ueStoLnksYS56K28ueitoLnopfWVsc2V7Y29uc3Qgbj10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSxhPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozXSozKSxvPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzFdKjMpLGg9cC5Gcm9tQXJyYXkobixpW3RoaXMuZmFjZUlkKjMrMl0qMyksbD1hLnN1YnRyYWN0KG8pLHU9aC5zdWJ0cmFjdChvKTtzPXAuQ3Jvc3MobCx1KX1jb25zdCByPShuLGEpPT57bGV0IG89bi5nZXRXb3JsZE1hdHJpeCgpO24ubm9uVW5pZm9ybVNjYWxpbmcmJihGLk1hdHJpeFswXS5jb3B5RnJvbShvKSxvPUYuTWF0cml4WzBdLG8uc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSxvLmludmVydCgpLG8udHJhbnNwb3NlVG9SZWYoRi5NYXRyaXhbMV0pLG89Ri5NYXRyaXhbMV0pLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoYSxvLGEpfTtpZihlJiZyKHRoaXMucGlja2VkTWVzaCxzKSx0aGlzLnJheSl7Y29uc3Qgbj1GLlZlY3RvcjNbMF0uY29weUZyb20ocyk7ZXx8cih0aGlzLnBpY2tlZE1lc2gsbikscC5Eb3Qobix0aGlzLnJheS5kaXJlY3Rpb24pPjAmJnMubmVnYXRlSW5QbGFjZSgpfXJldHVybiBzLm5vcm1hbGl6ZSgpLHN9Z2V0VGV4dHVyZUNvb3JkaW5hdGVzKGU9Zy5VVktpbmQpe2lmKCF0aGlzLnBpY2tlZE1lc2h8fCF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5waWNrZWRNZXNoLmdldEluZGljZXMoKTtpZighdClyZXR1cm4gbnVsbDtjb25zdCBpPXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEoZSk7aWYoIWkpcmV0dXJuIG51bGw7bGV0IHM9dmUuRnJvbUFycmF5KGksdFt0aGlzLmZhY2VJZCozXSoyKSxyPXZlLkZyb21BcnJheShpLHRbdGhpcy5mYWNlSWQqMysxXSoyKSxuPXZlLkZyb21BcnJheShpLHRbdGhpcy5mYWNlSWQqMysyXSoyKTtyZXR1cm4gcz1zLnNjYWxlKHRoaXMuYnUpLHI9ci5zY2FsZSh0aGlzLmJ2KSxuPW4uc2NhbGUoMS10aGlzLmJ1LXRoaXMuYnYpLG5ldyB2ZShzLngrci54K24ueCxzLnkrci55K24ueSl9fWNsYXNzIFZle2NvbnN0cnVjdG9yKGUsdCxpLHMscixuKXt0aGlzLnNvdXJjZT1lLHRoaXMucG9pbnRlclg9dCx0aGlzLnBvaW50ZXJZPWksdGhpcy5tZXNoVW5kZXJQb2ludGVyPXMsdGhpcy5zb3VyY2VFdmVudD1yLHRoaXMuYWRkaXRpb25hbERhdGE9bn1zdGF0aWMgQ3JlYXRlTmV3KGUsdCxpKXtjb25zdCBzPWUuZ2V0U2NlbmUoKTtyZXR1cm4gbmV3IFZlKGUscy5wb2ludGVyWCxzLnBvaW50ZXJZLHMubWVzaFVuZGVyUG9pbnRlcnx8ZSx0LGkpfXN0YXRpYyBDcmVhdGVOZXdGcm9tU3ByaXRlKGUsdCxpLHMpe3JldHVybiBuZXcgVmUoZSx0LnBvaW50ZXJYLHQucG9pbnRlclksdC5tZXNoVW5kZXJQb2ludGVyLGkscyl9c3RhdGljIENyZWF0ZU5ld0Zyb21TY2VuZShlLHQpe3JldHVybiBuZXcgVmUobnVsbCxlLnBvaW50ZXJYLGUucG9pbnRlclksZS5tZXNoVW5kZXJQb2ludGVyLHQpfXN0YXRpYyBDcmVhdGVOZXdGcm9tUHJpbWl0aXZlKGUsdCxpLHMpe3JldHVybiBuZXcgVmUoZSx0LngsdC55LG51bGwsaSxzKX19Y2xhc3MgaXN7Y29uc3RydWN0b3IoZSl7dGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl9zY2VuZT1lfV9wcmVwYXJlQnVmZmVycygpe2lmKHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdKXJldHVybjtjb25zdCBlPVtdO2UucHVzaCgxLDEpLGUucHVzaCgtMSwxKSxlLnB1c2goLTEsLTEpLGUucHVzaCgxLC0xKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXT1uZXcgZyh0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxlLGcuUG9zaXRpb25LaW5kLCExLCExLDIpLHRoaXMuX2J1aWxkSW5kZXhCdWZmZXIoKX1fYnVpbGRJbmRleEJ1ZmZlcigpe2NvbnN0IGU9W107ZS5wdXNoKDApLGUucHVzaCgxKSxlLnB1c2goMiksZS5wdXNoKDApLGUucHVzaCgyKSxlLnB1c2goMyksdGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3JlYXRlSW5kZXhCdWZmZXIoZSl9X3JlYnVpbGQoKXtjb25zdCBlPXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdO2UmJihlLl9yZWJ1aWxkKCksdGhpcy5fYnVpbGRJbmRleEJ1ZmZlcigpKX1fcHJlcGFyZUZyYW1lKGU9bnVsbCx0PW51bGwpe2NvbnN0IGk9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3JldHVybiFpfHwodD10fHxpLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihzPT5zIT1udWxsKSwhdHx8dC5sZW5ndGg9PT0wfHwhdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlc0VuYWJsZWQpPyExOih0WzBdLmFjdGl2YXRlKGksZSx0IT1udWxsKSwhMCl9ZGlyZWN0UmVuZGVyKGUsdD1udWxsLGk9ITEscz0wLHI9MCxuPSExKXt2YXIgYTtjb25zdCBvPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2ZvcihsZXQgaD0wO2g8ZS5sZW5ndGg7aCsrKXtoPGUubGVuZ3RoLTE/ZVtoKzFdLmFjdGl2YXRlKHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSx0PT1udWxsP3ZvaWQgMDp0LnRleHR1cmUpOih0P28uYmluZEZyYW1lYnVmZmVyKHQscyx2b2lkIDAsdm9pZCAwLGkscik6bnx8by5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksKGE9by5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5jYWxsKG8sYHBvc3QgcHJvY2VzcyAke2VbaF0ubmFtZX0gb3V0cHV0YCkpO2NvbnN0IGw9ZVtoXSx1PWwuYXBwbHkoKTt1JiYobC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHUpLHRoaXMuX3ByZXBhcmVCdWZmZXJzKCksby5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLHUpLG8uZHJhd0VsZW1lbnRzVHlwZSgwLDAsNiksbC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSkpfW8uc2V0RGVwdGhCdWZmZXIoITApLG8uc2V0RGVwdGhXcml0ZSghMCl9X2ZpbmFsaXplRnJhbWUoZSx0LGkscyxyPSExKXt2YXIgbjtjb25zdCBhPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtpZighYXx8KHM9c3x8YS5fcG9zdFByb2Nlc3Nlcy5maWx0ZXIoaD0+aCE9bnVsbCkscy5sZW5ndGg9PT0wfHwhdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlc0VuYWJsZWQpKXJldHVybjtjb25zdCBvPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2ZvcihsZXQgaD0wLGw9cy5sZW5ndGg7aDxsO2grKyl7Y29uc3QgdT1zW2hdO2lmKGg8bC0xP3UuX291dHB1dFRleHR1cmU9c1toKzFdLmFjdGl2YXRlKGEsdD09bnVsbD92b2lkIDA6dC50ZXh0dXJlKToodD8oby5iaW5kRnJhbWVidWZmZXIodCxpLHZvaWQgMCx2b2lkIDAsciksdS5fb3V0cHV0VGV4dHVyZT10KTooby5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksdS5fb3V0cHV0VGV4dHVyZT1udWxsKSwobj1vLl9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwobyxgcG9zdCBwcm9jZXNzICR7c1toXS5uYW1lfSBvdXRwdXRgKSksZSlicmVhaztjb25zdCBkPXUuYXBwbHkoKTtkJiYodS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpLHRoaXMuX3ByZXBhcmVCdWZmZXJzKCksby5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLGQpLG8uZHJhd0VsZW1lbnRzVHlwZSgwLDAsNiksdS5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZCkpfW8uc2V0RGVwdGhCdWZmZXIoITApLG8uc2V0RGVwdGhXcml0ZSghMCksby5zZXRBbHBoYU1vZGUoMCl9ZGlzcG9zZSgpe2NvbnN0IGU9dGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF07ZSYmKGUuZGlzcG9zZSgpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdPW51bGwpLHRoaXMuX2luZGV4QnVmZmVyJiYodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX2luZGV4QnVmZmVyPW51bGwpfX1jbGFzcyB4dHtzZXQgb3BhcXVlU29ydENvbXBhcmVGbihlKXtlP3RoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm49ZTp0aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuPXh0LlBhaW50ZXJTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJPcGFxdWU9dGhpcy5fcmVuZGVyT3BhcXVlU29ydGVkfXNldCBhbHBoYVRlc3RTb3J0Q29tcGFyZUZuKGUpe2U/dGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbj1lOnRoaXMuX2FscGhhVGVzdFNvcnRDb21wYXJlRm49eHQuUGFpbnRlclNvcnRDb21wYXJlLHRoaXMuX3JlbmRlckFscGhhVGVzdD10aGlzLl9yZW5kZXJBbHBoYVRlc3RTb3J0ZWR9c2V0IHRyYW5zcGFyZW50U29ydENvbXBhcmVGbihlKXtlP3RoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1lOnRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj14dC5kZWZhdWx0VHJhbnNwYXJlbnRTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJUcmFuc3BhcmVudD10aGlzLl9yZW5kZXJUcmFuc3BhcmVudFNvcnRlZH1jb25zdHJ1Y3RvcihlLHQsaT1udWxsLHM9bnVsbCxyPW51bGwpe3RoaXMuaW5kZXg9ZSx0aGlzLl9vcGFxdWVTdWJNZXNoZXM9bmV3IEplKDI1NiksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXM9bmV3IEplKDI1NiksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzPW5ldyBKZSgyNTYpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcz1uZXcgSmUoMjU2KSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXM9bmV3IEplKDI1NiksdGhpcy5fc3ByaXRlTWFuYWdlcnM9bmV3IEplKDI1NiksdGhpcy5fZW1wdHk9ITAsdGhpcy5fZWRnZXNSZW5kZXJlcnM9bmV3IGNpKDE2KSx0aGlzLl9zY2VuZT10LHRoaXMub3BhcXVlU29ydENvbXBhcmVGbj1pLHRoaXMuYWxwaGFUZXN0U29ydENvbXBhcmVGbj1zLHRoaXMudHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXJ9cmVuZGVyKGUsdCxpLHMpe2lmKGUpe2UodGhpcy5fb3BhcXVlU3ViTWVzaGVzLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcyx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMpO3JldHVybn1jb25zdCByPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5sZW5ndGghPT0wJiYoci5zZXRDb2xvcldyaXRlKCExKSx0aGlzLl9yZW5kZXJBbHBoYVRlc3QodGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzKSxyLnNldENvbG9yV3JpdGUoITApKSx0aGlzLl9vcGFxdWVTdWJNZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5fcmVuZGVyT3BhcXVlKHRoaXMuX29wYXF1ZVN1Yk1lc2hlcyksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX3JlbmRlckFscGhhVGVzdCh0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMpO2NvbnN0IG49ci5nZXRTdGVuY2lsQnVmZmVyKCk7aWYoci5zZXRTdGVuY2lsQnVmZmVyKCExKSx0JiZ0aGlzLl9yZW5kZXJTcHJpdGVzKCksaSYmdGhpcy5fcmVuZGVyUGFydGljbGVzKHMpLHRoaXMub25CZWZvcmVUcmFuc3BhcmVudFJlbmRlcmluZyYmdGhpcy5vbkJlZm9yZVRyYW5zcGFyZW50UmVuZGVyaW5nKCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMubGVuZ3RoIT09MHx8dGhpcy5fc2NlbmUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSl7aWYoci5zZXRTdGVuY2lsQnVmZmVyKG4pLHRoaXMuX3NjZW5lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kpe2NvbnN0IGE9dGhpcy5fc2NlbmUuZGVwdGhQZWVsaW5nUmVuZGVyZXIucmVuZGVyKHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzKTthLmxlbmd0aCYmdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQoYSl9ZWxzZSB0aGlzLl9yZW5kZXJUcmFuc3BhcmVudCh0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyk7ci5zZXRBbHBoYU1vZGUoMCl9aWYoci5zZXRTdGVuY2lsQnVmZmVyKCExKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5sZW5ndGgpe2ZvcihsZXQgYT0wO2E8dGhpcy5fZWRnZXNSZW5kZXJlcnMubGVuZ3RoO2ErKyl0aGlzLl9lZGdlc1JlbmRlcmVycy5kYXRhW2FdLnJlbmRlcigpO3Iuc2V0QWxwaGFNb2RlKDApfXIuc2V0U3RlbmNpbEJ1ZmZlcihuKX1fcmVuZGVyT3BhcXVlU29ydGVkKGUpe3JldHVybiB4dC5fUmVuZGVyU29ydGVkKGUsdGhpcy5fb3BhcXVlU29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITEpfV9yZW5kZXJBbHBoYVRlc3RTb3J0ZWQoZSl7cmV0dXJuIHh0Ll9SZW5kZXJTb3J0ZWQoZSx0aGlzLl9hbHBoYVRlc3RTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMSl9X3JlbmRlclRyYW5zcGFyZW50U29ydGVkKGUpe3JldHVybiB4dC5fUmVuZGVyU29ydGVkKGUsdGhpcy5fdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMCl9c3RhdGljIF9SZW5kZXJTb3J0ZWQoZSx0LGkscyl7bGV0IHI9MCxuO2NvbnN0IGE9aT9pLmdsb2JhbFBvc2l0aW9uOnh0Ll9aZXJvVmVjdG9yO2lmKHMpZm9yKDtyPGUubGVuZ3RoO3IrKyluPWUuZGF0YVtyXSxuLl9hbHBoYUluZGV4PW4uZ2V0TWVzaCgpLmFscGhhSW5kZXgsbi5fZGlzdGFuY2VUb0NhbWVyYT1wLkRpc3RhbmNlKG4uZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsYSk7Y29uc3Qgbz1lLmxlbmd0aD09PWUuZGF0YS5sZW5ndGg/ZS5kYXRhOmUuZGF0YS5zbGljZSgwLGUubGVuZ3RoKTt0JiZvLnNvcnQodCk7Y29uc3QgaD1vWzBdLmdldE1lc2goKS5nZXRTY2VuZSgpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspaWYobj1vW3JdLCEoaC5fYWN0aXZlTWVzaGVzRnJvemVuQnV0S2VlcENsaXBwaW5nJiYhbi5pc0luRnJ1c3R1bShoLl9mcnVzdHVtUGxhbmVzKSkpe2lmKHMpe2NvbnN0IGw9bi5nZXRNYXRlcmlhbCgpO2lmKGwmJmwubmVlZERlcHRoUHJlUGFzcyl7Y29uc3QgdT1sLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7dS5zZXRDb2xvcldyaXRlKCExKSx1LnNldEFscGhhTW9kZSgwKSxuLnJlbmRlcighMSksdS5zZXRDb2xvcldyaXRlKCEwKX19bi5yZW5kZXIocyl9fXN0YXRpYyBkZWZhdWx0VHJhbnNwYXJlbnRTb3J0Q29tcGFyZShlLHQpe3JldHVybiBlLl9hbHBoYUluZGV4PnQuX2FscGhhSW5kZXg/MTplLl9hbHBoYUluZGV4PHQuX2FscGhhSW5kZXg/LTE6eHQuYmFja1RvRnJvbnRTb3J0Q29tcGFyZShlLHQpfXN0YXRpYyBiYWNrVG9Gcm9udFNvcnRDb21wYXJlKGUsdCl7cmV0dXJuIGUuX2Rpc3RhbmNlVG9DYW1lcmE8dC5fZGlzdGFuY2VUb0NhbWVyYT8xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8tMTowfXN0YXRpYyBmcm9udFRvQmFja1NvcnRDb21wYXJlKGUsdCl7cmV0dXJuIGUuX2Rpc3RhbmNlVG9DYW1lcmE8dC5fZGlzdGFuY2VUb0NhbWVyYT8tMTplLl9kaXN0YW5jZVRvQ2FtZXJhPnQuX2Rpc3RhbmNlVG9DYW1lcmE/MTowfXN0YXRpYyBQYWludGVyU29ydENvbXBhcmUoZSx0KXtjb25zdCBpPWUuZ2V0TWVzaCgpLHM9dC5nZXRNZXNoKCk7cmV0dXJuIGkubWF0ZXJpYWwmJnMubWF0ZXJpYWw/aS5tYXRlcmlhbC51bmlxdWVJZC1zLm1hdGVyaWFsLnVuaXF1ZUlkOmkudW5pcXVlSWQtcy51bmlxdWVJZH1wcmVwYXJlKCl7dGhpcy5fb3BhcXVlU3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLnByZXBhcmVTcHJpdGVzKCksdGhpcy5fZWRnZXNSZW5kZXJlcnMucmVzZXQoKSx0aGlzLl9lbXB0eT0hMH1wcmVwYXJlU3ByaXRlcygpe3RoaXMuX3Nwcml0ZU1hbmFnZXJzLnJlc2V0KCl9ZGlzcG9zZSgpe3RoaXMuX29wYXF1ZVN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMuZGlzcG9zZSgpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmRpc3Bvc2UoKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5kaXNwb3NlKCl9ZGlzcGF0Y2goZSx0LGkpe3Q9PT12b2lkIDAmJih0PWUuZ2V0TWVzaCgpKSxpPT09dm9pZCAwJiYoaT1lLmdldE1hdGVyaWFsKCkpLGkhPW51bGwmJihpLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0KT90aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5wdXNoKGUpOmkubmVlZEFscGhhVGVzdGluZygpPyhpLm5lZWREZXB0aFByZVBhc3MmJnRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5wdXNoKGUpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5wdXNoKGUpKTooaS5uZWVkRGVwdGhQcmVQYXNzJiZ0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucHVzaChlKSx0aGlzLl9vcGFxdWVTdWJNZXNoZXMucHVzaChlKSksdC5fcmVuZGVyaW5nR3JvdXA9dGhpcyx0Ll9lZGdlc1JlbmRlcmVyJiZ0Ll9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHQuX2VkZ2VzUmVuZGVyZXIpLHRoaXMuX2VtcHR5PSExKX1kaXNwYXRjaFNwcml0ZXMoZSl7dGhpcy5fc3ByaXRlTWFuYWdlcnMucHVzaChlKSx0aGlzLl9lbXB0eT0hMX1kaXNwYXRjaFBhcnRpY2xlcyhlKXt0aGlzLl9wYXJ0aWNsZVN5c3RlbXMucHVzaChlKSx0aGlzLl9lbXB0eT0hMX1fcmVuZGVyUGFydGljbGVzKGUpe2lmKHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5sZW5ndGg9PT0wKXJldHVybjtjb25zdCB0PXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTt0aGlzLl9zY2VuZS5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKTtmb3IobGV0IGk9MDtpPHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuX3BhcnRpY2xlU3lzdGVtcy5kYXRhW2ldO2lmKCh0JiZ0LmxheWVyTWFzayZzLmxheWVyTWFzayk9PT0wKWNvbnRpbnVlO2NvbnN0IHI9cy5lbWl0dGVyOyghci5wb3NpdGlvbnx8IWV8fGUuaW5kZXhPZihyKSE9PS0xKSYmdGhpcy5fc2NlbmUuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudChzLnJlbmRlcigpLCExKX10aGlzLl9zY2VuZS5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpfV9yZW5kZXJTcHJpdGVzKCl7aWYoIXRoaXMuX3NjZW5lLnNwcml0ZXNFbmFibGVkfHx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5sZW5ndGg9PT0wKXJldHVybjtjb25zdCBlPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTt0aGlzLl9zY2VuZS5vbkJlZm9yZVNwcml0ZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSk7Zm9yKGxldCB0PTA7dDx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuX3Nwcml0ZU1hbmFnZXJzLmRhdGFbdF07KGUmJmUubGF5ZXJNYXNrJmkubGF5ZXJNYXNrKSE9PTAmJmkucmVuZGVyKCl9dGhpcy5fc2NlbmUub25BZnRlclNwcml0ZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSl9fXh0Ll9aZXJvVmVjdG9yPXAuWmVybygpO2NsYXNzIERue31jbGFzcyBXZXtnZXQgbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMoKXtyZXR1cm4gdGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXN9c2V0IG1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKGUpe2lmKGUhPT10aGlzLl9tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmKHRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPWUsIXRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2NlbmUubWVzaGVzKWlmKHQuc3ViTWVzaGVzKWZvcihjb25zdCBpIG9mIHQuc3ViTWVzaGVzKWkuX3dhc0Rpc3BhdGNoZWQ9ITE7aWYodGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMpZm9yKGNvbnN0IHQgb2YgdGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMpdC5fd2FzRGlzcGF0Y2hlZD0hMTtmb3IoY29uc3QgdCBvZiB0aGlzLl9zY2VuZS5wYXJ0aWNsZVN5c3RlbXMpdC5fd2FzRGlzcGF0Y2hlZD0hMX19Y29uc3RydWN0b3IoZSl7dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMSx0aGlzLl9yZW5kZXJpbmdHcm91cHM9bmV3IEFycmF5LHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbD17fSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm49e30sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbz1uZXcgRG4sdGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ITEsdGhpcy5fc2NlbmU9ZTtmb3IobGV0IHQ9V2UuTUlOX1JFTkRFUklOR0dST1VQUzt0PFdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7dCsrKXRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFt0XT17YXV0b0NsZWFyOiEwLGRlcHRoOiEwLHN0ZW5jaWw6ITB9fWdldFJlbmRlcmluZ0dyb3VwKGUpe2NvbnN0IHQ9ZXx8MDtyZXR1cm4gdGhpcy5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKHQpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1t0XX1fY2xlYXJEZXB0aFN0ZW5jaWxCdWZmZXIoZT0hMCx0PSEwKXt0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXJBbHJlYWR5Q2xlYW5lZHx8KHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmNsZWFyKG51bGwsITEsZSx0KSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXJBbHJlYWR5Q2xlYW5lZD0hMCl9cmVuZGVyKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fcmVuZGVyaW5nR3JvdXBJbmZvO2lmKHIuc2NlbmU9dGhpcy5fc2NlbmUsci5jYW1lcmE9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzJiZzKWZvcihsZXQgbj0wO248dGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2Vyc1tuXTt0aGlzLmRpc3BhdGNoU3ByaXRlcyhhKX1mb3IobGV0IG49V2UuTUlOX1JFTkRFUklOR0dST1VQUztuPFdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7bisrKXt0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXJBbHJlYWR5Q2xlYW5lZD1uPT09V2UuTUlOX1JFTkRFUklOR0dST1VQUztjb25zdCBhPXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tuXTtpZighYXx8YS5fZW1wdHkpY29udGludWU7Y29uc3Qgbz1NYXRoLnBvdygyLG4pO2lmKHIucmVuZGVyaW5nR3JvdXBJZD1uLHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyLG8pLFdlLkFVVE9DTEVBUil7Y29uc3QgaD10aGlzLl91c2VTY2VuZUF1dG9DbGVhclNldHVwP3RoaXMuX3NjZW5lLmdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwKG4pOnRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFtuXTtoJiZoLmF1dG9DbGVhciYmdGhpcy5fY2xlYXJEZXB0aFN0ZW5jaWxCdWZmZXIoaC5kZXB0aCxoLnN0ZW5jaWwpfWZvcihjb25zdCBoIG9mIHRoaXMuX3NjZW5lLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZSloLmFjdGlvbihuKTthLnJlbmRlcihlLHMsaSx0KTtmb3IoY29uc3QgaCBvZiB0aGlzLl9zY2VuZS5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZSloLmFjdGlvbihuKTt0aGlzLl9zY2VuZS5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyLG8pfX1yZXNldCgpe2lmKCF0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKWZvcihsZXQgZT1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8V2UuTUFYX1JFTkRFUklOR0dST1VQUztlKyspe2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQucHJlcGFyZSgpfX1yZXNldFNwcml0ZXMoKXtpZighdGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcylmb3IobGV0IGU9V2UuTUlOX1JFTkRFUklOR0dST1VQUztlPFdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7ZSsrKXtjb25zdCB0PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTt0JiZ0LnByZXBhcmVTcHJpdGVzKCl9fWRpc3Bvc2UoKXt0aGlzLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLl9yZW5kZXJpbmdHcm91cHMubGVuZ3RoPTAsdGhpcy5fcmVuZGVyaW5nR3JvdXBJbmZvPW51bGx9ZnJlZVJlbmRlcmluZ0dyb3Vwcygpe2ZvcihsZXQgZT1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8V2UuTUFYX1JFTkRFUklOR0dST1VQUztlKyspe2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQuZGlzcG9zZSgpfX1fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKGUpe3RoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT09PXZvaWQgMCYmKHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT1uZXcgeHQoZSx0aGlzLl9zY2VuZSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdLHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdKSl9ZGlzcGF0Y2hTcHJpdGVzKGUpe3RoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMmJmUuX3dhc0Rpc3BhdGNoZWR8fChlLl93YXNEaXNwYXRjaGVkPSEwLHRoaXMuZ2V0UmVuZGVyaW5nR3JvdXAoZS5yZW5kZXJpbmdHcm91cElkKS5kaXNwYXRjaFNwcml0ZXMoZSkpfWRpc3BhdGNoUGFydGljbGVzKGUpe3RoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMmJmUuX3dhc0Rpc3BhdGNoZWR8fChlLl93YXNEaXNwYXRjaGVkPSEwLHRoaXMuZ2V0UmVuZGVyaW5nR3JvdXAoZS5yZW5kZXJpbmdHcm91cElkKS5kaXNwYXRjaFBhcnRpY2xlcyhlKSl9ZGlzcGF0Y2goZSx0LGkpe3Q9PT12b2lkIDAmJih0PWUuZ2V0TWVzaCgpKSwhKHRoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMmJmUuX3dhc0Rpc3BhdGNoZWQpJiYoZS5fd2FzRGlzcGF0Y2hlZD0hMCx0aGlzLmdldFJlbmRlcmluZ0dyb3VwKHQucmVuZGVyaW5nR3JvdXBJZCkuZGlzcGF0Y2goZSx0LGkpKX1zZXRSZW5kZXJpbmdPcmRlcihlLHQ9bnVsbCxpPW51bGwscz1udWxsKXtpZih0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdPXQsdGhpcy5fY3VzdG9tQWxwaGFUZXN0U29ydENvbXBhcmVGbltlXT1pLHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbltlXT1zLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXSl7Y29uc3Qgcj10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07ci5vcGFxdWVTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV0sci5hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sci50cmFuc3BhcmVudFNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdfX1zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGk9ITAscz0hMCl7dGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW2VdPXthdXRvQ2xlYXI6dCxkZXB0aDppLHN0ZW5jaWw6c319Z2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl7cmV0dXJuIHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFtlXX19V2UuTUFYX1JFTkRFUklOR0dST1VQUz00LFdlLk1JTl9SRU5ERVJJTkdHUk9VUFM9MCxXZS5BVVRPQ0xFQVI9ITA7Y2xhc3Mgant9ai5OQU1FX0VGRkVDVExBWUVSPSJFZmZlY3RMYXllciIsai5OQU1FX0xBWUVSPSJMYXllciIsai5OQU1FX0xFTlNGTEFSRVNZU1RFTT0iTGVuc0ZsYXJlU3lzdGVtIixqLk5BTUVfQk9VTkRJTkdCT1hSRU5ERVJFUj0iQm91bmRpbmdCb3hSZW5kZXJlciIsai5OQU1FX1BBUlRJQ0xFU1lTVEVNPSJQYXJ0aWNsZVN5c3RlbSIsai5OQU1FX0dBTUVQQUQ9IkdhbWVwYWQiLGouTkFNRV9TSU1QTElGSUNBVElPTlFVRVVFPSJTaW1wbGlmaWNhdGlvblF1ZXVlIixqLk5BTUVfR0VPTUVUUllCVUZGRVJSRU5ERVJFUj0iR2VvbWV0cnlCdWZmZXJSZW5kZXJlciIsai5OQU1FX1BSRVBBU1NSRU5ERVJFUj0iUHJlUGFzc1JlbmRlcmVyIixqLk5BTUVfREVQVEhSRU5ERVJFUj0iRGVwdGhSZW5kZXJlciIsai5OQU1FX0RFUFRIUEVFTElOR1JFTkRFUkVSPSJEZXB0aFBlZWxpbmdSZW5kZXJlciIsai5OQU1FX1BPU1RQUk9DRVNTUkVOREVSUElQRUxJTkVNQU5BR0VSPSJQb3N0UHJvY2Vzc1JlbmRlclBpcGVsaW5lTWFuYWdlciIsai5OQU1FX1NQUklURT0iU3ByaXRlIixqLk5BTUVfU1VCU1VSRkFDRT0iU3ViU3VyZmFjZSIsai5OQU1FX09VVExJTkVSRU5ERVJFUj0iT3V0bGluZSIsai5OQU1FX1BST0NFRFVSQUxURVhUVVJFPSJQcm9jZWR1cmFsVGV4dHVyZSIsai5OQU1FX1NIQURPV0dFTkVSQVRPUj0iU2hhZG93R2VuZXJhdG9yIixqLk5BTUVfT0NUUkVFPSJPY3RyZWUiLGouTkFNRV9QSFlTSUNTRU5HSU5FPSJQaHlzaWNzRW5naW5lIixqLk5BTUVfQVVESU89IkF1ZGlvIixqLk5BTUVfRkxVSURSRU5ERVJFUj0iRmx1aWRSZW5kZXJlciIsai5TVEVQX0lTUkVBRFlGT1JNRVNIX0VGRkVDVExBWUVSPTAsai5TVEVQX0JFRk9SRUVWQUxVQVRFQUNUSVZFTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAsai5TVEVQX0VWQUxVQVRFU1VCTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAsai5TVEVQX1BSRUFDVElWRU1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGouU1RFUF9DQU1FUkFEUkFXUkVOREVSVEFSR0VUX0VGRkVDVExBWUVSPTEsai5TVEVQX0JFRk9SRUNBTUVSQURSQVdfUFJFUEFTUz0wLGouU1RFUF9CRUZPUkVDQU1FUkFEUkFXX0VGRkVDVExBWUVSPTEsai5TVEVQX0JFRk9SRUNBTUVSQURSQVdfTEFZRVI9MixqLlNURVBfQkVGT1JFUkVOREVSVEFSR0VURFJBV19QUkVQQVNTPTAsai5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVERSQVdfTEFZRVI9MSxqLlNURVBfQkVGT1JFUkVOREVSSU5HTUVTSF9QUkVQQVNTPTAsai5TVEVQX0JFRk9SRVJFTkRFUklOR01FU0hfT1VUTElORT0xLGouU1RFUF9BRlRFUlJFTkRFUklOR01FU0hfUFJFUEFTUz0wLGouU1RFUF9BRlRFUlJFTkRFUklOR01FU0hfT1VUTElORT0xLGouU1RFUF9BRlRFUlJFTkRFUklOR0dST1VQRFJBV19FRkZFQ1RMQVlFUl9EUkFXPTAsai5TVEVQX0FGVEVSUkVOREVSSU5HR1JPVVBEUkFXX0JPVU5ESU5HQk9YUkVOREVSRVI9MSxqLlNURVBfQkVGT1JFQ0FNRVJBVVBEQVRFX1NJTVBMSUZJQ0FUSU9OUVVFVUU9MCxqLlNURVBfQkVGT1JFQ0FNRVJBVVBEQVRFX0dBTUVQQUQ9MSxqLlNURVBfQkVGT1JFQ0xFQVJfUFJPQ0VEVVJBTFRFWFRVUkU9MCxqLlNURVBfQkVGT1JFQ0xFQVJfUFJFUEFTUz0xLGouU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVRDTEVBUl9QUkVQQVNTPTAsai5TVEVQX0FGVEVSUkVOREVSVEFSR0VURFJBV19QUkVQQVNTPTAsai5TVEVQX0FGVEVSUkVOREVSVEFSR0VURFJBV19MQVlFUj0xLGouU1RFUF9BRlRFUkNBTUVSQURSQVdfUFJFUEFTUz0wLGouU1RFUF9BRlRFUkNBTUVSQURSQVdfRUZGRUNUTEFZRVI9MSxqLlNURVBfQUZURVJDQU1FUkFEUkFXX0xFTlNGTEFSRVNZU1RFTT0yLGouU1RFUF9BRlRFUkNBTUVSQURSQVdfRUZGRUNUTEFZRVJfRFJBVz0zLGouU1RFUF9BRlRFUkNBTUVSQURSQVdfTEFZRVI9NCxqLlNURVBfQUZURVJDQU1FUkFEUkFXX0ZMVUlEUkVOREVSRVI9NSxqLlNURVBfQUZURVJDQU1FUkFQT1NUUFJPQ0VTU19MQVlFUj0wLGouU1RFUF9BRlRFUlJFTkRFUlRBUkdFVFBPU1RQUk9DRVNTX0xBWUVSPTAsai5TVEVQX0FGVEVSUkVOREVSX0FVRElPPTAsai5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfREVQVEhSRU5ERVJFUj0wLGouU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX0dFT01FVFJZQlVGRkVSUkVOREVSRVI9MSxqLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19TSEFET1dHRU5FUkFUT1I9MixqLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19QT1NUUFJPQ0VTU1JFTkRFUlBJUEVMSU5FTUFOQUdFUj0zLGouU1RFUF9HQVRIRVJBQ1RJVkVDQU1FUkFSRU5ERVJUQVJHRVRTX0RFUFRIUkVOREVSRVI9MCxqLlNURVBfR0FUSEVSQUNUSVZFQ0FNRVJBUkVOREVSVEFSR0VUU19GTFVJRFJFTkRFUkVSPTEsai5TVEVQX1BPSU5URVJNT1ZFX1NQUklURT0wLGouU1RFUF9QT0lOVEVSRE9XTl9TUFJJVEU9MCxqLlNURVBfUE9JTlRFUlVQX1NQUklURT0wO2NsYXNzIEllIGV4dGVuZHMgQXJyYXl7Y29uc3RydWN0b3IoZSl7c3VwZXIoLi4uZSl9c3RhdGljIENyZWF0ZSgpe3JldHVybiBPYmplY3QuY3JlYXRlKEllLnByb3RvdHlwZSl9cmVnaXN0ZXJTdGVwKGUsdCxpKXtsZXQgcz0wLHI9TnVtYmVyLk1BWF9WQUxVRTtmb3IoO3M8dGhpcy5sZW5ndGgmJihyPXRoaXNbc10uaW5kZXgsIShlPHIpKTtzKyspO3RoaXMuc3BsaWNlKHMsMCx7aW5kZXg6ZSxjb21wb25lbnQ6dCxhY3Rpb246aS5iaW5kKHQpfSl9Y2xlYXIoKXt0aGlzLmxlbmd0aD0wfX1jbGFzcyBwZXt9cGUuUE9JTlRFUkRPV049MSxwZS5QT0lOVEVSVVA9MixwZS5QT0lOVEVSTU9WRT00LHBlLlBPSU5URVJXSEVFTD04LHBlLlBPSU5URVJQSUNLPTE2LHBlLlBPSU5URVJUQVA9MzIscGUuUE9JTlRFUkRPVUJMRVRBUD02NDtjbGFzcyBtcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH19Y2xhc3MgRm4gZXh0ZW5kcyBtcntjb25zdHJ1Y3RvcihlLHQsaSxzKXtzdXBlcihlLHQpLHRoaXMucmF5PW51bGwsdGhpcy5vcmlnaW5hbFBpY2tpbmdJbmZvPW51bGwsdGhpcy5za2lwT25Qb2ludGVyT2JzZXJ2YWJsZT0hMSx0aGlzLmxvY2FsUG9zaXRpb249bmV3IHZlKGkscyl9fWNsYXNzIFZ0IGV4dGVuZHMgbXJ7Z2V0IHBpY2tJbmZvKCl7cmV0dXJuIHRoaXMuX3BpY2tJbmZvfHx0aGlzLl9nZW5lcmF0ZVBpY2tJbmZvKCksdGhpcy5fcGlja0luZm99Y29uc3RydWN0b3IoZSx0LGkscz1udWxsKXtzdXBlcihlLHQpLHRoaXMuX3BpY2tJbmZvPWksdGhpcy5faW5wdXRNYW5hZ2VyPXN9X2dlbmVyYXRlUGlja0luZm8oKXt0aGlzLl9pbnB1dE1hbmFnZXImJih0aGlzLl9waWNrSW5mbz10aGlzLl9pbnB1dE1hbmFnZXIuX3BpY2tNb3ZlKHRoaXMuZXZlbnQpLHRoaXMuX2lucHV0TWFuYWdlci5fc2V0UmF5T25Qb2ludGVySW5mbyh0aGlzLl9waWNrSW5mbyx0aGlzLmV2ZW50KSx0aGlzLl9pbnB1dE1hbmFnZXI9bnVsbCl9fWNsYXNzIGR0e2NvbnN0cnVjdG9yKCl7dGhpcy5ob3ZlckN1cnNvcj0iIix0aGlzLmFjdGlvbnM9bmV3IEFycmF5LHRoaXMuaXNSZWN1cnNpdmU9ITF9c3RhdGljIGdldCBIYXNUcmlnZ2Vycygpe2Zvcihjb25zdCBlIGluIGR0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkdC5UcmlnZ2VycyxlKSlyZXR1cm4hMDtyZXR1cm4hMX1zdGF0aWMgZ2V0IEhhc1BpY2tUcmlnZ2Vycygpe2Zvcihjb25zdCBlIGluIGR0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkdC5UcmlnZ2VycyxlKSl7Y29uc3QgdD1wYXJzZUludChlKTtpZih0Pj0xJiZ0PD03KXJldHVybiEwfXJldHVybiExfXN0YXRpYyBIYXNTcGVjaWZpY1RyaWdnZXIoZSl7Zm9yKGNvbnN0IHQgaW4gZHQuVHJpZ2dlcnMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGR0LlRyaWdnZXJzLHQpJiZwYXJzZUludCh0KT09PWUpcmV0dXJuITA7cmV0dXJuITF9fWR0LlRyaWdnZXJzPXt9O2NsYXNzIHNze31zcy5LRVlET1dOPTEsc3MuS0VZVVA9MjtjbGFzcyB3c3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH19Y2xhc3MgdnIgZXh0ZW5kcyB3c3tnZXQgc2tpcE9uUG9pbnRlck9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGV9c2V0IHNraXBPblBvaW50ZXJPYnNlcnZhYmxlKGUpe3RoaXMuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlPWV9Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dCx0aGlzLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZT0hMX19dmFyIEc7KGZ1bmN0aW9uKGMpe2NbYy5HZW5lcmljPTBdPSJHZW5lcmljIixjW2MuS2V5Ym9hcmQ9MV09IktleWJvYXJkIixjW2MuTW91c2U9Ml09Ik1vdXNlIixjW2MuVG91Y2g9M109IlRvdWNoIixjW2MuRHVhbFNob2NrPTRdPSJEdWFsU2hvY2siLGNbYy5YYm94PTVdPSJYYm94IixjW2MuU3dpdGNoPTZdPSJTd2l0Y2giLGNbYy5EdWFsU2Vuc2U9N109IkR1YWxTZW5zZSJ9KShHfHwoRz17fSkpO3ZhciBKOyhmdW5jdGlvbihjKXtjW2MuSG9yaXpvbnRhbD0wXT0iSG9yaXpvbnRhbCIsY1tjLlZlcnRpY2FsPTFdPSJWZXJ0aWNhbCIsY1tjLkxlZnRDbGljaz0yXT0iTGVmdENsaWNrIixjW2MuTWlkZGxlQ2xpY2s9M109Ik1pZGRsZUNsaWNrIixjW2MuUmlnaHRDbGljaz00XT0iUmlnaHRDbGljayIsY1tjLkJyb3dzZXJCYWNrPTVdPSJCcm93c2VyQmFjayIsY1tjLkJyb3dzZXJGb3J3YXJkPTZdPSJCcm93c2VyRm9yd2FyZCIsY1tjLk1vdXNlV2hlZWxYPTddPSJNb3VzZVdoZWVsWCIsY1tjLk1vdXNlV2hlZWxZPThdPSJNb3VzZVdoZWVsWSIsY1tjLk1vdXNlV2hlZWxaPTldPSJNb3VzZVdoZWVsWiIsY1tjLk1vdmU9MTJdPSJNb3ZlIn0pKEp8fChKPXt9KSk7dmFyIHJzOyhmdW5jdGlvbihjKXtjW2MuSG9yaXpvbnRhbD0wXT0iSG9yaXpvbnRhbCIsY1tjLlZlcnRpY2FsPTFdPSJWZXJ0aWNhbCIsY1tjLkxlZnRDbGljaz0yXT0iTGVmdENsaWNrIixjW2MuTWlkZGxlQ2xpY2s9M109Ik1pZGRsZUNsaWNrIixjW2MuUmlnaHRDbGljaz00XT0iUmlnaHRDbGljayIsY1tjLkJyb3dzZXJCYWNrPTVdPSJCcm93c2VyQmFjayIsY1tjLkJyb3dzZXJGb3J3YXJkPTZdPSJCcm93c2VyRm9yd2FyZCIsY1tjLk1vdXNlV2hlZWxYPTddPSJNb3VzZVdoZWVsWCIsY1tjLk1vdXNlV2hlZWxZPThdPSJNb3VzZVdoZWVsWSIsY1tjLk1vdXNlV2hlZWxaPTldPSJNb3VzZVdoZWVsWiIsY1tjLkRlbHRhSG9yaXpvbnRhbD0xMF09IkRlbHRhSG9yaXpvbnRhbCIsY1tjLkRlbHRhVmVydGljYWw9MTFdPSJEZWx0YVZlcnRpY2FsIn0pKHJzfHwocnM9e30pKTt2YXIgRXI7KGZ1bmN0aW9uKGMpe2NbYy5Dcm9zcz0wXT0iQ3Jvc3MiLGNbYy5DaXJjbGU9MV09IkNpcmNsZSIsY1tjLlNxdWFyZT0yXT0iU3F1YXJlIixjW2MuVHJpYW5nbGU9M109IlRyaWFuZ2xlIixjW2MuTDE9NF09IkwxIixjW2MuUjE9NV09IlIxIixjW2MuTDI9Nl09IkwyIixjW2MuUjI9N109IlIyIixjW2MuU2hhcmU9OF09IlNoYXJlIixjW2MuT3B0aW9ucz05XT0iT3B0aW9ucyIsY1tjLkwzPTEwXT0iTDMiLGNbYy5SMz0xMV09IlIzIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLlRvdWNoUGFkPTE3XT0iVG91Y2hQYWQiLGNbYy5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixjW2MuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsY1tjLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGNbYy5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKEVyfHwoRXI9e30pKTt2YXIgVHI7KGZ1bmN0aW9uKGMpe2NbYy5Dcm9zcz0wXT0iQ3Jvc3MiLGNbYy5DaXJjbGU9MV09IkNpcmNsZSIsY1tjLlNxdWFyZT0yXT0iU3F1YXJlIixjW2MuVHJpYW5nbGU9M109IlRyaWFuZ2xlIixjW2MuTDE9NF09IkwxIixjW2MuUjE9NV09IlIxIixjW2MuTDI9Nl09IkwyIixjW2MuUjI9N109IlIyIixjW2MuQ3JlYXRlPThdPSJDcmVhdGUiLGNbYy5PcHRpb25zPTldPSJPcHRpb25zIixjW2MuTDM9MTBdPSJMMyIsY1tjLlIzPTExXT0iUjMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuVG91Y2hQYWQ9MTddPSJUb3VjaFBhZCIsY1tjLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGNbYy5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixjW2MuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsY1tjLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkoVHJ8fChUcj17fSkpO3ZhciBicjsoZnVuY3Rpb24oYyl7Y1tjLkE9MF09IkEiLGNbYy5CPTFdPSJCIixjW2MuWD0yXT0iWCIsY1tjLlk9M109IlkiLGNbYy5MQj00XT0iTEIiLGNbYy5SQj01XT0iUkIiLGNbYy5MVD02XT0iTFQiLGNbYy5SVD03XT0iUlQiLGNbYy5CYWNrPThdPSJCYWNrIixjW2MuU3RhcnQ9OV09IlN0YXJ0IixjW2MuTFM9MTBdPSJMUyIsY1tjLlJTPTExXT0iUlMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuTFN0aWNrWEF4aXM9MTddPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE4XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0xOV09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjBdPSJSU3RpY2tZQXhpcyJ9KShicnx8KGJyPXt9KSk7dmFyIFNyOyhmdW5jdGlvbihjKXtjW2MuQj0wXT0iQiIsY1tjLkE9MV09IkEiLGNbYy5ZPTJdPSJZIixjW2MuWD0zXT0iWCIsY1tjLkw9NF09IkwiLGNbYy5SPTVdPSJSIixjW2MuWkw9Nl09IlpMIixjW2MuWlI9N109IlpSIixjW2MuTWludXM9OF09Ik1pbnVzIixjW2MuUGx1cz05XT0iUGx1cyIsY1tjLkxTPTEwXT0iTFMiLGNbYy5SUz0xMV09IlJTIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLkNhcHR1cmU9MTddPSJDYXB0dXJlIixjW2MuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShTcnx8KFNyPXt9KSk7dmFyIHhyOyhmdW5jdGlvbihjKXtjW2MuUG9pbnRlck1vdmU9MF09IlBvaW50ZXJNb3ZlIixjW2MuUG9pbnRlckRvd249MV09IlBvaW50ZXJEb3duIixjW2MuUG9pbnRlclVwPTJdPSJQb2ludGVyVXAifSkoeHJ8fCh4cj17fSkpO2NsYXNzIG5ze31ucy5ET01fREVMVEFfUElYRUw9MCxucy5ET01fREVMVEFfTElORT0xLG5zLkRPTV9ERUxUQV9QQUdFPTI7Y2xhc3MgZml7c3RhdGljIENyZWF0ZURldmljZUV2ZW50KGUsdCxpLHMscixuLGEpe3N3aXRjaChlKXtjYXNlIEcuS2V5Ym9hcmQ6cmV0dXJuIHRoaXMuX0NyZWF0ZUtleWJvYXJkRXZlbnQoaSxzLHIsbik7Y2FzZSBHLk1vdXNlOmlmKGk9PT1KLk1vdXNlV2hlZWxYfHxpPT09Si5Nb3VzZVdoZWVsWXx8aT09PUouTW91c2VXaGVlbFopcmV0dXJuIHRoaXMuX0NyZWF0ZVdoZWVsRXZlbnQoZSx0LGkscyxyLG4pO2Nhc2UgRy5Ub3VjaDpyZXR1cm4gdGhpcy5fQ3JlYXRlUG9pbnRlckV2ZW50KGUsdCxpLHMscixuLGEpO2RlZmF1bHQ6dGhyb3dgVW5hYmxlIHRvIGdlbmVyYXRlIGV2ZW50IGZvciBkZXZpY2UgJHtHW2VdfWB9fXN0YXRpYyBfQ3JlYXRlUG9pbnRlckV2ZW50KGUsdCxpLHMscixuLGEpe2NvbnN0IG89dGhpcy5fQ3JlYXRlTW91c2VFdmVudChlLHQsaSxzLHIsbik7cmV0dXJuIGU9PT1HLk1vdXNlPyhvLmRldmljZVR5cGU9Ry5Nb3VzZSxvLnBvaW50ZXJJZD0xLG8ucG9pbnRlclR5cGU9Im1vdXNlIik6KG8uZGV2aWNlVHlwZT1HLlRvdWNoLG8ucG9pbnRlcklkPWE/P3Qsby5wb2ludGVyVHlwZT0idG91Y2giKSxpPT09Si5Nb3ZlP28udHlwZT0icG9pbnRlcm1vdmUiOmk+PUouTGVmdENsaWNrJiZpPD1KLlJpZ2h0Q2xpY2smJihvLnR5cGU9cz09PTE/InBvaW50ZXJkb3duIjoicG9pbnRlcnVwIixvLmJ1dHRvbj1pLTIpLG99c3RhdGljIF9DcmVhdGVXaGVlbEV2ZW50KGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LGkscyxyLG4pO3N3aXRjaChhLnBvaW50ZXJJZD0xLGEudHlwZT0id2hlZWwiLGEuZGVsdGFNb2RlPW5zLkRPTV9ERUxUQV9QSVhFTCxhLmRlbHRhWD0wLGEuZGVsdGFZPTAsYS5kZWx0YVo9MCxpKXtjYXNlIEouTW91c2VXaGVlbFg6YS5kZWx0YVg9czticmVhaztjYXNlIEouTW91c2VXaGVlbFk6YS5kZWx0YVk9czticmVhaztjYXNlIEouTW91c2VXaGVlbFo6YS5kZWx0YVo9czticmVha31yZXR1cm4gYX1zdGF0aWMgX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fQ3JlYXRlRXZlbnQobiksbz1yLnBvbGxJbnB1dChlLHQsSi5Ib3Jpem9udGFsKSxoPXIucG9sbElucHV0KGUsdCxKLlZlcnRpY2FsKTtyZXR1cm4gbj8oYS5tb3ZlbWVudFg9MCxhLm1vdmVtZW50WT0wLGEub2Zmc2V0WD1hLm1vdmVtZW50WC1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLngsYS5vZmZzZXRZPWEubW92ZW1lbnRZLW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSk6KGEubW92ZW1lbnRYPXIucG9sbElucHV0KGUsdCxycy5EZWx0YUhvcml6b250YWwpLGEubW92ZW1lbnRZPXIucG9sbElucHV0KGUsdCxycy5EZWx0YVZlcnRpY2FsKSxhLm9mZnNldFg9MCxhLm9mZnNldFk9MCksdGhpcy5fQ2hlY2tOb25DaGFyYWN0ZXJLZXlzKGEsciksYS5jbGllbnRYPW8sYS5jbGllbnRZPWgsYS54PW8sYS55PWgsYS5kZXZpY2VUeXBlPWUsYS5kZXZpY2VTbG90PXQsYS5pbnB1dEluZGV4PWksYX1zdGF0aWMgX0NyZWF0ZUtleWJvYXJkRXZlbnQoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9DcmVhdGVFdmVudChzKTtyZXR1cm4gdGhpcy5fQ2hlY2tOb25DaGFyYWN0ZXJLZXlzKHIsaSksci5kZXZpY2VUeXBlPUcuS2V5Ym9hcmQsci5kZXZpY2VTbG90PTAsci5pbnB1dEluZGV4PWUsci50eXBlPXQ9PT0xPyJrZXlkb3duIjoia2V5dXAiLHIua2V5PVN0cmluZy5mcm9tQ2hhckNvZGUoZSksci5rZXlDb2RlPWUscn1zdGF0aWMgX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhlLHQpe2NvbnN0IGk9dC5pc0RldmljZUF2YWlsYWJsZShHLktleWJvYXJkKSxzPWkmJnQucG9sbElucHV0KEcuS2V5Ym9hcmQsMCwxOCk9PT0xLHI9aSYmdC5wb2xsSW5wdXQoRy5LZXlib2FyZCwwLDE3KT09PTEsbj1pJiYodC5wb2xsSW5wdXQoRy5LZXlib2FyZCwwLDkxKT09PTF8fHQucG9sbElucHV0KEcuS2V5Ym9hcmQsMCw5Mik9PT0xfHx0LnBvbGxJbnB1dChHLktleWJvYXJkLDAsOTMpPT09MSksYT1pJiZ0LnBvbGxJbnB1dChHLktleWJvYXJkLDAsMTYpPT09MTtlLmFsdEtleT1zLGUuY3RybEtleT1yLGUubWV0YUtleT1uLGUuc2hpZnRLZXk9YX1zdGF0aWMgX0NyZWF0ZUV2ZW50KGUpe2NvbnN0IHQ9e307cmV0dXJuIHQucHJldmVudERlZmF1bHQ9KCk9Pnt9LHQudGFyZ2V0PWUsdH19Y2xhc3Mgd257Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX25hdGl2ZUlucHV0PV9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0/bmV3IF9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0oZSx0LChzLHIsbixhKT0+e2NvbnN0IG89ZmkuQ3JlYXRlRGV2aWNlRXZlbnQocyxyLG4sYSx0aGlzKTtpKHMscixvKX0pOnRoaXMuX2NyZWF0ZUR1bW15TmF0aXZlSW5wdXQoKX1wb2xsSW5wdXQoZSx0LGkpe3JldHVybiB0aGlzLl9uYXRpdmVJbnB1dC5wb2xsSW5wdXQoZSx0LGkpfWlzRGV2aWNlQXZhaWxhYmxlKGUpe3JldHVybiBlPT09Ry5Nb3VzZXx8ZT09PUcuVG91Y2h9ZGlzcG9zZSgpe3RoaXMuX25hdGl2ZUlucHV0LmRpc3Bvc2UoKX1fY3JlYXRlRHVtbXlOYXRpdmVJbnB1dCgpe3JldHVybntwb2xsSW5wdXQ6KCk9PjAsaXNEZXZpY2VBdmFpbGFibGU6KCk9PiExLGRpc3Bvc2U6KCk9Pnt9fX19Y29uc3QgTXI9MjU1LEFyPU9iamVjdC5rZXlzKEopLmxlbmd0aC8yO2NsYXNzIE9ue2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMuX2lucHV0cz1bXSx0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMSx0aGlzLl9wb2ludGVyQWN0aXZlPSExLHRoaXMuX3VzaW5nU2FmYXJpPVguSXNTYWZhcmkoKSx0aGlzLl91c2luZ01hY09TPUVzKCkmJi8oTWFjfGlQaG9uZXxpUG9kfGlQYWQpL2kudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50PXI9Pnt9LHRoaXMuX2tleWJvYXJkVXBFdmVudD1yPT57fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyTW92ZUV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlclVwRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQ9cj0+e30sdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITEsdGhpcy5fbW91c2VJZD0tMSx0aGlzLl9pc1VzaW5nRmlyZWZveD1icy5Jc05hdmlnYXRvckF2YWlsYWJsZSgpJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3giKSE9PS0xLHRoaXMuX21heFRvdWNoUG9pbnRzPTAsdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlcj1udWxsLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1yPT57fSx0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQ9cj0+e30sdGhpcy5fZXZlbnRQcmVmaXg9WC5HZXRQb2ludGVyUHJlZml4KGUpLHRoaXMuX2VuZ2luZT1lLHRoaXMuX29uRGV2aWNlQ29ubmVjdGVkPXQsdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQ9aSx0aGlzLl9vbklucHV0Q2hhbmdlZD1zLHRoaXMuX21vdXNlSWQ9dGhpcy5faXNVc2luZ0ZpcmVmb3g/MDoxLHRoaXMuX2VuYWJsZUV2ZW50cygpLHRoaXMuX3VzaW5nTWFjT1MmJih0aGlzLl9tZXRhS2V5cz1bXSksdGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkfHwodGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkPSgpPT57dGhpcy5fZW5hYmxlRXZlbnRzKCl9KX1wb2xsSW5wdXQoZSx0LGkpe2NvbnN0IHM9dGhpcy5faW5wdXRzW2VdW3RdO2lmKCFzKXRocm93YFVuYWJsZSB0byBmaW5kIGRldmljZSAke0dbZV19YDtlPj1HLkR1YWxTaG9jayYmZTw9Ry5EdWFsU2Vuc2UmJnRoaXMuX3VwZGF0ZURldmljZShlLHQsaSk7Y29uc3Qgcj1zW2ldO2lmKHI9PT12b2lkIDApdGhyb3dgVW5hYmxlIHRvIGZpbmQgaW5wdXQgJHtpfSBmb3IgZGV2aWNlICR7R1tlXX0gaW4gc2xvdCAke3R9YDtyZXR1cm4gaT09PUouTW92ZSYmWC5XYXJuKCJVbmFibGUgdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBmb3IgUG9pbnRlcklucHV0Lk1vdmUuICBUcnkgdXNpbmcgUG9pbnRlcklucHV0Lkhvcml6b250YWwgb3IgUG9pbnRlcklucHV0LlZlcnRpY2FsIGZvciBtb3ZlIGRhdGEuIikscn1pc0RldmljZUF2YWlsYWJsZShlKXtyZXR1cm4gdGhpcy5faW5wdXRzW2VdIT09dm9pZCAwfWRpc3Bvc2UoKXt0aGlzLl9vbkRldmljZUNvbm5lY3RlZD0oKT0+e30sdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQ9KCk9Pnt9LHRoaXMuX29uSW5wdXRDaGFuZ2VkPSgpPT57fSxkZWxldGUgdGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiZ0aGlzLl9kaXNhYmxlRXZlbnRzKCl9X2VuYWJsZUV2ZW50cygpe2NvbnN0IGU9dGhpcz09PW51bGx8fHRoaXM9PT12b2lkIDA/dm9pZCAwOnRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKTtpZihlJiYoIXRoaXMuX2V2ZW50c0F0dGFjaGVkfHx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyE9PWUpKXtpZih0aGlzLl9kaXNhYmxlRXZlbnRzKCksdGhpcy5faW5wdXRzKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9pbnB1dHMpaWYodClmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBzPStpLHI9dFtzXTtpZihyKWZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXJbbl09MH19dGhpcy5fZWxlbWVudFRvQXR0YWNoVG89ZSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleD10aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleCE9PS0xP3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnRhYkluZGV4OnRoaXMuX2VuZ2luZS5jYW52YXNUYWJJbmRleCx0aGlzLl9oYW5kbGVLZXlBY3Rpb25zKCksdGhpcy5faGFuZGxlUG9pbnRlckFjdGlvbnMoKSx0aGlzLl9oYW5kbGVHYW1lcGFkQWN0aW9ucygpLHRoaXMuX2V2ZW50c0F0dGFjaGVkPSEwLHRoaXMuX2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcygpfX1fZGlzYWJsZUV2ZW50cygpe3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiYodGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJtb3ZlIix0aGlzLl9wb2ludGVyTW92ZUV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJkb3duIix0aGlzLl9wb2ludGVyRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJ1cCIsdGhpcy5fcG9pbnRlclVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImNhbmNlbCIsdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3doZWVsRXZlbnROYW1lLHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGNvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGRpc2Nvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50KSksdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciYmdGhpcy5fZW5naW5lLm9uRW5kRnJhbWVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyKSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMX1fY2hlY2tGb3JDb25uZWN0ZWREZXZpY2VzKCl7aWYobmF2aWdhdG9yLmdldEdhbWVwYWRzKXtjb25zdCBlPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpO2Zvcihjb25zdCB0IG9mIGUpdCYmdGhpcy5fYWRkR2FtZVBhZCh0KX10eXBlb2YgbWF0Y2hNZWRpYT09ImZ1bmN0aW9uIiYmbWF0Y2hNZWRpYSgiKHBvaW50ZXI6ZmluZSkiKS5tYXRjaGVzJiZ0aGlzLl9hZGRQb2ludGVyRGV2aWNlKEcuTW91c2UsMCwwLDApfV9hZGRHYW1lUGFkKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0R2FtZXBhZERldmljZVR5cGUoZS5pZCksaT1lLmluZGV4O3RoaXMuX2dhbWVwYWRzPXRoaXMuX2dhbWVwYWRzfHxuZXcgQXJyYXkoZS5pbmRleCsxKSx0aGlzLl9yZWdpc3RlckRldmljZSh0LGksZS5idXR0b25zLmxlbmd0aCtlLmF4ZXMubGVuZ3RoKSx0aGlzLl9nYW1lcGFkc1tpXT10fV9hZGRQb2ludGVyRGV2aWNlKGUsdCxpLHMpe3RoaXMuX3BvaW50ZXJBY3RpdmV8fCh0aGlzLl9wb2ludGVyQWN0aXZlPSEwKSx0aGlzLl9yZWdpc3RlckRldmljZShlLHQsQXIpO2NvbnN0IHI9dGhpcy5faW5wdXRzW2VdW3RdO3JbMF09aSxyWzFdPXN9X3JlZ2lzdGVyRGV2aWNlKGUsdCxpKXtpZih0PT09dm9pZCAwKXRocm93YFVuYWJsZSB0byByZWdpc3RlciBkZXZpY2UgJHtHW2VdfSB0byB1bmRlZmluZWQgc2xvdC5gO2lmKHRoaXMuX2lucHV0c1tlXXx8KHRoaXMuX2lucHV0c1tlXT17fSksIXRoaXMuX2lucHV0c1tlXVt0XSl7Y29uc3Qgcz1uZXcgQXJyYXkoaSk7cy5maWxsKDApLHRoaXMuX2lucHV0c1tlXVt0XT1zLHRoaXMuX29uRGV2aWNlQ29ubmVjdGVkKGUsdCl9fV91bnJlZ2lzdGVyRGV2aWNlKGUsdCl7dGhpcy5faW5wdXRzW2VdW3RdJiYoZGVsZXRlIHRoaXMuX2lucHV0c1tlXVt0XSx0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChlLHQpKX1faGFuZGxlS2V5QWN0aW9ucygpe3RoaXMuX2tleWJvYXJkRG93bkV2ZW50PWU9Pnt0aGlzLl9rZXlib2FyZEFjdGl2ZXx8KHRoaXMuX2tleWJvYXJkQWN0aXZlPSEwLHRoaXMuX3JlZ2lzdGVyRGV2aWNlKEcuS2V5Ym9hcmQsMCxNcikpO2NvbnN0IHQ9dGhpcy5faW5wdXRzW0cuS2V5Ym9hcmRdWzBdO2lmKHQpe3RbZS5rZXlDb2RlXT0xO2NvbnN0IGk9ZTtpLmlucHV0SW5kZXg9ZS5rZXlDb2RlLHRoaXMuX3VzaW5nTWFjT1MmJmUubWV0YUtleSYmZS5rZXkhPT0iTWV0YSImJih0aGlzLl9tZXRhS2V5cy5pbmNsdWRlcyhlLmtleUNvZGUpfHx0aGlzLl9tZXRhS2V5cy5wdXNoKGUua2V5Q29kZSkpLHRoaXMuX29uSW5wdXRDaGFuZ2VkKEcuS2V5Ym9hcmQsMCxpKX19LHRoaXMuX2tleWJvYXJkVXBFdmVudD1lPT57dGhpcy5fa2V5Ym9hcmRBY3RpdmV8fCh0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMCx0aGlzLl9yZWdpc3RlckRldmljZShHLktleWJvYXJkLDAsTXIpKTtjb25zdCB0PXRoaXMuX2lucHV0c1tHLktleWJvYXJkXVswXTtpZih0KXt0W2Uua2V5Q29kZV09MDtjb25zdCBpPWU7aWYoaS5pbnB1dEluZGV4PWUua2V5Q29kZSx0aGlzLl91c2luZ01hY09TJiZlLmtleT09PSJNZXRhIiYmdGhpcy5fbWV0YUtleXMubGVuZ3RoPjApe2Zvcihjb25zdCBzIG9mIHRoaXMuX21ldGFLZXlzKXtjb25zdCByPWZpLkNyZWF0ZURldmljZUV2ZW50KEcuS2V5Ym9hcmQsMCxzLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dFtzXT0wLHRoaXMuX29uSW5wdXRDaGFuZ2VkKEcuS2V5Ym9hcmQsMCxyKX10aGlzLl9tZXRhS2V5cy5zcGxpY2UoMCx0aGlzLl9tZXRhS2V5cy5sZW5ndGgpfXRoaXMuX29uSW5wdXRDaGFuZ2VkKEcuS2V5Ym9hcmQsMCxpKX19LHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50PSgpPT57aWYodGhpcy5fa2V5Ym9hcmRBY3RpdmUpe2NvbnN0IGU9dGhpcy5faW5wdXRzW0cuS2V5Ym9hcmRdWzBdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF0hPT0wKXtlW3RdPTA7Y29uc3QgaT1maS5DcmVhdGVEZXZpY2VFdmVudChHLktleWJvYXJkLDAsdCwwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3RoaXMuX29uSW5wdXRDaGFuZ2VkKEcuS2V5Ym9hcmQsMCxpKX10aGlzLl91c2luZ01hY09TJiZ0aGlzLl9tZXRhS2V5cy5zcGxpY2UoMCx0aGlzLl9tZXRhS2V5cy5sZW5ndGgpfX0sdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdGhpcy5fa2V5Ym9hcmREb3duRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIix0aGlzLl9rZXlib2FyZFVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50KX1faGFuZGxlUG9pbnRlckFjdGlvbnMoKXt0aGlzLl9tYXhUb3VjaFBvaW50cz1icy5Jc05hdmlnYXRvckF2YWlsYWJsZSgpJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fDIsdGhpcy5fYWN0aXZlVG91Y2hJZHN8fCh0aGlzLl9hY3RpdmVUb3VjaElkcz1uZXcgQXJyYXkodGhpcy5fbWF4VG91Y2hQb2ludHMpKTtmb3IobGV0IGk9MDtpPHRoaXMuX21heFRvdWNoUG9pbnRzO2krKyl0aGlzLl9hY3RpdmVUb3VjaElkc1tpXT0tMTt0aGlzLl9wb2ludGVyTW92ZUV2ZW50PWk9Pntjb25zdCBzPXRoaXMuX2dldFBvaW50ZXJUeXBlKGkpLHI9cz09PUcuTW91c2U/MDp0aGlzLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKGkucG9pbnRlcklkKTt0aGlzLl9pbnB1dHNbc118fCh0aGlzLl9pbnB1dHNbc109e30pLHRoaXMuX2lucHV0c1tzXVtyXXx8dGhpcy5fYWRkUG9pbnRlckRldmljZShzLHIsaS5jbGllbnRYLGkuY2xpZW50WSk7Y29uc3Qgbj10aGlzLl9pbnB1dHNbc11bcl07aWYobil7Y29uc3QgYT1pO2EuaW5wdXRJbmRleD1KLk1vdmUsbltKLkhvcml6b250YWxdPWkuY2xpZW50WCxuW0ouVmVydGljYWxdPWkuY2xpZW50WSxpLnBvaW50ZXJJZD09PXZvaWQgMCYmKGkucG9pbnRlcklkPXRoaXMuX21vdXNlSWQpLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSwhdGhpcy5fdXNpbmdTYWZhcmkmJmkuYnV0dG9uIT09LTEmJihhLmlucHV0SW5kZXg9aS5idXR0b24rMixuW2kuYnV0dG9uKzJdPW5baS5idXR0b24rMl0/MDoxLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSl9fSx0aGlzLl9wb2ludGVyRG93bkV2ZW50PWk9Pntjb25zdCBzPXRoaXMuX2dldFBvaW50ZXJUeXBlKGkpO2xldCByPXM9PT1HLk1vdXNlPzA6aS5wb2ludGVySWQ7aWYocz09PUcuVG91Y2gpe2NvbnN0IGE9dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZigtMSk7aWYoYT49MClyPWEsdGhpcy5fYWN0aXZlVG91Y2hJZHNbYV09aS5wb2ludGVySWQ7ZWxzZXtYLldhcm4oYE1heCBudW1iZXIgb2YgdG91Y2hlcyBleGNlZWRlZC4gIElnbm9yaW5nIHRvdWNoZXMgaW4gZXhjZXNzIG9mICR7dGhpcy5fbWF4VG91Y2hQb2ludHN9YCk7cmV0dXJufX10aGlzLl9pbnB1dHNbc118fCh0aGlzLl9pbnB1dHNbc109e30pLHRoaXMuX2lucHV0c1tzXVtyXT9zPT09Ry5Ub3VjaCYmdGhpcy5fb25EZXZpY2VDb25uZWN0ZWQocyxyKTp0aGlzLl9hZGRQb2ludGVyRGV2aWNlKHMscixpLmNsaWVudFgsaS5jbGllbnRZKTtjb25zdCBuPXRoaXMuX2lucHV0c1tzXVtyXTtpZihuKXtjb25zdCBhPW5bSi5Ib3Jpem9udGFsXSxvPW5bSi5WZXJ0aWNhbF07aWYocz09PUcuTW91c2Upe2lmKGkucG9pbnRlcklkPT09dm9pZCAwJiYoaS5wb2ludGVySWQ9dGhpcy5fbW91c2VJZCksIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCl0cnl7dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uc2V0UG9pbnRlckNhcHR1cmUodGhpcy5fbW91c2VJZCl9Y2F0Y2h7fX1lbHNlIGlmKGkucG9pbnRlcklkJiYhZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50KXRyeXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5zZXRQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCl9Y2F0Y2h7fW5bSi5Ib3Jpem9udGFsXT1pLmNsaWVudFgsbltKLlZlcnRpY2FsXT1pLmNsaWVudFksbltpLmJ1dHRvbisyXT0xO2NvbnN0IGg9aTtoLmlucHV0SW5kZXg9aS5idXR0b24rMix0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCksKGEhPT1pLmNsaWVudFh8fG8hPT1pLmNsaWVudFkpJiYoaC5pbnB1dEluZGV4PUouTW92ZSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCkpfX0sdGhpcy5fcG9pbnRlclVwRXZlbnQ9aT0+e3ZhciBzLHIsbixhLG87Y29uc3QgaD10aGlzLl9nZXRQb2ludGVyVHlwZShpKSxsPWg9PT1HLk1vdXNlPzA6dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7aWYoaD09PUcuVG91Y2gpe2lmKGw9PT0tMSlyZXR1cm47dGhpcy5fYWN0aXZlVG91Y2hJZHNbbF09LTF9Y29uc3QgdT0ocz10aGlzLl9pbnB1dHNbaF0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6c1tsXTtpZih1JiZ1W2kuYnV0dG9uKzJdIT09MCl7Y29uc3QgZD11W0ouSG9yaXpvbnRhbF0sXz11W0ouVmVydGljYWxdO3VbSi5Ib3Jpem9udGFsXT1pLmNsaWVudFgsdVtKLlZlcnRpY2FsXT1pLmNsaWVudFksdVtpLmJ1dHRvbisyXT0wO2NvbnN0IGY9aTtpLnBvaW50ZXJJZD09PXZvaWQgMCYmKGkucG9pbnRlcklkPXRoaXMuX21vdXNlSWQpLChkIT09aS5jbGllbnRYfHxfIT09aS5jbGllbnRZKSYmKGYuaW5wdXRJbmRleD1KLk1vdmUsdGhpcy5fb25JbnB1dENoYW5nZWQoaCxsLGYpKSxmLmlucHV0SW5kZXg9aS5idXR0b24rMixoPT09Ry5Nb3VzZSYmdGhpcy5fbW91c2VJZD49MCYmKCEoKG49KHI9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fG49PT12b2lkIDApJiZuLmNhbGwocix0aGlzLl9tb3VzZUlkKSk/dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHRoaXMuX21vdXNlSWQpOmkucG9pbnRlcklkJiYoISgobz0oYT10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMCkmJm8uY2FsbChhLGkucG9pbnRlcklkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCksdGhpcy5fb25JbnB1dENoYW5nZWQoaCxsLGYpLGg9PT1HLlRvdWNoJiZ0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChoLGwpfX0sdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50PWk9Pnt2YXIgcyxyLG4sYTtpZihpLnBvaW50ZXJUeXBlPT09Im1vdXNlIil7Y29uc3Qgbz10aGlzLl9pbnB1dHNbRy5Nb3VzZV1bMF07dGhpcy5fbW91c2VJZD49MCYmKCEoKHI9KHM9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fHI9PT12b2lkIDApJiZyLmNhbGwocyx0aGlzLl9tb3VzZUlkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTtmb3IobGV0IGg9Si5MZWZ0Q2xpY2s7aDw9Si5Ccm93c2VyRm9yd2FyZDtoKyspaWYob1toXT09PTEpe29baF09MDtjb25zdCBsPWZpLkNyZWF0ZURldmljZUV2ZW50KEcuTW91c2UsMCxoLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoRy5Nb3VzZSwwLGwpfX1lbHNle2NvbnN0IG89dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7ISgoYT0obj10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMCkmJmEuY2FsbChuLGkucG9pbnRlcklkKSYmdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGkucG9pbnRlcklkKSx0aGlzLl9pbnB1dHNbRy5Ub3VjaF1bb11bSi5MZWZ0Q2xpY2tdPTA7Y29uc3QgaD1maS5DcmVhdGVEZXZpY2VFdmVudChHLlRvdWNoLG8sSi5MZWZ0Q2xpY2ssMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLGkucG9pbnRlcklkKTt0aGlzLl9vbklucHV0Q2hhbmdlZChHLlRvdWNoLG8saCksdGhpcy5fYWN0aXZlVG91Y2hJZHNbb109LTEsdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoRy5Ub3VjaCxvKX19LHRoaXMuX3doZWVsRXZlbnROYW1lPSJvbndoZWVsImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJ3aGVlbCI6ZG9jdW1lbnQub25tb3VzZXdoZWVsIT09dm9pZCAwPyJtb3VzZXdoZWVsIjoiRE9NTW91c2VTY3JvbGwiO2xldCBlPSExO2NvbnN0IHQ9ZnVuY3Rpb24oKXt9O3RyeXtjb25zdCBpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe2U9ITB9fSk7dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigidGVzdCIsdCxpKSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0Iix0LGkpfWNhdGNoe310aGlzLl9wb2ludGVyQmx1ckV2ZW50PSgpPT57dmFyIGkscyxyLG4sYTtpZih0aGlzLmlzRGV2aWNlQXZhaWxhYmxlKEcuTW91c2UpKXtjb25zdCBvPXRoaXMuX2lucHV0c1tHLk1vdXNlXVswXTt0aGlzLl9tb3VzZUlkPj0wJiYoISgocz0oaT10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuY2FsbChpLHRoaXMuX21vdXNlSWQpKSYmdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHRoaXMuX21vdXNlSWQpO2ZvcihsZXQgaD1KLkxlZnRDbGljaztoPD1KLkJyb3dzZXJGb3J3YXJkO2grKylpZihvW2hdPT09MSl7b1toXT0wO2NvbnN0IGw9ZmkuQ3JlYXRlRGV2aWNlRXZlbnQoRy5Nb3VzZSwwLGgsMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKTt0aGlzLl9vbklucHV0Q2hhbmdlZChHLk1vdXNlLDAsbCl9fWlmKHRoaXMuaXNEZXZpY2VBdmFpbGFibGUoRy5Ub3VjaCkpe2NvbnN0IG89dGhpcy5faW5wdXRzW0cuVG91Y2hdO2ZvcihsZXQgaD0wO2g8dGhpcy5fYWN0aXZlVG91Y2hJZHMubGVuZ3RoO2grKyl7Y29uc3QgbD10aGlzLl9hY3RpdmVUb3VjaElkc1toXTtpZighKChuPShyPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5jYWxsKHIsbCkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShsKSxsIT09LTEmJigoYT1vW2hdKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmFbSi5MZWZ0Q2xpY2tdKT09PTEpe29baF1bSi5MZWZ0Q2xpY2tdPTA7Y29uc3QgdT1maS5DcmVhdGVEZXZpY2VFdmVudChHLlRvdWNoLGgsSi5MZWZ0Q2xpY2ssMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLGwpO3RoaXMuX29uSW5wdXRDaGFuZ2VkKEcuVG91Y2gsaCx1KSx0aGlzLl9hY3RpdmVUb3VjaElkc1toXT0tMSx0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChHLlRvdWNoLGgpfX19fSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudD1pPT57Y29uc3Qgcz1HLk1vdXNlLHI9MDt0aGlzLl9pbnB1dHNbc118fCh0aGlzLl9pbnB1dHNbc109W10pLHRoaXMuX2lucHV0c1tzXVtyXXx8KHRoaXMuX3BvaW50ZXJBY3RpdmU9ITAsdGhpcy5fcmVnaXN0ZXJEZXZpY2UocyxyLEFyKSk7Y29uc3Qgbj10aGlzLl9pbnB1dHNbc11bcl07aWYobil7bltKLk1vdXNlV2hlZWxYXT1pLmRlbHRhWHx8MCxuW0ouTW91c2VXaGVlbFldPWkuZGVsdGFZfHxpLndoZWVsRGVsdGF8fDAsbltKLk1vdXNlV2hlZWxaXT1pLmRlbHRhWnx8MDtjb25zdCBhPWk7aS5wb2ludGVySWQ9PT12b2lkIDAmJihpLnBvaW50ZXJJZD10aGlzLl9tb3VzZUlkKSxuW0ouTW91c2VXaGVlbFhdIT09MCYmKGEuaW5wdXRJbmRleD1KLk1vdXNlV2hlZWxYLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSksbltKLk1vdXNlV2hlZWxZXSE9PTAmJihhLmlucHV0SW5kZXg9Si5Nb3VzZVdoZWVsWSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSkpLG5bSi5Nb3VzZVdoZWVsWl0hPT0wJiYoYS5pbnB1dEluZGV4PUouTW91c2VXaGVlbFosdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKX19LHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrIm1vdmUiLHRoaXMuX3BvaW50ZXJNb3ZlRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImRvd24iLHRoaXMuX3BvaW50ZXJEb3duRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrInVwIix0aGlzLl9wb2ludGVyVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiY2FuY2VsIix0aGlzLl9wb2ludGVyQ2FuY2VsRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fd2hlZWxFdmVudE5hbWUsdGhpcy5fcG9pbnRlcldoZWVsRXZlbnQsZT97cGFzc2l2ZTohMX06ITEpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXI9dGhpcy5fZW5naW5lLm9uRW5kRnJhbWVPYnNlcnZhYmxlLmFkZCgoKT0+e2lmKHRoaXMuaXNEZXZpY2VBdmFpbGFibGUoRy5Nb3VzZSkpe2NvbnN0IGk9dGhpcy5faW5wdXRzW0cuTW91c2VdWzBdO2lbSi5Nb3VzZVdoZWVsWF09MCxpW0ouTW91c2VXaGVlbFldPTAsaVtKLk1vdXNlV2hlZWxaXT0wfX0pfV9oYW5kbGVHYW1lcGFkQWN0aW9ucygpe3RoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1lPT57dGhpcy5fYWRkR2FtZVBhZChlLmdhbWVwYWQpfSx0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQ9ZT0+e2lmKHRoaXMuX2dhbWVwYWRzKXtjb25zdCB0PXRoaXMuX2dldEdhbWVwYWREZXZpY2VUeXBlKGUuZ2FtZXBhZC5pZCksaT1lLmdhbWVwYWQuaW5kZXg7dGhpcy5fdW5yZWdpc3RlckRldmljZSh0LGkpLGRlbGV0ZSB0aGlzLl9nYW1lcGFkc1tpXX19LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJnYW1lcGFkY29ubmVjdGVkIix0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJnYW1lcGFkZGlzY29ubmVjdGVkIix0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQpfV91cGRhdGVEZXZpY2UoZSx0LGkpe2NvbnN0IHM9bmF2aWdhdG9yLmdldEdhbWVwYWRzKClbdF07aWYocyYmZT09PXRoaXMuX2dhbWVwYWRzW3RdKXtjb25zdCByPXRoaXMuX2lucHV0c1tlXVt0XTtpPj1zLmJ1dHRvbnMubGVuZ3RoP3JbaV09cy5heGVzW2ktcy5idXR0b25zLmxlbmd0aF0udmFsdWVPZigpOnJbaV09cy5idXR0b25zW2ldLnZhbHVlfX1fZ2V0R2FtZXBhZERldmljZVR5cGUoZSl7cmV0dXJuIGUuaW5kZXhPZigiMDU0YyIpIT09LTE/ZS5pbmRleE9mKCIwY2U2IikhPT0tMT9HLkR1YWxTZW5zZTpHLkR1YWxTaG9jazplLmluZGV4T2YoIlhib3ggT25lIikhPT0tMXx8ZS5zZWFyY2goIlhib3ggMzYwIikhPT0tMXx8ZS5zZWFyY2goInhpbnB1dCIpIT09LTE/Ry5YYm94OmUuaW5kZXhPZigiMDU3ZSIpIT09LTE/Ry5Td2l0Y2g6Ry5HZW5lcmljfV9nZXRQb2ludGVyVHlwZShlKXtsZXQgdD1HLk1vdXNlO3JldHVybihlLnBvaW50ZXJUeXBlPT09InRvdWNoInx8ZS5wb2ludGVyVHlwZT09PSJwZW4ifHxlLnRvdWNoZXMpJiYodD1HLlRvdWNoKSx0fX1jbGFzcyBScntjb25zdHJ1Y3RvcihlLHQsaT0wKXt0aGlzLmRldmljZVR5cGU9dCx0aGlzLmRldmljZVNsb3Q9aSx0aGlzLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbT1lfWdldElucHV0KGUpe3JldHVybiB0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5wb2xsSW5wdXQodGhpcy5kZXZpY2VUeXBlLHRoaXMuZGV2aWNlU2xvdCxlKX19Y2xhc3MgTG57Y29uc3RydWN0b3IoZSl7dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLl9yZWZDb3VudD0wLHRoaXMucmVnaXN0ZXJNYW5hZ2VyPW49Pntmb3IobGV0IGE9MDthPHRoaXMuX2RldmljZXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz10aGlzLl9kZXZpY2VzW2FdO2Zvcihjb25zdCBoIGluIG8pe2NvbnN0IGw9K2g7bi5fYWRkRGV2aWNlKG5ldyBScih0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbSxhLGwpKX19dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLnB1c2gobil9LHRoaXMudW5yZWdpc3Rlck1hbmFnZXI9bj0+e2NvbnN0IGE9dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLmluZGV4T2Yobik7YT4tMSYmdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLnNwbGljZShhLDEpfTtjb25zdCB0PU9iamVjdC5rZXlzKEcpLmxlbmd0aC8yO3RoaXMuX2RldmljZXM9bmV3IEFycmF5KHQpO2NvbnN0IGk9KG4sYSk9Pnt0aGlzLl9kZXZpY2VzW25dfHwodGhpcy5fZGV2aWNlc1tuXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbbl1bYV18fCh0aGlzLl9kZXZpY2VzW25dW2FdPWEpO2Zvcihjb25zdCBvIG9mIHRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycyl7Y29uc3QgaD1uZXcgUnIodGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0sbixhKTtvLl9hZGREZXZpY2UoaCl9fSxzPShuLGEpPT57dmFyIG87ISgobz10aGlzLl9kZXZpY2VzW25dKT09PW51bGx8fG89PT12b2lkIDApJiZvW2FdJiZkZWxldGUgdGhpcy5fZGV2aWNlc1tuXVthXTtmb3IoY29uc3QgaCBvZiB0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMpaC5fcmVtb3ZlRGV2aWNlKG4sYSl9LHI9KG4sYSxvKT0+e2lmKG8pZm9yKGNvbnN0IGggb2YgdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzKWguX29uSW5wdXRDaGFuZ2VkKG4sYSxvKX07dHlwZW9mIF9uYXRpdmU8InUiP3RoaXMuX2RldmljZUlucHV0U3lzdGVtPW5ldyB3bihpLHMscik6dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09bmV3IE9uKGUsaSxzLHIpfWRpc3Bvc2UoKXt0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5kaXNwb3NlKCl9fWNsYXNzIE5ue2dldERldmljZVNvdXJjZShlLHQpe2lmKHQ9PT12b2lkIDApe2lmKHRoaXMuX2ZpcnN0RGV2aWNlW2VdPT09dm9pZCAwKXJldHVybiBudWxsO3Q9dGhpcy5fZmlyc3REZXZpY2VbZV19cmV0dXJuIXRoaXMuX2RldmljZXNbZV18fHRoaXMuX2RldmljZXNbZV1bdF09PT12b2lkIDA/bnVsbDp0aGlzLl9kZXZpY2VzW2VdW3RdfWdldERldmljZVNvdXJjZXMoZSl7cmV0dXJuIHRoaXMuX2RldmljZXNbZV0/dGhpcy5fZGV2aWNlc1tlXS5maWx0ZXIodD0+ISF0KTpbXX1jb25zdHJ1Y3RvcihlKXtjb25zdCB0PU9iamVjdC5rZXlzKEcpLmxlbmd0aC8yO3RoaXMuX2RldmljZXM9bmV3IEFycmF5KHQpLHRoaXMuX2ZpcnN0RGV2aWNlPW5ldyBBcnJheSh0KSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXJ8fCh0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXI9bmV3IExuKGUpKSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuX3JlZkNvdW50KyssdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGU9bmV3IHcoaT0+e2Zvcihjb25zdCBzIG9mIHRoaXMuX2RldmljZXMpaWYocylmb3IoY29uc3QgciBvZiBzKXImJnRoaXMub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVyKGkscil9KSx0aGlzLm9uRGV2aWNlRGlzY29ubmVjdGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIucmVnaXN0ZXJNYW5hZ2VyKHRoaXMpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPWUub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmRpc3Bvc2UoKX0pfWRpc3Bvc2UoKXt0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLnVucmVnaXN0ZXJNYW5hZ2VyKHRoaXMpLC0tdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLl9yZWZDb3VudDwxJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyKSksdGhpcy5fZW5naW5lLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKX1fYWRkRGV2aWNlKGUpe3RoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXXx8KHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXVtlLmRldmljZVNsb3RdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF09ZSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZS5kZXZpY2VUeXBlKSksdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfV9yZW1vdmVEZXZpY2UoZSx0KXt2YXIgaSxzO2NvbnN0IHI9KGk9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppW3RdO3RoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSwhKChzPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8cz09PXZvaWQgMCkmJnNbdF0mJmRlbGV0ZSB0aGlzLl9kZXZpY2VzW2VdW3RdLHRoaXMuX3VwZGF0ZUZpcnN0RGV2aWNlcyhlKX1fb25JbnB1dENoYW5nZWQoZSx0LGkpe3ZhciBzLHI7KHI9KHM9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzW3RdKT09PW51bGx8fHI9PT12b2lkIDB8fHIub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpKX1fdXBkYXRlRmlyc3REZXZpY2VzKGUpe3N3aXRjaChlKXtjYXNlIEcuS2V5Ym9hcmQ6Y2FzZSBHLk1vdXNlOnRoaXMuX2ZpcnN0RGV2aWNlW2VdPTA7YnJlYWs7Y2FzZSBHLlRvdWNoOmNhc2UgRy5EdWFsU2Vuc2U6Y2FzZSBHLkR1YWxTaG9jazpjYXNlIEcuWGJveDpjYXNlIEcuU3dpdGNoOmNhc2UgRy5HZW5lcmljOntkZWxldGUgdGhpcy5fZmlyc3REZXZpY2VbZV07Y29uc3QgdD10aGlzLl9kZXZpY2VzW2VdO2lmKHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0pe3RoaXMuX2ZpcnN0RGV2aWNlW2VdPWk7YnJlYWt9fWJyZWFrfX19fWNsYXNzIHlye2NvbnN0cnVjdG9yKCl7dGhpcy5fc2luZ2xlQ2xpY2s9ITEsdGhpcy5fZG91YmxlQ2xpY2s9ITEsdGhpcy5faGFzU3dpcGVkPSExLHRoaXMuX2lnbm9yZT0hMX1nZXQgc2luZ2xlQ2xpY2soKXtyZXR1cm4gdGhpcy5fc2luZ2xlQ2xpY2t9Z2V0IGRvdWJsZUNsaWNrKCl7cmV0dXJuIHRoaXMuX2RvdWJsZUNsaWNrfWdldCBoYXNTd2lwZWQoKXtyZXR1cm4gdGhpcy5faGFzU3dpcGVkfWdldCBpZ25vcmUoKXtyZXR1cm4gdGhpcy5faWdub3JlfXNldCBzaW5nbGVDbGljayhlKXt0aGlzLl9zaW5nbGVDbGljaz1lfXNldCBkb3VibGVDbGljayhlKXt0aGlzLl9kb3VibGVDbGljaz1lfXNldCBoYXNTd2lwZWQoZSl7dGhpcy5faGFzU3dpcGVkPWV9c2V0IGlnbm9yZShlKXt0aGlzLl9pZ25vcmU9ZX19Y2xhc3MgUGV7Y29uc3RydWN0b3IoZSl7dGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsLHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdD1udWxsLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPTAsdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEsdGhpcy5fc2tpcFBvaW50ZXJUYXA9ITEsdGhpcy5faXNNdWx0aVRvdWNoR2VzdHVyZT0hMSx0aGlzLl9wb2ludGVyWD0wLHRoaXMuX3BvaW50ZXJZPTAsdGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb249bmV3IHZlKDAsMCksdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbj1uZXcgdmUoMCwwKSx0aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcG9pbnRlckNhcHR1cmVzPXt9LHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZD17fSx0aGlzLl9tb3ZlUG9pbnRlckluZm89bnVsbCx0aGlzLl9jYW1lcmFPYnNlcnZlckNvdW50PTAsdGhpcy5fZGVsYXllZENsaWNrcz1bbnVsbCxudWxsLG51bGwsbnVsbCxudWxsXSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fc2NlbmU9ZXx8Y2UuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZX1nZXQgbWVzaFVuZGVyUG9pbnRlcigpe3JldHVybiB0aGlzLl9tb3ZlUG9pbnRlckluZm8mJih0aGlzLl9tb3ZlUG9pbnRlckluZm8uX2dlbmVyYXRlUGlja0luZm8oKSx0aGlzLl9tb3ZlUG9pbnRlckluZm89bnVsbCksdGhpcy5fcG9pbnRlck92ZXJNZXNofWdldE1lc2hVbmRlclBvaW50ZXJCeVBvaW50ZXJJZChlKXtyZXR1cm4gdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW2VdfHxudWxsfWdldCB1blRyYW5zbGF0ZWRQb2ludGVyKCl7cmV0dXJuIG5ldyB2ZSh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSl9Z2V0IHBvaW50ZXJYKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJYfXNldCBwb2ludGVyWChlKXt0aGlzLl9wb2ludGVyWD1lfWdldCBwb2ludGVyWSgpe3JldHVybiB0aGlzLl9wb2ludGVyWX1zZXQgcG9pbnRlclkoZSl7dGhpcy5fcG9pbnRlclk9ZX1fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuZ2V0SW5wdXRFbGVtZW50Q2xpZW50UmVjdCgpO3QmJih0aGlzLl9wb2ludGVyWD1lLmNsaWVudFgtdC5sZWZ0LHRoaXMuX3BvaW50ZXJZPWUuY2xpZW50WS10LnRvcCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWD10aGlzLl9wb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWT10aGlzLl9wb2ludGVyWSl9X3Byb2Nlc3NQb2ludGVyTW92ZShlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmUscz1pLmdldEVuZ2luZSgpLHI9cy5nZXRJbnB1dEVsZW1lbnQoKTtyJiYoci50YWJJbmRleD1zLmNhbnZhc1RhYkluZGV4LGkuZG9Ob3RIYW5kbGVDdXJzb3JzfHwoci5zdHlsZS5jdXJzb3I9aS5kZWZhdWx0Q3Vyc29yKSksdGhpcy5fc2V0Q3Vyc29yQW5kUG9pbnRlck92ZXJNZXNoKGUsdCxpKTtmb3IoY29uc3QgbyBvZiBpLl9wb2ludGVyTW92ZVN0YWdlKXtjb25zdCBoPSEhKGUhPW51bGwmJmUucGlja2VkTWVzaCk7ZT1vLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLGgscil9Y29uc3Qgbj10LmlucHV0SW5kZXg+PUouTW91c2VXaGVlbFgmJnQuaW5wdXRJbmRleDw9Si5Nb3VzZVdoZWVsWj9wZS5QT0lOVEVSV0hFRUw6cGUuUE9JTlRFUk1PVkU7aS5vblBvaW50ZXJNb3ZlJiYoZT1lfHx0aGlzLl9waWNrTW92ZSh0KSxpLm9uUG9pbnRlck1vdmUodCxlLG4pKTtsZXQgYTtlPyhhPW5ldyBWdChuLHQsZSksdGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpKTooYT1uZXcgVnQobix0LG51bGwsdGhpcyksdGhpcy5fbW92ZVBvaW50ZXJJbmZvPWEpLGkub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmaS5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhLG4pfV9zZXRSYXlPblBvaW50ZXJJbmZvKGUsdCl7Y29uc3QgaT10aGlzLl9zY2VuZTtlJiZpLl9waWNraW5nQXZhaWxhYmxlJiYoZS5yYXl8fChlLnJheT1pLmNyZWF0ZVBpY2tpbmdSYXkodC5vZmZzZXRYLHQub2Zmc2V0WSxNLklkZW50aXR5KCksaS5hY3RpdmVDYW1lcmEpKSl9X2FkZENhbWVyYVBvaW50ZXJPYnNlcnZlcihlLHQpe3JldHVybiB0aGlzLl9jYW1lcmFPYnNlcnZlckNvdW50KyssdGhpcy5fc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQoZSx0KX1fcmVtb3ZlQ2FtZXJhUG9pbnRlck9ic2VydmVyKGUpe3JldHVybiB0aGlzLl9jYW1lcmFPYnNlcnZlckNvdW50LS0sdGhpcy5fc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5yZW1vdmUoZSl9X2NoZWNrRm9yUGlja2luZygpe3JldHVybiEhKHRoaXMuX3NjZW5lLm9uUG9pbnRlck9ic2VydmFibGUub2JzZXJ2ZXJzLmxlbmd0aD50aGlzLl9jYW1lcmFPYnNlcnZlckNvdW50fHx0aGlzLl9zY2VuZS5vblBvaW50ZXJQaWNrKX1fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLHQsaSl7Y29uc3Qgcz10aGlzLl9zY2VuZSxyPW5ldyBGbihpLHQsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclkpO3JldHVybiBlJiYoci5vcmlnaW5hbFBpY2tpbmdJbmZvPWUsci5yYXk9ZS5yYXksZS5vcmlnaW5NZXNoJiYoci5uZWFySW50ZXJhY3Rpb25QaWNraW5nSW5mbz1lKSkscy5vblByZVBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyLGkpLCEhci5za2lwT25Qb2ludGVyT2JzZXJ2YWJsZX1fcGlja01vdmUoZSl7Y29uc3QgdD10aGlzLl9zY2VuZSxpPXQucGljayh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSx0LnBvaW50ZXJNb3ZlUHJlZGljYXRlLCExLHQuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyx0LnBvaW50ZXJNb3ZlVHJpYW5nbGVQcmVkaWNhdGUpO3JldHVybiB0aGlzLl9zZXRDdXJzb3JBbmRQb2ludGVyT3Zlck1lc2goaSxlLHQpLGl9X3NldEN1cnNvckFuZFBvaW50ZXJPdmVyTWVzaChlLHQsaSl7Y29uc3Qgcj1pLmdldEVuZ2luZSgpLmdldElucHV0RWxlbWVudCgpO2lmKGUhPW51bGwmJmUucGlja2VkTWVzaCl7aWYodGhpcy5zZXRQb2ludGVyT3Zlck1lc2goZS5waWNrZWRNZXNoLHQucG9pbnRlcklkLGUsdCksIWkuZG9Ob3RIYW5kbGVDdXJzb3JzJiZyJiZ0aGlzLl9wb2ludGVyT3Zlck1lc2gpe2NvbnN0IG49dGhpcy5fcG9pbnRlck92ZXJNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpO24mJm4uaGFzUG9pbnRlclRyaWdnZXJzJiYoci5zdHlsZS5jdXJzb3I9bi5ob3ZlckN1cnNvcnx8aS5ob3ZlckN1cnNvcil9fWVsc2UgdGhpcy5zZXRQb2ludGVyT3Zlck1lc2gobnVsbCx0LnBvaW50ZXJJZCxlLHQpfXNpbXVsYXRlUG9pbnRlck1vdmUoZSx0KXtjb25zdCBpPW5ldyBQb2ludGVyRXZlbnQoInBvaW50ZXJtb3ZlIix0KTtpLmlucHV0SW5kZXg9Si5Nb3ZlLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUsaSxwZS5QT0lOVEVSTU9WRSkmJnRoaXMuX3Byb2Nlc3NQb2ludGVyTW92ZShlLGkpfXNpbXVsYXRlUG9pbnRlckRvd24oZSx0KXtjb25zdCBpPW5ldyBQb2ludGVyRXZlbnQoInBvaW50ZXJkb3duIix0KTtpLmlucHV0SW5kZXg9aS5idXR0b24rMiwhdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLGkscGUuUE9JTlRFUkRPV04pJiZ0aGlzLl9wcm9jZXNzUG9pbnRlckRvd24oZSxpKX1fcHJvY2Vzc1BvaW50ZXJEb3duKGUsdCl7Y29uc3QgaT10aGlzLl9zY2VuZTtpZihlIT1udWxsJiZlLnBpY2tlZE1lc2gpe3RoaXMuX3BpY2tlZERvd25NZXNoPWUucGlja2VkTWVzaDtjb25zdCBuPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtpZihuKXtpZihuLmhhc1BpY2tUcmlnZ2Vycylzd2l0Y2gobi5wcm9jZXNzVHJpZ2dlcig1LFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpLHQuYnV0dG9uKXtjYXNlIDA6bi5wcm9jZXNzVHJpZ2dlcigyLFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrO2Nhc2UgMTpuLnByb2Nlc3NUcmlnZ2VyKDQsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWs7Y2FzZSAyOm4ucHJvY2Vzc1RyaWdnZXIoMyxWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVha31uLmhhc1NwZWNpZmljVHJpZ2dlcig4KSYmd2luZG93LnNldFRpbWVvdXQoKCk9Pntjb25zdCBhPWkucGljayh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxvPT5vLmlzUGlja2FibGUmJm8uaXNWaXNpYmxlJiZvLmlzUmVhZHkoKSYmby5hY3Rpb25NYW5hZ2VyJiZvLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyKDgpJiZvPT09dGhpcy5fcGlja2VkRG93bk1lc2gsITEsaS5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKTthIT1udWxsJiZhLnBpY2tlZE1lc2gmJm4mJnRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkIT09MCYmRGF0ZS5ub3coKS10aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPlBlLkxvbmdQcmVzc0RlbGF5JiYhdGhpcy5faXNQb2ludGVyU3dpcGluZygpJiYodGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT0wLG4ucHJvY2Vzc1RyaWdnZXIoOCxWZS5DcmVhdGVOZXcoYS5waWNrZWRNZXNoLHQpKSl9LFBlLkxvbmdQcmVzc0RlbGF5KX19ZWxzZSBmb3IoY29uc3QgbiBvZiBpLl9wb2ludGVyRG93blN0YWdlKWU9bi5hY3Rpb24odGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksZSx0LCExKTtsZXQgcztjb25zdCByPXBlLlBPSU5URVJET1dOO2U/KGkub25Qb2ludGVyRG93biYmaS5vblBvaW50ZXJEb3duKHQsZSxyKSxzPW5ldyBWdChyLHQsZSksdGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpKTpzPW5ldyBWdChyLHQsbnVsbCx0aGlzKSxpLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJmkub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyxyKX1faXNQb2ludGVyU3dpcGluZygpe3JldHVybiB0aGlzLl9pc1N3aXBpbmd9c2ltdWxhdGVQb2ludGVyVXAoZSx0LGkpe2NvbnN0IHM9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcnVwIix0KTtzLmlucHV0SW5kZXg9Si5Nb3ZlO2NvbnN0IHI9bmV3IHlyO2k/ci5kb3VibGVDbGljaz0hMDpyLnNpbmdsZUNsaWNrPSEwLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUscyxwZS5QT0lOVEVSVVApJiZ0aGlzLl9wcm9jZXNzUG9pbnRlclVwKGUscyxyKX1fcHJvY2Vzc1BvaW50ZXJVcChlLHQsaSl7Y29uc3Qgcz10aGlzLl9zY2VuZTtpZihlIT1udWxsJiZlLnBpY2tlZE1lc2gpe2lmKHRoaXMuX3BpY2tlZFVwTWVzaD1lLnBpY2tlZE1lc2gsdGhpcy5fcGlja2VkRG93bk1lc2g9PT10aGlzLl9waWNrZWRVcE1lc2gmJihzLm9uUG9pbnRlclBpY2smJnMub25Qb2ludGVyUGljayh0LGUpLGkuc2luZ2xlQ2xpY2smJiFpLmlnbm9yZSYmcy5vblBvaW50ZXJPYnNlcnZhYmxlLm9ic2VydmVycy5sZW5ndGg+dGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudCkpe2NvbnN0IG49cGUuUE9JTlRFUlBJQ0ssYT1uZXcgVnQobix0LGUpO3RoaXMuX3NldFJheU9uUG9pbnRlckluZm8oZSx0KSxzLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsbil9Y29uc3Qgcj1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk7aWYociYmIWkuaWdub3JlKXtyLnByb2Nlc3NUcmlnZ2VyKDcsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKSwhaS5oYXNTd2lwZWQmJmkuc2luZ2xlQ2xpY2smJnIucHJvY2Vzc1RyaWdnZXIoMSxWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpO2NvbnN0IG49ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcig2KTtpLmRvdWJsZUNsaWNrJiZuJiZuLnByb2Nlc3NUcmlnZ2VyKDYsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKX19ZWxzZSBpZighaS5pZ25vcmUpZm9yKGNvbnN0IHIgb2Ygcy5fcG9pbnRlclVwU3RhZ2UpZT1yLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLHQsaS5kb3VibGVDbGljayk7aWYodGhpcy5fcGlja2VkRG93bk1lc2gmJnRoaXMuX3BpY2tlZERvd25NZXNoIT09dGhpcy5fcGlja2VkVXBNZXNoKXtjb25zdCByPXRoaXMuX3BpY2tlZERvd25NZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigxNik7ciYmci5wcm9jZXNzVHJpZ2dlcigxNixWZS5DcmVhdGVOZXcodGhpcy5fcGlja2VkRG93bk1lc2gsdCkpfWlmKCFpLmlnbm9yZSl7Y29uc3Qgcj1uZXcgVnQocGUuUE9JTlRFUlVQLHQsZSk7aWYodGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpLHMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixwZS5QT0lOVEVSVVApLHMub25Qb2ludGVyVXAmJnMub25Qb2ludGVyVXAodCxlLHBlLlBPSU5URVJVUCksIWkuaGFzU3dpcGVkJiYhdGhpcy5fc2tpcFBvaW50ZXJUYXAmJiF0aGlzLl9pc011bHRpVG91Y2hHZXN0dXJlKXtsZXQgbj0wO2lmKGkuc2luZ2xlQ2xpY2s/bj1wZS5QT0lOVEVSVEFQOmkuZG91YmxlQ2xpY2smJihuPXBlLlBPSU5URVJET1VCTEVUQVApLG4pe2NvbnN0IGE9bmV3IFZ0KG4sdCxlKTtzLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnMub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2sobikmJnMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxuKX19fX1pc1BvaW50ZXJDYXB0dXJlZChlPTApe3JldHVybiB0aGlzLl9wb2ludGVyQ2FwdHVyZXNbZV19YXR0YWNoQ29udHJvbChlPSEwLHQ9ITAsaT0hMCxzPW51bGwpe2NvbnN0IHI9dGhpcy5fc2NlbmUsbj1yLmdldEVuZ2luZSgpO3N8fChzPW4uZ2V0SW5wdXRFbGVtZW50KCkpLHRoaXMuX2FscmVhZHlBdHRhY2hlZCYmdGhpcy5kZXRhY2hDb250cm9sKCkscyYmKHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPXMpLHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bmV3IE5uKG4pLHRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyPWE9PntpZighdGhpcy5fbWVzaFBpY2tQcm9jZWVkKXtjb25zdCBvPXIuc2tpcFBvaW50ZXJVcFBpY2tpbmd8fHIuX3JlZ2lzdGVyZWRBY3Rpb25zPT09MCYmIXRoaXMuX2NoZWNrRm9yUGlja2luZygpJiYhci5vblBvaW50ZXJVcD9udWxsOnIucGljayh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxyLnBvaW50ZXJVcFByZWRpY2F0ZSwhMSxyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpO3RoaXMuX2N1cnJlbnRQaWNrUmVzdWx0PW8sbyYmKGE9by5oaXQmJm8ucGlja2VkTWVzaD9vLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk6bnVsbCksdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSEwfXJldHVybiBhfSx0aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2s9KGEsbyxoKT0+e2lmKChEYXRlLm5vdygpLXRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT5QZS5Eb3VibGVDbGlja0RlbGF5JiYhdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkfHxhIT09dGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkKSYmKHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSxvLnNpbmdsZUNsaWNrPSEwLG8uaWdub3JlPSExLHRoaXMuX2RlbGF5ZWRDbGlja3NbYV0pKXtjb25zdCBsPXRoaXMuX2RlbGF5ZWRDbGlja3NbYV0uZXZ0LHU9cGUuUE9JTlRFUlRBUCxkPW5ldyBWdCh1LGwsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpO3Iub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmci5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayh1KSYmci5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhkLHUpLHRoaXMuX2RlbGF5ZWRDbGlja3NbYV09bnVsbH19LHRoaXMuX2luaXRDbGlja0V2ZW50PShhLG8saCxsKT0+e3ZhciB1LGQ7Y29uc3QgXz1uZXcgeXI7dGhpcy5fY3VycmVudFBpY2tSZXN1bHQ9bnVsbDtsZXQgZj1udWxsLG09YS5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUlBJQ0spfHxvLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSUElDSyl8fGEuaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJUQVApfHxvLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSVEFQKXx8YS5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUkRPVUJMRVRBUCl8fG8uaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJET1VCTEVUQVApOyFtJiZkdCYmKGY9dGhpcy5faW5pdEFjdGlvbk1hbmFnZXIoZixfKSxmJiYobT1mLmhhc1BpY2tUcmlnZ2VycykpO2xldCB2PSExO2lmKG0pe2NvbnN0IEU9aC5idXR0b247aWYoXy5oYXNTd2lwZWQ9dGhpcy5faXNQb2ludGVyU3dpcGluZygpLCFfLmhhc1N3aXBlZCl7bGV0IFM9IVBlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZTtpZihTfHwoUz0hYS5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUkRPVUJMRVRBUCkmJiFvLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSRE9VQkxFVEFQKSxTJiYhZHQuSGFzU3BlY2lmaWNUcmlnZ2VyKDYpJiYoZj10aGlzLl9pbml0QWN0aW9uTWFuYWdlcihmLF8pLGYmJihTPSFmLmhhc1NwZWNpZmljVHJpZ2dlcig2KSkpKSxTKShEYXRlLm5vdygpLXRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT5QZS5Eb3VibGVDbGlja0RlbGF5fHxFIT09dGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkKSYmKF8uc2luZ2xlQ2xpY2s9ITAsbChfLHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSx2PSEwKTtlbHNle2NvbnN0IEE9e2V2dDpoLGNsaWNrSW5mbzpfLHRpbWVvdXRJZDp3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2suYmluZCh0aGlzLEUsXyxsKSxQZS5Eb3VibGVDbGlja0RlbGF5KX07dGhpcy5fZGVsYXllZENsaWNrc1tFXT1BfWxldCBSPWEuaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJET1VCTEVUQVApfHxvLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSRE9VQkxFVEFQKTshUiYmZHQuSGFzU3BlY2lmaWNUcmlnZ2VyKDYpJiYoZj10aGlzLl9pbml0QWN0aW9uTWFuYWdlcihmLF8pLGYmJihSPWYuaGFzU3BlY2lmaWNUcmlnZ2VyKDYpKSksUiYmKEU9PT10aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQmJkRhdGUubm93KCktdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPFBlLkRvdWJsZUNsaWNrRGVsYXkmJiF0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ/KCFfLmhhc1N3aXBlZCYmIXRoaXMuX2lzUG9pbnRlclN3aXBpbmcoKT8odGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSEwLF8uZG91YmxlQ2xpY2s9ITAsXy5pZ25vcmU9ITEsUGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlJiZ0aGlzLl9kZWxheWVkQ2xpY2tzW0VdJiYoY2xlYXJUaW1lb3V0KCh1PXRoaXMuX2RlbGF5ZWRDbGlja3NbRV0pPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dS50aW1lb3V0SWQpLHRoaXMuX2RlbGF5ZWRDbGlja3NbRV09bnVsbCksbChfLHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSk6KHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9dGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueCx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueSx0aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQ9RSxQZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU/KHRoaXMuX2RlbGF5ZWRDbGlja3NbRV0mJihjbGVhclRpbWVvdXQoKGQ9dGhpcy5fZGVsYXllZENsaWNrc1tFXSk9PT1udWxsfHxkPT09dm9pZCAwP3ZvaWQgMDpkLnRpbWVvdXRJZCksdGhpcy5fZGVsYXllZENsaWNrc1tFXT1udWxsKSxsKF8sdGhpcy5fcHJldmlvdXNQaWNrUmVzdWx0KSk6bChfLHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSksdj0hMCk6KHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9dGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueCx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueSx0aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQ9RSkpfX12fHxsKF8sdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpfSx0aGlzLl9vblBvaW50ZXJNb3ZlPWE9PntpZih0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24oYSksIXRoaXMuX2lzU3dpcGluZyYmdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkIT09LTEmJih0aGlzLl9pc1N3aXBpbmc9TWF0aC5hYnModGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueC10aGlzLl9wb2ludGVyWCk+UGUuRHJhZ01vdmVtZW50VGhyZXNob2xkfHxNYXRoLmFicyh0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55LXRoaXMuX3BvaW50ZXJZKT5QZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGQpLG4uaXNQb2ludGVyTG9jayYmbi5fdmVyaWZ5UG9pbnRlckxvY2soKSx0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsYSxhLmlucHV0SW5kZXg+PUouTW91c2VXaGVlbFgmJmEuaW5wdXRJbmRleDw9Si5Nb3VzZVdoZWVsWj9wZS5QT0lOVEVSV0hFRUw6cGUuUE9JTlRFUk1PVkUpfHwhci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzJiYhci5hY3RpdmVDYW1lcmEpcmV0dXJuO2lmKHIuc2tpcFBvaW50ZXJNb3ZlUGlja2luZyl7dGhpcy5fcHJvY2Vzc1BvaW50ZXJNb3ZlKG5ldyBrdCxhKTtyZXR1cm59ci5wb2ludGVyTW92ZVByZWRpY2F0ZXx8KHIucG9pbnRlck1vdmVQcmVkaWNhdGU9aD0+aC5pc1BpY2thYmxlJiZoLmlzVmlzaWJsZSYmaC5pc1JlYWR5KCkmJmguaXNFbmFibGVkKCkmJihoLmVuYWJsZVBvaW50ZXJNb3ZlRXZlbnRzfHxyLmNvbnN0YW50bHlVcGRhdGVNZXNoVW5kZXJQb2ludGVyfHxoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpIT09bnVsbCkmJighci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwoci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZoLmxheWVyTWFzaykhPT0wKSk7Y29uc3Qgbz1yLl9yZWdpc3RlcmVkQWN0aW9ucz4wP3RoaXMuX3BpY2tNb3ZlKGEpOm51bGw7dGhpcy5fcHJvY2Vzc1BvaW50ZXJNb3ZlKG8sYSl9LHRoaXMuX29uUG9pbnRlckRvd249YT0+e3ZhciBvO2lmKHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkKyssdGhpcy5fcGlja2VkRG93bk1lc2g9bnVsbCx0aGlzLl9tZXNoUGlja1Byb2NlZWQ9ITEsUGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlKXtmb3IobGV0IGw9MDtsPHRoaXMuX2RlbGF5ZWRDbGlja3MubGVuZ3RoO2wrKylpZih0aGlzLl9kZWxheWVkQ2xpY2tzW2xdKWlmKGEuYnV0dG9uPT09bCljbGVhclRpbWVvdXQoKG89dGhpcy5fZGVsYXllZENsaWNrc1tsXSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLnRpbWVvdXRJZCk7ZWxzZXtjb25zdCB1PXRoaXMuX2RlbGF5ZWRDbGlja3NbbF0uY2xpY2tJbmZvO3RoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSx1LnNpbmdsZUNsaWNrPSEwLHUuaWdub3JlPSExO2NvbnN0IGQ9dGhpcy5fZGVsYXllZENsaWNrc1tsXS5ldnQsXz1wZS5QT0lOVEVSVEFQLGY9bmV3IFZ0KF8sZCx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCk7ci5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZyLm9uUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKF8pJiZyLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGYsXyksdGhpcy5fZGVsYXllZENsaWNrc1tsXT1udWxsfX1pZih0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24oYSksdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPT09LTEmJih0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9YS5idXR0b24pLHIucHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duJiZzJiYoYS5wcmV2ZW50RGVmYXVsdCgpLHMuZm9jdXMoKSksdGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD10aGlzLl9wb2ludGVyWCx0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PXRoaXMuX3BvaW50ZXJZLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWU9RGF0ZS5ub3coKSx0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsYSxwZS5QT0lOVEVSRE9XTil8fCFyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMmJiFyLmFjdGl2ZUNhbWVyYSlyZXR1cm47dGhpcy5fcG9pbnRlckNhcHR1cmVzW2EucG9pbnRlcklkXT0hMCxyLnBvaW50ZXJEb3duUHJlZGljYXRlfHwoci5wb2ludGVyRG93blByZWRpY2F0ZT1sPT5sLmlzUGlja2FibGUmJmwuaXNWaXNpYmxlJiZsLmlzUmVhZHkoKSYmbC5pc0VuYWJsZWQoKSYmKCFyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fChyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMubGF5ZXJNYXNrJmwubGF5ZXJNYXNrKSE9PTApKSx0aGlzLl9waWNrZWREb3duTWVzaD1udWxsO2xldCBoO3Iuc2tpcFBvaW50ZXJEb3duUGlja2luZ3x8ci5fcmVnaXN0ZXJlZEFjdGlvbnM9PT0wJiYhdGhpcy5fY2hlY2tGb3JQaWNraW5nKCkmJiFyLm9uUG9pbnRlckRvd24/aD1uZXcga3Q6aD1yLnBpY2sodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksci5wb2ludGVyRG93blByZWRpY2F0ZSwhMSxyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpLHRoaXMuX3Byb2Nlc3NQb2ludGVyRG93bihoLGEpfSx0aGlzLl9vblBvaW50ZXJVcD1hPT57dGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQhPT0wJiYodGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQtLSx0aGlzLl9waWNrZWRVcE1lc2g9bnVsbCx0aGlzLl9tZXNoUGlja1Byb2NlZWQ9ITEsdGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGEpLHIucHJldmVudERlZmF1bHRPblBvaW50ZXJVcCYmcyYmKGEucHJldmVudERlZmF1bHQoKSxzLmZvY3VzKCkpLHRoaXMuX2luaXRDbGlja0V2ZW50KHIub25QcmVQb2ludGVyT2JzZXJ2YWJsZSxyLm9uUG9pbnRlck9ic2VydmFibGUsYSwobyxoKT0+e2lmKHIub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmKHRoaXMuX3NraXBQb2ludGVyVGFwPSExLCFvLmlnbm9yZSkpe2lmKHRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLHBlLlBPSU5URVJVUCkpe3RoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD09PWEuYnV0dG9uJiYodGhpcy5faXNTd2lwaW5nPSExLHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD0tMSk7cmV0dXJufW8uaGFzU3dpcGVkfHwoby5zaW5nbGVDbGljayYmci5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSVEFQKSYmdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEscGUuUE9JTlRFUlRBUCkmJih0aGlzLl9za2lwUG9pbnRlclRhcD0hMCksby5kb3VibGVDbGljayYmci5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSRE9VQkxFVEFQKSYmdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEscGUuUE9JTlRFUkRPVUJMRVRBUCkmJih0aGlzLl9za2lwUG9pbnRlclRhcD0hMCkpfWlmKCF0aGlzLl9wb2ludGVyQ2FwdHVyZXNbYS5wb2ludGVySWRdKXt0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9PT1hLmJ1dHRvbiYmKHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEpO3JldHVybn1hLmJ1dHRvbnM9PT0wJiYodGhpcy5fcG9pbnRlckNhcHR1cmVzW2EucG9pbnRlcklkXT0hMSksISghci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzJiYhci5hY3RpdmVDYW1lcmEpJiYoci5wb2ludGVyVXBQcmVkaWNhdGV8fChyLnBvaW50ZXJVcFByZWRpY2F0ZT1sPT5sLmlzUGlja2FibGUmJmwuaXNWaXNpYmxlJiZsLmlzUmVhZHkoKSYmbC5pc0VuYWJsZWQoKSYmKCFyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fChyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMubGF5ZXJNYXNrJmwubGF5ZXJNYXNrKSE9PTApKSwhdGhpcy5fbWVzaFBpY2tQcm9jZWVkJiYoZHQmJmR0Lkhhc1RyaWdnZXJzfHx0aGlzLl9jaGVja0ZvclBpY2tpbmcoKXx8ci5vblBvaW50ZXJVcCkmJnRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyKG51bGwsbyksaHx8KGg9dGhpcy5fY3VycmVudFBpY2tSZXN1bHQpLHRoaXMuX3Byb2Nlc3NQb2ludGVyVXAoaCxhLG8pLHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdD10aGlzLl9jdXJyZW50UGlja1Jlc3VsdCx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9PT1hLmJ1dHRvbiYmKHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEpKX0pKX0sdGhpcy5fb25LZXlEb3duPWE9Pntjb25zdCBvPXNzLktFWURPV047aWYoci5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7Y29uc3QgaD1uZXcgdnIobyxhKTtpZihyLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLG8pLGguc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlKXJldHVybn1pZihyLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtjb25zdCBoPW5ldyB3cyhvLGEpO3Iub25LZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgsbyl9ci5hY3Rpb25NYW5hZ2VyJiZyLmFjdGlvbk1hbmFnZXIucHJvY2Vzc1RyaWdnZXIoMTQsVmUuQ3JlYXRlTmV3RnJvbVNjZW5lKHIsYSkpfSx0aGlzLl9vbktleVVwPWE9Pntjb25zdCBvPXNzLktFWVVQO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IHZyKG8sYSk7aWYoci5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKSxoLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYoci5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7Y29uc3QgaD1uZXcgd3MobyxhKTtyLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLG8pfXIuYWN0aW9uTWFuYWdlciYmci5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDE1LFZlLkNyZWF0ZU5ld0Zyb21TY2VuZShyLGEpKX0sdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlci5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUuYWRkKGE9PnthLmRldmljZVR5cGU9PT1HLk1vdXNlP2Eub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChvPT57by5pbnB1dEluZGV4PT09Si5MZWZ0Q2xpY2t8fG8uaW5wdXRJbmRleD09PUouTWlkZGxlQ2xpY2t8fG8uaW5wdXRJbmRleD09PUouUmlnaHRDbGlja3x8by5pbnB1dEluZGV4PT09Si5Ccm93c2VyQmFja3x8by5pbnB1dEluZGV4PT09Si5Ccm93c2VyRm9yd2FyZD90JiZhLmdldElucHV0KG8uaW5wdXRJbmRleCk9PT0xP3RoaXMuX29uUG9pbnRlckRvd24obyk6ZSYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MCYmdGhpcy5fb25Qb2ludGVyVXAobyk6aSYmKG8uaW5wdXRJbmRleD09PUouTW92ZT90aGlzLl9vblBvaW50ZXJNb3ZlKG8pOihvLmlucHV0SW5kZXg9PT1KLk1vdXNlV2hlZWxYfHxvLmlucHV0SW5kZXg9PT1KLk1vdXNlV2hlZWxZfHxvLmlucHV0SW5kZXg9PT1KLk1vdXNlV2hlZWxaKSYmdGhpcy5fb25Qb2ludGVyTW92ZShvKSl9KTphLmRldmljZVR5cGU9PT1HLlRvdWNoP2Eub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChvPT57by5pbnB1dEluZGV4PT09Si5MZWZ0Q2xpY2smJih0JiZhLmdldElucHV0KG8uaW5wdXRJbmRleCk9PT0xPyh0aGlzLl9vblBvaW50ZXJEb3duKG8pLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPjEmJih0aGlzLl9pc011bHRpVG91Y2hHZXN0dXJlPSEwKSk6ZSYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MCYmKHRoaXMuX29uUG9pbnRlclVwKG8pLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPT09MCYmKHRoaXMuX2lzTXVsdGlUb3VjaEdlc3R1cmU9ITEpKSksaSYmby5pbnB1dEluZGV4PT09Si5Nb3ZlJiZ0aGlzLl9vblBvaW50ZXJNb3ZlKG8pfSk6YS5kZXZpY2VUeXBlPT09Ry5LZXlib2FyZCYmYS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUuYWRkKG89PntvLnR5cGU9PT0ia2V5ZG93biI/dGhpcy5fb25LZXlEb3duKG8pOm8udHlwZT09PSJrZXl1cCImJnRoaXMuX29uS2V5VXAobyl9KX0pLHRoaXMuX2FscmVhZHlBdHRhY2hlZD0hMH1kZXRhY2hDb250cm9sKCl7dGhpcy5fYWxyZWFkeUF0dGFjaGVkJiYodGhpcy5fZGV2aWNlU291cmNlTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1udWxsLHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvJiYhdGhpcy5fc2NlbmUuZG9Ob3RIYW5kbGVDdXJzb3JzJiYodGhpcy5fYWxyZWFkeUF0dGFjaGVkVG8uc3R5bGUuY3Vyc29yPXRoaXMuX3NjZW5lLmRlZmF1bHRDdXJzb3IpLHRoaXMuX2FscmVhZHlBdHRhY2hlZD0hMSx0aGlzLl9hbHJlYWR5QXR0YWNoZWRUbz1udWxsKX1zZXRQb2ludGVyT3Zlck1lc2goZSx0PTAsaSxzKXtpZih0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09PT1lJiYoIWV8fCFlLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZykpcmV0dXJuO2NvbnN0IHI9dGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdO2xldCBuO3ImJihuPXIuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDEwKSxuJiZuLnByb2Nlc3NUcmlnZ2VyKDEwLFZlLkNyZWF0ZU5ldyhyLHMse3BvaW50ZXJJZDp0fSkpKSxlPyh0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09ZSx0aGlzLl9wb2ludGVyT3Zlck1lc2g9ZSxuPWUuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDkpLG4mJm4ucHJvY2Vzc1RyaWdnZXIoOSxWZS5DcmVhdGVOZXcoZSxzLHtwb2ludGVySWQ6dCxwaWNrUmVzdWx0Oml9KSkpOihkZWxldGUgdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdLHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1udWxsKX1nZXRQb2ludGVyT3Zlck1lc2goKXtyZXR1cm4gdGhpcy5tZXNoVW5kZXJQb2ludGVyfV9pbnZhbGlkYXRlTWVzaChlKXt0aGlzLl9wb2ludGVyT3Zlck1lc2g9PT1lJiYodGhpcy5fcG9pbnRlck92ZXJNZXNoPW51bGwpLHRoaXMuX3BpY2tlZERvd25NZXNoPT09ZSYmKHRoaXMuX3BpY2tlZERvd25NZXNoPW51bGwpLHRoaXMuX3BpY2tlZFVwTWVzaD09PWUmJih0aGlzLl9waWNrZWRVcE1lc2g9bnVsbCk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkKXRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XT09PWUmJmRlbGV0ZSB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF19fVBlLkRyYWdNb3ZlbWVudFRocmVzaG9sZD0xMCxQZS5Mb25nUHJlc3NEZWxheT01MDAsUGUuRG91YmxlQ2xpY2tEZWxheT0zMDAsUGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPSExO2NsYXNzIE10e2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMubm9ybWFsPW5ldyBwKGUsdCxpKSx0aGlzLmQ9c31hc0FycmF5KCl7cmV0dXJuW3RoaXMubm9ybWFsLngsdGhpcy5ub3JtYWwueSx0aGlzLm5vcm1hbC56LHRoaXMuZF19Y2xvbmUoKXtyZXR1cm4gbmV3IE10KHRoaXMubm9ybWFsLngsdGhpcy5ub3JtYWwueSx0aGlzLm5vcm1hbC56LHRoaXMuZCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlBsYW5lIn1nZXRIYXNoQ29kZSgpe2xldCBlPXRoaXMubm9ybWFsLmdldEhhc2hDb2RlKCk7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZHwwKSxlfW5vcm1hbGl6ZSgpe2NvbnN0IGU9TWF0aC5zcXJ0KHRoaXMubm9ybWFsLngqdGhpcy5ub3JtYWwueCt0aGlzLm5vcm1hbC55KnRoaXMubm9ybWFsLnkrdGhpcy5ub3JtYWwueip0aGlzLm5vcm1hbC56KTtsZXQgdD0wO3JldHVybiBlIT09MCYmKHQ9MS9lKSx0aGlzLm5vcm1hbC54Kj10LHRoaXMubm9ybWFsLnkqPXQsdGhpcy5ub3JtYWwueio9dCx0aGlzLmQqPXQsdGhpc310cmFuc2Zvcm0oZSl7Y29uc3QgdD1NdC5fVG1wTWF0cml4O2UuaW52ZXJ0VG9SZWYodCk7Y29uc3QgaT10Lm0scz10aGlzLm5vcm1hbC54LHI9dGhpcy5ub3JtYWwueSxuPXRoaXMubm9ybWFsLnosYT10aGlzLmQsbz1zKmlbMF0rcippWzFdK24qaVsyXSthKmlbM10saD1zKmlbNF0rcippWzVdK24qaVs2XSthKmlbN10sbD1zKmlbOF0rcippWzldK24qaVsxMF0rYSppWzExXSx1PXMqaVsxMl0rcippWzEzXStuKmlbMTRdK2EqaVsxNV07cmV0dXJuIG5ldyBNdChvLGgsbCx1KX1kb3RDb29yZGluYXRlKGUpe3JldHVybiB0aGlzLm5vcm1hbC54KmUueCt0aGlzLm5vcm1hbC55KmUueSt0aGlzLm5vcm1hbC56KmUueit0aGlzLmR9Y29weUZyb21Qb2ludHMoZSx0LGkpe2NvbnN0IHM9dC54LWUueCxyPXQueS1lLnksbj10LnotZS56LGE9aS54LWUueCxvPWkueS1lLnksaD1pLnotZS56LGw9cipoLW4qbyx1PW4qYS1zKmgsZD1zKm8tciphLF89TWF0aC5zcXJ0KGwqbCt1KnUrZCpkKTtsZXQgZjtyZXR1cm4gXyE9PTA/Zj0xL186Zj0wLHRoaXMubm9ybWFsLng9bCpmLHRoaXMubm9ybWFsLnk9dSpmLHRoaXMubm9ybWFsLno9ZCpmLHRoaXMuZD0tKHRoaXMubm9ybWFsLngqZS54K3RoaXMubm9ybWFsLnkqZS55K3RoaXMubm9ybWFsLnoqZS56KSx0aGlzfWlzRnJvbnRGYWNpbmdUbyhlLHQpe3JldHVybiBwLkRvdCh0aGlzLm5vcm1hbCxlKTw9dH1zaWduZWREaXN0YW5jZVRvKGUpe3JldHVybiBwLkRvdChlLHRoaXMubm9ybWFsKSt0aGlzLmR9c3RhdGljIEZyb21BcnJheShlKXtyZXR1cm4gbmV3IE10KGVbMF0sZVsxXSxlWzJdLGVbM10pfXN0YXRpYyBGcm9tUG9pbnRzKGUsdCxpKXtjb25zdCBzPW5ldyBNdCgwLDAsMCwwKTtyZXR1cm4gcy5jb3B5RnJvbVBvaW50cyhlLHQsaSksc31zdGF0aWMgRnJvbVBvc2l0aW9uQW5kTm9ybWFsKGUsdCl7Y29uc3QgaT1uZXcgTXQoMCwwLDAsMCk7cmV0dXJuIHQubm9ybWFsaXplKCksaS5ub3JtYWw9dCxpLmQ9LSh0LngqZS54K3QueSplLnkrdC56KmUueiksaX1zdGF0aWMgU2lnbmVkRGlzdGFuY2VUb1BsYW5lRnJvbVBvc2l0aW9uQW5kTm9ybWFsKGUsdCxpKXtjb25zdCBzPS0odC54KmUueCt0LnkqZS55K3QueiplLnopO3JldHVybiBwLkRvdChpLHQpK3N9fU10Ll9UbXBNYXRyaXg9TS5JZGVudGl0eSgpO2NsYXNzIEV0e3N0YXRpYyBHZXRQbGFuZXMoZSl7Y29uc3QgdD1bXTtmb3IobGV0IGk9MDtpPDY7aSsrKXQucHVzaChuZXcgTXQoMCwwLDAsMCkpO3JldHVybiBFdC5HZXRQbGFuZXNUb1JlZihlLHQpLHR9c3RhdGljIEdldE5lYXJQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdK2lbMl0sdC5ub3JtYWwueT1pWzddK2lbNl0sdC5ub3JtYWwuej1pWzExXStpWzEwXSx0LmQ9aVsxNV0raVsxNF0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0RmFyUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXS1pWzJdLHQubm9ybWFsLnk9aVs3XS1pWzZdLHQubm9ybWFsLno9aVsxMV0taVsxMF0sdC5kPWlbMTVdLWlbMTRdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldExlZnRQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdK2lbMF0sdC5ub3JtYWwueT1pWzddK2lbNF0sdC5ub3JtYWwuej1pWzExXStpWzhdLHQuZD1pWzE1XStpWzEyXSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRSaWdodFBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10taVswXSx0Lm5vcm1hbC55PWlbN10taVs0XSx0Lm5vcm1hbC56PWlbMTFdLWlbOF0sdC5kPWlbMTVdLWlbMTJdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldFRvcFBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10taVsxXSx0Lm5vcm1hbC55PWlbN10taVs1XSx0Lm5vcm1hbC56PWlbMTFdLWlbOV0sdC5kPWlbMTVdLWlbMTNdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldEJvdHRvbVBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10raVsxXSx0Lm5vcm1hbC55PWlbN10raVs1XSx0Lm5vcm1hbC56PWlbMTFdK2lbOV0sdC5kPWlbMTVdK2lbMTNdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldFBsYW5lc1RvUmVmKGUsdCl7RXQuR2V0TmVhclBsYW5lVG9SZWYoZSx0WzBdKSxFdC5HZXRGYXJQbGFuZVRvUmVmKGUsdFsxXSksRXQuR2V0TGVmdFBsYW5lVG9SZWYoZSx0WzJdKSxFdC5HZXRSaWdodFBsYW5lVG9SZWYoZSx0WzNdKSxFdC5HZXRUb3BQbGFuZVRvUmVmKGUsdFs0XSksRXQuR2V0Qm90dG9tUGxhbmVUb1JlZihlLHRbNV0pfXN0YXRpYyBJc1BvaW50SW5GcnVzdHVtKGUsdCl7Zm9yKGxldCBpPTA7aTw2O2krKylpZih0W2ldLmRvdENvb3JkaW5hdGUoZSk8MClyZXR1cm4hMTtyZXR1cm4hMH19Y2xhc3MgQ3J7c3RhdGljIGdldCBVbmlxdWVJZCgpe2NvbnN0IGU9dGhpcy5fVW5pcXVlSWRDb3VudGVyO3JldHVybiB0aGlzLl9VbmlxdWVJZENvdW50ZXIrKyxlfX1Dci5fVW5pcXVlSWRDb3VudGVyPTE7Y2xhc3MgRWV7c3RhdGljIENvbXBhcmVMaWdodHNQcmlvcml0eShlLHQpe3JldHVybiBlLnNoYWRvd0VuYWJsZWQhPT10LnNoYWRvd0VuYWJsZWQ/KHQuc2hhZG93RW5hYmxlZD8xOjApLShlLnNoYWRvd0VuYWJsZWQ/MTowKTp0LnJlbmRlclByaW9yaXR5LWUucmVuZGVyUHJpb3JpdHl9fUVlLkZBTExPRkZfREVGQVVMVD0wLEVlLkZBTExPRkZfUEhZU0lDQUw9MSxFZS5GQUxMT0ZGX0dMVEY9MixFZS5GQUxMT0ZGX1NUQU5EQVJEPTMsRWUuTElHSFRNQVBfREVGQVVMVD0wLEVlLkxJR0hUTUFQX1NQRUNVTEFSPTEsRWUuTElHSFRNQVBfU0hBRE9XU09OTFk9MixFZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQz0wLEVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUj0xLEVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk9MixFZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFPTMsRWUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U9NCxFZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUPTAsRWUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD0xLEVlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVD0yLEVlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQ9Mzt2YXIgUHQ7KGZ1bmN0aW9uKGMpe2NbYy5CYWNrd2FyZENvbXBhdGlibGU9MF09IkJhY2t3YXJkQ29tcGF0aWJsZSIsY1tjLkludGVybWVkaWF0ZT0xXT0iSW50ZXJtZWRpYXRlIixjW2MuQWdncmVzc2l2ZT0yXT0iQWdncmVzc2l2ZSJ9KShQdHx8KFB0PXt9KSk7Y2xhc3MgYWUgZXh0ZW5kcyBRaXtzdGF0aWMgRGVmYXVsdE1hdGVyaWFsRmFjdG9yeShlKXt0aHJvdyBRKCJTdGFuZGFyZE1hdGVyaWFsIil9c3RhdGljIENvbGxpc2lvbkNvb3JkaW5hdG9yRmFjdG9yeSgpe3Rocm93IFEoIkRlZmF1bHRDb2xsaXNpb25Db29yZGluYXRvciIpfWdldCBlbnZpcm9ubWVudFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlfXNldCBlbnZpcm9ubWVudFRleHR1cmUoZSl7dGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlIT09ZSYmKHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfWdldCBpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb259Z2V0IHBlcmZvcm1hbmNlUHJpb3JpdHkoKXtyZXR1cm4gdGhpcy5fcGVyZm9ybWFuY2VQcmlvcml0eX1zZXQgcGVyZm9ybWFuY2VQcmlvcml0eShlKXtpZihlIT09dGhpcy5fcGVyZm9ybWFuY2VQcmlvcml0eSl7c3dpdGNoKHRoaXMuX3BlcmZvcm1hbmNlUHJpb3JpdHk9ZSxlKXtjYXNlIFB0LkJhY2t3YXJkQ29tcGF0aWJsZTp0aGlzLnNraXBGcnVzdHVtQ2xpcHBpbmc9ITEsdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcz0hMSx0aGlzLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITEsdGhpcy5hdXRvQ2xlYXI9ITA7YnJlYWs7Y2FzZSBQdC5JbnRlcm1lZGlhdGU6dGhpcy5za2lwRnJ1c3R1bUNsaXBwaW5nPSExLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ITEsdGhpcy5za2lwUG9pbnRlck1vdmVQaWNraW5nPSEwLHRoaXMuYXV0b0NsZWFyPSExO2JyZWFrO2Nhc2UgUHQuQWdncmVzc2l2ZTp0aGlzLnNraXBGcnVzdHVtQ2xpcHBpbmc9ITAsdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcz0hMCx0aGlzLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITAsdGhpcy5hdXRvQ2xlYXI9ITE7YnJlYWt9dGhpcy5vblNjZW5lUGVyZm9ybWFuY2VQcmlvcml0eUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX19c2V0IGZvcmNlV2lyZWZyYW1lKGUpe3RoaXMuX2ZvcmNlV2lyZWZyYW1lIT09ZSYmKHRoaXMuX2ZvcmNlV2lyZWZyYW1lPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCBmb3JjZVdpcmVmcmFtZSgpe3JldHVybiB0aGlzLl9mb3JjZVdpcmVmcmFtZX1zZXQgc2tpcEZydXN0dW1DbGlwcGluZyhlKXt0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nIT09ZSYmKHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmc9ZSl9Z2V0IHNraXBGcnVzdHVtQ2xpcHBpbmcoKXtyZXR1cm4gdGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ31zZXQgZm9yY2VQb2ludHNDbG91ZChlKXt0aGlzLl9mb3JjZVBvaW50c0Nsb3VkIT09ZSYmKHRoaXMuX2ZvcmNlUG9pbnRzQ2xvdWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvcmNlUG9pbnRzQ2xvdWQoKXtyZXR1cm4gdGhpcy5fZm9yY2VQb2ludHNDbG91ZH1nZXQgYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZX1zZXQgYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlKGUpe3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1lfXNldCBvbkRpc3Bvc2UoZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IGJlZm9yZVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksZSYmKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpKX1zZXQgYWZ0ZXJSZW5kZXIoZSl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLGUmJih0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSkpfXNldCBiZWZvcmVDYW1lcmFSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBhZnRlckNhbWVyYVJlbmRlcihlKXt0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlciksdGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUuYWRkKGUpfWdldCB1blRyYW5zbGF0ZWRQb2ludGVyKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci51blRyYW5zbGF0ZWRQb2ludGVyfXN0YXRpYyBnZXQgRHJhZ01vdmVtZW50VGhyZXNob2xkKCl7cmV0dXJuIFBlLkRyYWdNb3ZlbWVudFRocmVzaG9sZH1zdGF0aWMgc2V0IERyYWdNb3ZlbWVudFRocmVzaG9sZChlKXtQZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGQ9ZX1zdGF0aWMgZ2V0IExvbmdQcmVzc0RlbGF5KCl7cmV0dXJuIFBlLkxvbmdQcmVzc0RlbGF5fXN0YXRpYyBzZXQgTG9uZ1ByZXNzRGVsYXkoZSl7UGUuTG9uZ1ByZXNzRGVsYXk9ZX1zdGF0aWMgZ2V0IERvdWJsZUNsaWNrRGVsYXkoKXtyZXR1cm4gUGUuRG91YmxlQ2xpY2tEZWxheX1zdGF0aWMgc2V0IERvdWJsZUNsaWNrRGVsYXkoZSl7UGUuRG91YmxlQ2xpY2tEZWxheT1lfXN0YXRpYyBnZXQgRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlKCl7cmV0dXJuIFBlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZX1zdGF0aWMgc2V0IEV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZShlKXtQZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU9ZX1iaW5kRXllUG9zaXRpb24oZSx0PSJ2RXllUG9zaXRpb24iLGk9ITEpe3ZhciBzO2NvbnN0IHI9dGhpcy5fZm9yY2VkVmlld1Bvc2l0aW9uP3RoaXMuX2ZvcmNlZFZpZXdQb3NpdGlvbjp0aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uP3RoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb246KHM9dGhpcy5hY3RpdmVDYW1lcmEuZ2xvYmFsUG9zaXRpb24pIT09bnVsbCYmcyE9PXZvaWQgMD9zOnRoaXMuYWN0aXZlQ2FtZXJhLmRldmljZVBvc2l0aW9uLG49dGhpcy51c2VSaWdodEhhbmRlZFN5c3RlbT09PSh0aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uIT1udWxsKTtyZXR1cm4gRi5WZWN0b3I0WzBdLnNldChyLngsci55LHIueixuPy0xOjEpLGUmJihpP2Uuc2V0RmxvYXQzKHQsRi5WZWN0b3I0WzBdLngsRi5WZWN0b3I0WzBdLnksRi5WZWN0b3I0WzBdLnopOmUuc2V0VmVjdG9yNCh0LEYuVmVjdG9yNFswXSkpLEYuVmVjdG9yNFswXX1maW5hbGl6ZVNjZW5lVWJvKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLHQ9dGhpcy5iaW5kRXllUG9zaXRpb24obnVsbCk7cmV0dXJuIGUudXBkYXRlRmxvYXQ0KCJ2RXllUG9zaXRpb24iLHQueCx0LnksdC56LHQudyksZS51cGRhdGUoKSxlfXNldCB1c2VSaWdodEhhbmRlZFN5c3RlbShlKXt0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbSE9PWUmJih0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgdXNlUmlnaHRIYW5kZWRTeXN0ZW0oKXtyZXR1cm4gdGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW19c2V0U3RlcElkKGUpe3RoaXMuX2N1cnJlbnRTdGVwSWQ9ZX1nZXRTdGVwSWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudFN0ZXBJZH1nZXRJbnRlcm5hbFN0ZXAoKXtyZXR1cm4gdGhpcy5fY3VycmVudEludGVybmFsU3RlcH1zZXQgZm9nRW5hYmxlZChlKXt0aGlzLl9mb2dFbmFibGVkIT09ZSYmKHRoaXMuX2ZvZ0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZm9nRW5hYmxlZH1zZXQgZm9nTW9kZShlKXt0aGlzLl9mb2dNb2RlIT09ZSYmKHRoaXMuX2ZvZ01vZGU9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvZ01vZGUoKXtyZXR1cm4gdGhpcy5fZm9nTW9kZX1nZXQgcHJlUGFzcygpe3JldHVybiEhdGhpcy5wcmVQYXNzUmVuZGVyZXImJnRoaXMucHJlUGFzc1JlbmRlcmVyLmRlZmF1bHRSVC5lbmFibGVkfXNldCBzaGFkb3dzRW5hYmxlZChlKXt0aGlzLl9zaGFkb3dzRW5hYmxlZCE9PWUmJih0aGlzLl9zaGFkb3dzRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMikpfWdldCBzaGFkb3dzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9zaGFkb3dzRW5hYmxlZH1zZXQgbGlnaHRzRW5hYmxlZChlKXt0aGlzLl9saWdodHNFbmFibGVkIT09ZSYmKHRoaXMuX2xpZ2h0c0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDIpKX1nZXQgbGlnaHRzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9saWdodHNFbmFibGVkfWdldCBhY3RpdmVDYW1lcmFzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUNhbWVyYXN9c2V0IGFjdGl2ZUNhbWVyYXMoZSl7dGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcyYmKHRoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXMoKSx0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzPW51bGwpLGUmJih0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzPWlyKGUsKCk9Pnt0aGlzLm9uQWN0aXZlQ2FtZXJhc0NoYW5nZWQubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSkpLHRoaXMuX2FjdGl2ZUNhbWVyYXM9ZX1nZXQgYWN0aXZlQ2FtZXJhKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUNhbWVyYX1zZXQgYWN0aXZlQ2FtZXJhKGUpe2UhPT10aGlzLl9hY3RpdmVDYW1lcmEmJih0aGlzLl9hY3RpdmVDYW1lcmE9ZSx0aGlzLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnModGhpcykpfWdldCBkZWZhdWx0TWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdE1hdGVyaWFsfHwodGhpcy5fZGVmYXVsdE1hdGVyaWFsPWFlLkRlZmF1bHRNYXRlcmlhbEZhY3RvcnkodGhpcykpLHRoaXMuX2RlZmF1bHRNYXRlcmlhbH1zZXQgZGVmYXVsdE1hdGVyaWFsKGUpe3RoaXMuX2RlZmF1bHRNYXRlcmlhbD1lfXNldCB0ZXh0dXJlc0VuYWJsZWQoZSl7dGhpcy5fdGV4dHVyZXNFbmFibGVkIT09ZSYmKHRoaXMuX3RleHR1cmVzRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfWdldCB0ZXh0dXJlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNFbmFibGVkfXNldCBza2VsZXRvbnNFbmFibGVkKGUpe3RoaXMuX3NrZWxldG9uc0VuYWJsZWQhPT1lJiYodGhpcy5fc2tlbGV0b25zRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoOCkpfWdldCBza2VsZXRvbnNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NrZWxldG9uc0VuYWJsZWR9Z2V0IGNvbGxpc2lvbkNvb3JkaW5hdG9yKCl7cmV0dXJuIHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yfHwodGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3I9YWUuQ29sbGlzaW9uQ29vcmRpbmF0b3JGYWN0b3J5KCksdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3IuaW5pdCh0aGlzKSksdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3J9Z2V0IHJlbmRlcmluZ01hbmFnZXIoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWFuYWdlcn1nZXQgZnJ1c3R1bVBsYW5lcygpe3JldHVybiB0aGlzLl9mcnVzdHVtUGxhbmVzfV9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHMoKXtpZih0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLmxlbmd0aD4wKXtmb3IoY29uc3QgZSBvZiB0aGlzLl90cmFuc2llbnRDb21wb25lbnRzKWUucmVnaXN0ZXIoKTt0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLmxlbmd0aD0wfX1fYWRkQ29tcG9uZW50KGUpe3RoaXMuX2NvbXBvbmVudHMucHVzaChlKSx0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLnB1c2goZSk7Y29uc3QgdD1lO3QuYWRkRnJvbUNvbnRhaW5lciYmdC5zZXJpYWxpemUmJnRoaXMuX3NlcmlhbGl6YWJsZUNvbXBvbmVudHMucHVzaCh0KX1fZ2V0Q29tcG9uZW50KGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NvbXBvbmVudHMpaWYodC5uYW1lPT09ZSlyZXR1cm4gdDtyZXR1cm4gbnVsbH1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5faW5wdXRNYW5hZ2VyPW5ldyBQZSh0aGlzKSx0aGlzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnM9bnVsbCx0aGlzLl9pc1NjZW5lPSEwLHRoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbj0hMSx0aGlzLmF1dG9DbGVhcj0hMCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbD0hMCx0aGlzLmNsZWFyQ29sb3I9bmV3IE5lKC4yLC4yLC4zLDEpLHRoaXMuYW1iaWVudENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5lbnZpcm9ubWVudEludGVuc2l0eT0xLHRoaXMuX3BlcmZvcm1hbmNlUHJpb3JpdHk9UHQuQmFja3dhcmRDb21wYXRpYmxlLHRoaXMub25TY2VuZVBlcmZvcm1hbmNlUHJpb3JpdHlDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9mb3JjZVdpcmVmcmFtZT0hMSx0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nPSExLHRoaXMuX2ZvcmNlUG9pbnRzQ2xvdWQ9ITEsdGhpcy5hbmltYXRpb25zRW5hYmxlZD0hMCx0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9bnVsbCx0aGlzLnVzZUNvbnN0YW50QW5pbWF0aW9uRGVsdGFUaW1lPSExLHRoaXMuY29uc3RhbnRseVVwZGF0ZU1lc2hVbmRlclBvaW50ZXI9ITEsdGhpcy5ob3ZlckN1cnNvcj0icG9pbnRlciIsdGhpcy5kZWZhdWx0Q3Vyc29yPSIiLHRoaXMuZG9Ob3RIYW5kbGVDdXJzb3JzPSExLHRoaXMucHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duPSEwLHRoaXMucHJldmVudERlZmF1bHRPblBvaW50ZXJVcD0hMCx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuZGlzYWJsZU9mZmxpbmVTdXBwb3J0RXhjZXB0aW9uUnVsZXM9bmV3IEFycmF5LHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGU9bmV3IHcsdGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPW51bGwsdGhpcy5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVEcmF3UGhhc2VPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGU9bmV3IHcsdGhpcy5vblJlYWR5T2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyPW51bGwsdGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uRGF0YUxvYWRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3VHJhbnNmb3JtTm9kZUFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25NZXNoUmVtb3ZlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVTdGVwT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZD1uZXcgdyx0aGlzLm9uQWN0aXZlQ2FtZXJhc0NoYW5nZWQ9bmV3IHcsdGhpcy5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFuaW1hdGlvbkZpbGVJbXBvcnRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5fcmVnaXN0ZXJlZEZvckxhdGVBbmltYXRpb25CaW5kaW5ncz1uZXcgY2koMjU2KSx0aGlzLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITEsdGhpcy5za2lwUG9pbnRlckRvd25QaWNraW5nPSExLHRoaXMuc2tpcFBvaW50ZXJVcFBpY2tpbmc9ITEsdGhpcy5vblByZVBvaW50ZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25Qb2ludGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25LZXlib2FyZE9ic2VydmFibGU9bmV3IHcsdGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW09ITEsdGhpcy5fdGltZUFjY3VtdWxhdG9yPTAsdGhpcy5fY3VycmVudFN0ZXBJZD0wLHRoaXMuX2N1cnJlbnRJbnRlcm5hbFN0ZXA9MCx0aGlzLl9mb2dFbmFibGVkPSEwLHRoaXMuX2ZvZ01vZGU9YWUuRk9HTU9ERV9OT05FLHRoaXMuZm9nQ29sb3I9bmV3IHJlKC4yLC4yLC4zKSx0aGlzLmZvZ0RlbnNpdHk9LjEsdGhpcy5mb2dTdGFydD0wLHRoaXMuZm9nRW5kPTFlMyx0aGlzLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzPSExLHRoaXMuX3NoYWRvd3NFbmFibGVkPSEwLHRoaXMuX2xpZ2h0c0VuYWJsZWQ9ITAsdGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcz1udWxsLHRoaXMuX3RleHR1cmVzRW5hYmxlZD0hMCx0aGlzLnBoeXNpY3NFbmFibGVkPSEwLHRoaXMucGFydGljbGVzRW5hYmxlZD0hMCx0aGlzLnNwcml0ZXNFbmFibGVkPSEwLHRoaXMuX3NrZWxldG9uc0VuYWJsZWQ9ITAsdGhpcy5sZW5zRmxhcmVzRW5hYmxlZD0hMCx0aGlzLmNvbGxpc2lvbnNFbmFibGVkPSEwLHRoaXMuZ3Jhdml0eT1uZXcgcCgwLC05LjgwNywwKSx0aGlzLnBvc3RQcm9jZXNzZXNFbmFibGVkPSEwLHRoaXMucmVuZGVyVGFyZ2V0c0VuYWJsZWQ9ITAsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHM9ITEsdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzPW5ldyBBcnJheSx0aGlzLmltcG9ydGVkTWVzaGVzRmlsZXM9bmV3IEFycmF5LHRoaXMucHJvYmVzRW5hYmxlZD0hMCx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zPW5ldyBjaSgyNTYpLHRoaXMucHJvY2VkdXJhbFRleHR1cmVzRW5hYmxlZD0hMCx0aGlzLl90b3RhbFZlcnRpY2VzPW5ldyBDdCx0aGlzLl9hY3RpdmVJbmRpY2VzPW5ldyBDdCx0aGlzLl9hY3RpdmVQYXJ0aWNsZXM9bmV3IEN0LHRoaXMuX2FjdGl2ZUJvbmVzPW5ldyBDdCx0aGlzLl9hbmltYXRpb25UaW1lPTAsdGhpcy5hbmltYXRpb25UaW1lU2NhbGU9MSx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2ZyYW1lSWQ9MCx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGwsdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExLHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITEsdGhpcy5fdmlld1VwZGF0ZUZsYWc9LTEsdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9LTEsdGhpcy5fdG9CZURpc3Bvc2VkPW5ldyBBcnJheSgyNTYpLHRoaXMuX2FjdGl2ZVJlcXVlc3RzPW5ldyBBcnJheSx0aGlzLl9wZW5kaW5nRGF0YT1uZXcgQXJyYXksdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLmRpc3BhdGNoQWxsU3ViTWVzaGVzT2ZBY3RpdmVNZXNoZXM9ITEsdGhpcy5fYWN0aXZlTWVzaGVzPW5ldyBKZSgyNTYpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscz1uZXcgSmUoMjU2KSx0aGlzLl9yZW5kZXJUYXJnZXRzPW5ldyBjaSgyNTYpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHM9bmV3IGNpKDI1NiksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zPW5ldyBKZSgyNTYpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucz1uZXcgY2koMzIpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcz1uZXcgY2koMzIpLHRoaXMuX2FjdGl2ZUFuaW1hdGFibGVzPW5ldyBBcnJheSx0aGlzLl90cmFuc2Zvcm1NYXRyaXg9TS5aZXJvKCksdGhpcy5yZXF1aXJlTGlnaHRTb3J0aW5nPSExLHRoaXMuX2NvbXBvbmVudHM9W10sdGhpcy5fc2VyaWFsaXphYmxlQ29tcG9uZW50cz1bXSx0aGlzLl90cmFuc2llbnRDb21wb25lbnRzPVtdLHRoaXMuX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZUNsZWFyU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlUmVuZGVyVGFyZ2V0Q2xlYXJTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fZ2F0aGVyQWN0aXZlQ2FtZXJhUmVuZGVyVGFyZ2V0c1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2lzUmVhZHlGb3JNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fcHJlQWN0aXZlTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2NhbWVyYURyYXdSZW5kZXJUYXJnZXRTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVDYW1lcmFEcmF3U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlUmVuZGVyVGFyZ2V0RHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlcmluZ01lc2hTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyQ2FtZXJhUG9zdFByb2Nlc3NTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldFBvc3RQcm9jZXNzU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9wb2ludGVyTW92ZVN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX3BvaW50ZXJEb3duU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fcG9pbnRlclVwU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQ9bnVsbCx0aGlzLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXM9e2RhdGE6W10sbGVuZ3RoOjB9LHRoaXMuX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcz17ZGF0YTpbXSxsZW5ndGg6MH0sdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHM9ITEsdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuPSExLHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZz0hMSx0aGlzLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5PSExLHRoaXMuX2FsbG93UG9zdFByb2Nlc3NDbGVhckNvbG9yPSEwLHRoaXMuZ2V0RGV0ZXJtaW5pc3RpY0ZyYW1lVGltZT0oKT0+dGhpcy5fZW5naW5lLmdldFRpbWVTdGVwKCksdGhpcy5fcmVnaXN0ZXJlZEFjdGlvbnM9MCx0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc209ITEsdGhpcy5fcGVyZkNvbGxlY3Rvcj1udWxsLHRoaXMuYWN0aXZlQ2FtZXJhcz1uZXcgQXJyYXk7Y29uc3QgaT17dXNlR2VvbWV0cnlVbmlxdWVJZHNNYXA6ITAsdXNlTWF0ZXJpYWxNZXNoTWFwOiEwLHVzZUNsb25lZE1lc2hNYXA6ITAsdmlydHVhbDohMSwuLi50fTt0aGlzLl9lbmdpbmU9ZXx8Y2UuTGFzdENyZWF0ZWRFbmdpbmUsaS52aXJ0dWFsP3RoaXMuX2VuZ2luZS5fdmlydHVhbFNjZW5lcy5wdXNoKHRoaXMpOihjZS5fTGFzdENyZWF0ZWRTY2VuZT10aGlzLHRoaXMuX2VuZ2luZS5zY2VuZXMucHVzaCh0aGlzKSksdGhpcy5fdWlkPW51bGwsdGhpcy5fcmVuZGVyaW5nTWFuYWdlcj1uZXcgV2UodGhpcyksaXMmJih0aGlzLnBvc3RQcm9jZXNzTWFuYWdlcj1uZXcgaXModGhpcykpLGplKCkmJnRoaXMuYXR0YWNoQ29udHJvbCgpLHRoaXMuX2NyZWF0ZVVibygpLGdlJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj1uZXcgZ2UpLHRoaXMuc2V0RGVmYXVsdENhbmRpZGF0ZVByb3ZpZGVycygpLGkudXNlR2VvbWV0cnlVbmlxdWVJZHNNYXAmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZD17fSksdGhpcy51c2VNYXRlcmlhbE1lc2hNYXA9aS51c2VNYXRlcmlhbE1lc2hNYXAsdGhpcy51c2VDbG9uZWRNZXNoTWFwPWkudXNlQ2xvbmVkTWVzaE1hcCwoIXR8fCF0LnZpcnR1YWwpJiZ0aGlzLl9lbmdpbmUub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlNjZW5lIn1fZ2V0RGVmYXVsdE1lc2hDYW5kaWRhdGVzKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5kYXRhPXRoaXMubWVzaGVzLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5sZW5ndGg9dGhpcy5tZXNoZXMubGVuZ3RoLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlc31fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzKGUpe3JldHVybiB0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuZGF0YT1lLnN1Yk1lc2hlcyx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMubGVuZ3RoPWUuc3ViTWVzaGVzLmxlbmd0aCx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXN9c2V0RGVmYXVsdENhbmRpZGF0ZVByb3ZpZGVycygpe3RoaXMuZ2V0QWN0aXZlTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdE1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRBY3RpdmVTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldEludGVyc2VjdGluZ1N1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0Q29sbGlkaW5nU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyl9Z2V0IG1lc2hVbmRlclBvaW50ZXIoKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLm1lc2hVbmRlclBvaW50ZXJ9Z2V0IHBvaW50ZXJYKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWH1zZXQgcG9pbnRlclgoZSl7dGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJYPWV9Z2V0IHBvaW50ZXJZKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWX1zZXQgcG9pbnRlclkoZSl7dGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJZPWV9Z2V0Q2FjaGVkTWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5fY2FjaGVkTWF0ZXJpYWx9Z2V0Q2FjaGVkRWZmZWN0KCl7cmV0dXJuIHRoaXMuX2NhY2hlZEVmZmVjdH1nZXRDYWNoZWRWaXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuX2NhY2hlZFZpc2liaWxpdHl9aXNDYWNoZWRNYXRlcmlhbEludmFsaWQoZSx0LGk9MSl7cmV0dXJuIHRoaXMuX2NhY2hlZEVmZmVjdCE9PXR8fHRoaXMuX2NhY2hlZE1hdGVyaWFsIT09ZXx8dGhpcy5fY2FjaGVkVmlzaWJpbGl0eSE9PWl9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3RvdGFsVmVydGljZXMuY3VycmVudH1nZXQgdG90YWxWZXJ0aWNlc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX3RvdGFsVmVydGljZXN9Z2V0QWN0aXZlSW5kaWNlcygpe3JldHVybiB0aGlzLl9hY3RpdmVJbmRpY2VzLmN1cnJlbnR9Z2V0IHRvdGFsQWN0aXZlSW5kaWNlc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluZGljZXN9Z2V0QWN0aXZlUGFydGljbGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5jdXJyZW50fWdldCBhY3RpdmVQYXJ0aWNsZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl9hY3RpdmVQYXJ0aWNsZXN9Z2V0QWN0aXZlQm9uZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQm9uZXMuY3VycmVudH1nZXQgYWN0aXZlQm9uZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl9hY3RpdmVCb25lc31nZXRBY3RpdmVNZXNoZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzfWdldEFuaW1hdGlvblJhdGlvKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblJhdGlvIT09dm9pZCAwP3RoaXMuX2FuaW1hdGlvblJhdGlvOjF9Z2V0UmVuZGVySWQoKXtyZXR1cm4gdGhpcy5fcmVuZGVySWR9Z2V0RnJhbWVJZCgpe3JldHVybiB0aGlzLl9mcmFtZUlkfWluY3JlbWVudFJlbmRlcklkKCl7dGhpcy5fcmVuZGVySWQrK31fY3JlYXRlVWJvKCl7dGhpcy5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoKSl9c2ltdWxhdGVQb2ludGVyTW92ZShlLHQpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyTW92ZShlLHQpLHRoaXN9c2ltdWxhdGVQb2ludGVyRG93bihlLHQpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyRG93bihlLHQpLHRoaXN9c2ltdWxhdGVQb2ludGVyVXAoZSx0LGkpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyVXAoZSx0LGkpLHRoaXN9aXNQb2ludGVyQ2FwdHVyZWQoZT0wKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLmlzUG9pbnRlckNhcHR1cmVkKGUpfWF0dGFjaENvbnRyb2woZT0hMCx0PSEwLGk9ITApe3RoaXMuX2lucHV0TWFuYWdlci5hdHRhY2hDb250cm9sKGUsdCxpKX1kZXRhY2hDb250cm9sKCl7dGhpcy5faW5wdXRNYW5hZ2VyLmRldGFjaENvbnRyb2woKX1pc1JlYWR5KGU9ITApe2lmKHRoaXMuX2lzRGlzcG9zZWQpcmV0dXJuITE7bGV0IHQ7Y29uc3QgaT10aGlzLmdldEVuZ2luZSgpO2xldCBzPSEwO2Zvcih0aGlzLl9wZW5kaW5nRGF0YS5sZW5ndGg+MCYmKHM9ITEpLGUmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLnJlc2V0KCkpLHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0Kyspe2NvbnN0IHI9dGhpcy5tZXNoZXNbdF07aWYoIXIuc3ViTWVzaGVzfHxyLnN1Yk1lc2hlcy5sZW5ndGg9PT0wKWNvbnRpbnVlO2lmKCFyLmlzUmVhZHkoITApKXtzPSExO2NvbnRpbnVlfWNvbnN0IG49ci5oYXNUaGluSW5zdGFuY2VzfHxyLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZE1lc2gifHxyLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZExpbmVzTWVzaCJ8fGkuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmci5pbnN0YW5jZXMubGVuZ3RoPjA7Zm9yKGNvbnN0IG8gb2YgdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZSlvLmFjdGlvbihyLG4pfHwocz0hMSk7aWYoIWUpY29udGludWU7Y29uc3QgYT1yLm1hdGVyaWFsfHx0aGlzLmRlZmF1bHRNYXRlcmlhbDtpZihhKWlmKGEuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKGNvbnN0IG8gb2Ygci5zdWJNZXNoZXMpe2NvbnN0IGg9by5nZXRNYXRlcmlhbCgpO2gmJmguaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJmguZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKGgpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShoLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX1lbHNlIGEuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJmEuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKGEpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChhKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShhLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX1pZighc3x8IWkuYXJlQWxsRWZmZWN0c1JlYWR5KCkpcmV0dXJuITE7aWYoZSl7Zm9yKHQ9MDt0PHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMubGVuZ3RoOysrdClpZighdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kYXRhW3RdLmlzUmVhZHlGb3JSZW5kZXJpbmcoKSlyZXR1cm4hMX1mb3IodD0wO3Q8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDt0KyspaWYodGhpcy5nZW9tZXRyaWVzW3RdLmRlbGF5TG9hZFN0YXRlPT09MilyZXR1cm4hMTtpZih0aGlzLmFjdGl2ZUNhbWVyYXMmJnRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg+MCl7Zm9yKGNvbnN0IHIgb2YgdGhpcy5hY3RpdmVDYW1lcmFzKWlmKCFyLmlzUmVhZHkoITApKXJldHVybiExfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJiF0aGlzLmFjdGl2ZUNhbWVyYS5pc1JlYWR5KCEwKSlyZXR1cm4hMTtmb3IoY29uc3QgciBvZiB0aGlzLnBhcnRpY2xlU3lzdGVtcylpZighci5pc1JlYWR5KCkpcmV0dXJuITE7cmV0dXJuITB9cmVzZXRDYWNoZWRNYXRlcmlhbCgpe3RoaXMuX2NhY2hlZE1hdGVyaWFsPW51bGwsdGhpcy5fY2FjaGVkRWZmZWN0PW51bGwsdGhpcy5fY2FjaGVkVmlzaWJpbGl0eT1udWxsfXJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3RoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX11bnJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3RoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpfXJlZ2lzdGVyQWZ0ZXJSZW5kZXIoZSl7dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9dW5yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3RoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSl9X2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUpe2NvbnN0IHQ9KCk9PntlKCksc2V0VGltZW91dCgoKT0+e3RoaXMudW5yZWdpc3RlckJlZm9yZVJlbmRlcih0KX0pfTt0aGlzLnJlZ2lzdGVyQmVmb3JlUmVuZGVyKHQpfWV4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUsdCl7dCE9PXZvaWQgMD9zZXRUaW1lb3V0KCgpPT57dGhpcy5fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIoZSl9LHQpOnRoaXMuX2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUpfWFkZFBlbmRpbmdEYXRhKGUpe3RoaXMuX3BlbmRpbmdEYXRhLnB1c2goZSl9cmVtb3ZlUGVuZGluZ0RhdGEoZSl7Y29uc3QgdD10aGlzLmlzTG9hZGluZyxpPXRoaXMuX3BlbmRpbmdEYXRhLmluZGV4T2YoZSk7aSE9PS0xJiZ0aGlzLl9wZW5kaW5nRGF0YS5zcGxpY2UoaSwxKSx0JiYhdGhpcy5pc0xvYWRpbmcmJnRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0V2FpdGluZ0l0ZW1zQ291bnQoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RofWdldCBpc0xvYWRpbmcoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjB9ZXhlY3V0ZVdoZW5SZWFkeShlLHQ9ITEpe3RoaXMub25SZWFkeU9ic2VydmFibGUuYWRkT25jZShlKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPT09bnVsbCYmdGhpcy5fY2hlY2tJc1JlYWR5KHQpfXdoZW5SZWFkeUFzeW5jKGU9ITEpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57dGhpcy5leGVjdXRlV2hlblJlYWR5KCgpPT57dCgpfSxlKX0pfV9jaGVja0lzUmVhZHkoZT0hMSl7aWYodGhpcy5fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCksdGhpcy5pc1JlYWR5KGUpKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsO3JldHVybn1pZih0aGlzLl9pc0Rpc3Bvc2VkKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsO3JldHVybn10aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPXNldFRpbWVvdXQoKCk9Pnt0aGlzLmluY3JlbWVudFJlbmRlcklkKCksdGhpcy5fY2hlY2tJc1JlYWR5KGUpfSwxMDApfWdldCBhbmltYXRhYmxlcygpe3JldHVybiB0aGlzLl9hY3RpdmVBbmltYXRhYmxlc31yZXNldExhc3RBbmltYXRpb25UaW1lRnJhbWUoKXt0aGlzLl9hbmltYXRpb25UaW1lTGFzdD1oaS5Ob3d9Z2V0Vmlld01hdHJpeCgpe3JldHVybiB0aGlzLl92aWV3TWF0cml4fWdldFByb2plY3Rpb25NYXRyaXgoKXtyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeH1nZXRUcmFuc2Zvcm1NYXRyaXgoKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtTWF0cml4fXNldFRyYW5zZm9ybU1hdHJpeChlLHQsaSxzKXshaSYmIXMmJnRoaXMuX211bHRpdmlld1NjZW5lVWJvJiYodGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvPW51bGwpLCEodGhpcy5fdmlld1VwZGF0ZUZsYWc9PT1lLnVwZGF0ZUZsYWcmJnRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPT09dC51cGRhdGVGbGFnKSYmKHRoaXMuX3ZpZXdVcGRhdGVGbGFnPWUudXBkYXRlRmxhZyx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz10LnVwZGF0ZUZsYWcsdGhpcy5fdmlld01hdHJpeD1lLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9dCx0aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX2ZydXN0dW1QbGFuZXM/RXQuR2V0UGxhbmVzVG9SZWYodGhpcy5fdHJhbnNmb3JtTWF0cml4LHRoaXMuX2ZydXN0dW1QbGFuZXMpOnRoaXMuX2ZydXN0dW1QbGFuZXM9RXQuR2V0UGxhbmVzKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJnRoaXMuX211bHRpdmlld1NjZW5lVWJvLnVzZVVibz90aGlzLl91cGRhdGVNdWx0aXZpZXdVYm8oaSxzKTp0aGlzLl9zY2VuZVViby51c2VVYm8mJih0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgidmlldyIsdGhpcy5fdmlld01hdHJpeCksdGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJwcm9qZWN0aW9uIix0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSkpfWdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpe3JldHVybiB0aGlzLl9tdWx0aXZpZXdTY2VuZVVibz90aGlzLl9tdWx0aXZpZXdTY2VuZVVibzp0aGlzLl9zY2VuZVVib31jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoZSl7Y29uc3QgdD1uZXcgVih0aGlzLl9lbmdpbmUsdm9pZCAwLCExLGU/PyJzY2VuZSIpO3JldHVybiB0LmFkZFVuaWZvcm0oInZpZXdQcm9qZWN0aW9uIiwxNiksdC5hZGRVbmlmb3JtKCJ2aWV3IiwxNiksdC5hZGRVbmlmb3JtKCJwcm9qZWN0aW9uIiwxNiksdC5hZGRVbmlmb3JtKCJ2RXllUG9zaXRpb24iLDQpLHR9c2V0U2NlbmVVbmlmb3JtQnVmZmVyKGUpe3RoaXMuX3NjZW5lVWJvPWUsdGhpcy5fdmlld1VwZGF0ZUZsYWc9LTEsdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9LTF9Z2V0VW5pcXVlSWQoKXtyZXR1cm4gQ3IuVW5pcXVlSWR9YWRkTWVzaChlLHQ9ITEpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMubWVzaGVzLnB1c2goZSksZS5fcmVzeW5jTGlnaHRTb3VyY2VzKCksZS5wYXJlbnR8fGUuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uTmV3TWVzaEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdCYmZS5nZXRDaGlsZE1lc2hlcygpLmZvckVhY2goaT0+e3RoaXMuYWRkTWVzaChpKX0pKX1yZW1vdmVNZXNoKGUsdD0hMSl7Y29uc3QgaT10aGlzLm1lc2hlcy5pbmRleE9mKGUpO3JldHVybiBpIT09LTEmJih0aGlzLm1lc2hlc1tpXT10aGlzLm1lc2hlc1t0aGlzLm1lc2hlcy5sZW5ndGgtMV0sdGhpcy5tZXNoZXMucG9wKCksZS5wYXJlbnR8fGUuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9pbnB1dE1hbmFnZXIuX2ludmFsaWRhdGVNZXNoKGUpLHRoaXMub25NZXNoUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHQmJmUuZ2V0Q2hpbGRNZXNoZXMoKS5mb3JFYWNoKHM9Pnt0aGlzLnJlbW92ZU1lc2gocyl9KSxpfWFkZFRyYW5zZm9ybU5vZGUoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHxlLmdldFNjZW5lKCk9PT10aGlzJiZlLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5IT09LTF8fChlLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLHRoaXMudHJhbnNmb3JtTm9kZXMucHVzaChlKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9cmVtb3ZlVHJhbnNmb3JtTm9kZShlKXtjb25zdCB0PWUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk7aWYodCE9PS0xKXtpZih0IT09dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMSl7Y29uc3QgaT10aGlzLnRyYW5zZm9ybU5vZGVzW3RoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTFdO3RoaXMudHJhbnNmb3JtTm9kZXNbdF09aSxpLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXR9ZS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLnRyYW5zZm9ybU5vZGVzLnBvcCgpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVTa2VsZXRvbihlKXtjb25zdCB0PXRoaXMuc2tlbGV0b25zLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmKHRoaXMuc2tlbGV0b25zLnNwbGljZSh0LDEpLHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLl9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cCh0aGlzLl9hY3RpdmVTa2VsZXRvbnMpKSx0fXJlbW92ZU1vcnBoVGFyZ2V0TWFuYWdlcihlKXtjb25zdCB0PXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5zcGxpY2UodCwxKSx0fXJlbW92ZUxpZ2h0KGUpe2NvbnN0IHQ9dGhpcy5saWdodHMuaW5kZXhPZihlKTtpZih0IT09LTEpe2Zvcihjb25zdCBpIG9mIHRoaXMubWVzaGVzKWkuX3JlbW92ZUxpZ2h0U291cmNlKGUsITEpO3RoaXMubGlnaHRzLnNwbGljZSh0LDEpLHRoaXMuc29ydExpZ2h0c0J5UHJpb3JpdHkoKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCl9cmV0dXJuIHRoaXMub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZUNhbWVyYShlKXtjb25zdCB0PXRoaXMuY2FtZXJhcy5pbmRleE9mKGUpO2lmKHQhPT0tMSYmKHRoaXMuY2FtZXJhcy5zcGxpY2UodCwxKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCkpLHRoaXMuYWN0aXZlQ2FtZXJhcyl7Y29uc3QgaT10aGlzLmFjdGl2ZUNhbWVyYXMuaW5kZXhPZihlKTtpIT09LTEmJnRoaXMuYWN0aXZlQ2FtZXJhcy5zcGxpY2UoaSwxKX1yZXR1cm4gdGhpcy5hY3RpdmVDYW1lcmE9PT1lJiYodGhpcy5jYW1lcmFzLmxlbmd0aD4wP3RoaXMuYWN0aXZlQ2FtZXJhPXRoaXMuY2FtZXJhc1swXTp0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9cmVtb3ZlUGFydGljbGVTeXN0ZW0oZSl7Y29uc3QgdD10aGlzLnBhcnRpY2xlU3lzdGVtcy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJih0aGlzLnBhcnRpY2xlU3lzdGVtcy5zcGxpY2UodCwxKSx0aGlzLl9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cCh0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMpKSx0fXJlbW92ZUFuaW1hdGlvbihlKXtjb25zdCB0PXRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMuYW5pbWF0aW9ucy5zcGxpY2UodCwxKSx0fXN0b3BBbmltYXRpb24oZSx0LGkpe31yZW1vdmVBbmltYXRpb25Hcm91cChlKXtjb25zdCB0PXRoaXMuYW5pbWF0aW9uR3JvdXBzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5hbmltYXRpb25Hcm91cHMuc3BsaWNlKHQsMSksdH1yZW1vdmVNdWx0aU1hdGVyaWFsKGUpe2NvbnN0IHQ9dGhpcy5tdWx0aU1hdGVyaWFscy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMubXVsdGlNYXRlcmlhbHMuc3BsaWNlKHQsMSksdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVNYXRlcmlhbChlKXtjb25zdCB0PWUuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk7aWYodCE9PS0xJiZ0PHRoaXMubWF0ZXJpYWxzLmxlbmd0aCl7aWYodCE9PXRoaXMubWF0ZXJpYWxzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMubWF0ZXJpYWxzW3RoaXMubWF0ZXJpYWxzLmxlbmd0aC0xXTt0aGlzLm1hdGVyaWFsc1t0XT1pLGkuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9dH1lLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PS0xLHRoaXMubWF0ZXJpYWxzLnBvcCgpfXJldHVybiB0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVBY3Rpb25NYW5hZ2VyKGUpe2NvbnN0IHQ9dGhpcy5hY3Rpb25NYW5hZ2Vycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMuYWN0aW9uTWFuYWdlcnMuc3BsaWNlKHQsMSksdH1yZW1vdmVUZXh0dXJlKGUpe2NvbnN0IHQ9dGhpcy50ZXh0dXJlcy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMudGV4dHVyZXMuc3BsaWNlKHQsMSksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1hZGRMaWdodChlKXtpZighdGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9uKXt0aGlzLmxpZ2h0cy5wdXNoKGUpLHRoaXMuc29ydExpZ2h0c0J5UHJpb3JpdHkoKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpO2Zvcihjb25zdCB0IG9mIHRoaXMubWVzaGVzKXQubGlnaHRTb3VyY2VzLmluZGV4T2YoZSk9PT0tMSYmKHQubGlnaHRTb3VyY2VzLnB1c2goZSksdC5fcmVzeW5jTGlnaHRTb3VyY2VzKCkpO3RoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9fXNvcnRMaWdodHNCeVByaW9yaXR5KCl7dGhpcy5yZXF1aXJlTGlnaHRTb3J0aW5nJiZ0aGlzLmxpZ2h0cy5zb3J0KEVlLkNvbXBhcmVMaWdodHNQcmlvcml0eSl9YWRkQ2FtZXJhKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuY2FtZXJhcy5wdXNoKGUpLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCkpfWFkZFNrZWxldG9uKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuc2tlbGV0b25zLnB1c2goZSksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9YWRkUGFydGljbGVTeXN0ZW0oZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLnBhcnRpY2xlU3lzdGVtcy5wdXNoKGUpfWFkZEFuaW1hdGlvbihlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMuYW5pbWF0aW9ucy5wdXNoKGUpfWFkZEFuaW1hdGlvbkdyb3VwKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25Hcm91cHMucHVzaChlKX1hZGRNdWx0aU1hdGVyaWFsKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMubXVsdGlNYXRlcmlhbHMucHVzaChlKSx0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfWFkZE1hdGVyaWFsKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8ZS5nZXRTY2VuZSgpPT09dGhpcyYmZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheSE9PS0xfHwoZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT10aGlzLm1hdGVyaWFscy5sZW5ndGgsdGhpcy5tYXRlcmlhbHMucHVzaChlKSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1hZGRNb3JwaFRhcmdldE1hbmFnZXIoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMucHVzaChlKX1hZGRHZW9tZXRyeShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2UudW5pcXVlSWRdPXRoaXMuZ2VvbWV0cmllcy5sZW5ndGgpLHRoaXMuZ2VvbWV0cmllcy5wdXNoKGUpKX1hZGRBY3Rpb25NYW5hZ2VyKGUpe3RoaXMuYWN0aW9uTWFuYWdlcnMucHVzaChlKX1hZGRUZXh0dXJlKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMudGV4dHVyZXMucHVzaChlKSx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfXN3aXRjaEFjdGl2ZUNhbWVyYShlLHQ9ITApe3RoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKSYmKHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYS5kZXRhY2hDb250cm9sKCksdGhpcy5hY3RpdmVDYW1lcmE9ZSx0JiZlLmF0dGFjaENvbnRyb2woKSl9c2V0QWN0aXZlQ2FtZXJhQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0Q2FtZXJhQnlJZChlKTtyZXR1cm4gdD8odGhpcy5hY3RpdmVDYW1lcmE9dCx0KTpudWxsfXNldEFjdGl2ZUNhbWVyYUJ5TmFtZShlKXtjb25zdCB0PXRoaXMuZ2V0Q2FtZXJhQnlOYW1lKGUpO3JldHVybiB0Pyh0aGlzLmFjdGl2ZUNhbWVyYT10LHQpOm51bGx9Z2V0QW5pbWF0aW9uR3JvdXBCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmFuaW1hdGlvbkdyb3Vwcy5sZW5ndGg7dCsrKWlmKHRoaXMuYW5pbWF0aW9uR3JvdXBzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLmFuaW1hdGlvbkdyb3Vwc1t0XTtyZXR1cm4gbnVsbH1fZ2V0TWF0ZXJpYWwoZSx0KXtmb3IobGV0IGk9MDtpPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5tYXRlcmlhbHNbaV07aWYodChzKSlyZXR1cm4gc31pZihlKWZvcihsZXQgaT0wO2k8dGhpcy5tdWx0aU1hdGVyaWFscy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMubXVsdGlNYXRlcmlhbHNbaV07aWYodChzKSlyZXR1cm4gc31yZXR1cm4gbnVsbH1nZXRNYXRlcmlhbEJ5VW5pcXVlSUQoZSx0PSExKXtyZXR1cm4gdGhpcy5fZ2V0TWF0ZXJpYWwodCxpPT5pLnVuaXF1ZUlkPT09ZSl9Z2V0TWF0ZXJpYWxCeUlkKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2dldE1hdGVyaWFsKHQsaT0+aS5pZD09PWUpfWdldE1hdGVyaWFsQnlOYW1lKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2dldE1hdGVyaWFsKHQsaT0+aS5uYW1lPT09ZSl9Z2V0TGFzdE1hdGVyaWFsQnlJZChlLHQ9ITEpe2ZvcihsZXQgaT10aGlzLm1hdGVyaWFscy5sZW5ndGgtMTtpPj0wO2ktLSlpZih0aGlzLm1hdGVyaWFsc1tpXS5pZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWxzW2ldO2lmKHQpe2ZvcihsZXQgaT10aGlzLm11bHRpTWF0ZXJpYWxzLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHRoaXMubXVsdGlNYXRlcmlhbHNbaV0uaWQ9PT1lKXJldHVybiB0aGlzLm11bHRpTWF0ZXJpYWxzW2ldfXJldHVybiBudWxsfWdldFRleHR1cmVCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50ZXh0dXJlcy5sZW5ndGg7dCsrKWlmKHRoaXMudGV4dHVyZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLnRleHR1cmVzW3RdO3JldHVybiBudWxsfWdldFRleHR1cmVCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRleHR1cmVzLmxlbmd0aDt0KyspaWYodGhpcy50ZXh0dXJlc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy50ZXh0dXJlc1t0XTtyZXR1cm4gbnVsbH1nZXRDYW1lcmFCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jYW1lcmFzLmxlbmd0aDt0KyspaWYodGhpcy5jYW1lcmFzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5jYW1lcmFzW3RdO3JldHVybiBudWxsfWdldENhbWVyYUJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmNhbWVyYXMubGVuZ3RoO3QrKylpZih0aGlzLmNhbWVyYXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07cmV0dXJuIG51bGx9Z2V0Q2FtZXJhQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jYW1lcmFzLmxlbmd0aDt0KyspaWYodGhpcy5jYW1lcmFzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07cmV0dXJuIG51bGx9Z2V0Qm9uZUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuc2tlbGV0b25zW3RdO2ZvcihsZXQgcz0wO3M8aS5ib25lcy5sZW5ndGg7cysrKWlmKGkuYm9uZXNbc10uaWQ9PT1lKXJldHVybiBpLmJvbmVzW3NdfXJldHVybiBudWxsfWdldEJvbmVCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuc2tlbGV0b25zW3RdO2ZvcihsZXQgcz0wO3M8aS5ib25lcy5sZW5ndGg7cysrKWlmKGkuYm9uZXNbc10ubmFtZT09PWUpcmV0dXJuIGkuYm9uZXNbc119cmV0dXJuIG51bGx9Z2V0TGlnaHRCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxpZ2h0cy5sZW5ndGg7dCsrKWlmKHRoaXMubGlnaHRzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXRMaWdodEJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxpZ2h0cy5sZW5ndGg7dCsrKWlmKHRoaXMubGlnaHRzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5saWdodHNbdF07cmV0dXJuIG51bGx9Z2V0TGlnaHRCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5saWdodHMubGVuZ3RoO3QrKylpZih0aGlzLmxpZ2h0c1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMubGlnaHRzW3RdO3JldHVybiBudWxsfWdldFBhcnRpY2xlU3lzdGVtQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMucGFydGljbGVTeXN0ZW1zLmxlbmd0aDt0KyspaWYodGhpcy5wYXJ0aWNsZVN5c3RlbXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnBhcnRpY2xlU3lzdGVtc1t0XTtyZXR1cm4gbnVsbH1nZXRHZW9tZXRyeUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3QrKylpZih0aGlzLmdlb21ldHJpZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmdlb21ldHJpZXNbdF07cmV0dXJuIG51bGx9X2dldEdlb21ldHJ5QnlVbmlxdWVJZChlKXtpZih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCl7Y29uc3QgdD10aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtlXTtpZih0IT09dm9pZCAwKXJldHVybiB0aGlzLmdlb21ldHJpZXNbdF19ZWxzZSBmb3IobGV0IHQ9MDt0PHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7dCsrKWlmKHRoaXMuZ2VvbWV0cmllc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1t0XTtyZXR1cm4gbnVsbH1wdXNoR2VvbWV0cnkoZSx0KXtyZXR1cm4hdCYmdGhpcy5fZ2V0R2VvbWV0cnlCeVVuaXF1ZUlkKGUudW5pcXVlSWQpPyExOih0aGlzLmFkZEdlb21ldHJ5KGUpLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksITApfXJlbW92ZUdlb21ldHJ5KGUpe2xldCB0O2lmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkKXtpZih0PXRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2UudW5pcXVlSWRdLHQ9PT12b2lkIDApcmV0dXJuITF9ZWxzZSBpZih0PXRoaXMuZ2VvbWV0cmllcy5pbmRleE9mKGUpLHQ8MClyZXR1cm4hMTtpZih0IT09dGhpcy5nZW9tZXRyaWVzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMuZ2VvbWV0cmllc1t0aGlzLmdlb21ldHJpZXMubGVuZ3RoLTFdO2kmJih0aGlzLmdlb21ldHJpZXNbdF09aSx0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2kudW5pcXVlSWRdPXQpKX1yZXR1cm4gdGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtlLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuZ2VvbWV0cmllcy5wb3AoKSx0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksITB9Z2V0R2VvbWV0cmllcygpe3JldHVybiB0aGlzLmdlb21ldHJpZXN9Z2V0TWVzaEJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKWlmKHRoaXMubWVzaGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0TWVzaGVzQnlJZChlKXtyZXR1cm4gdGhpcy5tZXNoZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pfWdldFRyYW5zZm9ybU5vZGVCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO3JldHVybiBudWxsfWdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO3JldHVybiBudWxsfWdldFRyYW5zZm9ybU5vZGVzQnlJZChlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSl9Z2V0TWVzaEJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKWlmKHRoaXMubWVzaGVzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0TGFzdE1lc2hCeUlkKGUpe2ZvcihsZXQgdD10aGlzLm1lc2hlcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLm1lc2hlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO3JldHVybiBudWxsfWdldExhc3RFbnRyeUJ5SWQoZSl7bGV0IHQ7Zm9yKHQ9dGhpcy5tZXNoZXMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5tZXNoZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtmb3IodD10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO2Zvcih0PXRoaXMuY2FtZXJhcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLmNhbWVyYXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07Zm9yKHQ9dGhpcy5saWdodHMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5saWdodHNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXROb2RlQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0TWVzaEJ5SWQoZSk7aWYodClyZXR1cm4gdDtjb25zdCBpPXRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5SWQoZSk7aWYoaSlyZXR1cm4gaTtjb25zdCBzPXRoaXMuZ2V0TGlnaHRCeUlkKGUpO2lmKHMpcmV0dXJuIHM7Y29uc3Qgcj10aGlzLmdldENhbWVyYUJ5SWQoZSk7aWYocilyZXR1cm4gcjtjb25zdCBuPXRoaXMuZ2V0Qm9uZUJ5SWQoZSk7cmV0dXJuIG58fG51bGx9Z2V0Tm9kZUJ5TmFtZShlKXtjb25zdCB0PXRoaXMuZ2V0TWVzaEJ5TmFtZShlKTtpZih0KXJldHVybiB0O2NvbnN0IGk9dGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlOYW1lKGUpO2lmKGkpcmV0dXJuIGk7Y29uc3Qgcz10aGlzLmdldExpZ2h0QnlOYW1lKGUpO2lmKHMpcmV0dXJuIHM7Y29uc3Qgcj10aGlzLmdldENhbWVyYUJ5TmFtZShlKTtpZihyKXJldHVybiByO2NvbnN0IG49dGhpcy5nZXRCb25lQnlOYW1lKGUpO3JldHVybiBufHxudWxsfWdldE1lc2hCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKWlmKHRoaXMubWVzaGVzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtyZXR1cm4gbnVsbH1nZXRUcmFuc2Zvcm1Ob2RlQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbdF07cmV0dXJuIG51bGx9Z2V0TGFzdFNrZWxldG9uQnlJZChlKXtmb3IobGV0IHQ9dGhpcy5za2VsZXRvbnMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5za2VsZXRvbnNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnNrZWxldG9uc1t0XTtyZXR1cm4gbnVsbH1nZXRTa2VsZXRvbkJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKWlmKHRoaXMuc2tlbGV0b25zW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0U2tlbGV0b25CeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKylpZih0aGlzLnNrZWxldG9uc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3RdO3JldHVybiBudWxsfWdldFNrZWxldG9uQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKylpZih0aGlzLnNrZWxldG9uc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0TW9ycGhUYXJnZXRNYW5hZ2VyQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7dCsrKWlmKHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XTtyZXR1cm4gbnVsbH1nZXRNb3JwaFRhcmdldEJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbdF07Zm9yKGxldCBzPTA7czxpLm51bVRhcmdldHM7KytzKXtjb25zdCByPWkuZ2V0VGFyZ2V0KHMpO2lmKHIuaWQ9PT1lKXJldHVybiByfX1yZXR1cm4gbnVsbH1nZXRNb3JwaFRhcmdldEJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XTtmb3IobGV0IHM9MDtzPGkubnVtVGFyZ2V0czsrK3Mpe2NvbnN0IHI9aS5nZXRUYXJnZXQocyk7aWYoci5uYW1lPT09ZSlyZXR1cm4gcn19cmV0dXJuIG51bGx9Z2V0UG9zdFByb2Nlc3NCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLnBvc3RQcm9jZXNzZXNbdF07aWYoaS5uYW1lPT09ZSlyZXR1cm4gaX1yZXR1cm4gbnVsbH1pc0FjdGl2ZU1lc2goZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlcy5pbmRleE9mKGUpIT09LTF9Z2V0IHVpZCgpe3JldHVybiB0aGlzLl91aWR8fCh0aGlzLl91aWQ9WC5SYW5kb21JZCgpKSx0aGlzLl91aWR9YWRkRXh0ZXJuYWxEYXRhKGUsdCl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YXx8KHRoaXMuX2V4dGVybmFsRGF0YT1uZXcgX3IpLHRoaXMuX2V4dGVybmFsRGF0YS5hZGQoZSx0KX1nZXRFeHRlcm5hbERhdGEoZSl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YT90aGlzLl9leHRlcm5hbERhdGEuZ2V0KGUpOm51bGx9Z2V0T3JBZGRFeHRlcm5hbERhdGFXaXRoRmFjdG9yeShlLHQpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGF8fCh0aGlzLl9leHRlcm5hbERhdGE9bmV3IF9yKSx0aGlzLl9leHRlcm5hbERhdGEuZ2V0T3JBZGRXaXRoRmFjdG9yeShlLHQpfXJlbW92ZUV4dGVybmFsRGF0YShlKXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhLnJlbW92ZShlKX1fZXZhbHVhdGVTdWJNZXNoKGUsdCxpLHMpe2lmKHN8fGUuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcykpe2Zvcihjb25zdCBuIG9mIHRoaXMuX2V2YWx1YXRlU3ViTWVzaFN0YWdlKW4uYWN0aW9uKHQsZSk7Y29uc3Qgcj1lLmdldE1hdGVyaWFsKCk7ciE9bnVsbCYmKHIuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJnIuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKHIpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChyKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShyLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoKGUsdCxyKSl9fWZyZWVQcm9jZXNzZWRNYXRlcmlhbHMoKXt0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuZGlzcG9zZSgpfWdldCBibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMoKXtyZXR1cm4gdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHN9c2V0IGJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyhlKXt0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyE9PWUmJihlJiYodGhpcy5mcmVlQWN0aXZlTWVzaGVzKCksdGhpcy5mcmVlUmVuZGVyaW5nR3JvdXBzKCkpLHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzPWUpfWZyZWVBY3RpdmVNZXNoZXMoKXtpZighdGhpcy5ibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMmJih0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYXMpKWZvcihsZXQgZT0wO2U8dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5hY3RpdmVDYW1lcmFzW2VdO3QmJnQuX2FjdGl2ZU1lc2hlcyYmdC5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKX19ZnJlZVJlbmRlcmluZ0dyb3Vwcygpe2lmKCF0aGlzLmJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyYmKHRoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMudGV4dHVyZXMpKWZvcihsZXQgZT0wO2U8dGhpcy50ZXh0dXJlcy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMudGV4dHVyZXNbZV07dCYmdC5yZW5kZXJMaXN0JiZ0LmZyZWVSZW5kZXJpbmdHcm91cHMoKX19X2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nfWZyZWV6ZUFjdGl2ZU1lc2hlcyhlPSExLHQsaSxzPSEwLHI9ITEpe3JldHVybiB0aGlzLmV4ZWN1dGVXaGVuUmVhZHkoKCk9PntpZighdGhpcy5hY3RpdmVDYW1lcmEpe2kmJmkoIk5vIGFjdGl2ZSBjYW1lcmEgZm91bmQiKTtyZXR1cm59aWYodGhpcy5fZnJ1c3R1bVBsYW5lc3x8dGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLl9ldmFsdWF0ZUFjdGl2ZU1lc2hlcygpLHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMCx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW5CdXRLZWVwQ2xpcHBpbmc9cix0aGlzLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5PWUscylmb3IobGV0IG49MDtuPHRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg7bisrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW25dLl9mcmVlemUoKTt0JiZ0KCl9KSx0aGlzfXVuZnJlZXplQWN0aXZlTWVzaGVzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLm1lc2hlcy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMubWVzaGVzW2VdO3QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8mJih0Ll9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMSl9Zm9yKGxldCBlPTA7ZTx0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO2UrKyl0aGlzLl9hY3RpdmVNZXNoZXMuZGF0YVtlXS5fdW5GcmVlemUoKTtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuPSExLHRoaXN9X2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKGUpeyEodGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nJiZ0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSkmJnRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbiYmdGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aHx8dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkT25jZSgoKT0+ZS5kaXNwb3NlKCkpfV9ldmFsdWF0ZUFjdGl2ZU1lc2hlcygpe3ZhciBlO2lmKHRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZyYmdGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTEpe3RoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg+MCYmKChlPXRoaXMuYWN0aXZlQ2FtZXJhKT09PW51bGx8fGU9PT12b2lkIDB8fGUuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMucmVzZXQoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucmVzZXQoKSk7cmV0dXJufWlmKHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbiYmdGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aCl7aWYoIXRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHkpe2NvbnN0IHM9dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aDtmb3IobGV0IHI9MDtyPHM7cisrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW3JdLmNvbXB1dGVXb3JsZE1hdHJpeCgpfWlmKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcyl7Y29uc3Qgcz10aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ZvcihsZXQgcj0wO3I8cztyKyspdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRhdGFbcl0uYW5pbWF0ZSgpfXRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXRTcHJpdGVzKCk7cmV0dXJufWlmKCF0aGlzLmFjdGl2ZUNhbWVyYSlyZXR1cm47dGhpcy5vbkJlZm9yZUFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5yZXNldCgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5yZXNldCgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMucmVzZXQoKTtmb3IoY29uc3QgcyBvZiB0aGlzLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZSlzLmFjdGlvbigpO2NvbnN0IHQ9dGhpcy5nZXRBY3RpdmVNZXNoQ2FuZGlkYXRlcygpLGk9dC5sZW5ndGg7Zm9yKGxldCBzPTA7czxpO3MrKyl7Y29uc3Qgcj10LmRhdGFbc107aWYoci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGU9ITEsci5pc0Jsb2NrZWR8fCh0aGlzLl90b3RhbFZlcnRpY2VzLmFkZENvdW50KHIuZ2V0VG90YWxWZXJ0aWNlcygpLCExKSwhci5pc1JlYWR5KCl8fCFyLmlzRW5hYmxlZCgpfHxyLnNjYWxpbmcuaGFzQVplcm9Db21wb25lbnQpKWNvbnRpbnVlO3IuY29tcHV0ZVdvcmxkTWF0cml4KCksci5hY3Rpb25NYW5hZ2VyJiZyLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyczIoMTIsMTMpJiZ0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLnB1c2hOb0R1cGxpY2F0ZShyKTtsZXQgbj10aGlzLmN1c3RvbUxPRFNlbGVjdG9yP3RoaXMuY3VzdG9tTE9EU2VsZWN0b3Iocix0aGlzLmFjdGl2ZUNhbWVyYSk6ci5nZXRMT0QodGhpcy5hY3RpdmVDYW1lcmEpO2lmKHIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9bixyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMCxuIT1udWxsJiYobiE9PXImJm4uYmlsbGJvYXJkTW9kZSE9PTAmJm4uY29tcHV0ZVdvcmxkTWF0cml4KCksci5fcHJlQWN0aXZhdGUoKSxyLmlzVmlzaWJsZSYmci52aXNpYmlsaXR5PjAmJnIubGF5ZXJNYXNrJnRoaXMuYWN0aXZlQ2FtZXJhLmxheWVyTWFzayYmKHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fHIuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNofHxyLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpKSkpe3RoaXMuX2FjdGl2ZU1lc2hlcy5wdXNoKHIpLHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMucHVzaChyKSxuIT09ciYmbi5fYWN0aXZhdGUodGhpcy5fcmVuZGVySWQsITEpO2Zvcihjb25zdCBhIG9mIHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZSlhLmFjdGlvbihyKTtyLl9hY3RpdmF0ZSh0aGlzLl9yZW5kZXJJZCwhMSkmJihyLmlzQW5JbnN0YW5jZT9yLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoJiYobj1yKTpuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzPSExLG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSEwLHRoaXMuX2FjdGl2ZU1lc2gocixuKSksci5fcG9zdEFjdGl2YXRlKCl9fWlmKHRoaXMucGFydGljbGVzRW5hYmxlZCl7dGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2ZvcihsZXQgcz0wO3M8dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLnBhcnRpY2xlU3lzdGVtc1tzXTtpZighci5pc1N0YXJ0ZWQoKXx8IXIuZW1pdHRlciljb250aW51ZTtjb25zdCBuPXIuZW1pdHRlcjsoIW4ucG9zaXRpb258fG4uaXNFbmFibGVkKCkpJiYodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnB1c2gociksci5hbmltYXRlKCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhyKSl9dGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9fV9hY3RpdmVNZXNoKGUsdCl7dGhpcy5fc2tlbGV0b25zRW5hYmxlZCYmdC5za2VsZXRvbiE9PW51bGwmJnQuc2tlbGV0b24hPT12b2lkIDAmJih0aGlzLl9hY3RpdmVTa2VsZXRvbnMucHVzaE5vRHVwbGljYXRlKHQuc2tlbGV0b24pJiYodC5za2VsZXRvbi5wcmVwYXJlKCksdGhpcy5fYWN0aXZlQm9uZXMuYWRkQ291bnQodC5za2VsZXRvbi5ib25lcy5sZW5ndGgsITEpKSx0LmNvbXB1dGVCb25lc1VzaW5nU2hhZGVyc3x8dGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnB1c2hOb0R1cGxpY2F0ZSh0KSk7bGV0IGk9ZS5oYXNJbnN0YW5jZXN8fGUuaXNBbkluc3RhbmNlfHx0aGlzLmRpc3BhdGNoQWxsU3ViTWVzaGVzT2ZBY3RpdmVNZXNoZXN8fHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fHQuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoO2lmKHQmJnQuc3ViTWVzaGVzJiZ0LnN1Yk1lc2hlcy5sZW5ndGg+MCl7Y29uc3Qgcz10aGlzLmdldEFjdGl2ZVN1Yk1lc2hDYW5kaWRhdGVzKHQpLHI9cy5sZW5ndGg7aT1pfHxyPT09MTtmb3IobGV0IG49MDtuPHI7bisrKXtjb25zdCBhPXMuZGF0YVtuXTt0aGlzLl9ldmFsdWF0ZVN1Yk1lc2goYSx0LGUsaSl9fX11cGRhdGVUcmFuc2Zvcm1NYXRyaXgoZSl7aWYodGhpcy5hY3RpdmVDYW1lcmEpaWYodGhpcy5hY3RpdmVDYW1lcmEuX3JlbmRlcmluZ011bHRpdmlldyl7Y29uc3QgdD10aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1swXSxpPXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzFdO3RoaXMuc2V0VHJhbnNmb3JtTWF0cml4KHQuZ2V0Vmlld01hdHJpeCgpLHQuZ2V0UHJvamVjdGlvbk1hdHJpeChlKSxpLmdldFZpZXdNYXRyaXgoKSxpLmdldFByb2plY3Rpb25NYXRyaXgoZSkpfWVsc2UgdGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHRoaXMuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgoZSkpfV9iaW5kRnJhbWVCdWZmZXIoZSx0PSEwKXtlJiZlLl9tdWx0aXZpZXdUZXh0dXJlP2UuX211bHRpdmlld1RleHR1cmUuX2JpbmRGcmFtZUJ1ZmZlcigpOmUmJmUub3V0cHV0UmVuZGVyVGFyZ2V0P2Uub3V0cHV0UmVuZGVyVGFyZ2V0Ll9iaW5kRnJhbWVCdWZmZXIoKTp0aGlzLl9lbmdpbmUuX2N1cnJlbnRGcmFtZUJ1ZmZlcklzRGVmYXVsdEZyYW1lQnVmZmVyKCl8fHRoaXMuX2VuZ2luZS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksdCYmdGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcihlKX1fY2xlYXJGcmFtZUJ1ZmZlcihlKXtpZighKGUmJmUuX211bHRpdmlld1RleHR1cmUpKWlmKGUmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYhZS5fcmVuZGVyaW5nTXVsdGl2aWV3KXtjb25zdCB0PWUub3V0cHV0UmVuZGVyVGFyZ2V0O3Qub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dC5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fZW5naW5lKTp0LnNraXBJbml0aWFsQ2xlYXJ8fCh0aGlzLmF1dG9DbGVhciYmdGhpcy5fZW5naW5lLmNsZWFyKHQuY2xlYXJDb2xvcnx8dGhpcy5jbGVhckNvbG9yLCF0Ll9jbGVhcmVkLCEwLCEwKSx0Ll9jbGVhcmVkPSEwKX1lbHNlIHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ/dGhpcy5fZW5naW5lLmNsZWFyKG51bGwsITEsITAsITApOih0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSEwLHRoaXMuX2NsZWFyKCkpfV9yZW5kZXJGb3JDYW1lcmEoZSx0LGk9ITApe3ZhciBzLHIsbjtpZihlJiZlLl9za2lwUmVuZGVyaW5nKXJldHVybjtjb25zdCBhPXRoaXMuX2VuZ2luZTtpZih0aGlzLl9hY3RpdmVDYW1lcmE9ZSwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtpZihhLnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLl9yZW5kZXJJZCsrLCF0aGlzLnByZVBhc3MmJmkpe2xldCBoPSEwO2UuX3JlbmRlcmluZ011bHRpdmlldyYmZS5vdXRwdXRSZW5kZXJUYXJnZXQmJihoPWUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXIsdGhpcy5hdXRvQ2xlYXImJih0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSExLGUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9ITEpKSx0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhKSxlLl9yZW5kZXJpbmdNdWx0aXZpZXcmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYoZS5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcj1oKX10aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSksdGhpcy5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKTtmb3IobGV0IGg9MDtoPHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kYXRhW2hdO2wuYXBwbHlTa2VsZXRvbihsLnNrZWxldG9uKX10aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMpLGUuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmZS5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShlLmN1c3RvbVJlbmRlclRhcmdldHMpLHQmJnQuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmdC5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh0LmN1c3RvbVJlbmRlclRhcmdldHMpLHRoaXMuZW52aXJvbm1lbnRUZXh0dXJlJiZ0aGlzLmVudmlyb25tZW50VGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoTm9EdXBsaWNhdGUodGhpcy5lbnZpcm9ubWVudFRleHR1cmUpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZSloLmFjdGlvbih0aGlzLl9yZW5kZXJUYXJnZXRzKTtsZXQgbz0hMTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtpZih0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCl7WC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcigiUmVuZGVyIHRhcmdldHMiLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApO2ZvcihsZXQgaD0wO2g8dGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3JlbmRlclRhcmdldHMuZGF0YVtoXTtpZihsLl9zaG91bGRSZW5kZXIoKSl7dGhpcy5fcmVuZGVySWQrKztjb25zdCB1PWwuYWN0aXZlQ2FtZXJhJiZsLmFjdGl2ZUNhbWVyYSE9PXRoaXMuYWN0aXZlQ2FtZXJhO2wucmVuZGVyKHUsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpLG89ITB9fVguRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJSZW5kZXIgdGFyZ2V0cyIsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5fcmVuZGVySWQrK31mb3IoY29uc3QgaCBvZiB0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2Upbz1oLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSl8fG87dGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShuPShyPShzPWUub3V0cHV0UmVuZGVyVGFyZ2V0KT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMucmVuZGVyUGFzc0lkKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLnJlbmRlclBhc3NJZCkhPT1udWxsJiZuIT09dm9pZCAwP246MCxvJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJiFlLl9tdWx0aXZpZXdUZXh0dXJlJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKCk7Zm9yKGNvbnN0IGggb2YgdGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTt0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksYS5zbmFwc2hvdFJlbmRlcmluZyYmYS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xJiZ0aGlzLmZpbmFsaXplU2NlbmVVYm8oKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcihudWxsLG51bGwsITAsITApLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTtpZih0aGlzLnBvc3RQcm9jZXNzTWFuYWdlciYmIWUuX211bHRpdmlld1RleHR1cmUpe2NvbnN0IGg9ZS5vdXRwdXRSZW5kZXJUYXJnZXQ/ZS5vdXRwdXRSZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0OnZvaWQgMDt0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZShlLmlzSW50ZXJtZWRpYXRlLGgpfWZvcihjb25zdCBoIG9mIHRoaXMuX2FmdGVyQ2FtZXJhUG9zdFByb2Nlc3NTdGFnZSloLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSk7dGhpcy5fcmVuZGVyVGFyZ2V0cy5yZXNldCgpLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuYWN0aXZlQ2FtZXJhKX1fcHJvY2Vzc1N1YkNhbWVyYXMoZSx0PSEwKXtpZihlLmNhbWVyYVJpZ01vZGU9PT0wfHxlLl9yZW5kZXJpbmdNdWx0aXZpZXcpe2UuX3JlbmRlcmluZ011bHRpdmlldyYmIXRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9jcmVhdGVNdWx0aXZpZXdVYm8oKSx0aGlzLl9yZW5kZXJGb3JDYW1lcmEoZSx2b2lkIDAsdCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSk7cmV0dXJufWlmKGUuX3VzZU11bHRpdmlld1RvU2luZ2xlVmlldyl0aGlzLl9yZW5kZXJNdWx0aXZpZXdUb1NpbmdsZVZpZXcoZSk7ZWxzZXt0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSk7Zm9yKGxldCBpPTA7aTxlLl9yaWdDYW1lcmFzLmxlbmd0aDtpKyspdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKGUuX3JpZ0NhbWVyYXNbaV0sZSl9dGhpcy5fYWN0aXZlQ2FtZXJhPWUsdGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX1fY2hlY2tJbnRlcnNlY3Rpb25zKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kYXRhW2VdO2lmKHQuYWN0aW9uTWFuYWdlcilmb3IobGV0IGk9MDt0LmFjdGlvbk1hbmFnZXImJmk8dC5hY3Rpb25NYW5hZ2VyLmFjdGlvbnMubGVuZ3RoO2krKyl7Y29uc3Qgcz10LmFjdGlvbk1hbmFnZXIuYWN0aW9uc1tpXTtpZihzLnRyaWdnZXI9PT0xMnx8cy50cmlnZ2VyPT09MTMpe2NvbnN0IHI9cy5nZXRUcmlnZ2VyUGFyYW1ldGVyKCksbj1yLm1lc2g/ci5tZXNoOnIsYT1uLmludGVyc2VjdHNNZXNoKHQsci51c2VQcmVjaXNlSW50ZXJzZWN0aW9uKSxvPXQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmluZGV4T2Yobik7YSYmbz09PS0xP3MudHJpZ2dlcj09PTEyPyhzLl9leGVjdXRlQ3VycmVudChWZS5DcmVhdGVOZXcodCx2b2lkIDAsbikpLHQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnB1c2gobikpOnMudHJpZ2dlcj09PTEzJiZ0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5wdXNoKG4pOiFhJiZvPi0xJiYocy50cmlnZ2VyPT09MTMmJnMuX2V4ZWN1dGVDdXJyZW50KFZlLkNyZWF0ZU5ldyh0LHZvaWQgMCxuKSksKCF0LmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyKDEzLGg9Pntjb25zdCBsPWgubWVzaD9oLm1lc2g6aDtyZXR1cm4gbj09PWx9KXx8cy50cmlnZ2VyPT09MTMpJiZ0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5zcGxpY2UobywxKSl9fX19X2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChlKXt9X2FuaW1hdGUoKXt9YW5pbWF0ZSgpe2lmKHRoaXMuX2VuZ2luZS5pc0RldGVybWluaXN0aWNMb2NrU3RlcCgpKXtsZXQgZT1NYXRoLm1heChhZS5NaW5EZWx0YVRpbWUsTWF0aC5taW4odGhpcy5fZW5naW5lLmdldERlbHRhVGltZSgpLGFlLk1heERlbHRhVGltZSkpK3RoaXMuX3RpbWVBY2N1bXVsYXRvcjtjb25zdCB0PXRoaXMuX2VuZ2luZS5nZXRUaW1lU3RlcCgpLGk9MWUzL3QvMWUzO2xldCBzPTA7Y29uc3Qgcj10aGlzLl9lbmdpbmUuZ2V0TG9ja3N0ZXBNYXhTdGVwcygpO2xldCBuPU1hdGguZmxvb3IoZS90KTtmb3Iobj1NYXRoLm1pbihuLHIpO2U+MCYmczxuOyl0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2FuaW1hdGlvblJhdGlvPXQqaSx0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcCh0KSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY3VycmVudFN0ZXBJZCsrLHMrKyxlLT10O3RoaXMuX3RpbWVBY2N1bXVsYXRvcj1lPDA/MDplfWVsc2V7Y29uc3QgZT10aGlzLnVzZUNvbnN0YW50QW5pbWF0aW9uRGVsdGFUaW1lPzE2Ok1hdGgubWF4KGFlLk1pbkRlbHRhVGltZSxNYXRoLm1pbih0aGlzLl9lbmdpbmUuZ2V0RGVsdGFUaW1lKCksYWUuTWF4RGVsdGFUaW1lKSk7dGhpcy5fYW5pbWF0aW9uUmF0aW89ZSooNjAvMWUzKSx0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChlKX19X2NsZWFyKCl7KHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsfHx0aGlzLmF1dG9DbGVhcikmJnRoaXMuX2VuZ2luZS5jbGVhcih0aGlzLmNsZWFyQ29sb3IsdGhpcy5hdXRvQ2xlYXJ8fHRoaXMuZm9yY2VXaXJlZnJhbWV8fHRoaXMuZm9yY2VQb2ludHNDbG91ZCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCl9X2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0KGUpe3ZhciB0O2lmKGUhPW51bGwmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYhKGUhPW51bGwmJmUuaXNSaWdDYW1lcmEpJiYoZS5vdXRwdXRSZW5kZXJUYXJnZXQuX2NsZWFyZWQ9ITEpLCEoKHQ9ZT09bnVsbD92b2lkIDA6ZS5yaWdDYW1lcmFzKT09PW51bGx8fHQ9PT12b2lkIDApJiZ0Lmxlbmd0aClmb3IobGV0IGk9MDtpPGUucmlnQ2FtZXJhcy5sZW5ndGg7KytpKXtjb25zdCBzPWUucmlnQ2FtZXJhc1tpXS5vdXRwdXRSZW5kZXJUYXJnZXQ7cyYmKHMuX2NsZWFyZWQ9ITEpfX1yZXNldERyYXdDYWNoZShlKXtpZih0aGlzLm1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLm1lc2hlcyl0LnJlc2V0RHJhd0NhY2hlKGUpfXJlbmRlcihlPSEwLHQ9ITEpe3ZhciBpLHMscjtpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMub25SZWFkeU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiZ0aGlzLl9jaGVja0lzUmVhZHkoKSx0aGlzLl9mcmFtZUlkKyssdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSx0aGlzLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldCh0aGlzLmFjdGl2ZUNhbWVyYSksISgoaT10aGlzLmFjdGl2ZUNhbWVyYXMpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkubGVuZ3RoJiZ0aGlzLmFjdGl2ZUNhbWVyYXMuZm9yRWFjaCh0aGlzLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldCksdGhpcy5fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCksdGhpcy5fYWN0aXZlUGFydGljbGVzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl90b3RhbFZlcnRpY2VzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9hY3RpdmVCb25lcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5yZXNldCgpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5hY3Rpb25NYW5hZ2VyJiZ0aGlzLmFjdGlvbk1hbmFnZXIucHJvY2Vzc1RyaWdnZXIoMTEpLHR8fHRoaXMuYW5pbWF0ZSgpO2Zvcihjb25zdCBvIG9mIHRoaXMuX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlKW8uYWN0aW9uKCk7aWYoZSl7aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKGxldCBvPTA7bzx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO28rKyl7Y29uc3QgaD10aGlzLmFjdGl2ZUNhbWVyYXNbb107aWYoaC51cGRhdGUoKSxoLmNhbWVyYVJpZ01vZGUhPT0wKWZvcihsZXQgbD0wO2w8aC5fcmlnQ2FtZXJhcy5sZW5ndGg7bCsrKWguX3JpZ0NhbWVyYXNbbF0udXBkYXRlKCl9ZWxzZSBpZih0aGlzLmFjdGl2ZUNhbWVyYSYmKHRoaXMuYWN0aXZlQ2FtZXJhLnVwZGF0ZSgpLHRoaXMuYWN0aXZlQ2FtZXJhLmNhbWVyYVJpZ01vZGUhPT0wKSlmb3IobGV0IG89MDtvPHRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzLmxlbmd0aDtvKyspdGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXNbb10udXBkYXRlKCl9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IG49dGhpcy5nZXRFbmdpbmUoKTt0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGE9ISgocz10aGlzLmFjdGl2ZUNhbWVyYXMpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMubGVuZ3RoP3RoaXMuYWN0aXZlQ2FtZXJhc1swXTp0aGlzLmFjdGl2ZUNhbWVyYTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtYLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwO2ZvcihsZXQgbz0wO288dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzW29dO2lmKGguX3Nob3VsZFJlbmRlcigpKXtpZih0aGlzLl9yZW5kZXJJZCsrLHRoaXMuYWN0aXZlQ2FtZXJhPWguYWN0aXZlQ2FtZXJhfHx0aGlzLmFjdGl2ZUNhbWVyYSwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtuLnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLGgucmVuZGVyKGEhPT10aGlzLmFjdGl2ZUNhbWVyYSx0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyl9fVguRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExLHRoaXMuX3JlbmRlcklkKyt9dGhpcy5fZW5naW5lLmN1cnJlbnRSZW5kZXJQYXNzSWQ9KHI9YT09bnVsbD92b2lkIDA6YS5yZW5kZXJQYXNzSWQpIT09bnVsbCYmciE9PXZvaWQgMD9yOjAsdGhpcy5hY3RpdmVDYW1lcmE9YSx0aGlzLl9hY3RpdmVDYW1lcmEmJnRoaXMuX2FjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MjImJiF0aGlzLnByZVBhc3MmJnRoaXMuX2JpbmRGcmFtZUJ1ZmZlcih0aGlzLl9hY3RpdmVDYW1lcmEsITEpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9iZWZvcmVDbGVhclN0YWdlKW8uYWN0aW9uKCk7dGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcih0aGlzLmFjdGl2ZUNhbWVyYSk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlKW8uYWN0aW9uKHRoaXMuX3JlbmRlclRhcmdldHMpO2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcihsZXQgbz0wO288dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtvKyspdGhpcy5fcHJvY2Vzc1N1YkNhbWVyYXModGhpcy5hY3RpdmVDYW1lcmFzW29dLG8+MCk7ZWxzZXtpZighdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJObyBjYW1lcmEgZGVmaW5lZCIpO3RoaXMuX3Byb2Nlc3NTdWJDYW1lcmFzKHRoaXMuYWN0aXZlQ2FtZXJhLCEhdGhpcy5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0KX10aGlzLl9jaGVja0ludGVyc2VjdGlvbnMoKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9hZnRlclJlbmRlclN0YWdlKW8uYWN0aW9uKCk7aWYodGhpcy5hZnRlclJlbmRlciYmdGhpcy5hZnRlclJlbmRlcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGgpe2ZvcihsZXQgbz0wO288dGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5fdG9CZURpc3Bvc2VkW29dO2gmJmguZGlzcG9zZSgpfXRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg9MH10aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyYmKHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExKSx0aGlzLl9hY3RpdmVCb25lcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KDAsITApLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9lbmdpbmUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpfWZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS5mcmVlemUoKX11bmZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS51bmZyZWV6ZSgpfWRpc3Bvc2UoKXtpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMuYmVmb3JlUmVuZGVyPW51bGwsdGhpcy5hZnRlclJlbmRlcj1udWxsLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnNrZWxldG9ucy5sZW5ndGg9MCx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoPTAsdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg9MCx0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2NhbWVyYURyYXdSZW5kZXJUYXJnZXRTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNsZWFyU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyTW92ZVN0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlckRvd25TdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJVcFN0YWdlLmNsZWFyKCksdGhpcy5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSx0aGlzLnN0b3BBbGxBbmltYXRpb25zJiZ0aGlzLnN0b3BBbGxBbmltYXRpb25zKCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLmFjdGl2ZUNhbWVyYXM9bnVsbCx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMuZGlzcG9zZSgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fcmVnaXN0ZXJlZEZvckxhdGVBbmltYXRpb25CaW5kaW5ncy5kaXNwb3NlKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kaXNwb3NlKCksdGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aD0wO2NvbnN0IGU9dGhpcy5fYWN0aXZlUmVxdWVzdHMuc2xpY2UoKTtmb3IoY29uc3QgciBvZiBlKXIuYWJvcnQoKTt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5sZW5ndGg9MDt0cnl7dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1jYXRjaChyKXtjb25zb2xlLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjYWxsaW5nIG9uRGlzcG9zZU9ic2VydmFibGUhIixyKX1pZih0aGlzLmRldGFjaENvbnRyb2woKSx0aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCkpZm9yKGxldCByPTA7cjx0aGlzLmNhbWVyYXMubGVuZ3RoO3IrKyl0aGlzLmNhbWVyYXNbcl0uZGV0YWNoQ29udHJvbCgpO3RoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMuYW5pbWF0aW9uR3JvdXBzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmxpZ2h0cyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tZXNoZXMscj0+ci5kaXNwb3NlKCEwKSksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy50cmFuc2Zvcm1Ob2RlcyxyPT5yLmRpc3Bvc2UoITApKTtjb25zdCBpPXRoaXMuY2FtZXJhczt0aGlzLl9kaXNwb3NlTGlzdChpKSx0aGlzLl9kZWZhdWx0TWF0ZXJpYWwmJnRoaXMuX2RlZmF1bHRNYXRlcmlhbC5kaXNwb3NlKCksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tdWx0aU1hdGVyaWFscyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tYXRlcmlhbHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMucGFydGljbGVTeXN0ZW1zKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnBvc3RQcm9jZXNzZXMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMudGV4dHVyZXMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VycyksdGhpcy5fc2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9tdWx0aXZpZXdTY2VuZVViby5kaXNwb3NlKCksdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMuX2NvbXBvbmVudHMpO2xldCBzPXRoaXMuX2VuZ2luZS5zY2VuZXMuaW5kZXhPZih0aGlzKTtzPi0xJiZ0aGlzLl9lbmdpbmUuc2NlbmVzLnNwbGljZShzLDEpLGNlLl9MYXN0Q3JlYXRlZFNjZW5lPT09dGhpcyYmKHRoaXMuX2VuZ2luZS5zY2VuZXMubGVuZ3RoPjA/Y2UuX0xhc3RDcmVhdGVkU2NlbmU9dGhpcy5fZW5naW5lLnNjZW5lc1t0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aC0xXTpjZS5fTGFzdENyZWF0ZWRTY2VuZT1udWxsKSxzPXRoaXMuX2VuZ2luZS5fdmlydHVhbFNjZW5lcy5pbmRleE9mKHRoaXMpLHM+LTEmJnRoaXMuX2VuZ2luZS5fdmlydHVhbFNjZW5lcy5zcGxpY2UocywxKSx0aGlzLl9lbmdpbmUud2lwZUNhY2hlcyghMCksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVTdGVwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJEcmF3UGhhc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRGF0YUxvYWRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTGlnaHRSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Qb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVLZXlib2FyZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQuY2xlYXIoKSx0aGlzLm9uU2NlbmVQZXJmb3JtYW5jZVByaW9yaXR5Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfV9kaXNwb3NlTGlzdChlLHQpe2NvbnN0IGk9ZS5zbGljZSgwKTt0PXQ/PyhzPT5zLmRpc3Bvc2UoKSk7Zm9yKGNvbnN0IHMgb2YgaSl0KHMpO2UubGVuZ3RoPTB9Z2V0IGlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH1jbGVhckNhY2hlZFZlcnRleERhdGEoKXtmb3IobGV0IGU9MDtlPHRoaXMubWVzaGVzLmxlbmd0aDtlKyspe2NvbnN0IGk9dGhpcy5tZXNoZXNbZV0uZ2VvbWV0cnk7aSYmaS5jbGVhckNhY2hlZERhdGEoKX19Y2xlYW5DYWNoZWRUZXh0dXJlQnVmZmVyKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy50ZXh0dXJlcyllLl9idWZmZXImJihlLl9idWZmZXI9bnVsbCl9Z2V0V29ybGRFeHRlbmRzKGUpe2NvbnN0IHQ9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLGk9bmV3IHAoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiBlPWV8fCgoKT0+ITApLHRoaXMubWVzaGVzLmZpbHRlcihlKS5mb3JFYWNoKHM9PntpZihzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksIXMuc3ViTWVzaGVzfHxzLnN1Yk1lc2hlcy5sZW5ndGg9PT0wfHxzLmluZmluaXRlRGlzdGFuY2UpcmV0dXJuO2NvbnN0IHI9cy5nZXRCb3VuZGluZ0luZm8oKSxuPXIuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLGE9ci5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQ7cC5DaGVja0V4dGVuZHMobix0LGkpLHAuQ2hlY2tFeHRlbmRzKGEsdCxpKX0pLHttaW46dCxtYXg6aX19Y3JlYXRlUGlja2luZ1JheShlLHQsaSxzLHI9ITEpe3Rocm93IFEoIlJheSIpfWNyZWF0ZVBpY2tpbmdSYXlUb1JlZihlLHQsaSxzLHIsbj0hMSxhPSExKXt0aHJvdyBRKCJSYXkiKX1jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZShlLHQsaSl7dGhyb3cgUSgiUmF5Iil9Y3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZihlLHQsaSxzKXt0aHJvdyBRKCJSYXkiKX1nZXQgX3BpY2tpbmdBdmFpbGFibGUoKXtyZXR1cm4hMX1waWNrKGUsdCxpLHMscixuKXtyZXR1cm4gbmV3IGt0fXBpY2tXaXRoQm91bmRpbmdJbmZvKGUsdCxpLHMscil7cmV0dXJuIG5ldyBrdH1waWNrV2l0aFJheShlLHQsaSxzKXt0aHJvdyBRKCJSYXkiKX1tdWx0aVBpY2soZSx0LGkscyxyKXt0aHJvdyBRKCJSYXkiKX1tdWx0aVBpY2tXaXRoUmF5KGUsdCxpKXt0aHJvdyBRKCJSYXkiKX1zZXRQb2ludGVyT3Zlck1lc2goZSx0LGkpe3RoaXMuX2lucHV0TWFuYWdlci5zZXRQb2ludGVyT3Zlck1lc2goZSx0LGkpfWdldFBvaW50ZXJPdmVyTWVzaCgpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuZ2V0UG9pbnRlck92ZXJNZXNoKCl9X3JlYnVpbGRHZW9tZXRyaWVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZW9tZXRyaWVzKWUuX3JlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLm1lc2hlcyllLl9yZWJ1aWxkKCk7dGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJnRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY29tcG9uZW50cyllLnJlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLnBhcnRpY2xlU3lzdGVtcyllLnJlYnVpbGQoKTtpZih0aGlzLnNwcml0ZU1hbmFnZXJzKWZvcihjb25zdCBlIG9mIHRoaXMuc3ByaXRlTWFuYWdlcnMpZS5yZWJ1aWxkKCl9X3JlYnVpbGRUZXh0dXJlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMudGV4dHVyZXMpZS5fcmVidWlsZCgpO3RoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9X2dldEJ5VGFncyhlLHQsaSl7aWYodD09PXZvaWQgMClyZXR1cm4gZTtjb25zdCBzPVtdO2k9aXx8KHI9Pnt9KTtmb3IoY29uc3QgciBpbiBlKXtjb25zdCBuPWVbcl07ZmUmJmZlLk1hdGNoZXNRdWVyeShuLHQpJiYocy5wdXNoKG4pLGkobikpfXJldHVybiBzfWdldE1lc2hlc0J5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5tZXNoZXMsZSx0KX1nZXRDYW1lcmFzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmNhbWVyYXMsZSx0KX1nZXRMaWdodHNCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubGlnaHRzLGUsdCl9Z2V0TWF0ZXJpYWxCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubWF0ZXJpYWxzLGUsdCkuY29uY2F0KHRoaXMuX2dldEJ5VGFncyh0aGlzLm11bHRpTWF0ZXJpYWxzLGUsdCkpfWdldFRyYW5zZm9ybU5vZGVzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLnRyYW5zZm9ybU5vZGVzLGUsdCl9c2V0UmVuZGVyaW5nT3JkZXIoZSx0PW51bGwsaT1udWxsLHM9bnVsbCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdPcmRlcihlLHQsaSxzKX1zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGk9ITAscz0hMCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGkscyl9Z2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl9Z2V0IGJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSgpe3JldHVybiB0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc219c2V0IGJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbShlKXt0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20hPT1lJiYodGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtPWUsZXx8dGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg2MykpfW1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KGUsdCl7aWYoIXRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSlmb3IoY29uc3QgaSBvZiB0aGlzLm1hdGVyaWFscyl0JiYhdChpKXx8aS5tYXJrQXNEaXJ0eShlKX1fbG9hZEZpbGUoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz0kdChlLHQsaSxzP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxyLG4sYSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobyksby5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoaD0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksb31fbG9hZEZpbGVBc3luYyhlLHQsaSxzLHIpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e3RoaXMuX2xvYWRGaWxlKGUsbz0+e24obyl9LHQsaSxzLChvLGgpPT57YShoKX0scil9KX1fcmVxdWVzdEZpbGUoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1DcyhlLHQsaSxzP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxyLG4sYSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobyksby5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoaD0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksb31fcmVxdWVzdEZpbGVBc3luYyhlLHQsaSxzLHIpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e3RoaXMuX3JlcXVlc3RGaWxlKGUsbz0+e24obyl9LHQsaSxzLG89PnthKG8pfSxyKX0pfV9yZWFkRmlsZShlLHQsaSxzLHIpe2NvbnN0IG49QmkoZSx0LGkscyxyKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChuKSxuLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChhPT57dGhpcy5fYWN0aXZlUmVxdWVzdHMuc3BsaWNlKHRoaXMuX2FjdGl2ZVJlcXVlc3RzLmluZGV4T2YoYSksMSl9KSxufV9yZWFkRmlsZUFzeW5jKGUsdCxpKXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pnt0aGlzLl9yZWFkRmlsZShlLG49PntzKG4pfSx0LGksbj0+e3Iobil9KX0pfWdldFBlcmZDb2xsZWN0b3IoKXt0aHJvdyBRKCJwZXJmb3JtYW5jZVZpZXdlclNjZW5lRXh0ZW5zaW9uIil9fWFlLkZPR01PREVfTk9ORT0wLGFlLkZPR01PREVfRVhQPTEsYWUuRk9HTU9ERV9FWFAyPTIsYWUuRk9HTU9ERV9MSU5FQVI9MyxhZS5NaW5EZWx0YVRpbWU9MSxhZS5NYXhEZWx0YVRpbWU9MWUzLGFlLnByb3RvdHlwZS5zZXRBY3RpdmVDYW1lcmFCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnNldEFjdGl2ZUNhbWVyYUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRMYXN0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RNYXRlcmlhbEJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWF0ZXJpYWxCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0VGV4dHVyZUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VGV4dHVyZUJ5VW5pcXVlSWQoYyl9LGFlLnByb3RvdHlwZS5nZXRDYW1lcmFCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldENhbWVyYUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRDYW1lcmFCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldENhbWVyYUJ5VW5pcXVlSWQoYyl9LGFlLnByb3RvdHlwZS5nZXRCb25lQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRCb25lQnlJZChjKX0sYWUucHJvdG90eXBlLmdldExpZ2h0QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMaWdodEJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRMaWdodEJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGlnaHRCeVVuaXF1ZUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0UGFydGljbGVTeXN0ZW1CeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFBhcnRpY2xlU3lzdGVtQnlJZChjKX0sYWUucHJvdG90eXBlLmdldEdlb21ldHJ5QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRHZW9tZXRyeUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRNZXNoQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRNZXNoQnlJZChjKX0sYWUucHJvdG90eXBlLmdldE1lc2hlc0J5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaGVzQnlJZChjKX0sYWUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSWQoYyl9LGFlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2Rlc0J5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZXNCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TWVzaEJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaEJ5VW5pcXVlSWQoYyl9LGFlLnByb3RvdHlwZS5nZXRMYXN0TWVzaEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGFzdE1lc2hCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TGFzdEVudHJ5QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMYXN0RW50cnlCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0Tm9kZUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0Tm9kZUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRMYXN0U2tlbGV0b25CeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RTa2VsZXRvbkJ5SWQoYyl9O2Z1bmN0aW9uIE9zKGMsZSx0KXt0cnl7Y29uc3QgaT1jLm5leHQoKTtpLmRvbmU/ZShpKTppLnZhbHVlP2kudmFsdWUudGhlbigoKT0+e2kudmFsdWU9dm9pZCAwLGUoaSl9LHQpOmUoaSl9Y2F0Y2goaSl7dChpKX19ZnVuY3Rpb24gQm4oYz0yNSl7bGV0IGU7cmV0dXJuKHQsaSxzKT0+e2NvbnN0IHI9cGVyZm9ybWFuY2Uubm93KCk7ZT09PXZvaWQgMHx8ci1lPmM/KGU9cixzZXRUaW1lb3V0KCgpPT57T3ModCxpLHMpfSwwKSk6T3ModCxpLHMpfX1mdW5jdGlvbiBJcihjLGUsdCxpLHMpe2NvbnN0IHI9KCk9PntsZXQgbjtjb25zdCBhPW89PntvLmRvbmU/dChvLnZhbHVlKTpuPT09dm9pZCAwP249ITA6cigpfTtkbyBuPXZvaWQgMCwhc3x8IXMuYWJvcnRlZD9lKGMsYSxpKTppKG5ldyBFcnJvcigiQWJvcnRlZCIpKSxuPT09dm9pZCAwJiYobj0hMSk7d2hpbGUobil9O3IoKX1mdW5jdGlvbiBMcyhjLGUpe2xldCB0O3JldHVybiBJcihjLE9zLGk9PnQ9aSxpPT57dGhyb3cgaX0sZSksdH1mdW5jdGlvbiBVbihjLGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57SXIoYyxlLGkscyx0KX0pfWZ1bmN0aW9uIGtuKGMsZSl7cmV0dXJuKC4uLnQpPT5McyhjKC4uLnQpLGUpfWNsYXNzIFZue2NvbnN0cnVjdG9yKCl7dGhpcy5fZG9Ob3RTZXJpYWxpemU9ITEsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9zY2VuZVJvb3ROb2Rlc0luZGV4PS0xLHRoaXMuX2lzRW5hYmxlZD0hMCx0aGlzLl9pc1BhcmVudEVuYWJsZWQ9ITAsdGhpcy5faXNSZWFkeT0hMCx0aGlzLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uQ2xvbmVkT2JzZXJ2YWJsZT1uZXcgd319Y2xhc3MgemV7c3RhdGljIEFkZE5vZGVDb25zdHJ1Y3RvcihlLHQpe3RoaXMuX05vZGVDb25zdHJ1Y3RvcnNbZV09dH1zdGF0aWMgQ29uc3RydWN0KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fTm9kZUNvbnN0cnVjdG9yc1tlXTtyZXR1cm4gcj9yKHQsaSxzKTpudWxsfXNldCBhY2Nlc3NpYmlsaXR5VGFnKGUpe3RoaXMuX2FjY2Vzc2liaWxpdHlUYWc9ZSx0aGlzLm9uQWNjZXNzaWJpbGl0eVRhZ0NoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX1nZXQgYWNjZXNzaWJpbGl0eVRhZygpe3JldHVybiB0aGlzLl9hY2Nlc3NpYmlsaXR5VGFnfWdldCBkb05vdFNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2RvTm90U2VyaWFsaXplPyEwOnRoaXMuX3BhcmVudE5vZGU/dGhpcy5fcGFyZW50Tm9kZS5kb05vdFNlcmlhbGl6ZTohMX1zZXQgZG9Ob3RTZXJpYWxpemUoZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9kb05vdFNlcmlhbGl6ZT1lfWlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0Rpc3Bvc2VkfXNldCBwYXJlbnQoZSl7aWYodGhpcy5fcGFyZW50Tm9kZT09PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fcGFyZW50Tm9kZTtpZih0aGlzLl9wYXJlbnROb2RlJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbiE9PXZvaWQgMCYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4hPT1udWxsKXtjb25zdCBpPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuLmluZGV4T2YodGhpcyk7aSE9PS0xJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5zcGxpY2UoaSwxKSwhZSYmIXRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZCYmdGhpcy5fYWRkVG9TY2VuZVJvb3ROb2RlcygpfXRoaXMuX3BhcmVudE5vZGU9ZSx0aGlzLl9wYXJlbnROb2RlJiYoKHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPT09dm9pZCAwfHx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj09PW51bGwpJiYodGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49bmV3IEFycmF5KSx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5wdXNoKHRoaXMpLHR8fHRoaXMuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnROb2RlfV9zZXJpYWxpemVBc1BhcmVudChlKXtlLnBhcmVudElkPXRoaXMudW5pcXVlSWR9X2FkZFRvU2NlbmVSb290Tm9kZXMoKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9PT0tMSYmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD10aGlzLl9zY2VuZS5yb290Tm9kZXMubGVuZ3RoLHRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5wdXNoKHRoaXMpKX1fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCl7aWYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4IT09LTEpe2NvbnN0IGU9dGhpcy5fc2NlbmUucm9vdE5vZGVzLHQ9ZS5sZW5ndGgtMTtlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF09ZVt0XSxlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF0uX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXgsdGhpcy5fc2NlbmUucm9vdE5vZGVzLnBvcCgpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD0tMX19Z2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSgpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU/dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlOnRoaXMuX3NjZW5lLmFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZX1zZXQgYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlKGUpe3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1lfWdldENsYXNzTmFtZSgpe3JldHVybiJOb2RlIn1zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfWdldCBvbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZX1nZXQgb25DbG9uZWRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25DbG9uZWRPYnNlcnZhYmxlfWNvbnN0cnVjdG9yKGUsdD1udWxsKXt0aGlzLl9pc0RpcnR5PSExLHRoaXMuX25vZGVEYXRhU3RvcmFnZT1uZXcgVm4sdGhpcy5zdGF0ZT0iIix0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuX2FjY2Vzc2liaWxpdHlUYWc9bnVsbCx0aGlzLm9uQWNjZXNzaWJpbGl0eVRhZ0NoYW5nZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuYW5pbWF0aW9ucz1uZXcgQXJyYXksdGhpcy5fcmFuZ2VzPXt9LHRoaXMub25SZWFkeT1udWxsLHRoaXMuX2N1cnJlbnRSZW5kZXJJZD0tMSx0aGlzLl9wYXJlbnRVcGRhdGVJZD0tMSx0aGlzLl9jaGlsZFVwZGF0ZUlkPS0xLHRoaXMuX3dhaXRpbmdQYXJlbnRJZD1udWxsLHRoaXMuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PW51bGwsdGhpcy5fd2FpdGluZ1BhcnNlZFVuaXF1ZUlkPW51bGwsdGhpcy5fY2FjaGU9e30sdGhpcy5fcGFyZW50Tm9kZT1udWxsLHRoaXMuX2NoaWxkcmVuPW51bGwsdGhpcy5fd29ybGRNYXRyaXg9TS5JZGVudGl0eSgpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnQ9MCx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMCx0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9pc05vZGU9ITAsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5fYmVoYXZpb3JzPW5ldyBBcnJheSx0aGlzLm5hbWU9ZSx0aGlzLmlkPWUsdGhpcy5fc2NlbmU9dHx8Y2UuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5faW5pdENhY2hlKCl9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpfWFkZEJlaGF2aW9yKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpIT09LTE/dGhpczooZS5pbml0KCksdGhpcy5fc2NlbmUuaXNMb2FkaW5nJiYhdD90aGlzLl9zY2VuZS5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmFkZE9uY2UoKCk9PntlLmF0dGFjaCh0aGlzKX0pOmUuYXR0YWNoKHRoaXMpLHRoaXMuX2JlaGF2aW9ycy5wdXNoKGUpLHRoaXMpfXJlbW92ZUJlaGF2aW9yKGUpe2NvbnN0IHQ9dGhpcy5fYmVoYXZpb3JzLmluZGV4T2YoZSk7cmV0dXJuIHQ9PT0tMT90aGlzOih0aGlzLl9iZWhhdmlvcnNbdF0uZGV0YWNoKCksdGhpcy5fYmVoYXZpb3JzLnNwbGljZSh0LDEpLHRoaXMpfWdldCBiZWhhdmlvcnMoKXtyZXR1cm4gdGhpcy5fYmVoYXZpb3JzfWdldEJlaGF2aW9yQnlOYW1lKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2JlaGF2aW9ycylpZih0Lm5hbWU9PT1lKXJldHVybiB0O3JldHVybiBudWxsfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZCE9PXRoaXMuX3NjZW5lLmdldFJlbmRlcklkKCkmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXh9X2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHkmJih0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50PXRoaXMuX3dvcmxkTWF0cml4LmRldGVybWluYW50KCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnR9Z2V0IHdvcmxkTWF0cml4RnJvbUNhY2hlKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fV9pbml0Q2FjaGUoKXt0aGlzLl9jYWNoZT17fSx0aGlzLl9jYWNoZS5wYXJlbnQ9dm9pZCAwfXVwZGF0ZUNhY2hlKGUpeyFlJiZ0aGlzLmlzU3luY2hyb25pemVkKCl8fCh0aGlzLl9jYWNoZS5wYXJlbnQ9dGhpcy5wYXJlbnQsdGhpcy5fdXBkYXRlQ2FjaGUoKSl9X2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsdD0hMCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLCExKTpudWxsfV91cGRhdGVDYWNoZShlKXt9X2lzU3luY2hyb25pemVkKCl7cmV0dXJuITB9X21hcmtTeW5jZWRXaXRoUGFyZW50KCl7dGhpcy5fcGFyZW50Tm9kZSYmKHRoaXMuX3BhcmVudFVwZGF0ZUlkPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQpfWlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuX2lzRGlydHl8fHRoaXMuX3BhcmVudFVwZGF0ZUlkIT09dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRVcGRhdGVJZD8hMTp0aGlzLl9wYXJlbnROb2RlLmlzU3luY2hyb25pemVkKCk6ITB9aXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4gdGhpcy5fY2FjaGUucGFyZW50IT09dGhpcy5fcGFyZW50Tm9kZT8odGhpcy5fY2FjaGUucGFyZW50PXRoaXMuX3BhcmVudE5vZGUsITEpOnRoaXMuX3BhcmVudE5vZGUmJiF0aGlzLmlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpPyExOnRoaXMuX2lzU3luY2hyb25pemVkKCl9aXNSZWFkeShlPSExKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5fW1hcmtBc0RpcnR5KGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9aXNFbmFibGVkKGU9ITApe3JldHVybiBlPT09ITE/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ6dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1BhcmVudEVuYWJsZWQ6ITF9X3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZD10aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuaXNFbmFibGVkKCk6ITAsdGhpcy5fY2hpbGRyZW4mJnRoaXMuX2NoaWxkcmVuLmZvckVhY2goZT0+e2UuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKX0pfXNldEVuYWJsZWQoZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ9ZSx0aGlzLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCksdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9aXNEZXNjZW5kYW50T2YoZSl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50PT09ZT8hMDp0aGlzLnBhcmVudC5pc0Rlc2NlbmRhbnRPZihlKTohMX1fZ2V0RGVzY2VuZGFudHMoZSx0PSExLGkpe2lmKHRoaXMuX2NoaWxkcmVuKWZvcihsZXQgcz0wO3M8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLl9jaGlsZHJlbltzXTsoIWl8fGkocikpJiZlLnB1c2gociksdHx8ci5fZ2V0RGVzY2VuZGFudHMoZSwhMSxpKX19Z2V0RGVzY2VuZGFudHMoZSx0KXtjb25zdCBpPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMoaSxlLHQpLGl9Z2V0Q2hpbGRNZXNoZXMoZSx0KXtjb25zdCBpPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUscz0+KCF0fHx0KHMpKSYmcy5jdWxsaW5nU3RyYXRlZ3khPT12b2lkIDApLGl9Z2V0Q2hpbGRyZW4oZSx0PSEwKXtyZXR1cm4gdGhpcy5nZXREZXNjZW5kYW50cyh0LGUpfV9zZXRSZWFkeShlKXtpZihlIT09dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5KXtpZighZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5PSExO3JldHVybn10aGlzLm9uUmVhZHkmJnRoaXMub25SZWFkeSh0aGlzKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITB9fWdldEFuaW1hdGlvbkJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuYW5pbWF0aW9uc1t0XTtpZihpLm5hbWU9PT1lKXJldHVybiBpfXJldHVybiBudWxsfWNyZWF0ZUFuaW1hdGlvblJhbmdlKGUsdCxpKXtpZighdGhpcy5fcmFuZ2VzW2VdKXt0aGlzLl9yYW5nZXNbZV09emUuX0FuaW1hdGlvblJhbmdlRmFjdG9yeShlLHQsaSk7Zm9yKGxldCBzPTAscj10aGlzLmFuaW1hdGlvbnMubGVuZ3RoO3M8cjtzKyspdGhpcy5hbmltYXRpb25zW3NdJiZ0aGlzLmFuaW1hdGlvbnNbc10uY3JlYXRlUmFuZ2UoZSx0LGkpfX1kZWxldGVBbmltYXRpb25SYW5nZShlLHQ9ITApe2ZvcihsZXQgaT0wLHM9dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpPHM7aSsrKXRoaXMuYW5pbWF0aW9uc1tpXSYmdGhpcy5hbmltYXRpb25zW2ldLmRlbGV0ZVJhbmdlKGUsdCk7dGhpcy5fcmFuZ2VzW2VdPW51bGx9Z2V0QW5pbWF0aW9uUmFuZ2UoZSl7cmV0dXJuIHRoaXMuX3Jhbmdlc1tlXXx8bnVsbH1nZXRBbmltYXRpb25SYW5nZXMoKXtjb25zdCBlPVtdO2xldCB0O2Zvcih0IGluIHRoaXMuX3JhbmdlcyllLnB1c2godGhpcy5fcmFuZ2VzW3RdKTtyZXR1cm4gZX1iZWdpbkFuaW1hdGlvbihlLHQsaSxzKXtjb25zdCByPXRoaXMuZ2V0QW5pbWF0aW9uUmFuZ2UoZSk7cmV0dXJuIHI/dGhpcy5fc2NlbmUuYmVnaW5BbmltYXRpb24odGhpcyxyLmZyb20sci50byx0LGkscyk6bnVsbH1zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuX3Jhbmdlcyl7Y29uc3QgaT10aGlzLl9yYW5nZXNbdF07aWYoIWkpY29udGludWU7Y29uc3Qgcz17fTtzLm5hbWU9dCxzLmZyb209aS5mcm9tLHMudG89aS50byxlLnB1c2gocyl9cmV0dXJuIGV9Y29tcHV0ZVdvcmxkTWF0cml4KGUpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PU0uSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXh9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZD0hMCwhZSl7Y29uc3QgaT10aGlzLmdldERlc2NlbmRhbnRzKCEwKTtmb3IoY29uc3QgcyBvZiBpKXMuZGlzcG9zZShlLHQpfXRoaXMucGFyZW50P3RoaXMucGFyZW50PW51bGw6dGhpcy5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5jbGVhcigpO2Zvcihjb25zdCBpIG9mIHRoaXMuX2JlaGF2aW9ycylpLmRldGFjaCgpO3RoaXMuX2JlaGF2aW9ycy5sZW5ndGg9MCx0aGlzLm1ldGFkYXRhPW51bGx9c3RhdGljIFBhcnNlQW5pbWF0aW9uUmFuZ2VzKGUsdCxpKXtpZih0LnJhbmdlcylmb3IobGV0IHM9MDtzPHQucmFuZ2VzLmxlbmd0aDtzKyspe2NvbnN0IHI9dC5yYW5nZXNbc107ZS5jcmVhdGVBbmltYXRpb25SYW5nZShyLm5hbWUsci5mcm9tLHIudG8pfX1nZXRIaWVyYXJjaHlCb3VuZGluZ1ZlY3RvcnMoZT0hMCx0PW51bGwpe3RoaXMuZ2V0U2NlbmUoKS5pbmNyZW1lbnRSZW5kZXJJZCgpLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtsZXQgaSxzO2NvbnN0IHI9dGhpcztpZihyLmdldEJvdW5kaW5nSW5mbyYmci5zdWJNZXNoZXMpe2NvbnN0IG49ci5nZXRCb3VuZGluZ0luZm8oKTtpPW4uYm91bmRpbmdCb3gubWluaW11bVdvcmxkLmNsb25lKCkscz1uLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZC5jbG9uZSgpfWVsc2UgaT1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSkscz1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7aWYoZSl7Y29uc3Qgbj10aGlzLmdldERlc2NlbmRhbnRzKCExKTtmb3IoY29uc3QgYSBvZiBuKXtjb25zdCBvPWE7aWYoby5jb21wdXRlV29ybGRNYXRyaXgoITApLHQmJiF0KG8pfHwhby5nZXRCb3VuZGluZ0luZm98fG8uZ2V0VG90YWxWZXJ0aWNlcygpPT09MCljb250aW51ZTtjb25zdCBsPW8uZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdCb3gsdT1sLm1pbmltdW1Xb3JsZCxkPWwubWF4aW11bVdvcmxkO3AuQ2hlY2tFeHRlbmRzKHUsaSxzKSxwLkNoZWNrRXh0ZW5kcyhkLGkscyl9fXJldHVybnttaW46aSxtYXg6c319fXplLl9BbmltYXRpb25SYW5nZUZhY3Rvcnk9KGMsZSx0KT0+e3Rocm93IFEoIkFuaW1hdGlvblJhbmdlIil9LHplLl9Ob2RlQ29uc3RydWN0b3JzPXt9LFQoW3koKV0semUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW3koKV0semUucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxUKFt5KCldLHplLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbeSgpXSx6ZS5wcm90b3R5cGUsInN0YXRlIix2b2lkIDApLFQoW3koKV0semUucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKTtjbGFzcyBXaXtjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLndpZHRoPWksdGhpcy5oZWlnaHQ9c310b0dsb2JhbChlLHQpe3JldHVybiBuZXcgV2kodGhpcy54KmUsdGhpcy55KnQsdGhpcy53aWR0aCplLHRoaXMuaGVpZ2h0KnQpfXRvR2xvYmFsVG9SZWYoZSx0LGkpe3JldHVybiBpLng9dGhpcy54KmUsaS55PXRoaXMueSp0LGkud2lkdGg9dGhpcy53aWR0aCplLGkuaGVpZ2h0PXRoaXMuaGVpZ2h0KnQsdGhpc31jbG9uZSgpe3JldHVybiBuZXcgV2kodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX19Y2xhc3MgJCBleHRlbmRzIHple2dldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24oZSl7dGhpcy5fcG9zaXRpb249ZX1zZXQgdXBWZWN0b3IoZSl7dGhpcy5fdXBWZWN0b3I9ZX1nZXQgdXBWZWN0b3IoKXtyZXR1cm4gdGhpcy5fdXBWZWN0b3J9Z2V0IHNjcmVlbkFyZWEoKXt2YXIgZSx0LGkscztsZXQgcj0wLG49MDtpZih0aGlzLm1vZGU9PT0kLlBFUlNQRUNUSVZFX0NBTUVSQSl0aGlzLmZvdk1vZGU9PT0kLkZPVk1PREVfVkVSVElDQUxfRklYRUQ/KG49dGhpcy5taW5aKjIqTWF0aC50YW4odGhpcy5mb3YvMikscj10aGlzLmdldEVuZ2luZSgpLmdldEFzcGVjdFJhdGlvKHRoaXMpKm4pOihyPXRoaXMubWluWioyKk1hdGgudGFuKHRoaXMuZm92LzIpLG49ci90aGlzLmdldEVuZ2luZSgpLmdldEFzcGVjdFJhdGlvKHRoaXMpKTtlbHNle2NvbnN0IGE9dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJXaWR0aCgpLzIsbz10aGlzLmdldEVuZ2luZSgpLmdldFJlbmRlckhlaWdodCgpLzI7cj0oKGU9dGhpcy5vcnRob1JpZ2h0KSE9PW51bGwmJmUhPT12b2lkIDA/ZTphKS0oKHQ9dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmdCE9PXZvaWQgMD90Oi1hKSxuPSgoaT10aGlzLm9ydGhvVG9wKSE9PW51bGwmJmkhPT12b2lkIDA/aTpvKS0oKHM9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZzIT09dm9pZCAwP3M6LW8pfXJldHVybiByKm59c2V0IG9ydGhvTGVmdChlKXt0aGlzLl9vcnRob0xlZnQ9ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQub3J0aG9MZWZ0PWV9Z2V0IG9ydGhvTGVmdCgpe3JldHVybiB0aGlzLl9vcnRob0xlZnR9c2V0IG9ydGhvUmlnaHQoZSl7dGhpcy5fb3J0aG9SaWdodD1lO2Zvcihjb25zdCB0IG9mIHRoaXMuX3JpZ0NhbWVyYXMpdC5vcnRob1JpZ2h0PWV9Z2V0IG9ydGhvUmlnaHQoKXtyZXR1cm4gdGhpcy5fb3J0aG9SaWdodH1zZXQgb3J0aG9Cb3R0b20oZSl7dGhpcy5fb3J0aG9Cb3R0b209ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQub3J0aG9Cb3R0b209ZX1nZXQgb3J0aG9Cb3R0b20oKXtyZXR1cm4gdGhpcy5fb3J0aG9Cb3R0b219c2V0IG9ydGhvVG9wKGUpe3RoaXMuX29ydGhvVG9wPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvVG9wPWV9Z2V0IG9ydGhvVG9wKCl7cmV0dXJuIHRoaXMuX29ydGhvVG9wfXNldCBtb2RlKGUpe3RoaXMuX21vZGU9ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQubW9kZT1lfWdldCBtb2RlKCl7cmV0dXJuIHRoaXMuX21vZGV9Y29uc3RydWN0b3IoZSx0LGkscz0hMCl7c3VwZXIoZSxpKSx0aGlzLl9wb3NpdGlvbj1wLlplcm8oKSx0aGlzLl91cFZlY3Rvcj1wLlVwKCksdGhpcy5fb3J0aG9MZWZ0PW51bGwsdGhpcy5fb3J0aG9SaWdodD1udWxsLHRoaXMuX29ydGhvQm90dG9tPW51bGwsdGhpcy5fb3J0aG9Ub3A9bnVsbCx0aGlzLmZvdj0uOCx0aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ9MCx0aGlzLm1pblo9MSx0aGlzLm1heFo9MWU0LHRoaXMuaW5lcnRpYT0uOSx0aGlzLl9tb2RlPSQuUEVSU1BFQ1RJVkVfQ0FNRVJBLHRoaXMuaXNJbnRlcm1lZGlhdGU9ITEsdGhpcy52aWV3cG9ydD1uZXcgV2koMCwwLDEsMSksdGhpcy5sYXllck1hc2s9MjY4NDM1NDU1LHRoaXMuZm92TW9kZT0kLkZPVk1PREVfVkVSVElDQUxfRklYRUQsdGhpcy5jYW1lcmFSaWdNb2RlPSQuUklHX01PREVfTk9ORSx0aGlzLmN1c3RvbVJlbmRlclRhcmdldHM9bmV3IEFycmF5LHRoaXMub3V0cHV0UmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLmlzUmlnQ2FtZXJhPSExLHRoaXMuX3JpZ0NhbWVyYXM9bmV3IEFycmF5LHRoaXMuX3dlYnZyVmlld01hdHJpeD1NLklkZW50aXR5KCksdGhpcy5fc2tpcFJlbmRlcmluZz0hMSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4PW5ldyBNLHRoaXMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5LHRoaXMuX2FjdGl2ZU1lc2hlcz1uZXcgSmUoMjU2KSx0aGlzLl9nbG9iYWxQb3NpdGlvbj1wLlplcm8oKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXg9TS5JZGVudGl0eSgpLHRoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITEsdGhpcy5fdHJhbnNmb3JtTWF0cml4PU0uWmVybygpLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHRoaXMuX2Fic29sdXRlUm90YXRpb249Wi5JZGVudGl0eSgpLHRoaXMuX2lzQ2FtZXJhPSEwLHRoaXMuX2lzTGVmdENhbWVyYT0hMSx0aGlzLl9pc1JpZ2h0Q2FtZXJhPSExLHRoaXMuZ2V0U2NlbmUoKS5hZGRDYW1lcmEodGhpcykscyYmIXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEmJih0aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhPXRoaXMpLHRoaXMucG9zaXRpb249dCx0aGlzLnJlbmRlclBhc3NJZD10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyUGFzc0lkKGBDYW1lcmEgJHtlfWApfXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGVTdG9yZWQ9ITAsdGhpcy5fc3RvcmVkRm92PXRoaXMuZm92LHRoaXN9X3Jlc3RvcmVTdGF0ZVZhbHVlcygpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD8odGhpcy5mb3Y9dGhpcy5fc3RvcmVkRm92LCEwKTohMX1yZXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fcmVzdG9yZVN0YXRlVmFsdWVzKCk/KHRoaXMub25SZXN0b3JlU3RhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSwhMCk6ITF9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNhbWVyYSJ9dG9TdHJpbmcoZSl7bGV0IHQ9Ik5hbWU6ICIrdGhpcy5uYW1lO2lmKHQrPSIsIHR5cGU6ICIrdGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLmFuaW1hdGlvbnMpZm9yKGxldCBpPTA7aTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl0Kz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW2ldLnRvU3RyaW5nKGUpO3JldHVybiB0fWFwcGx5VmVydGljYWxDb3JyZWN0aW9uKCl7Y29uc3QgZT10aGlzLmFic29sdXRlUm90YXRpb24udG9FdWxlckFuZ2xlcygpO3RoaXMucHJvamVjdGlvblBsYW5lVGlsdD10aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tZS54OmUueH1nZXQgZ2xvYmFsUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsUG9zaXRpb259Z2V0QWN0aXZlTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc31pc0FjdGl2ZU1lc2goZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlcy5pbmRleE9mKGUpIT09LTF9aXNSZWFkeShlPSExKXtpZihlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3N0UHJvY2Vzc2VzKWlmKHQmJiF0LmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4gc3VwZXIuaXNSZWFkeShlKX1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS51cFZlY3Rvcj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUubW9kZT12b2lkIDAsdGhpcy5fY2FjaGUubWluWj12b2lkIDAsdGhpcy5fY2FjaGUubWF4Wj12b2lkIDAsdGhpcy5fY2FjaGUuZm92PXZvaWQgMCx0aGlzLl9jYWNoZS5mb3ZNb2RlPXZvaWQgMCx0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9MZWZ0PXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9Ub3A9dm9pZCAwLHRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPXZvaWQgMCx0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9dm9pZCAwfV91cGRhdGVDYWNoZShlKXtlfHxzdXBlci5fdXBkYXRlQ2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0aGlzLl9jYWNoZS51cFZlY3Rvci5jb3B5RnJvbSh0aGlzLnVwVmVjdG9yKX1faXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkmJnRoaXMuX2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpfV9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKXtyZXR1cm4gc3VwZXIuX2lzU3luY2hyb25pemVkKCk/dGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pJiZ0aGlzLl9jYWNoZS51cFZlY3Rvci5lcXVhbHModGhpcy51cFZlY3RvcikmJnRoaXMuaXNTeW5jaHJvbml6ZWRXaXRoUGFyZW50KCk6ITF9X2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpe2xldCBlPXRoaXMuX2NhY2hlLm1vZGU9PT10aGlzLm1vZGUmJnRoaXMuX2NhY2hlLm1pblo9PT10aGlzLm1pblomJnRoaXMuX2NhY2hlLm1heFo9PT10aGlzLm1heFo7aWYoIWUpcmV0dXJuITE7Y29uc3QgdD10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLm1vZGU9PT0kLlBFUlNQRUNUSVZFX0NBTUVSQT9lPXRoaXMuX2NhY2hlLmZvdj09PXRoaXMuZm92JiZ0aGlzLl9jYWNoZS5mb3ZNb2RlPT09dGhpcy5mb3ZNb2RlJiZ0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz09PXQuZ2V0QXNwZWN0UmF0aW8odGhpcykmJnRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9PT10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ6ZT10aGlzLl9jYWNoZS5vcnRob0xlZnQ9PT10aGlzLm9ydGhvTGVmdCYmdGhpcy5fY2FjaGUub3J0aG9SaWdodD09PXRoaXMub3J0aG9SaWdodCYmdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209PT10aGlzLm9ydGhvQm90dG9tJiZ0aGlzLl9jYWNoZS5vcnRob1RvcD09PXRoaXMub3J0aG9Ub3AmJnRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPT09dC5nZXRSZW5kZXJXaWR0aCgpJiZ0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9PT10LmdldFJlbmRlckhlaWdodCgpLGV9YXR0YWNoQ29udHJvbChlLHQpe31kZXRhY2hDb250cm9sKGUpe311cGRhdGUoKXt0aGlzLl9jaGVja0lucHV0cygpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PSQuUklHX01PREVfTk9ORSYmdGhpcy5fdXBkYXRlUmlnQ2FtZXJhcygpLHRoaXMuZ2V0Vmlld01hdHJpeCgpLHRoaXMuZ2V0UHJvamVjdGlvbk1hdHJpeCgpfV9jaGVja0lucHV0cygpe3RoaXMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0IHJpZ0NhbWVyYXMoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhc31nZXQgcmlnUG9zdFByb2Nlc3MoKXtyZXR1cm4gdGhpcy5fcmlnUG9zdFByb2Nlc3N9X2dldEZpcnN0UG9zdFByb2Nlc3MoKXtmb3IobGV0IGU9MDtlPHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoO2UrKylpZih0aGlzLl9wb3N0UHJvY2Vzc2VzW2VdIT09bnVsbClyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc1tlXTtyZXR1cm4gbnVsbH1fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKXtjb25zdCBlPXRoaXMuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtlJiZlLm1hcmtUZXh0dXJlRGlydHkoKTtmb3IobGV0IHQ9MCxpPXRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9dGhpcy5fcmlnQ2FtZXJhc1t0XSxyPXMuX3JpZ1Bvc3RQcm9jZXNzO3I/KHIuZ2V0RWZmZWN0TmFtZSgpPT09InBhc3MiJiYocy5pc0ludGVybWVkaWF0ZT10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD09PTApLHMuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKS5jb25jYXQociksci5tYXJrVGV4dHVyZURpcnR5KCkpOnMuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKX19YXR0YWNoUG9zdFByb2Nlc3MoZSx0PW51bGwpe3JldHVybiFlLmlzUmV1c2FibGUoKSYmdGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKGUpPi0xPyhPLkVycm9yKCJZb3UncmUgdHJ5aW5nIHRvIHJldXNlIGEgcG9zdCBwcm9jZXNzIG5vdCBkZWZpbmVkIGFzIHJldXNhYmxlLiIpLDApOih0PT1udWxsfHx0PDA/dGhpcy5fcG9zdFByb2Nlc3Nlcy5wdXNoKGUpOnRoaXMuX3Bvc3RQcm9jZXNzZXNbdF09PT1udWxsP3RoaXMuX3Bvc3RQcm9jZXNzZXNbdF09ZTp0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDAsZSksdGhpcy5fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKSl9ZGV0YWNoUG9zdFByb2Nlc3MoZSl7Y29uc3QgdD10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YoZSk7dCE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1t0XT1udWxsKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCl9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fd29ybGRNYXRyaXg6KHRoaXMuZ2V0Vmlld01hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KX1fZ2V0Vmlld01hdHJpeCgpe3JldHVybiBNLklkZW50aXR5KCl9Z2V0Vmlld01hdHJpeChlKXtyZXR1cm4hZSYmdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Oih0aGlzLnVwZGF0ZUNhY2hlKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PXRoaXMuX2dldFZpZXdNYXRyaXgoKSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fY2hpbGRVcGRhdGVJZCsrLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcyYmdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCYmdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZSYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMucGFyZW50KSx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXguaW52ZXJ0VG9SZWYodGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeCl9ZnJlZXplUHJvamVjdGlvbk1hdHJpeChlKXt0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSEwLGUhPT12b2lkIDAmJih0aGlzLl9wcm9qZWN0aW9uTWF0cml4PWUpfXVuZnJlZXplUHJvamVjdGlvbk1hdHJpeCgpe3RoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITF9Z2V0UHJvamVjdGlvbk1hdHJpeChlKXt2YXIgdCxpLHMscixuLGEsbyxoO2lmKHRoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXh8fCFlJiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKSlyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDt0aGlzLl9jYWNoZS5tb2RlPXRoaXMubW9kZSx0aGlzLl9jYWNoZS5taW5aPXRoaXMubWluWix0aGlzLl9jYWNoZS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMDtjb25zdCBsPXRoaXMuZ2V0RW5naW5lKCksdT10aGlzLmdldFNjZW5lKCksZD1sLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtpZih0aGlzLm1vZGU9PT0kLlBFUlNQRUNUSVZFX0NBTUVSQSl7dGhpcy5fY2FjaGUuZm92PXRoaXMuZm92LHRoaXMuX2NhY2hlLmZvdk1vZGU9dGhpcy5mb3ZNb2RlLHRoaXMuX2NhY2hlLmFzcGVjdFJhdGlvPWwuZ2V0QXNwZWN0UmF0aW8odGhpcyksdGhpcy5fY2FjaGUucHJvamVjdGlvblBsYW5lVGlsdD10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQsdGhpcy5taW5aPD0wJiYodGhpcy5taW5aPS4xKTtsZXQgXzt1LnVzZVJpZ2h0SGFuZGVkU3lzdGVtP189TS5QZXJzcGVjdGl2ZUZvdlJIVG9SZWY6Xz1NLlBlcnNwZWN0aXZlRm92TEhUb1JlZixfKHRoaXMuZm92LGwuZ2V0QXNwZWN0UmF0aW8odGhpcyksZD90aGlzLm1heFo6dGhpcy5taW5aLGQ/dGhpcy5taW5aOnRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuZm92TW9kZT09PSQuRk9WTU9ERV9WRVJUSUNBTF9GSVhFRCxsLmlzTkRDSGFsZlpSYW5nZSx0aGlzLnByb2plY3Rpb25QbGFuZVRpbHQsZCl9ZWxzZXtjb25zdCBfPWwuZ2V0UmVuZGVyV2lkdGgoKS8yLGY9bC5nZXRSZW5kZXJIZWlnaHQoKS8yO3UudXNlUmlnaHRIYW5kZWRTeXN0ZW0/TS5PcnRob09mZkNlbnRlclJIVG9SZWYoKHQ9dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmdCE9PXZvaWQgMD90Oi1fLChpPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZpIT09dm9pZCAwP2k6Xywocz10aGlzLm9ydGhvQm90dG9tKSE9PW51bGwmJnMhPT12b2lkIDA/czotZiwocj10aGlzLm9ydGhvVG9wKSE9PW51bGwmJnIhPT12b2lkIDA/cjpmLGQ/dGhpcy5tYXhaOnRoaXMubWluWixkP3RoaXMubWluWjp0aGlzLm1heFosdGhpcy5fcHJvamVjdGlvbk1hdHJpeCxsLmlzTkRDSGFsZlpSYW5nZSk6TS5PcnRob09mZkNlbnRlckxIVG9SZWYoKG49dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOi1fLChhPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZhIT09dm9pZCAwP2E6Xywobz10aGlzLm9ydGhvQm90dG9tKSE9PW51bGwmJm8hPT12b2lkIDA/bzotZiwoaD10aGlzLm9ydGhvVG9wKSE9PW51bGwmJmghPT12b2lkIDA/aDpmLGQ/dGhpcy5tYXhaOnRoaXMubWluWixkP3RoaXMubWluWjp0aGlzLm1heFosdGhpcy5fcHJvamVjdGlvbk1hdHJpeCxsLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FjaGUub3J0aG9MZWZ0PXRoaXMub3J0aG9MZWZ0LHRoaXMuX2NhY2hlLm9ydGhvUmlnaHQ9dGhpcy5vcnRob1JpZ2h0LHRoaXMuX2NhY2hlLm9ydGhvQm90dG9tPXRoaXMub3J0aG9Cb3R0b20sdGhpcy5fY2FjaGUub3J0aG9Ub3A9dGhpcy5vcnRob1RvcCx0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD1sLmdldFJlbmRlcldpZHRoKCksdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PWwuZ2V0UmVuZGVySGVpZ2h0KCl9cmV0dXJuIHRoaXMub25Qcm9qZWN0aW9uTWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9Z2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKXtyZXR1cm4gdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeH1fdXBkYXRlRnJ1c3R1bVBsYW5lcygpe3RoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzJiYodGhpcy5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpLHRoaXMuX2ZydXN0dW1QbGFuZXM/RXQuR2V0UGxhbmVzVG9SZWYodGhpcy5fdHJhbnNmb3JtTWF0cml4LHRoaXMuX2ZydXN0dW1QbGFuZXMpOnRoaXMuX2ZydXN0dW1QbGFuZXM9RXQuR2V0UGxhbmVzKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXM9ITEpfWlzSW5GcnVzdHVtKGUsdD0hMSl7aWYodGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLHQmJnRoaXMucmlnQ2FtZXJhcy5sZW5ndGg+MCl7bGV0IGk9ITE7cmV0dXJuIHRoaXMucmlnQ2FtZXJhcy5mb3JFYWNoKHM9PntzLl91cGRhdGVGcnVzdHVtUGxhbmVzKCksaT1pfHxlLmlzSW5GcnVzdHVtKHMuX2ZydXN0dW1QbGFuZXMpfSksaX1lbHNlIHJldHVybiBlLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpfWdldEZvcndhcmRSYXkoZT0xMDAsdCxpKXt0aHJvdyBRKCJSYXkiKX1nZXRGb3J3YXJkUmF5VG9SZWYoZSx0PTEwMCxpLHMpe3Rocm93IFEoIlJheSIpfWRpc3Bvc2UoZSx0PSExKXtmb3IodGhpcy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Qcm9qZWN0aW9uTWF0cml4Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuaW5wdXRzJiZ0aGlzLmlucHV0cy5jbGVhcigpLHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVDYW1lcmEodGhpcyk7dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg+MDspe2NvbnN0IHM9dGhpcy5fcmlnQ2FtZXJhcy5wb3AoKTtzJiZzLmRpc3Bvc2UoKX1pZih0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IHM9dGhpcy5fcGFyZW50Q29udGFpbmVyLmNhbWVyYXMuaW5kZXhPZih0aGlzKTtzPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuY2FtZXJhcy5zcGxpY2UocywxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0aGlzLl9yaWdQb3N0UHJvY2Vzcyl0aGlzLl9yaWdQb3N0UHJvY2Vzcy5kaXNwb3NlKHRoaXMpLHRoaXMuX3JpZ1Bvc3RQcm9jZXNzPW51bGwsdGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg9MDtlbHNlIGlmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PSQuUklHX01PREVfTk9ORSl0aGlzLl9yaWdQb3N0UHJvY2Vzcz1udWxsLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPTA7ZWxzZXtsZXQgcz10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtmb3IoOy0tcz49MDspe2NvbnN0IHI9dGhpcy5fcG9zdFByb2Nlc3Nlc1tzXTtyJiZyLmRpc3Bvc2UodGhpcyl9fWxldCBpPXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg7Zm9yKDstLWk+PTA7KXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0c1tpXS5kaXNwb3NlKCk7dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD0wLHRoaXMuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnJlbGVhc2VSZW5kZXJQYXNzSWQodGhpcy5yZW5kZXJQYXNzSWQpLHN1cGVyLmRpc3Bvc2UoZSx0KX1nZXQgaXNMZWZ0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX2lzTGVmdENhbWVyYX1nZXQgaXNSaWdodENhbWVyYSgpe3JldHVybiB0aGlzLl9pc1JpZ2h0Q2FtZXJhfWdldCBsZWZ0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDE/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzBdfWdldCByaWdodENhbWVyYSgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwyP251bGw6dGhpcy5fcmlnQ2FtZXJhc1sxXX1nZXRMZWZ0VGFyZ2V0KCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDE/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzBdLmdldFRhcmdldCgpfWdldFJpZ2h0VGFyZ2V0KCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDI/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzFdLmdldFRhcmdldCgpfXNldENhbWVyYVJpZ01vZGUoZSx0KXtpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1lKXtmb3IoO3RoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPjA7KXtjb25zdCBpPXRoaXMuX3JpZ0NhbWVyYXMucG9wKCk7aSYmaS5kaXNwb3NlKCl9aWYodGhpcy5jYW1lcmFSaWdNb2RlPWUsdGhpcy5fY2FtZXJhUmlnUGFyYW1zPXt9LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5pbnRlcmF4aWFsRGlzdGFuY2U9dC5pbnRlcmF4aWFsRGlzdGFuY2V8fC4wNjM3LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGU9WC5Ub1JhZGlhbnModGhpcy5fY2FtZXJhUmlnUGFyYW1zLmludGVyYXhpYWxEaXN0YW5jZS8uMDYzNyksdGhpcy5jYW1lcmFSaWdNb2RlIT09JC5SSUdfTU9ERV9OT05FKXtjb25zdCBpPXRoaXMuY3JlYXRlUmlnQ2FtZXJhKHRoaXMubmFtZSsiX0wiLDApO2kmJihpLl9pc0xlZnRDYW1lcmE9ITApO2NvbnN0IHM9dGhpcy5jcmVhdGVSaWdDYW1lcmEodGhpcy5uYW1lKyJfUiIsMSk7cyYmKHMuX2lzUmlnaHRDYW1lcmE9ITApLGkmJnMmJih0aGlzLl9yaWdDYW1lcmFzLnB1c2goaSksdGhpcy5fcmlnQ2FtZXJhcy5wdXNoKHMpKX10aGlzLl9zZXRSaWdNb2RlKHQpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCksdGhpcy51cGRhdGUoKX19X3NldFJpZ01vZGUoZSl7fV9nZXRWUlByb2plY3Rpb25NYXRyaXgoKXtyZXR1cm4gTS5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyTWV0cmljcy5hc3BlY3RSYXRpb0Zvdix0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJNZXRyaWNzLmFzcGVjdFJhdGlvLHRoaXMubWluWix0aGlzLm1heFosdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyV29ya01hdHJpeCwhMCx0aGlzLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyV29ya01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ckhNYXRyaXgsdGhpcy5fcHJvamVjdGlvbk1hdHJpeCksdGhpcy5fcHJvamVjdGlvbk1hdHJpeH1fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXgoKXt9X3VwZGF0ZVdlYlZSQ2FtZXJhUm90YXRpb25NYXRyaXgoKXt9X2dldFdlYlZSUHJvamVjdGlvbk1hdHJpeCgpe3JldHVybiBNLklkZW50aXR5KCl9X2dldFdlYlZSVmlld01hdHJpeCgpe3JldHVybiBNLklkZW50aXR5KCl9c2V0Q2FtZXJhUmlnUGFyYW1ldGVyKGUsdCl7dGhpcy5fY2FtZXJhUmlnUGFyYW1zfHwodGhpcy5fY2FtZXJhUmlnUGFyYW1zPXt9KSx0aGlzLl9jYW1lcmFSaWdQYXJhbXNbZV09dCxlPT09ImludGVyYXhpYWxEaXN0YW5jZSImJih0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlPVguVG9SYWRpYW5zKHQvLjA2MzcpKX1jcmVhdGVSaWdDYW1lcmEoZSx0KXtyZXR1cm4gbnVsbH1fdXBkYXRlUmlnQ2FtZXJhcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg7ZSsrKXRoaXMuX3JpZ0NhbWVyYXNbZV0ubWluWj10aGlzLm1pblosdGhpcy5fcmlnQ2FtZXJhc1tlXS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yaWdDYW1lcmFzW2VdLmZvdj10aGlzLmZvdix0aGlzLl9yaWdDYW1lcmFzW2VdLnVwVmVjdG9yLmNvcHlGcm9tKHRoaXMudXBWZWN0b3IpO3RoaXMuY2FtZXJhUmlnTW9kZT09PSQuUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIJiYodGhpcy5fcmlnQ2FtZXJhc1swXS52aWV3cG9ydD10aGlzLl9yaWdDYW1lcmFzWzFdLnZpZXdwb3J0PXRoaXMudmlld3BvcnQpfV9zZXR1cElucHV0cygpe31zZXJpYWxpemUoKXtjb25zdCBlPW5lLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQoZSksdGhpcy5pbnB1dHMmJnRoaXMuaW5wdXRzLnNlcmlhbGl6ZShlKSxuZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLGUpLGUucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksZS5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSxlfWNsb25lKGUsdD1udWxsKXtjb25zdCBpPW5lLkNsb25lKCQuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldENsYXNzTmFtZSgpLGUsdGhpcy5nZXRTY2VuZSgpLHRoaXMuaW50ZXJheGlhbERpc3RhbmNlLHRoaXMuaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlKSx0aGlzKTtyZXR1cm4gaS5uYW1lPWUsaS5wYXJlbnQ9dCx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaSksaX1nZXREaXJlY3Rpb24oZSl7Y29uc3QgdD1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXREaXJlY3Rpb25Ub1JlZihlLHQpLHR9Z2V0IGFic29sdXRlUm90YXRpb24oKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpLmRlY29tcG9zZSh2b2lkIDAsdGhpcy5fYWJzb2x1dGVSb3RhdGlvbiksdGhpcy5fYWJzb2x1dGVSb3RhdGlvbn1nZXREaXJlY3Rpb25Ub1JlZihlLHQpe3AuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCl9c3RhdGljIEdldENvbnN0cnVjdG9yRnJvbU5hbWUoZSx0LGkscz0wLHI9ITApe2NvbnN0IG49emUuQ29uc3RydWN0KGUsdCxpLHtpbnRlcmF4aWFsX2Rpc3RhbmNlOnMsaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlOnJ9KTtyZXR1cm4gbnx8KCgpPT4kLl9DcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhKHQsaSkpfWNvbXB1dGVXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLmdldFdvcmxkTWF0cml4KCl9c3RhdGljIFBhcnNlKGUsdCl7Y29uc3QgaT1lLnR5cGUscz0kLkdldENvbnN0cnVjdG9yRnJvbU5hbWUoaSxlLm5hbWUsdCxlLmludGVyYXhpYWxfZGlzdGFuY2UsZS5pc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUpLHI9bmUuUGFyc2UocyxlLHQpO2lmKGUucGFyZW50SWQhPT12b2lkIDAmJihyLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYoci5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxyLmlucHV0cyYmKHIuaW5wdXRzLnBhcnNlKGUpLHIuX3NldHVwSW5wdXRzKCkpLGUudXBWZWN0b3ImJihyLnVwVmVjdG9yPXAuRnJvbUFycmF5KGUudXBWZWN0b3IpKSxyLnNldFBvc2l0aW9uJiYoci5wb3NpdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCksci5zZXRQb3NpdGlvbihwLkZyb21BcnJheShlLnBvc2l0aW9uKSkpLGUudGFyZ2V0JiZyLnNldFRhcmdldCYmci5zZXRUYXJnZXQocC5Gcm9tQXJyYXkoZS50YXJnZXQpKSxlLmNhbWVyYVJpZ01vZGUpe2NvbnN0IG49ZS5pbnRlcmF4aWFsX2Rpc3RhbmNlP3tpbnRlcmF4aWFsRGlzdGFuY2U6ZS5pbnRlcmF4aWFsX2Rpc3RhbmNlfTp7fTtyLnNldENhbWVyYVJpZ01vZGUoZS5jYW1lcmFSaWdNb2RlLG4pfWlmKGUuYW5pbWF0aW9ucyl7Zm9yKGxldCBuPTA7bjxlLmFuaW1hdGlvbnMubGVuZ3RoO24rKyl7Y29uc3QgYT1lLmFuaW1hdGlvbnNbbl0sbz1haSgiQkFCWUxPTi5BbmltYXRpb24iKTtvJiZyLmFuaW1hdGlvbnMucHVzaChvLlBhcnNlKGEpKX16ZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhyLGUsdCl9cmV0dXJuIGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocixlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmlzRW5hYmxlZCE9PXZvaWQgMCYmci5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxyfX0kLl9DcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhPShjLGUpPT57dGhyb3cgUSgiVW5pdmVyc2FsQ2FtZXJhIil9LCQuUEVSU1BFQ1RJVkVfQ0FNRVJBPTAsJC5PUlRIT0dSQVBISUNfQ0FNRVJBPTEsJC5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVEPTAsJC5GT1ZNT0RFX0hPUklaT05UQUxfRklYRUQ9MSwkLlJJR19NT0RFX05PTkU9MCwkLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSD0xMCwkLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX1BBUkFMTEVMPTExLCQuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPTEyLCQuUklHX01PREVfU1RFUkVPU0NPUElDX09WRVJVTkRFUj0xMywkLlJJR19NT0RFX1NURVJFT1NDT1BJQ19JTlRFUkxBQ0VEPTE0LCQuUklHX01PREVfVlI9MjAsJC5SSUdfTU9ERV9XRUJWUj0yMSwkLlJJR19NT0RFX0NVU1RPTT0yMiwkLkZvcmNlQXR0YWNoQ29udHJvbFRvQWx3YXlzUHJldmVudERlZmF1bHQ9ITEsVChbVXQoInBvc2l0aW9uIildLCQucHJvdG90eXBlLCJfcG9zaXRpb24iLHZvaWQgMCksVChbVXQoInVwVmVjdG9yIildLCQucHJvdG90eXBlLCJfdXBWZWN0b3IiLHZvaWQgMCksVChbeSgpXSwkLnByb3RvdHlwZSwib3J0aG9MZWZ0IixudWxsKSxUKFt5KCldLCQucHJvdG90eXBlLCJvcnRob1JpZ2h0IixudWxsKSxUKFt5KCldLCQucHJvdG90eXBlLCJvcnRob0JvdHRvbSIsbnVsbCksVChbeSgpXSwkLnByb3RvdHlwZSwib3J0aG9Ub3AiLG51bGwpLFQoW3koKV0sJC5wcm90b3R5cGUsImZvdiIsdm9pZCAwKSxUKFt5KCldLCQucHJvdG90eXBlLCJwcm9qZWN0aW9uUGxhbmVUaWx0Iix2b2lkIDApLFQoW3koKV0sJC5wcm90b3R5cGUsIm1pbloiLHZvaWQgMCksVChbeSgpXSwkLnByb3RvdHlwZSwibWF4WiIsdm9pZCAwKSxUKFt5KCldLCQucHJvdG90eXBlLCJpbmVydGlhIix2b2lkIDApLFQoW3koKV0sJC5wcm90b3R5cGUsIm1vZGUiLG51bGwpLFQoW3koKV0sJC5wcm90b3R5cGUsImxheWVyTWFzayIsdm9pZCAwKSxUKFt5KCldLCQucHJvdG90eXBlLCJmb3ZNb2RlIix2b2lkIDApLFQoW3koKV0sJC5wcm90b3R5cGUsImNhbWVyYVJpZ01vZGUiLHZvaWQgMCksVChbeSgpXSwkLnByb3RvdHlwZSwiaW50ZXJheGlhbERpc3RhbmNlIix2b2lkIDApLFQoW3koKV0sJC5wcm90b3R5cGUsImlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSIsdm9pZCAwKTtjbGFzcyB0ZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2FwcGx5VG89a24odGhpcy5fYXBwbHlUb0Nvcm91dGluZS5iaW5kKHRoaXMpKX1zZXQoZSx0KXtzd2l0Y2goZS5sZW5ndGh8fE8uV2FybihgU2V0dGluZyB2ZXJ0ZXggZGF0YSBraW5kICcke3R9JyB3aXRoIGFuIGVtcHR5IGFycmF5YCksdCl7Y2FzZSBnLlBvc2l0aW9uS2luZDp0aGlzLnBvc2l0aW9ucz1lO2JyZWFrO2Nhc2UgZy5Ob3JtYWxLaW5kOnRoaXMubm9ybWFscz1lO2JyZWFrO2Nhc2UgZy5UYW5nZW50S2luZDp0aGlzLnRhbmdlbnRzPWU7YnJlYWs7Y2FzZSBnLlVWS2luZDp0aGlzLnV2cz1lO2JyZWFrO2Nhc2UgZy5VVjJLaW5kOnRoaXMudXZzMj1lO2JyZWFrO2Nhc2UgZy5VVjNLaW5kOnRoaXMudXZzMz1lO2JyZWFrO2Nhc2UgZy5VVjRLaW5kOnRoaXMudXZzND1lO2JyZWFrO2Nhc2UgZy5VVjVLaW5kOnRoaXMudXZzNT1lO2JyZWFrO2Nhc2UgZy5VVjZLaW5kOnRoaXMudXZzNj1lO2JyZWFrO2Nhc2UgZy5Db2xvcktpbmQ6dGhpcy5jb2xvcnM9ZTticmVhaztjYXNlIGcuTWF0cmljZXNJbmRpY2VzS2luZDp0aGlzLm1hdHJpY2VzSW5kaWNlcz1lO2JyZWFrO2Nhc2UgZy5NYXRyaWNlc1dlaWdodHNLaW5kOnRoaXMubWF0cmljZXNXZWlnaHRzPWU7YnJlYWs7Y2FzZSBnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZDp0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWU7YnJlYWs7Y2FzZSBnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZDp0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPWU7YnJlYWt9fWFwcGx5VG9NZXNoKGUsdCl7cmV0dXJuIHRoaXMuX2FwcGx5VG8oZSx0LCExKSx0aGlzfWFwcGx5VG9HZW9tZXRyeShlLHQpe3JldHVybiB0aGlzLl9hcHBseVRvKGUsdCwhMSksdGhpc311cGRhdGVNZXNoKGUpe3JldHVybiB0aGlzLl91cGRhdGUoZSksdGhpc311cGRhdGVHZW9tZXRyeShlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9Kl9hcHBseVRvQ29yb3V0aW5lKGUsdD0hMSxpKXtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJihlLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyx0KSxpJiYoeWllbGQpKSx0aGlzLm5vcm1hbHMmJihlLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLHQpLGkmJih5aWVsZCkpLHRoaXMudGFuZ2VudHMmJihlLnNldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsdCksaSYmKHlpZWxkKSksdGhpcy51dnMmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWS2luZCx0aGlzLnV2cyx0KSxpJiYoeWllbGQpKSx0aGlzLnV2czImJihlLnNldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsdGhpcy51dnMyLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzMyYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCx0aGlzLnV2czMsdCksaSYmKHlpZWxkKSksdGhpcy51dnM0JiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLHRoaXMudXZzNCx0KSxpJiYoeWllbGQpKSx0aGlzLnV2czUmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsdGhpcy51dnM1LHQpLGkmJih5aWVsZCkpLHRoaXMudXZzNiYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCx0aGlzLnV2czYsdCksaSYmKHlpZWxkKSksdGhpcy5jb2xvcnMmJihlLnNldFZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyx0KSxpJiYoeWllbGQpKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyx0KSxpJiYoeWllbGQpKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyx0KSxpJiYoeWllbGQpKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSx0KSxpJiYoeWllbGQpKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSx0KSxpJiYoeWllbGQpKSx0aGlzLmluZGljZXM/KGUuc2V0SW5kaWNlcyh0aGlzLmluZGljZXMsbnVsbCx0KSxpJiYoeWllbGQpKTplLnNldEluZGljZXMoW10sbnVsbCksdGhpc31fdXBkYXRlKGUsdCxpKXtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLHQsaSksdGhpcy5ub3JtYWxzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLHQsaSksdGhpcy50YW5nZW50cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQsaSksdGhpcy51dnMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVVZLaW5kLHRoaXMudXZzLHQsaSksdGhpcy51dnMyJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWMktpbmQsdGhpcy51dnMyLHQsaSksdGhpcy51dnMzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWM0tpbmQsdGhpcy51dnMzLHQsaSksdGhpcy51dnM0JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWNEtpbmQsdGhpcy51dnM0LHQsaSksdGhpcy51dnM1JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWNUtpbmQsdGhpcy51dnM1LHQsaSksdGhpcy51dnM2JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWNktpbmQsdGhpcy51dnM2LHQsaSksdGhpcy5jb2xvcnMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuQ29sb3JLaW5kLHRoaXMuY29sb3JzLHQsaSksdGhpcy5tYXRyaWNlc0luZGljZXMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyx0LGkpLHRoaXMubWF0cmljZXNXZWlnaHRzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCxpKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLHQsaSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSx0LGkpLHRoaXMuaW5kaWNlcyYmZS5zZXRJbmRpY2VzKHRoaXMuaW5kaWNlcyxudWxsKSx0aGlzfXN0YXRpYyBfVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzKGUsdCxpPTAscz1lLmxlbmd0aCl7Y29uc3Qgcj1GLlZlY3RvcjNbMF0sbj1GLlZlY3RvcjNbMV07Zm9yKGxldCBhPWk7YTxpK3M7YSs9MylwLkZyb21BcnJheVRvUmVmKGUsYSxyKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYocix0LG4pLGVbYV09bi54LGVbYSsxXT1uLnksZVthKzJdPW4uen1zdGF0aWMgX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzKGUsdCxpPTAscz1lLmxlbmd0aCl7Y29uc3Qgcj1GLlZlY3RvcjNbMF0sbj1GLlZlY3RvcjNbMV07Zm9yKGxldCBhPWk7YTxpK3M7YSs9MylwLkZyb21BcnJheVRvUmVmKGUsYSxyKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHIsdCxuKSxlW2FdPW4ueCxlW2ErMV09bi55LGVbYSsyXT1uLnp9c3RhdGljIF9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9Ri5WZWN0b3I0WzBdLG49Ri5WZWN0b3I0WzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTQpeWUuRnJvbUFycmF5VG9SZWYoZSxhLHIpLHllLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHIsdCxuKSxlW2FdPW4ueCxlW2ErMV09bi55LGVbYSsyXT1uLnosZVthKzNdPW4ud31zdGF0aWMgX0ZsaXBGYWNlcyhlLHQ9MCxpPWUubGVuZ3RoKXtmb3IobGV0IHM9dDtzPHQraTtzKz0zKXtjb25zdCByPWVbcysxXTtlW3MrMV09ZVtzKzJdLGVbcysyXT1yfX10cmFuc2Zvcm0oZSl7Y29uc3QgdD1lLmRldGVybWluYW50KCk8MDtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJnRlLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXModGhpcy5wb3NpdGlvbnMsZSksdGhpcy5ub3JtYWxzJiZ0ZS5fVHJhbnNmb3JtVmVjdG9yM05vcm1hbHModGhpcy5ub3JtYWxzLGUpLHRoaXMudGFuZ2VudHMmJnRlLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscyh0aGlzLnRhbmdlbnRzLGUpLHQmJnRoaXMuaW5kaWNlcyYmdGUuX0ZsaXBGYWNlcyh0aGlzLmluZGljZXMpLHRoaXN9bWVyZ2UoZSx0PSExLGk9ITEpe2NvbnN0IHM9QXJyYXkuaXNBcnJheShlKT9lLm1hcChyPT4oe3ZlcnRleERhdGE6cn0pKTpbe3ZlcnRleERhdGE6ZX1dO3JldHVybiBMcyh0aGlzLl9tZXJnZUNvcm91dGluZSh2b2lkIDAscyx0LCExLGkpKX0qX21lcmdlQ29yb3V0aW5lKGUsdCxpPSExLHMscil7dmFyIG4sYSxvLGg7dGhpcy5fdmFsaWRhdGUoKTtjb25zdCBsPXQubWFwKGY9PmYudmVydGV4RGF0YSk7Zm9yKGNvbnN0IGYgb2YgbClpZihmLl92YWxpZGF0ZSgpLCF0aGlzLm5vcm1hbHMhPSFmLm5vcm1hbHN8fCF0aGlzLnRhbmdlbnRzIT0hZi50YW5nZW50c3x8IXRoaXMudXZzIT0hZi51dnN8fCF0aGlzLnV2czIhPSFmLnV2czJ8fCF0aGlzLnV2czMhPSFmLnV2czN8fCF0aGlzLnV2czQhPSFmLnV2czR8fCF0aGlzLnV2czUhPSFmLnV2czV8fCF0aGlzLnV2czYhPSFmLnV2czZ8fCF0aGlzLmNvbG9ycyE9IWYuY29sb3JzfHwhdGhpcy5tYXRyaWNlc0luZGljZXMhPSFmLm1hdHJpY2VzSW5kaWNlc3x8IXRoaXMubWF0cmljZXNXZWlnaHRzIT0hZi5tYXRyaWNlc1dlaWdodHN8fCF0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhIT0hZi5tYXRyaWNlc0luZGljZXNFeHRyYXx8IXRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEhPSFmLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IG1lcmdlIHZlcnRleCBkYXRhIHRoYXQgZG8gbm90IGhhdmUgdGhlIHNhbWUgc2V0IG9mIGF0dHJpYnV0ZXMiKTtjb25zdCB1PWwucmVkdWNlKChmLG0pPT57dmFyIHYsRTtyZXR1cm4gZisoKEU9KHY9bS5pbmRpY2VzKT09PW51bGx8fHY9PT12b2lkIDA/dm9pZCAwOnYubGVuZ3RoKSE9PW51bGwmJkUhPT12b2lkIDA/RTowKX0sKGE9KG49dGhpcy5pbmRpY2VzKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4ubGVuZ3RoKSE9PW51bGwmJmEhPT12b2lkIDA/YTowKTtsZXQgXz1yfHxsLnNvbWUoZj0+Zi5pbmRpY2VzPT09dGhpcy5pbmRpY2VzKT8obz10aGlzLmluZGljZXMpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5zbGljZSgpOnRoaXMuaW5kaWNlcztpZih1PjApe2xldCBmPShoPV89PW51bGw/dm9pZCAwOl8ubGVuZ3RoKSE9PW51bGwmJmghPT12b2lkIDA/aDowO2lmKF98fChfPW5ldyBBcnJheSh1KSksXy5sZW5ndGghPT11KXtpZihBcnJheS5pc0FycmF5KF8pKV8ubGVuZ3RoPXU7ZWxzZXtjb25zdCB2PWl8fF8gaW5zdGFuY2VvZiBVaW50MzJBcnJheT9uZXcgVWludDMyQXJyYXkodSk6bmV3IFVpbnQxNkFycmF5KHUpO3Yuc2V0KF8pLF89dn1lJiZlLmRldGVybWluYW50KCk8MCYmdGUuX0ZsaXBGYWNlcyhfLDAsZil9bGV0IG09dGhpcy5wb3NpdGlvbnM/dGhpcy5wb3NpdGlvbnMubGVuZ3RoLzM6MDtmb3IoY29uc3R7dmVydGV4RGF0YTp2LHRyYW5zZm9ybTpFfW9mIHQpaWYodi5pbmRpY2VzKXtmb3IobGV0IFM9MDtTPHYuaW5kaWNlcy5sZW5ndGg7UysrKV9bZitTXT12LmluZGljZXNbU10rbTtFJiZFLmRldGVybWluYW50KCk8MCYmdGUuX0ZsaXBGYWNlcyhfLGYsdi5pbmRpY2VzLmxlbmd0aCksbSs9di5wb3NpdGlvbnMubGVuZ3RoLzMsZis9di5pbmRpY2VzLmxlbmd0aCxzJiYoeWllbGQpfX1yZXR1cm4gdGhpcy5pbmRpY2VzPV8sdGhpcy5wb3NpdGlvbnM9dGUuX01lcmdlRWxlbWVudChnLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyxlLHQubWFwKGY9PltmLnZlcnRleERhdGEucG9zaXRpb25zLGYudHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy5ub3JtYWxzPXRlLl9NZXJnZUVsZW1lbnQoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyxlLHQubWFwKGY9PltmLnZlcnRleERhdGEubm9ybWFscyxmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMudGFuZ2VudHM9dGUuX01lcmdlRWxlbWVudChnLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLnRhbmdlbnRzLGYudHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy51dnM9dGUuX01lcmdlRWxlbWVudChnLlVWS2luZCx0aGlzLnV2cyxlLHQubWFwKGY9PltmLnZlcnRleERhdGEudXZzLGYudHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy51dnMyPXRlLl9NZXJnZUVsZW1lbnQoZy5VVjJLaW5kLHRoaXMudXZzMixlLHQubWFwKGY9PltmLnZlcnRleERhdGEudXZzMixmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMudXZzMz10ZS5fTWVyZ2VFbGVtZW50KGcuVVYzS2luZCx0aGlzLnV2czMsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLnV2czMsZi50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czQ9dGUuX01lcmdlRWxlbWVudChnLlVWNEtpbmQsdGhpcy51dnM0LGUsdC5tYXAoZj0+W2YudmVydGV4RGF0YS51dnM0LGYudHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy51dnM1PXRlLl9NZXJnZUVsZW1lbnQoZy5VVjVLaW5kLHRoaXMudXZzNSxlLHQubWFwKGY9PltmLnZlcnRleERhdGEudXZzNSxmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMudXZzNj10ZS5fTWVyZ2VFbGVtZW50KGcuVVY2S2luZCx0aGlzLnV2czYsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLnV2czYsZi50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLmNvbG9ycz10ZS5fTWVyZ2VFbGVtZW50KGcuQ29sb3JLaW5kLHRoaXMuY29sb3JzLGUsdC5tYXAoZj0+W2YudmVydGV4RGF0YS5jb2xvcnMsZi50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzSW5kaWNlcz10ZS5fTWVyZ2VFbGVtZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyxlLHQubWFwKGY9PltmLnZlcnRleERhdGEubWF0cmljZXNJbmRpY2VzLGYudHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy5tYXRyaWNlc1dlaWdodHM9dGUuX01lcmdlRWxlbWVudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLm1hdHJpY2VzV2VpZ2h0cyxmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmE9dGUuX01lcmdlRWxlbWVudChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUsdC5tYXAoZj0+W2YudmVydGV4RGF0YS5tYXRyaWNlc0luZGljZXNFeHRyYSxmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE9dGUuX01lcmdlRWxlbWVudChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGUsdC5tYXAoZj0+W2YudmVydGV4RGF0YS5tYXRyaWNlc1dlaWdodHNFeHRyYSxmLnRyYW5zZm9ybV0pKSx0aGlzfXN0YXRpYyBfTWVyZ2VFbGVtZW50KGUsdCxpLHMpe2NvbnN0IHI9cy5maWx0ZXIobz0+b1swXSE9PW51bGwmJm9bMF0hPT12b2lkIDApO2lmKCF0JiZyLmxlbmd0aD09MClyZXR1cm4gdDtpZighdClyZXR1cm4gdGhpcy5fTWVyZ2VFbGVtZW50KGUsclswXVswXSxyWzBdWzFdLHIuc2xpY2UoMSkpO2NvbnN0IG49ci5yZWR1Y2UoKG8saCk9Pm8raFswXS5sZW5ndGgsdC5sZW5ndGgpLGE9ZT09PWcuUG9zaXRpb25LaW5kP3RlLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXM6ZT09PWcuTm9ybWFsS2luZD90ZS5fVHJhbnNmb3JtVmVjdG9yM05vcm1hbHM6ZT09PWcuVGFuZ2VudEtpbmQ/dGUuX1RyYW5zZm9ybVZlY3RvcjROb3JtYWxzOigpPT57fTtpZih0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtjb25zdCBvPW5ldyBGbG9hdDMyQXJyYXkobik7by5zZXQodCksaSYmYShvLGksMCx0Lmxlbmd0aCk7bGV0IGg9dC5sZW5ndGg7Zm9yKGNvbnN0W2wsdV1vZiByKW8uc2V0KGwsaCksdSYmYShvLHUsaCxsLmxlbmd0aCksaCs9bC5sZW5ndGg7cmV0dXJuIG99ZWxzZXtjb25zdCBvPW5ldyBBcnJheShuKTtmb3IobGV0IGw9MDtsPHQubGVuZ3RoO2wrKylvW2xdPXRbbF07aSYmYShvLGksMCx0Lmxlbmd0aCk7bGV0IGg9dC5sZW5ndGg7Zm9yKGNvbnN0W2wsdV1vZiByKXtmb3IobGV0IGQ9MDtkPGwubGVuZ3RoO2QrKylvW2grZF09bFtkXTt1JiZhKG8sdSxoLGwubGVuZ3RoKSxoKz1sLmxlbmd0aH1yZXR1cm4gb319X3ZhbGlkYXRlKCl7aWYoIXRoaXMucG9zaXRpb25zKXRocm93IG5ldyBCdCgiUG9zaXRpb25zIGFyZSByZXF1aXJlZCIsbGkuTWVzaEludmFsaWRQb3NpdGlvbnNFcnJvcik7Y29uc3QgZT0ocyxyKT0+e2NvbnN0IG49Zy5EZWR1Y2VTdHJpZGUocyk7aWYoci5sZW5ndGglbiE9PTApdGhyb3cgbmV3IEVycm9yKCJUaGUgIitzKyJzIGFycmF5IGNvdW50IG11c3QgYmUgYSBtdWx0aXBsZSBvZiAiK24pO3JldHVybiByLmxlbmd0aC9ufSx0PWUoZy5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMpLGk9KHMscik9Pntjb25zdCBuPWUocyxyKTtpZihuIT09dCl0aHJvdyBuZXcgRXJyb3IoIlRoZSAiK3MrInMgZWxlbWVudCBjb3VudCAoIituKyIpIGRvZXMgbm90IG1hdGNoIHRoZSBwb3NpdGlvbnMgY291bnQgKCIrdCsiKSIpfTt0aGlzLm5vcm1hbHMmJmkoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyksdGhpcy50YW5nZW50cyYmaShnLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMpLHRoaXMudXZzJiZpKGcuVVZLaW5kLHRoaXMudXZzKSx0aGlzLnV2czImJmkoZy5VVjJLaW5kLHRoaXMudXZzMiksdGhpcy51dnMzJiZpKGcuVVYzS2luZCx0aGlzLnV2czMpLHRoaXMudXZzNCYmaShnLlVWNEtpbmQsdGhpcy51dnM0KSx0aGlzLnV2czUmJmkoZy5VVjVLaW5kLHRoaXMudXZzNSksdGhpcy51dnM2JiZpKGcuVVY2S2luZCx0aGlzLnV2czYpLHRoaXMuY29sb3JzJiZpKGcuQ29sb3JLaW5kLHRoaXMuY29sb3JzKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmaShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMpLHRoaXMubWF0cmljZXNXZWlnaHRzJiZpKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmaShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZpKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMucG9zaXRpb25zJiYoZS5wb3NpdGlvbnM9dGhpcy5wb3NpdGlvbnMpLHRoaXMubm9ybWFscyYmKGUubm9ybWFscz10aGlzLm5vcm1hbHMpLHRoaXMudGFuZ2VudHMmJihlLnRhbmdlbnRzPXRoaXMudGFuZ2VudHMpLHRoaXMudXZzJiYoZS51dnM9dGhpcy51dnMpLHRoaXMudXZzMiYmKGUudXZzMj10aGlzLnV2czIpLHRoaXMudXZzMyYmKGUudXZzMz10aGlzLnV2czMpLHRoaXMudXZzNCYmKGUudXZzND10aGlzLnV2czQpLHRoaXMudXZzNSYmKGUudXZzNT10aGlzLnV2czUpLHRoaXMudXZzNiYmKGUudXZzNj10aGlzLnV2czYpLHRoaXMuY29sb3JzJiYoZS5jb2xvcnM9dGhpcy5jb2xvcnMpLHRoaXMubWF0cmljZXNJbmRpY2VzJiYoZS5tYXRyaWNlc0luZGljZXM9dGhpcy5tYXRyaWNlc0luZGljZXMsZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQ9ITApLHRoaXMubWF0cmljZXNXZWlnaHRzJiYoZS5tYXRyaWNlc1dlaWdodHM9dGhpcy5tYXRyaWNlc1dlaWdodHMpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhPXRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5faXNFeHBhbmRlZD0hMCksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmKGUubWF0cmljZXNXZWlnaHRzRXh0cmE9dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSksZS5pbmRpY2VzPXRoaXMuaW5kaWNlcyxlfXN0YXRpYyBFeHRyYWN0RnJvbU1lc2goZSx0LGkpe3JldHVybiB0ZS5fRXh0cmFjdEZyb20oZSx0LGkpfXN0YXRpYyBFeHRyYWN0RnJvbUdlb21ldHJ5KGUsdCxpKXtyZXR1cm4gdGUuX0V4dHJhY3RGcm9tKGUsdCxpKX1zdGF0aWMgX0V4dHJhY3RGcm9tKGUsdCxpKXtjb25zdCBzPW5ldyB0ZTtyZXR1cm4gZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Qb3NpdGlvbktpbmQpJiYocy5wb3NpdGlvbnM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmKHMubm9ybWFscz1lLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5UYW5nZW50S2luZCkmJihzLnRhbmdlbnRzPWUuZ2V0VmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpJiYocy51dnM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmKHMudXZzMj1lLmdldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjNLaW5kKSYmKHMudXZzMz1lLmdldFZlcnRpY2VzRGF0YShnLlVWM0tpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjRLaW5kKSYmKHMudXZzND1lLmdldFZlcnRpY2VzRGF0YShnLlVWNEtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjVLaW5kKSYmKHMudXZzNT1lLmdldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjZLaW5kKSYmKHMudXZzNj1lLmdldFZlcnRpY2VzRGF0YShnLlVWNktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Db2xvcktpbmQpJiYocy5jb2xvcnM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmKHMubWF0cmljZXNJbmRpY2VzPWUuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYocy5tYXRyaWNlc1dlaWdodHM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSYmKHMubWF0cmljZXNJbmRpY2VzRXh0cmE9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpJiYocy5tYXRyaWNlc1dlaWdodHNFeHRyYT1lLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0LGkpKSxzLmluZGljZXM9ZS5nZXRJbmRpY2VzKHQsaSksc31zdGF0aWMgQ3JlYXRlUmliYm9uKGUpe3Rocm93IFEoInJpYmJvbkJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlQm94KGUpe3Rocm93IFEoImJveEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVGlsZWRCb3goZSl7dGhyb3cgUSgidGlsZWRCb3hCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRpbGVkUGxhbmUoZSl7dGhyb3cgUSgidGlsZWRQbGFuZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlU3BoZXJlKGUpe3Rocm93IFEoInNwaGVyZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlQ3lsaW5kZXIoZSl7dGhyb3cgUSgiY3lsaW5kZXJCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRvcnVzKGUpe3Rocm93IFEoInRvcnVzQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVMaW5lU3lzdGVtKGUpe3Rocm93IFEoImxpbmVzQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVEYXNoZWRMaW5lcyhlKXt0aHJvdyBRKCJsaW5lc0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlR3JvdW5kKGUpe3Rocm93IFEoImdyb3VuZEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVGlsZWRHcm91bmQoZSl7dGhyb3cgUSgiZ3JvdW5kQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwKGUpe3Rocm93IFEoImdyb3VuZEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlUGxhbmUoZSl7dGhyb3cgUSgicGxhbmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZURpc2MoZSl7dGhyb3cgUSgiZGlzY0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlUG9seWdvbihlLHQsaSxzLHIsbixhKXt0aHJvdyBRKCJwb2x5Z29uQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVJY29TcGhlcmUoZSl7dGhyb3cgUSgiaWNvU3BoZXJlQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVQb2x5aGVkcm9uKGUpe3Rocm93IFEoInBvbHloZWRyb25CdWlsZGVyIil9c3RhdGljIENyZWF0ZUNhcHN1bGUoZT17b3JpZW50YXRpb246cC5VcCgpLHN1YmRpdmlzaW9uczoyLHRlc3NlbGxhdGlvbjoxNixoZWlnaHQ6MSxyYWRpdXM6LjI1LGNhcFN1YmRpdmlzaW9uczo2fSl7dGhyb3cgUSgiY2Fwc3VsZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVG9ydXNLbm90KGUpe3Rocm93IFEoInRvcnVzS25vdEJ1aWxkZXIiKX1zdGF0aWMgQ29tcHV0ZU5vcm1hbHMoZSx0LGkscyl7bGV0IHI9MCxuPTAsYT0wLG89MCxoPTAsbD0wLHU9MCxkPTAsXz0wLGY9MCxtPTAsdj0wLEU9MCxTPTAsUj0wLEE9MCxDPTAsYj0wLHg9MCxJPTAsVT0hMSxrPSExLG1lPSExLHE9ITEsZGU9MSxpZT0wLGJlPW51bGw7cyYmKFU9ISFzLmZhY2V0Tm9ybWFscyxrPSEhcy5mYWNldFBvc2l0aW9ucyxtZT0hIXMuZmFjZXRQYXJ0aXRpb25pbmcsZGU9cy51c2VSaWdodEhhbmRlZFN5c3RlbT09PSEwPy0xOjEsaWU9cy5yYXRpb3x8MCxxPSEhcy5kZXB0aFNvcnQsYmU9cy5kaXN0YW5jZVRvLHEmJmJlPT09dm9pZCAwJiYoYmU9cC5aZXJvKCkpKTtsZXQgTWU9MCxIZT0wLEtlPTAsWWU9MDtmb3IobWUmJnMmJnMuYmJTaXplJiYoTWU9cy5zdWJEaXYuWCppZS9zLmJiU2l6ZS54LEhlPXMuc3ViRGl2LlkqaWUvcy5iYlNpemUueSxLZT1zLnN1YkRpdi5aKmllL3MuYmJTaXplLnosWWU9cy5zdWJEaXYubWF4KnMuc3ViRGl2Lm1heCxzLmZhY2V0UGFydGl0aW9uaW5nLmxlbmd0aD0wKSxyPTA7cjxlLmxlbmd0aDtyKyspaVtyXT0wO2NvbnN0IG10PXQubGVuZ3RoLzN8MDtmb3Iocj0wO3I8bXQ7cisrKXtpZih2PXRbciozXSozLEU9disxLFM9disyLFI9dFtyKjMrMV0qMyxBPVIrMSxDPVIrMixiPXRbciozKzJdKjMseD1iKzEsST1iKzIsbj1lW3ZdLWVbUl0sYT1lW0VdLWVbQV0sbz1lW1NdLWVbQ10saD1lW2JdLWVbUl0sbD1lW3hdLWVbQV0sdT1lW0ldLWVbQ10sZD1kZSooYSp1LW8qbCksXz1kZSoobypoLW4qdSksZj1kZSoobipsLWEqaCksbT1NYXRoLnNxcnQoZCpkK18qXytmKmYpLG09bT09PTA/MTptLGQvPW0sXy89bSxmLz1tLFUmJnMmJihzLmZhY2V0Tm9ybWFsc1tyXS54PWQscy5mYWNldE5vcm1hbHNbcl0ueT1fLHMuZmFjZXROb3JtYWxzW3JdLno9ZiksayYmcyYmKHMuZmFjZXRQb3NpdGlvbnNbcl0ueD0oZVt2XStlW1JdK2VbYl0pLzMscy5mYWNldFBvc2l0aW9uc1tyXS55PShlW0VdK2VbQV0rZVt4XSkvMyxzLmZhY2V0UG9zaXRpb25zW3JdLno9KGVbU10rZVtDXStlW0ldKS8zKSxtZSYmcyl7Y29uc3QgbHQ9TWF0aC5mbG9vcigocy5mYWNldFBvc2l0aW9uc1tyXS54LXMuYkluZm8ubWluaW11bS54KmllKSpNZSksT3Q9TWF0aC5mbG9vcigocy5mYWNldFBvc2l0aW9uc1tyXS55LXMuYkluZm8ubWluaW11bS55KmllKSpIZSksbmk9TWF0aC5mbG9vcigocy5mYWNldFBvc2l0aW9uc1tyXS56LXMuYkluZm8ubWluaW11bS56KmllKSpLZSkscHM9TWF0aC5mbG9vcigoZVt2XS1zLmJJbmZvLm1pbmltdW0ueCppZSkqTWUpLG1zPU1hdGguZmxvb3IoKGVbRV0tcy5iSW5mby5taW5pbXVtLnkqaWUpKkhlKSx2cz1NYXRoLmZsb29yKChlW1NdLXMuYkluZm8ubWluaW11bS56KmllKSpLZSkscXM9TWF0aC5mbG9vcigoZVtSXS1zLmJJbmZvLm1pbmltdW0ueCppZSkqTWUpLGpzPU1hdGguZmxvb3IoKGVbQV0tcy5iSW5mby5taW5pbXVtLnkqaWUpKkhlKSwkcz1NYXRoLmZsb29yKChlW0NdLXMuYkluZm8ubWluaW11bS56KmllKSpLZSksUXM9TWF0aC5mbG9vcigoZVtiXS1zLmJJbmZvLm1pbmltdW0ueCppZSkqTWUpLEpzPU1hdGguZmxvb3IoKGVbeF0tcy5iSW5mby5taW5pbXVtLnkqaWUpKkhlKSxlcj1NYXRoLmZsb29yKChlW0ldLXMuYkluZm8ubWluaW11bS56KmllKSpLZSksS3Q9cHMrcy5zdWJEaXYubWF4Km1zK1llKnZzLFl0PXFzK3Muc3ViRGl2Lm1heCpqcytZZSokcyxadD1RcytzLnN1YkRpdi5tYXgqSnMrWWUqZXIscXQ9bHQrcy5zdWJEaXYubWF4Kk90K1llKm5pO3MuZmFjZXRQYXJ0aXRpb25pbmdbcXRdPXMuZmFjZXRQYXJ0aXRpb25pbmdbcXRdP3MuZmFjZXRQYXJ0aXRpb25pbmdbcXRdOm5ldyBBcnJheSxzLmZhY2V0UGFydGl0aW9uaW5nW0t0XT1zLmZhY2V0UGFydGl0aW9uaW5nW0t0XT9zLmZhY2V0UGFydGl0aW9uaW5nW0t0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tZdF09cy5mYWNldFBhcnRpdGlvbmluZ1tZdF0/cy5mYWNldFBhcnRpdGlvbmluZ1tZdF06bmV3IEFycmF5LHMuZmFjZXRQYXJ0aXRpb25pbmdbWnRdPXMuZmFjZXRQYXJ0aXRpb25pbmdbWnRdP3MuZmFjZXRQYXJ0aXRpb25pbmdbWnRdOm5ldyBBcnJheSxzLmZhY2V0UGFydGl0aW9uaW5nW0t0XS5wdXNoKHIpLFl0IT1LdCYmcy5mYWNldFBhcnRpdGlvbmluZ1tZdF0ucHVzaChyKSxadD09WXR8fFp0PT1LdHx8cy5mYWNldFBhcnRpdGlvbmluZ1tadF0ucHVzaChyKSxxdD09S3R8fHF0PT1ZdHx8cXQ9PVp0fHxzLmZhY2V0UGFydGl0aW9uaW5nW3F0XS5wdXNoKHIpfWlmKHEmJnMmJnMuZmFjZXRQb3NpdGlvbnMpe2NvbnN0IGx0PXMuZGVwdGhTb3J0ZWRGYWNldHNbcl07bHQuaW5kPXIqMyxsdC5zcURpc3RhbmNlPXAuRGlzdGFuY2VTcXVhcmVkKHMuZmFjZXRQb3NpdGlvbnNbcl0sYmUpfWlbdl0rPWQsaVtFXSs9XyxpW1NdKz1mLGlbUl0rPWQsaVtBXSs9XyxpW0NdKz1mLGlbYl0rPWQsaVt4XSs9XyxpW0ldKz1mfWZvcihyPTA7cjxpLmxlbmd0aC8zO3IrKylkPWlbciozXSxfPWlbciozKzFdLGY9aVtyKjMrMl0sbT1NYXRoLnNxcnQoZCpkK18qXytmKmYpLG09bT09PTA/MTptLGQvPW0sXy89bSxmLz1tLGlbciozXT1kLGlbciozKzFdPV8saVtyKjMrMl09Zn1zdGF0aWMgX0NvbXB1dGVTaWRlcyhlLHQsaSxzLHIsbixhKXtjb25zdCBvPWkubGVuZ3RoLGg9cy5sZW5ndGg7bGV0IGwsdTtzd2l0Y2goZT1lfHx0ZS5ERUZBVUxUU0lERSxlKXtjYXNlIHRlLkZST05UU0lERTpicmVhaztjYXNlIHRlLkJBQ0tTSURFOmZvcihsPTA7bDxvO2wrPTMpe2NvbnN0IGQ9aVtsXTtpW2xdPWlbbCsyXSxpW2wrMl09ZH1mb3IodT0wO3U8aDt1Kyspc1t1XT0tc1t1XTticmVhaztjYXNlIHRlLkRPVUJMRVNJREU6e2NvbnN0IGQ9dC5sZW5ndGgsXz1kLzM7Zm9yKGxldCB2PTA7djxkO3YrKyl0W2Qrdl09dFt2XTtmb3IobD0wO2w8bztsKz0zKWlbbCtvXT1pW2wrMl0rXyxpW2wrMStvXT1pW2wrMV0rXyxpW2wrMitvXT1pW2xdK187Zm9yKHU9MDt1PGg7dSsrKXNbaCt1XT0tc1t1XTtjb25zdCBmPXIubGVuZ3RoO2xldCBtPTA7Zm9yKG09MDttPGY7bSsrKXJbbStmXT1yW21dO2ZvcihuPW58fG5ldyB5ZSgwLDAsMSwxKSxhPWF8fG5ldyB5ZSgwLDAsMSwxKSxtPTAsbD0wO2w8Zi8yO2wrKylyW21dPW4ueCsobi56LW4ueCkqclttXSxyW20rMV09bi55KyhuLnctbi55KSpyW20rMV0sclttK2ZdPWEueCsoYS56LWEueCkqclttK2ZdLHJbbStmKzFdPWEueSsoYS53LWEueSkqclttK2YrMV0sbSs9MjticmVha319fXN0YXRpYyBJbXBvcnRWZXJ0ZXhEYXRhKGUsdCl7Y29uc3QgaT1uZXcgdGUscz1lLnBvc2l0aW9ucztzJiZpLnNldChzLGcuUG9zaXRpb25LaW5kKTtjb25zdCByPWUubm9ybWFscztyJiZpLnNldChyLGcuTm9ybWFsS2luZCk7Y29uc3Qgbj1lLnRhbmdlbnRzO24mJmkuc2V0KG4sZy5UYW5nZW50S2luZCk7Y29uc3QgYT1lLnV2czthJiZpLnNldChhLGcuVVZLaW5kKTtjb25zdCBvPWUudXYycztvJiZpLnNldChvLGcuVVYyS2luZCk7Y29uc3QgaD1lLnV2M3M7aCYmaS5zZXQoaCxnLlVWM0tpbmQpO2NvbnN0IGw9ZS51djRzO2wmJmkuc2V0KGwsZy5VVjRLaW5kKTtjb25zdCB1PWUudXY1czt1JiZpLnNldCh1LGcuVVY1S2luZCk7Y29uc3QgZD1lLnV2NnM7ZCYmaS5zZXQoZCxnLlVWNktpbmQpO2NvbnN0IF89ZS5jb2xvcnM7XyYmaS5zZXQoTmUuQ2hlY2tDb2xvcnM0KF8scy5sZW5ndGgvMyksZy5Db2xvcktpbmQpO2NvbnN0IGY9ZS5tYXRyaWNlc0luZGljZXM7ZiYmaS5zZXQoZixnLk1hdHJpY2VzSW5kaWNlc0tpbmQpO2NvbnN0IG09ZS5tYXRyaWNlc1dlaWdodHM7bSYmaS5zZXQobSxnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2NvbnN0IHY9ZS5pbmRpY2VzO3YmJihpLmluZGljZXM9diksdC5zZXRBbGxWZXJ0aWNlc0RhdGEoaSxlLnVwZGF0YWJsZSl9fXRlLkZST05UU0lERT0wLHRlLkJBQ0tTSURFPTEsdGUuRE9VQkxFU0lERT0yLHRlLkRFRkFVTFRTSURFPTAsVChbUXQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLHRlLCJfVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzIixudWxsKSxUKFtRdC5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0sdGUsIl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyIsbnVsbCksVChbUXQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLHRlLCJfVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHMiLG51bGwpLFQoW1F0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSx0ZSwiX0ZsaXBGYWNlcyIsbnVsbCk7Y2xhc3MgTnN7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuYnU9ZSx0aGlzLmJ2PXQsdGhpcy5kaXN0YW5jZT1pLHRoaXMuZmFjZUlkPTAsdGhpcy5zdWJNZXNoSWQ9MH19Y2xhc3MgV3R7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMudmVjdG9ycz1CZS5CdWlsZEFycmF5KDgscC5aZXJvKSx0aGlzLmNlbnRlcj1wLlplcm8oKSx0aGlzLmNlbnRlcldvcmxkPXAuWmVybygpLHRoaXMuZXh0ZW5kU2l6ZT1wLlplcm8oKSx0aGlzLmV4dGVuZFNpemVXb3JsZD1wLlplcm8oKSx0aGlzLmRpcmVjdGlvbnM9QmUuQnVpbGRBcnJheSgzLHAuWmVybyksdGhpcy52ZWN0b3JzV29ybGQ9QmUuQnVpbGRBcnJheSg4LHAuWmVybyksdGhpcy5taW5pbXVtV29ybGQ9cC5aZXJvKCksdGhpcy5tYXhpbXVtV29ybGQ9cC5aZXJvKCksdGhpcy5taW5pbXVtPXAuWmVybygpLHRoaXMubWF4aW11bT1wLlplcm8oKSx0aGlzLl9kcmF3V3JhcHBlckZyb250PW51bGwsdGhpcy5fZHJhd1dyYXBwZXJCYWNrPW51bGwsdGhpcy5yZUNvbnN0cnVjdChlLHQsaSl9cmVDb25zdHJ1Y3QoZSx0LGkpe2NvbnN0IHM9ZS54LHI9ZS55LG49ZS56LGE9dC54LG89dC55LGg9dC56LGw9dGhpcy52ZWN0b3JzO3RoaXMubWluaW11bS5jb3B5RnJvbUZsb2F0cyhzLHIsbiksdGhpcy5tYXhpbXVtLmNvcHlGcm9tRmxvYXRzKGEsbyxoKSxsWzBdLmNvcHlGcm9tRmxvYXRzKHMscixuKSxsWzFdLmNvcHlGcm9tRmxvYXRzKGEsbyxoKSxsWzJdLmNvcHlGcm9tRmxvYXRzKGEscixuKSxsWzNdLmNvcHlGcm9tRmxvYXRzKHMsbyxuKSxsWzRdLmNvcHlGcm9tRmxvYXRzKHMscixoKSxsWzVdLmNvcHlGcm9tRmxvYXRzKGEsbyxuKSxsWzZdLmNvcHlGcm9tRmxvYXRzKHMsbyxoKSxsWzddLmNvcHlGcm9tRmxvYXRzKGEscixoKSx0LmFkZFRvUmVmKGUsdGhpcy5jZW50ZXIpLnNjYWxlSW5QbGFjZSguNSksdC5zdWJ0cmFjdFRvUmVmKGUsdGhpcy5leHRlbmRTaXplKS5zY2FsZUluUGxhY2UoLjUpLHRoaXMuX3dvcmxkTWF0cml4PWl8fE0uSWRlbnRpdHlSZWFkT25seSx0aGlzLl91cGRhdGUodGhpcy5fd29ybGRNYXRyaXgpfXNjYWxlKGUpe2NvbnN0IHQ9V3QuX1RtcFZlY3RvcjMsaT10aGlzLm1heGltdW0uc3VidHJhY3RUb1JlZih0aGlzLm1pbmltdW0sdFswXSkscz1pLmxlbmd0aCgpO2kubm9ybWFsaXplRnJvbUxlbmd0aChzKTtjb25zdCByPXMqZSxuPWkuc2NhbGVJblBsYWNlKHIqLjUpLGE9dGhpcy5jZW50ZXIuc3VidHJhY3RUb1JlZihuLHRbMV0pLG89dGhpcy5jZW50ZXIuYWRkVG9SZWYobix0WzJdKTtyZXR1cm4gdGhpcy5yZUNvbnN0cnVjdChhLG8sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXN9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh9X3VwZGF0ZShlKXtjb25zdCB0PXRoaXMubWluaW11bVdvcmxkLGk9dGhpcy5tYXhpbXVtV29ybGQscz10aGlzLmRpcmVjdGlvbnMscj10aGlzLnZlY3RvcnNXb3JsZCxuPXRoaXMudmVjdG9ycztpZihlLmlzSWRlbnRpdHkoKSl7dC5jb3B5RnJvbSh0aGlzLm1pbmltdW0pLGkuY29weUZyb20odGhpcy5tYXhpbXVtKTtmb3IobGV0IGE9MDthPDg7KythKXJbYV0uY29weUZyb20oblthXSk7dGhpcy5leHRlbmRTaXplV29ybGQuY29weUZyb20odGhpcy5leHRlbmRTaXplKSx0aGlzLmNlbnRlcldvcmxkLmNvcHlGcm9tKHRoaXMuY2VudGVyKX1lbHNle3Quc2V0QWxsKE51bWJlci5NQVhfVkFMVUUpLGkuc2V0QWxsKC1OdW1iZXIuTUFYX1ZBTFVFKTtmb3IobGV0IGE9MDthPDg7KythKXtjb25zdCBvPXJbYV07cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKG5bYV0sZSxvKSx0Lm1pbmltaXplSW5QbGFjZShvKSxpLm1heGltaXplSW5QbGFjZShvKX1pLnN1YnRyYWN0VG9SZWYodCx0aGlzLmV4dGVuZFNpemVXb3JsZCkuc2NhbGVJblBsYWNlKC41KSxpLmFkZFRvUmVmKHQsdGhpcy5jZW50ZXJXb3JsZCkuc2NhbGVJblBsYWNlKC41KX1wLkZyb21BcnJheVRvUmVmKGUubSwwLHNbMF0pLHAuRnJvbUFycmF5VG9SZWYoZS5tLDQsc1sxXSkscC5Gcm9tQXJyYXlUb1JlZihlLm0sOCxzWzJdKSx0aGlzLl93b3JsZE1hdHJpeD1lfWlzSW5GcnVzdHVtKGUpe3JldHVybiBXdC5Jc0luRnJ1c3R1bSh0aGlzLnZlY3RvcnNXb3JsZCxlKX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7cmV0dXJuIFd0LklzQ29tcGxldGVseUluRnJ1c3R1bSh0aGlzLnZlY3RvcnNXb3JsZCxlKX1pbnRlcnNlY3RzUG9pbnQoZSl7Y29uc3QgdD10aGlzLm1pbmltdW1Xb3JsZCxpPXRoaXMubWF4aW11bVdvcmxkLHM9dC54LHI9dC55LG49dC56LGE9aS54LG89aS55LGg9aS56LGw9ZS54LHU9ZS55LGQ9ZS56LF89LVNlO3JldHVybiEoYS1sPF98fF8+bC1zfHxvLXU8X3x8Xz51LXJ8fGgtZDxffHxfPmQtbil9aW50ZXJzZWN0c1NwaGVyZShlKXtyZXR1cm4gV3QuSW50ZXJzZWN0c1NwaGVyZSh0aGlzLm1pbmltdW1Xb3JsZCx0aGlzLm1heGltdW1Xb3JsZCxlLmNlbnRlcldvcmxkLGUucmFkaXVzV29ybGQpfWludGVyc2VjdHNNaW5NYXgoZSx0KXtjb25zdCBpPXRoaXMubWluaW11bVdvcmxkLHM9dGhpcy5tYXhpbXVtV29ybGQscj1pLngsbj1pLnksYT1pLnosbz1zLngsaD1zLnksbD1zLnosdT1lLngsZD1lLnksXz1lLnosZj10LngsbT10Lnksdj10Lno7cmV0dXJuIShvPHV8fHI+Znx8aDxkfHxuPm18fGw8X3x8YT52KX1kaXNwb3NlKCl7dmFyIGUsdDsoZT10aGlzLl9kcmF3V3JhcHBlckZyb250KT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzcG9zZSgpLCh0PXRoaXMuX2RyYXdXcmFwcGVyQmFjayk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKX1zdGF0aWMgSW50ZXJzZWN0cyhlLHQpe3JldHVybiBlLmludGVyc2VjdHNNaW5NYXgodC5taW5pbXVtV29ybGQsdC5tYXhpbXVtV29ybGQpfXN0YXRpYyBJbnRlcnNlY3RzU3BoZXJlKGUsdCxpLHMpe2NvbnN0IHI9V3QuX1RtcFZlY3RvcjNbMF07cmV0dXJuIHAuQ2xhbXBUb1JlZihpLGUsdCxyKSxwLkRpc3RhbmNlU3F1YXJlZChpLHIpPD1zKnN9c3RhdGljIElzQ29tcGxldGVseUluRnJ1c3R1bShlLHQpe2ZvcihsZXQgaT0wO2k8NjsrK2kpe2NvbnN0IHM9dFtpXTtmb3IobGV0IHI9MDtyPDg7KytyKWlmKHMuZG90Q29vcmRpbmF0ZShlW3JdKTwwKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBJc0luRnJ1c3R1bShlLHQpe2ZvcihsZXQgaT0wO2k8NjsrK2kpe2xldCBzPSEwO2NvbnN0IHI9dFtpXTtmb3IobGV0IG49MDtuPDg7KytuKWlmKHIuZG90Q29vcmRpbmF0ZShlW25dKT49MCl7cz0hMTticmVha31pZihzKXJldHVybiExfXJldHVybiEwfX1XdC5fVG1wVmVjdG9yMz1CZS5CdWlsZEFycmF5KDMscC5aZXJvKTtjbGFzcyBfaXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5jZW50ZXI9cC5aZXJvKCksdGhpcy5jZW50ZXJXb3JsZD1wLlplcm8oKSx0aGlzLm1pbmltdW09cC5aZXJvKCksdGhpcy5tYXhpbXVtPXAuWmVybygpLHRoaXMucmVDb25zdHJ1Y3QoZSx0LGkpfXJlQ29uc3RydWN0KGUsdCxpKXt0aGlzLm1pbmltdW0uY29weUZyb20oZSksdGhpcy5tYXhpbXVtLmNvcHlGcm9tKHQpO2NvbnN0IHM9cC5EaXN0YW5jZShlLHQpO3QuYWRkVG9SZWYoZSx0aGlzLmNlbnRlcikuc2NhbGVJblBsYWNlKC41KSx0aGlzLnJhZGl1cz1zKi41LHRoaXMuX3VwZGF0ZShpfHxNLklkZW50aXR5UmVhZE9ubHkpfXNjYWxlKGUpe2NvbnN0IHQ9dGhpcy5yYWRpdXMqZSxpPV9pLl9UbXBWZWN0b3IzLHM9aVswXS5zZXRBbGwodCkscj10aGlzLmNlbnRlci5zdWJ0cmFjdFRvUmVmKHMsaVsxXSksbj10aGlzLmNlbnRlci5hZGRUb1JlZihzLGlbMl0pO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KHIsbix0aGlzLl93b3JsZE1hdHJpeCksdGhpc31nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH1fdXBkYXRlKGUpe2lmKGUuaXNJZGVudGl0eSgpKXRoaXMuY2VudGVyV29ybGQuY29weUZyb20odGhpcy5jZW50ZXIpLHRoaXMucmFkaXVzV29ybGQ9dGhpcy5yYWRpdXM7ZWxzZXtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5jZW50ZXIsZSx0aGlzLmNlbnRlcldvcmxkKTtjb25zdCB0PV9pLl9UbXBWZWN0b3IzWzBdO3AuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKDEsMSwxLGUsdCksdGhpcy5yYWRpdXNXb3JsZD1NYXRoLm1heChNYXRoLmFicyh0LngpLE1hdGguYWJzKHQueSksTWF0aC5hYnModC56KSkqdGhpcy5yYWRpdXN9fWlzSW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5jZW50ZXJXb3JsZCxpPXRoaXMucmFkaXVzV29ybGQ7Zm9yKGxldCBzPTA7czw2O3MrKylpZihlW3NdLmRvdENvb3JkaW5hdGUodCk8PS1pKXJldHVybiExO3JldHVybiEwfWlzQ2VudGVySW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5jZW50ZXJXb3JsZDtmb3IobGV0IGk9MDtpPDY7aSsrKWlmKGVbaV0uZG90Q29vcmRpbmF0ZSh0KTwwKXJldHVybiExO3JldHVybiEwfWludGVyc2VjdHNQb2ludChlKXtjb25zdCB0PXAuRGlzdGFuY2VTcXVhcmVkKHRoaXMuY2VudGVyV29ybGQsZSk7cmV0dXJuISh0aGlzLnJhZGl1c1dvcmxkKnRoaXMucmFkaXVzV29ybGQ8dCl9c3RhdGljIEludGVyc2VjdHMoZSx0KXtjb25zdCBpPXAuRGlzdGFuY2VTcXVhcmVkKGUuY2VudGVyV29ybGQsdC5jZW50ZXJXb3JsZCkscz1lLnJhZGl1c1dvcmxkK3QucmFkaXVzV29ybGQ7cmV0dXJuIShzKnM8aSl9c3RhdGljIENyZWF0ZUZyb21DZW50ZXJBbmRSYWRpdXMoZSx0LGkpe3RoaXMuX1RtcFZlY3RvcjNbMF0uY29weUZyb20oZSksdGhpcy5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cygwLDAsdCksdGhpcy5fVG1wVmVjdG9yM1syXS5jb3B5RnJvbShlKSx0aGlzLl9UbXBWZWN0b3IzWzBdLmFkZEluUGxhY2UodGhpcy5fVG1wVmVjdG9yM1sxXSksdGhpcy5fVG1wVmVjdG9yM1syXS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fVG1wVmVjdG9yM1sxXSk7Y29uc3Qgcz1uZXcgX2kodGhpcy5fVG1wVmVjdG9yM1swXSx0aGlzLl9UbXBWZWN0b3IzWzJdKTtyZXR1cm4gaT9zLl93b3JsZE1hdHJpeD1pOnMuX3dvcmxkTWF0cml4PU0uSWRlbnRpdHkoKSxzfX1faS5fVG1wVmVjdG9yMz1CZS5CdWlsZEFycmF5KDMscC5aZXJvKTtjb25zdCBCcz17bWluOjAsbWF4OjB9LFVzPXttaW46MCxtYXg6MH0sUHI9KGMsZSx0KT0+e2NvbnN0IGk9cC5Eb3QoZS5jZW50ZXJXb3JsZCxjKSxzPU1hdGguYWJzKHAuRG90KGUuZGlyZWN0aW9uc1swXSxjKSkqZS5leHRlbmRTaXplLngscj1NYXRoLmFicyhwLkRvdChlLmRpcmVjdGlvbnNbMV0sYykpKmUuZXh0ZW5kU2l6ZS55LG49TWF0aC5hYnMocC5Eb3QoZS5kaXJlY3Rpb25zWzJdLGMpKSplLmV4dGVuZFNpemUueixhPXMrcituO3QubWluPWktYSx0Lm1heD1pK2F9LG50PShjLGUsdCk9PihQcihjLGUsQnMpLFByKGMsdCxVcyksIShCcy5taW4+VXMubWF4fHxVcy5taW4+QnMubWF4KSk7Y2xhc3MgZnR7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX2lzTG9ja2VkPSExLHRoaXMuYm91bmRpbmdCb3g9bmV3IFd0KGUsdCxpKSx0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBfaShlLHQsaSl9cmVDb25zdHJ1Y3QoZSx0LGkpe3RoaXMuYm91bmRpbmdCb3gucmVDb25zdHJ1Y3QoZSx0LGkpLHRoaXMuYm91bmRpbmdTcGhlcmUucmVDb25zdHJ1Y3QoZSx0LGkpfWdldCBtaW5pbXVtKCl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gubWluaW11bX1nZXQgbWF4aW11bSgpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1heGltdW19Z2V0IGlzTG9ja2VkKCl7cmV0dXJuIHRoaXMuX2lzTG9ja2VkfXNldCBpc0xvY2tlZChlKXt0aGlzLl9pc0xvY2tlZD1lfXVwZGF0ZShlKXt0aGlzLl9pc0xvY2tlZHx8KHRoaXMuYm91bmRpbmdCb3guX3VwZGF0ZShlKSx0aGlzLmJvdW5kaW5nU3BoZXJlLl91cGRhdGUoZSkpfWNlbnRlck9uKGUsdCl7Y29uc3QgaT1mdC5fVG1wVmVjdG9yM1swXS5jb3B5RnJvbShlKS5zdWJ0cmFjdEluUGxhY2UodCkscz1mdC5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbShlKS5hZGRJblBsYWNlKHQpO3JldHVybiB0aGlzLmJvdW5kaW5nQm94LnJlQ29uc3RydWN0KGkscyx0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXMuYm91bmRpbmdTcGhlcmUucmVDb25zdHJ1Y3QoaSxzLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpc31lbmNhcHN1bGF0ZShlKXtjb25zdCB0PXAuTWluaW1pemUodGhpcy5taW5pbXVtLGUpLGk9cC5NYXhpbWl6ZSh0aGlzLm1heGltdW0sZSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QodCxpLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpc31lbmNhcHN1bGF0ZUJvdW5kaW5nSW5mbyhlKXtjb25zdCB0PUYuTWF0cml4WzBdO3RoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZih0KTtjb25zdCBpPUYuVmVjdG9yM1swXTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLHQsaSksdGhpcy5lbmNhcHN1bGF0ZShpKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZS5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQsdCxpKSx0aGlzLmVuY2Fwc3VsYXRlKGkpLHRoaXN9c2NhbGUoZSl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3guc2NhbGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5zY2FsZShlKSx0aGlzfWlzSW5GcnVzdHVtKGUsdD0wKXtyZXR1cm4odD09PTJ8fHQ9PT0zKSYmdGhpcy5ib3VuZGluZ1NwaGVyZS5pc0NlbnRlckluRnJ1c3R1bShlKT8hMDp0aGlzLmJvdW5kaW5nU3BoZXJlLmlzSW5GcnVzdHVtKGUpP3Q9PT0xfHx0PT09Mz8hMDp0aGlzLmJvdW5kaW5nQm94LmlzSW5GcnVzdHVtKGUpOiExfWdldCBkaWFnb25hbExlbmd0aCgpe2NvbnN0IGU9dGhpcy5ib3VuZGluZ0JveDtyZXR1cm4gZS5tYXhpbXVtV29ybGQuc3VidHJhY3RUb1JlZihlLm1pbmltdW1Xb3JsZCxmdC5fVG1wVmVjdG9yM1swXSkubGVuZ3RoKCl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94LmlzQ29tcGxldGVseUluRnJ1c3R1bShlKX1fY2hlY2tDb2xsaXNpb24oZSl7cmV0dXJuIGUuX2NhbkRvQ29sbGlzaW9uKHRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXNXb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZCl9aW50ZXJzZWN0c1BvaW50KGUpe3JldHVybiEoIXRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGR8fCF0aGlzLmJvdW5kaW5nU3BoZXJlLmludGVyc2VjdHNQb2ludChlKXx8IXRoaXMuYm91bmRpbmdCb3guaW50ZXJzZWN0c1BvaW50KGUpKX1pbnRlcnNlY3RzKGUsdCl7aWYoIV9pLkludGVyc2VjdHModGhpcy5ib3VuZGluZ1NwaGVyZSxlLmJvdW5kaW5nU3BoZXJlKXx8IVd0LkludGVyc2VjdHModGhpcy5ib3VuZGluZ0JveCxlLmJvdW5kaW5nQm94KSlyZXR1cm4hMTtpZighdClyZXR1cm4hMDtjb25zdCBpPXRoaXMuYm91bmRpbmdCb3gscz1lLmJvdW5kaW5nQm94O3JldHVybiEoIW50KGkuZGlyZWN0aW9uc1swXSxpLHMpfHwhbnQoaS5kaXJlY3Rpb25zWzFdLGkscyl8fCFudChpLmRpcmVjdGlvbnNbMl0saSxzKXx8IW50KHMuZGlyZWN0aW9uc1swXSxpLHMpfHwhbnQocy5kaXJlY3Rpb25zWzFdLGkscyl8fCFudChzLmRpcmVjdGlvbnNbMl0saSxzKXx8IW50KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzBdLHMuZGlyZWN0aW9uc1swXSksaSxzKXx8IW50KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzBdLHMuZGlyZWN0aW9uc1sxXSksaSxzKXx8IW50KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzBdLHMuZGlyZWN0aW9uc1syXSksaSxzKXx8IW50KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzFdLHMuZGlyZWN0aW9uc1swXSksaSxzKXx8IW50KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzFdLHMuZGlyZWN0aW9uc1sxXSksaSxzKXx8IW50KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzFdLHMuZGlyZWN0aW9uc1syXSksaSxzKXx8IW50KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzJdLHMuZGlyZWN0aW9uc1swXSksaSxzKXx8IW50KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzJdLHMuZGlyZWN0aW9uc1sxXSksaSxzKXx8IW50KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzJdLHMuZGlyZWN0aW9uc1syXSksaSxzKSl9fWZ0Ll9UbXBWZWN0b3IzPUJlLkJ1aWxkQXJyYXkoMixwLlplcm8pO2NsYXNzIGFze3N0YXRpYyBleHRyYWN0TWluQW5kTWF4SW5kZXhlZChlLHQsaSxzLHIsbil7Zm9yKGxldCBhPWk7YTxpK3M7YSsrKXtjb25zdCBvPXRbYV0qMyxoPWVbb10sbD1lW28rMV0sdT1lW28rMl07ci5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KSxuLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpfX1zdGF0aWMgZXh0cmFjdE1pbkFuZE1heChlLHQsaSxzLHIsbil7Zm9yKGxldCBhPXQsbz10KnM7YTx0K2k7YSsrLG8rPXMpe2NvbnN0IGg9ZVtvXSxsPWVbbysxXSx1PWVbbysyXTtyLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpLG4ubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhoLGwsdSl9fX1UKFtRdC5maWx0ZXIoKC4uLltjLGVdKT0+IUFycmF5LmlzQXJyYXkoYykmJiFBcnJheS5pc0FycmF5KGUpKV0sYXMsImV4dHJhY3RNaW5BbmRNYXhJbmRleGVkIixudWxsKSxUKFtRdC5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0sYXMsImV4dHJhY3RNaW5BbmRNYXgiLG51bGwpO2Z1bmN0aW9uIFduKGMsZSx0LGkscz1udWxsKXtjb25zdCByPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBwKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gYXMuZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQoYyxlLHQsaSxyLG4pLHMmJihyLngtPXIueCpzLngrcy55LHIueS09ci55KnMueCtzLnksci56LT1yLnoqcy54K3MueSxuLngrPW4ueCpzLngrcy55LG4ueSs9bi55KnMueCtzLnksbi56Kz1uLnoqcy54K3MueSkse21pbmltdW06cixtYXhpbXVtOm59fWZ1bmN0aW9uIERyKGMsZSx0LGk9bnVsbCxzKXtjb25zdCByPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBwKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gc3x8KHM9MyksYXMuZXh0cmFjdE1pbkFuZE1heChjLGUsdCxzLHIsbiksaSYmKHIueC09ci54KmkueCtpLnksci55LT1yLnkqaS54K2kueSxyLnotPXIueippLngraS55LG4ueCs9bi54KmkueCtpLnksbi55Kz1uLnkqaS54K2kueSxuLnorPW4ueippLngraS55KSx7bWluaW11bTpyLG1heGltdW06bn19Y2xhc3MgVHR7Z2V0IG1hdGVyaWFsRGVmaW5lcygpe3ZhciBlO3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT90aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZS5kZWZpbmVzOihlPXRoaXMuX2dldERyYXdXcmFwcGVyKCkpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5kZWZpbmVzfXNldCBtYXRlcmlhbERlZmluZXMoZSl7dmFyIHQ7Y29uc3QgaT0odD10aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKTtpLmRlZmluZXM9ZX1fZ2V0RHJhd1dyYXBwZXIoZSx0PSExKXtlPWU/P3RoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkO2xldCBpPXRoaXMuX2RyYXdXcmFwcGVyc1tlXTtyZXR1cm4haSYmdCYmKHRoaXMuX2RyYXdXcmFwcGVyc1tlXT1pPW5ldyB2aSh0aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkpKSxpfV9yZW1vdmVEcmF3V3JhcHBlcihlLHQ9ITApe3ZhciBpO3QmJigoaT10aGlzLl9kcmF3V3JhcHBlcnNbZV0pPT09bnVsbHx8aT09PXZvaWQgMHx8aS5kaXNwb3NlKCkpLHRoaXMuX2RyYXdXcmFwcGVyc1tlXT12b2lkIDB9Z2V0IGVmZmVjdCgpe3ZhciBlLHQ7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlP3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlLmVmZmVjdDoodD0oZT10aGlzLl9nZXREcmF3V3JhcHBlcigpKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZWZmZWN0KSE9PW51bGwmJnQhPT12b2lkIDA/dDpudWxsfWdldCBfZHJhd1dyYXBwZXIoKXt2YXIgZTtyZXR1cm4oZT10aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZSkhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKX1nZXQgX2RyYXdXcmFwcGVyT3ZlcnJpZGUoKXtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGV9X3NldE1haW5EcmF3V3JhcHBlck92ZXJyaWRlKGUpe3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlPWV9c2V0RWZmZWN0KGUsdD1udWxsLGkscz0hMCl7Y29uc3Qgcj10aGlzLl9kcmF3V3JhcHBlcjtyLnNldEVmZmVjdChlLHQscyksaSE9PXZvaWQgMCYmKHIubWF0ZXJpYWxDb250ZXh0PWkpLGV8fChyLmRlZmluZXM9bnVsbCxyLm1hdGVyaWFsQ29udGV4dD12b2lkIDApfXJlc2V0RHJhd0NhY2hlKGUpe2lmKHRoaXMuX2RyYXdXcmFwcGVycylpZihlIT09dm9pZCAwKXt0aGlzLl9yZW1vdmVEcmF3V3JhcHBlcihlKTtyZXR1cm59ZWxzZSBmb3IoY29uc3QgdCBvZiB0aGlzLl9kcmF3V3JhcHBlcnMpdD09bnVsbHx8dC5kaXNwb3NlKCk7dGhpcy5fZHJhd1dyYXBwZXJzPVtdfXN0YXRpYyBBZGRUb01lc2goZSx0LGkscyxyLG4sYSxvPSEwKXtyZXR1cm4gbmV3IFR0KGUsdCxpLHMscixuLGEsbyl9Y29uc3RydWN0b3IoZSx0LGkscyxyLG4sYSxvPSEwLGg9ITApe3RoaXMubWF0ZXJpYWxJbmRleD1lLHRoaXMudmVydGljZXNTdGFydD10LHRoaXMudmVydGljZXNDb3VudD1pLHRoaXMuaW5kZXhTdGFydD1zLHRoaXMuaW5kZXhDb3VudD1yLHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlPW51bGwsdGhpcy5fbGluZXNJbmRleENvdW50PTAsdGhpcy5fbGluZXNJbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9bnVsbCx0aGlzLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXg9bnVsbCx0aGlzLl93YXNEaXNwYXRjaGVkPSExLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5fYWxwaGFJbmRleD0wLHRoaXMuX2Rpc3RhbmNlVG9DYW1lcmE9MCx0aGlzLl9jdXJyZW50TWF0ZXJpYWw9bnVsbCx0aGlzLl9tZXNoPW4sdGhpcy5fcmVuZGVyaW5nTWVzaD1hfHxuLGgmJm4uc3ViTWVzaGVzLnB1c2godGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX21lc2guZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCksdGhpcy5fdHJpYW5nbGVQbGFuZXM9W10sdGhpcy5faWQ9bi5zdWJNZXNoZXMubGVuZ3RoLTEsbyYmKHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLG4uY29tcHV0ZVdvcmxkTWF0cml4KCEwKSl9Z2V0IElzR2xvYmFsKCl7cmV0dXJuIHRoaXMudmVydGljZXNTdGFydD09PTAmJnRoaXMudmVydGljZXNDb3VudD09PXRoaXMuX21lc2guZ2V0VG90YWxWZXJ0aWNlcygpJiZ0aGlzLmluZGV4U3RhcnQ9PT0wJiZ0aGlzLmluZGV4Q291bnQ9PT10aGlzLl9tZXNoLmdldFRvdGFsSW5kaWNlcygpfWdldEJvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLklzR2xvYmFsP3RoaXMuX21lc2guZ2V0Qm91bmRpbmdJbmZvKCk6dGhpcy5fYm91bmRpbmdJbmZvfXNldEJvdW5kaW5nSW5mbyhlKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPWUsdGhpc31nZXRNZXNoKCl7cmV0dXJuIHRoaXMuX21lc2h9Z2V0UmVuZGVyaW5nTWVzaCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdNZXNofWdldFJlcGxhY2VtZW50TWVzaCgpe3JldHVybiB0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6bnVsbH1nZXRFZmZlY3RpdmVNZXNoKCl7Y29uc3QgZT10aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6bnVsbDtyZXR1cm4gZXx8dGhpcy5fcmVuZGVyaW5nTWVzaH1nZXRNYXRlcmlhbChlPSEwKXt2YXIgdDtjb25zdCBpPSh0PXRoaXMuX3JlbmRlcmluZ01lc2guZ2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKHRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fcmVuZGVyaW5nTWVzaC5tYXRlcmlhbDtpZihpKXtpZih0aGlzLl9pc011bHRpTWF0ZXJpYWwoaSkpe2NvbnN0IHM9aS5nZXRTdWJNYXRlcmlhbCh0aGlzLm1hdGVyaWFsSW5kZXgpO3JldHVybiB0aGlzLl9jdXJyZW50TWF0ZXJpYWwhPT1zJiYodGhpcy5fY3VycmVudE1hdGVyaWFsPXMsdGhpcy5yZXNldERyYXdDYWNoZSgpKSxzfX1lbHNlIHJldHVybiBlP3RoaXMuX21lc2guZ2V0U2NlbmUoKS5kZWZhdWx0TWF0ZXJpYWw6bnVsbDtyZXR1cm4gaX1faXNNdWx0aU1hdGVyaWFsKGUpe3JldHVybiBlLmdldFN1Yk1hdGVyaWFsIT09dm9pZCAwfXJlZnJlc2hCb3VuZGluZ0luZm8oZT1udWxsKXtpZih0aGlzLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPW51bGwsdGhpcy5Jc0dsb2JhbHx8IXRoaXMuX3JlbmRlcmluZ01lc2h8fCF0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5KXJldHVybiB0aGlzO2lmKGV8fChlPXRoaXMuX3JlbmRlcmluZ01lc2guZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSksIWUpcmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz10aGlzLl9tZXNoLmdldEJvdW5kaW5nSW5mbygpLHRoaXM7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEluZGljZXMoKTtsZXQgaTtpZih0aGlzLmluZGV4U3RhcnQ9PT0wJiZ0aGlzLmluZGV4Q291bnQ9PT10Lmxlbmd0aCl7Y29uc3Qgcz10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEJvdW5kaW5nSW5mbygpO2k9e21pbmltdW06cy5taW5pbXVtLmNsb25lKCksbWF4aW11bTpzLm1heGltdW0uY2xvbmUoKX19ZWxzZSBpPVduKGUsdCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LHRoaXMuX3JlbmRlcmluZ01lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzKTtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChpLm1pbmltdW0saS5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IGZ0KGkubWluaW11bSxpLm1heGltdW0pLHRoaXN9X2NoZWNrQ29sbGlzaW9uKGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLl9jaGVja0NvbGxpc2lvbihlKX11cGRhdGVCb3VuZGluZ0luZm8oZSl7bGV0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdHx8KHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKSksdCYmdC51cGRhdGUoZSksdGhpc31pc0luRnJ1c3R1bShlKXtjb25zdCB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHQ/dC5pc0luRnJ1c3R1bShlLHRoaXMuX21lc2guY3VsbGluZ1N0cmF0ZWd5KTohMX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpOiExfXJlbmRlcihlKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWVzaC5yZW5kZXIodGhpcyxlLHRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDp2b2lkIDApLHRoaXN9X2dldExpbmVzSW5kZXhCdWZmZXIoZSx0KXtpZighdGhpcy5fbGluZXNJbmRleEJ1ZmZlcil7Y29uc3QgaT1bXTtmb3IobGV0IHM9dGhpcy5pbmRleFN0YXJ0O3M8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudDtzKz0zKWkucHVzaChlW3NdLGVbcysxXSxlW3MrMV0sZVtzKzJdLGVbcysyXSxlW3NdKTt0aGlzLl9saW5lc0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5fbGluZXNJbmRleENvdW50PWkubGVuZ3RofXJldHVybiB0aGlzLl9saW5lc0luZGV4QnVmZmVyfWNhbkludGVyc2VjdHMoZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P2UuaW50ZXJzZWN0c0JveCh0LmJvdW5kaW5nQm94KTohMX1pbnRlcnNlY3RzKGUsdCxpLHMscil7Y29uc3Qgbj10aGlzLmdldE1hdGVyaWFsKCk7aWYoIW4pcmV0dXJuIG51bGw7bGV0IGE9MyxvPSExO3N3aXRjaChuLmZpbGxNb2RlKXtjYXNlIDM6Y2FzZSA1OmNhc2UgNjpjYXNlIDg6cmV0dXJuIG51bGw7Y2FzZSA3OmE9MSxvPSEwO2JyZWFrfXJldHVybiBuLmZpbGxNb2RlPT09ND9pLmxlbmd0aD90aGlzLl9pbnRlcnNlY3RMaW5lcyhlLHQsaSx0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxzKTp0aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRMaW5lcyhlLHQsaSx0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxzKTohaS5sZW5ndGgmJnRoaXMuX21lc2guX3VuSW5kZXhlZD90aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRUcmlhbmdsZXMoZSx0LGkscyxyKTp0aGlzLl9pbnRlcnNlY3RUcmlhbmdsZXMoZSx0LGksYSxvLHMscil9X2ludGVyc2VjdExpbmVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy5pbmRleFN0YXJ0O2E8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudDthKz0yKXtjb25zdCBvPXRbaVthXV0saD10W2lbYSsxXV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQobyxoLHMpO2lmKCEobDwwKSYmKHJ8fCFufHxsPG4uZGlzdGFuY2UpJiYobj1uZXcgTnMobnVsbCxudWxsLGwpLG4uZmFjZUlkPWEvMixyKSlicmVha31yZXR1cm4gbn1faW50ZXJzZWN0VW5JbmRleGVkTGluZXMoZSx0LGkscyxyKXtsZXQgbj1udWxsO2ZvcihsZXQgYT10aGlzLnZlcnRpY2VzU3RhcnQ7YTx0aGlzLnZlcnRpY2VzU3RhcnQrdGhpcy52ZXJ0aWNlc0NvdW50O2ErPTIpe2NvbnN0IG89dFthXSxoPXRbYSsxXSxsPWUuaW50ZXJzZWN0aW9uU2VnbWVudChvLGgscyk7aWYoIShsPDApJiYocnx8IW58fGw8bi5kaXN0YW5jZSkmJihuPW5ldyBOcyhudWxsLG51bGwsbCksbi5mYWNlSWQ9YS8yLHIpKWJyZWFrfXJldHVybiBufV9pbnRlcnNlY3RUcmlhbmdsZXMoZSx0LGkscyxyLG4sYSl7bGV0IG89bnVsbCxoPS0xO2ZvcihsZXQgbD10aGlzLmluZGV4U3RhcnQ7bDx0aGlzLmluZGV4U3RhcnQrdGhpcy5pbmRleENvdW50LSgzLXMpO2wrPXMpe2grKztjb25zdCB1PWlbbF0sZD1pW2wrMV0sXz1pW2wrMl07aWYociYmXz09PTQyOTQ5NjcyOTUpe2wrPTI7Y29udGludWV9Y29uc3QgZj10W3VdLG09dFtkXSx2PXRbX107aWYoIWZ8fCFtfHwhdnx8YSYmIWEoZixtLHYsZSx1LGQsXykpY29udGludWU7Y29uc3QgRT1lLmludGVyc2VjdHNUcmlhbmdsZShmLG0sdik7aWYoRSl7aWYoRS5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChufHwhb3x8RS5kaXN0YW5jZTxvLmRpc3RhbmNlKSYmKG89RSxvLmZhY2VJZD1oLG4pKWJyZWFrfX1yZXR1cm4gb31faW50ZXJzZWN0VW5JbmRleGVkVHJpYW5nbGVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy52ZXJ0aWNlc1N0YXJ0O2E8dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDthKz0zKXtjb25zdCBvPXRbYV0saD10W2ErMV0sbD10W2ErMl07aWYociYmIXIobyxoLGwsZSwtMSwtMSwtMSkpY29udGludWU7Y29uc3QgdT1lLmludGVyc2VjdHNUcmlhbmdsZShvLGgsbCk7aWYodSl7aWYodS5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChzfHwhbnx8dS5kaXN0YW5jZTxuLmRpc3RhbmNlKSYmKG49dSxuLmZhY2VJZD1hLzMscykpYnJlYWt9fXJldHVybiBufV9yZWJ1aWxkKCl7dGhpcy5fbGluZXNJbmRleEJ1ZmZlciYmKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCl9Y2xvbmUoZSx0KXtjb25zdCBpPW5ldyBUdCh0aGlzLm1hdGVyaWFsSW5kZXgsdGhpcy52ZXJ0aWNlc1N0YXJ0LHRoaXMudmVydGljZXNDb3VudCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LGUsdCwhMSk7aWYoIXRoaXMuSXNHbG9iYWwpe2NvbnN0IHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtpZighcylyZXR1cm4gaTtpLl9ib3VuZGluZ0luZm89bmV3IGZ0KHMubWluaW11bSxzLm1heGltdW0pfXJldHVybiBpfWRpc3Bvc2UoKXt0aGlzLl9saW5lc0luZGV4QnVmZmVyJiYodGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpLHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCk7Y29uc3QgZT10aGlzLl9tZXNoLnN1Yk1lc2hlcy5pbmRleE9mKHRoaXMpO3RoaXMuX21lc2guc3ViTWVzaGVzLnNwbGljZShlLDEpLHRoaXMucmVzZXREcmF3Q2FjaGUoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU3ViTWVzaCJ9c3RhdGljIENyZWF0ZUZyb21JbmRpY2VzKGUsdCxpLHMscixuPSEwKXtsZXQgYT1OdW1iZXIuTUFYX1ZBTFVFLG89LU51bWJlci5NQVhfVkFMVUU7Y29uc3QgbD0ocnx8cykuZ2V0SW5kaWNlcygpO2ZvcihsZXQgdT10O3U8dCtpO3UrKyl7Y29uc3QgZD1sW3VdO2Q8YSYmKGE9ZCksZD5vJiYobz1kKX1yZXR1cm4gbmV3IFR0KGUsYSxvLWErMSx0LGkscyxyLG4pfX1jbGFzcyBGZXtzdGF0aWMgZ2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKCl7cmV0dXJuIEZlLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbH1zdGF0aWMgc2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKGUpe0ZlLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfXN0YXRpYyBnZXQgU2hvd0xvYWRpbmdTY3JlZW4oKXtyZXR1cm4gRmUuX1Nob3dMb2FkaW5nU2NyZWVufXN0YXRpYyBzZXQgU2hvd0xvYWRpbmdTY3JlZW4oZSl7RmUuX1Nob3dMb2FkaW5nU2NyZWVuPWV9c3RhdGljIGdldCBsb2dnaW5nTGV2ZWwoKXtyZXR1cm4gRmUuX0xvZ2dpbmdMZXZlbH1zdGF0aWMgc2V0IGxvZ2dpbmdMZXZlbChlKXtGZS5fTG9nZ2luZ0xldmVsPWV9c3RhdGljIGdldCBDbGVhbkJvbmVNYXRyaXhXZWlnaHRzKCl7cmV0dXJuIEZlLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfXN0YXRpYyBzZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyhlKXtGZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfX1GZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ITEsRmUuX1Nob3dMb2FkaW5nU2NyZWVuPSEwLEZlLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzPSExLEZlLl9Mb2dnaW5nTGV2ZWw9MDtjbGFzcyBfdHt9X3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj0hMTtjbGFzcyBvdHtnZXQgYm91bmRpbmdCaWFzKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nQmlhc31zZXQgYm91bmRpbmdCaWFzKGUpe3RoaXMuX2JvdW5kaW5nQmlhcz90aGlzLl9ib3VuZGluZ0JpYXMuY29weUZyb20oZSk6dGhpcy5fYm91bmRpbmdCaWFzPWUuY2xvbmUoKSx0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oITAsbnVsbCl9c3RhdGljIENyZWF0ZUdlb21ldHJ5Rm9yTWVzaChlKXtjb25zdCB0PW5ldyBvdChvdC5SYW5kb21JZCgpLGUuZ2V0U2NlbmUoKSk7cmV0dXJuIHQuYXBwbHlUb01lc2goZSksdH1nZXQgbWVzaGVzKCl7cmV0dXJuIHRoaXMuX21lc2hlc31jb25zdHJ1Y3RvcihlLHQsaSxzPSExLHI9bnVsbCl7dGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX2luZGV4QnVmZmVySXNVcGRhdGFibGU9ITEsdGhpcy5fcG9zaXRpb25zQ2FjaGU9W10sdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy51c2VCb3VuZGluZ0luZm9Gcm9tR2VvbWV0cnk9ITEsdGhpcy5fc2NlbmU9dHx8Y2UuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZSYmKHRoaXMuaWQ9ZSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX21lc2hlcz1bXSx0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX2luZGljZXM9W10sdGhpcy5fdXBkYXRhYmxlPXMsaT90aGlzLnNldEFsbFZlcnRpY2VzRGF0YShpLHMpOnRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9lbmdpbmUuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9KSxyJiYodGhpcy5hcHBseVRvTWVzaChyKSxyLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpKX1nZXQgZXh0ZW5kKCl7cmV0dXJuIHRoaXMuX2V4dGVuZH1nZXRTY2VuZSgpe3JldHVybiB0aGlzLl9zY2VuZX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWlzUmVhZHkoKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTF8fHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0wfWdldCBkb05vdFNlcmlhbGl6ZSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5fbWVzaGVzLmxlbmd0aDtlKyspaWYoIXRoaXMuX21lc2hlc1tlXS5kb05vdFNlcmlhbGl6ZSlyZXR1cm4hMTtyZXR1cm4hMH1fcmVidWlsZCgpe3RoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX2luZGljZXMmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyx0aGlzLl91cGRhdGFibGUpKTtmb3IoY29uc3QgZSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uX3JlYnVpbGQoKX1zZXRBbGxWZXJ0aWNlc0RhdGEoZSx0KXtlLmFwcGx5VG9HZW9tZXRyeSh0aGlzLHQpLHRoaXMuX25vdGlmeVVwZGF0ZSgpfXNldFZlcnRpY2VzRGF0YShlLHQsaT0hMSxzKXtpJiZBcnJheS5pc0FycmF5KHQpJiYodD1uZXcgRmxvYXQzMkFycmF5KHQpKTtjb25zdCByPW5ldyBnKHRoaXMuX2VuZ2luZSx0LGUsaSx0aGlzLl9tZXNoZXMubGVuZ3RoPT09MCxzKTt0aGlzLnNldFZlcnRpY2VzQnVmZmVyKHIpfXJlbW92ZVZlcnRpY2VzRGF0YShlKXt0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdJiYodGhpcy5fdmVydGV4QnVmZmVyc1tlXS5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0pLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmdGhpcy5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpfXNldFZlcnRpY2VzQnVmZmVyKGUsdD1udWxsLGk9ITApe2NvbnN0IHM9ZS5nZXRLaW5kKCk7dGhpcy5fdmVydGV4QnVmZmVyc1tzXSYmaSYmdGhpcy5fdmVydGV4QnVmZmVyc1tzXS5kaXNwb3NlKCksZS5fYnVmZmVyJiZlLl9idWZmZXIuX2luY3JlYXNlUmVmZXJlbmNlcygpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbc109ZTtjb25zdCByPXRoaXMuX21lc2hlcyxuPXIubGVuZ3RoO2lmKHM9PT1nLlBvc2l0aW9uS2luZCl7Y29uc3QgYT1lLmdldERhdGEoKTt0IT1udWxsP3RoaXMuX3RvdGFsVmVydGljZXM9dDphIT1udWxsJiYodGhpcy5fdG90YWxWZXJ0aWNlcz1hLmxlbmd0aC8oZS50eXBlPT09Zy5CWVRFP2UuYnl0ZVN0cmlkZTplLmJ5dGVTdHJpZGUvNCkpLHRoaXMuX3VwZGF0ZUV4dGVuZChhKSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtmb3IobGV0IG89MDtvPG47bysrKXtjb25zdCBoPXJbb107aC5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksaC5fY3JlYXRlR2xvYmFsU3ViTWVzaChoLmlzVW5JbmRleGVkKSxoLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksaC5zeW5jaHJvbml6ZUluc3RhbmNlcygpfX10aGlzLl9ub3RpZnlVcGRhdGUocyl9dXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoZSx0LGkscz0hMSl7Y29uc3Qgcj10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTtyJiYoci51cGRhdGVEaXJlY3RseSh0LGkscyksdGhpcy5fbm90aWZ5VXBkYXRlKGUpKX11cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGk9ITEpe2NvbnN0IHM9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7cyYmKHMudXBkYXRlKHQpLGU9PT1nLlBvc2l0aW9uS2luZCYmdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKGksdCksdGhpcy5fbm90aWZ5VXBkYXRlKGUpKX1fdXBkYXRlQm91bmRpbmdJbmZvKGUsdCl7aWYoZSYmdGhpcy5fdXBkYXRlRXh0ZW5kKHQpLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLGUpe2NvbnN0IGk9dGhpcy5fbWVzaGVzO2Zvcihjb25zdCBzIG9mIGkpe3MuaGFzQm91bmRpbmdJbmZvP3MuZ2V0Qm91bmRpbmdJbmZvKCkucmVDb25zdHJ1Y3QodGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pOnMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pO2NvbnN0IHI9cy5zdWJNZXNoZXM7Zm9yKGNvbnN0IG4gb2YgciluLnJlZnJlc2hCb3VuZGluZ0luZm8oKX19fV9iaW5kKGUsdCxpLHMpe2lmKCFlKXJldHVybjt0PT09dm9pZCAwJiYodD10aGlzLl9pbmRleEJ1ZmZlcik7Y29uc3Qgcj10aGlzLmdldFZlcnRleEJ1ZmZlcnMoKTtpZighcilyZXR1cm47aWYodCE9dGhpcy5faW5kZXhCdWZmZXJ8fCF0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJiFzKXt0aGlzLl9lbmdpbmUuYmluZEJ1ZmZlcnMocix0LGUsaSk7cmV0dXJufWNvbnN0IG49c3x8dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzO25bZS5rZXldfHwobltlLmtleV09dGhpcy5fZW5naW5lLnJlY29yZFZlcnRleEFycmF5T2JqZWN0KHIsdCxlLGkpKSx0aGlzLl9lbmdpbmUuYmluZFZlcnRleEFycmF5T2JqZWN0KG5bZS5rZXldLHQpfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdG90YWxWZXJ0aWNlczowfWdldFZlcnRpY2VzRGF0YShlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTtyZXR1cm4gcz9zLmdldEZsb2F0RGF0YSh0aGlzLl90b3RhbFZlcnRpY2VzLGl8fHQmJnRoaXMuX21lc2hlcy5sZW5ndGghPT0xKTpudWxsfWlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGUpe2NvbnN0IHQ9dGhpcy5fdmVydGV4QnVmZmVyc1tlXTtyZXR1cm4gdD90LmlzVXBkYXRhYmxlKCk6ITF9Z2V0VmVydGV4QnVmZmVyKGUpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdOm51bGx9Z2V0VmVydGV4QnVmZmVycygpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl92ZXJ0ZXhCdWZmZXJzOm51bGx9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3JldHVybiB0aGlzLl92ZXJ0ZXhCdWZmZXJzP3RoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0hPT12b2lkIDA6dGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKGUpIT09LTE6ITF9Z2V0VmVydGljZXNEYXRhS2luZHMoKXtjb25zdCBlPVtdO2xldCB0O2lmKCF0aGlzLl92ZXJ0ZXhCdWZmZXJzJiZ0aGlzLl9kZWxheUluZm8pZm9yKHQgaW4gdGhpcy5fZGVsYXlJbmZvKWUucHVzaCh0KTtlbHNlIGZvcih0IGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpZS5wdXNoKHQpO3JldHVybiBlfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe2lmKHRoaXMuX2luZGV4QnVmZmVyKWlmKCF0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlKXRoaXMuc2V0SW5kaWNlcyhlLG51bGwsITApO2Vsc2V7Y29uc3Qgcz1lLmxlbmd0aCE9PXRoaXMuX2luZGljZXMubGVuZ3RoO2lmKGl8fCh0aGlzLl9pbmRpY2VzPWUuc2xpY2UoKSksdGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNJbmRleEJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlcixlLHQpLHMpZm9yKGNvbnN0IHIgb2YgdGhpcy5fbWVzaGVzKXIuX2NyZWF0ZUdsb2JhbFN1Yk1lc2goITApfX1zZXRJbmRpY2VzKGUsdD1udWxsLGk9ITEpe3RoaXMuX2luZGV4QnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX2luZGljZXM9ZSx0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlPWksdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX2luZGljZXMmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyxpKSksdCE9bnVsbCYmKHRoaXMuX3RvdGFsVmVydGljZXM9dCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fbWVzaGVzKXMuX2NyZWF0ZUdsb2JhbFN1Yk1lc2goITApLHMuc3luY2hyb25pemVJbnN0YW5jZXMoKTt0aGlzLl9ub3RpZnlVcGRhdGUoKX1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5faW5kaWNlcy5sZW5ndGg6MH1nZXRJbmRpY2VzKGUsdCl7aWYoIXRoaXMuaXNSZWFkeSgpKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5faW5kaWNlcztyZXR1cm4hdCYmKCFlfHx0aGlzLl9tZXNoZXMubGVuZ3RoPT09MSk/aTppLnNsaWNlKCl9Z2V0SW5kZXhCdWZmZXIoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5faW5kZXhCdWZmZXI6bnVsbH1fcmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KGU9bnVsbCl7IWV8fCF0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHN8fHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0mJih0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0pLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKX1yZWxlYXNlRm9yTWVzaChlLHQpe2NvbnN0IGk9dGhpcy5fbWVzaGVzLHM9aS5pbmRleE9mKGUpO3MhPT0tMSYmKGkuc3BsaWNlKHMsMSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZlLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLGUuX2dlb21ldHJ5PW51bGwsaS5sZW5ndGg9PT0wJiZ0JiZ0aGlzLmRpc3Bvc2UoKSl9YXBwbHlUb01lc2goZSl7aWYoZS5fZ2VvbWV0cnk9PT10aGlzKXJldHVybjtjb25zdCB0PWUuX2dlb21ldHJ5O3QmJnQucmVsZWFzZUZvck1lc2goZSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZlLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpO2NvbnN0IGk9dGhpcy5fbWVzaGVzO2UuX2dlb21ldHJ5PXRoaXMsZS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW51bGwsdGhpcy5fc2NlbmUucHVzaEdlb21ldHJ5KHRoaXMpLGkucHVzaChlKSx0aGlzLmlzUmVhZHkoKT90aGlzLl9hcHBseVRvTWVzaChlKTp0aGlzLl9ib3VuZGluZ0luZm8mJmUuc2V0Qm91bmRpbmdJbmZvKHRoaXMuX2JvdW5kaW5nSW5mbyl9X3VwZGF0ZUV4dGVuZChlPW51bGwpe2lmKHRoaXMudXNlQm91bmRpbmdJbmZvRnJvbUdlb21ldHJ5JiZ0aGlzLl9ib3VuZGluZ0luZm8pdGhpcy5fZXh0ZW5kPXttaW5pbXVtOnRoaXMuX2JvdW5kaW5nSW5mby5taW5pbXVtLmNsb25lKCksbWF4aW11bTp0aGlzLl9ib3VuZGluZ0luZm8ubWF4aW11bS5jbG9uZSgpfTtlbHNle2lmKCFlJiYoZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCksIWUpKXJldHVybjt0aGlzLl9leHRlbmQ9RHIoZSwwLHRoaXMuX3RvdGFsVmVydGljZXMsdGhpcy5ib3VuZGluZ0JpYXMsMyl9fV9hcHBseVRvTWVzaChlKXtjb25zdCB0PXRoaXMuX21lc2hlcy5sZW5ndGg7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0PT09MSYmdGhpcy5fdmVydGV4QnVmZmVyc1tpXS5jcmVhdGUoKSxpPT09Zy5Qb3NpdGlvbktpbmQmJih0aGlzLl9leHRlbmR8fHRoaXMuX3VwZGF0ZUV4dGVuZCgpLGUuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pLGUuX2NyZWF0ZUdsb2JhbFN1Yk1lc2goZS5pc1VuSW5kZXhlZCksZS5fdXBkYXRlQm91bmRpbmdJbmZvKCkpO3Q9PT0xJiZ0aGlzLl9pbmRpY2VzJiZ0aGlzLl9pbmRpY2VzLmxlbmd0aD4wJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsdGhpcy5fdXBkYXRhYmxlKSksZS5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpLGUuc3luY2hyb25pemVJbnN0YW5jZXMoKX1fbm90aWZ5VXBkYXRlKGUpe3RoaXMub25HZW9tZXRyeVVwZGF0ZWQmJnRoaXMub25HZW9tZXRyeVVwZGF0ZWQodGhpcyxlKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9tZXNoZXMpdC5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9bG9hZChlLHQpe2lmKHRoaXMuZGVsYXlMb2FkU3RhdGUhPT0yKXtpZih0aGlzLmlzUmVhZHkoKSl7dCYmdCgpO3JldHVybn10aGlzLmRlbGF5TG9hZFN0YXRlPTIsdGhpcy5fcXVldWVMb2FkKGUsdCl9fV9xdWV1ZUxvYWQoZSx0KXt0aGlzLmRlbGF5TG9hZGluZ0ZpbGUmJihlLmFkZFBlbmRpbmdEYXRhKHRoaXMpLGUuX2xvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxpPT57aWYoIXRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKXJldHVybjt0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKGkpLHRoaXMpLHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl9kZWxheUluZm89W10sZS5yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKTtjb25zdCBzPXRoaXMuX21lc2hlcyxyPXMubGVuZ3RoO2ZvcihsZXQgbj0wO248cjtuKyspdGhpcy5fYXBwbHlUb01lc2goc1tuXSk7dCYmdCgpfSx2b2lkIDAsITApKX10b0xlZnRIYW5kZWQoKXtjb25zdCBlPXRoaXMuZ2V0SW5kaWNlcyghMSk7aWYoZSE9bnVsbCYmZS5sZW5ndGg+MCl7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKz0zKXtjb25zdCByPWVbcyswXTtlW3MrMF09ZVtzKzJdLGVbcysyXT1yfXRoaXMuc2V0SW5kaWNlcyhlKX1jb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLCExKTtpZih0IT1udWxsJiZ0Lmxlbmd0aD4wKXtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrPTMpdFtzKzJdPS10W3MrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdCwhMSl9Y29uc3QgaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsITEpO2lmKGkhPW51bGwmJmkubGVuZ3RoPjApe2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cys9MylpW3MrMl09LWlbcysyXTt0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsaSwhMSl9fV9yZXNldFBvaW50c0FycmF5Q2FjaGUoKXt0aGlzLl9wb3NpdGlvbnM9bnVsbH1fZ2VuZXJhdGVQb2ludHNBcnJheSgpe2lmKHRoaXMuX3Bvc2l0aW9ucylyZXR1cm4hMDtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtpZighZXx8ZS5sZW5ndGg9PT0wKXJldHVybiExO2ZvcihsZXQgdD10aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGgqMyxpPXRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aDt0PGUubGVuZ3RoO3QrPTMsKytpKXRoaXMuX3Bvc2l0aW9uc0NhY2hlW2ldPXAuRnJvbUFycmF5KGUsdCk7Zm9yKGxldCB0PTAsaT0wO3Q8ZS5sZW5ndGg7dCs9MywrK2kpdGhpcy5fcG9zaXRpb25zQ2FjaGVbaV0uc2V0KGVbMCt0XSxlWzErdF0sZVsyK3RdKTtyZXR1cm4gdGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoPWUubGVuZ3RoLzMsdGhpcy5fcG9zaXRpb25zPXRoaXMuX3Bvc2l0aW9uc0NhY2hlLCEwfWlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH1fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpe2lmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzKXRoaXMuX2VuZ2luZS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2ldKTt0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM9e307Y29uc3QgZT10aGlzLl9tZXNoZXMsdD1lLmxlbmd0aDtmb3IobGV0IGk9MDtpPHQ7aSsrKWVbaV0uX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCl9fWRpc3Bvc2UoKXtjb25zdCBlPXRoaXMuX21lc2hlcyx0PWUubGVuZ3RoO2xldCBpO2ZvcihpPTA7aTx0O2krKyl0aGlzLnJlbGVhc2VGb3JNZXNoKGVbaV0pO3RoaXMuX21lc2hlcy5sZW5ndGg9MCx0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCk7Zm9yKGNvbnN0IHMgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW3NdLmRpc3Bvc2UoKTtpZih0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2luZGljZXM9W10sdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuZGVsYXlMb2FkaW5nRmlsZT1udWxsLHRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPW51bGwsdGhpcy5fZGVsYXlJbmZvPVtdLHRoaXMuX2JvdW5kaW5nSW5mbz1udWxsLHRoaXMuX3NjZW5lLnJlbW92ZUdlb21ldHJ5KHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgcz10aGlzLl9wYXJlbnRDb250YWluZXIuZ2VvbWV0cmllcy5pbmRleE9mKHRoaXMpO3M+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5nZW9tZXRyaWVzLnNwbGljZShzLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfXRoaXMuX2lzRGlzcG9zZWQ9ITB9Y29weShlKXtjb25zdCB0PW5ldyB0ZTt0LmluZGljZXM9W107Y29uc3QgaT10aGlzLmdldEluZGljZXMoKTtpZihpKWZvcihsZXQgbz0wO288aS5sZW5ndGg7bysrKXQuaW5kaWNlcy5wdXNoKGlbb10pO2xldCBzPSExLHI9ITEsbjtmb3IobiBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXtjb25zdCBvPXRoaXMuZ2V0VmVydGljZXNEYXRhKG4pO2lmKG8mJihvIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3Quc2V0KG5ldyBGbG9hdDMyQXJyYXkobyksbik6dC5zZXQoby5zbGljZSgwKSxuKSwhcikpe2NvbnN0IGg9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIobik7aCYmKHM9aC5pc1VwZGF0YWJsZSgpLHI9IXMpfX1jb25zdCBhPW5ldyBvdChlLHRoaXMuX3NjZW5lLHQscyk7YS5kZWxheUxvYWRTdGF0ZT10aGlzLmRlbGF5TG9hZFN0YXRlLGEuZGVsYXlMb2FkaW5nRmlsZT10aGlzLmRlbGF5TG9hZGluZ0ZpbGUsYS5fZGVsYXlMb2FkaW5nRnVuY3Rpb249dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb247Zm9yKG4gaW4gdGhpcy5fZGVsYXlJbmZvKWEuX2RlbGF5SW5mbz1hLl9kZWxheUluZm98fFtdLGEuX2RlbGF5SW5mby5wdXNoKG4pO3JldHVybiBhLl9ib3VuZGluZ0luZm89bmV3IGZ0KHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxhfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307cmV0dXJuIGUuaWQ9dGhpcy5pZCxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZS51cGRhdGFibGU9dGhpcy5fdXBkYXRhYmxlLGZlJiZmZS5IYXNUYWdzKHRoaXMpJiYoZS50YWdzPWZlLkdldFRhZ3ModGhpcykpLGV9X3RvTnVtYmVyQXJyYXkoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKX1jbGVhckNhY2hlZERhdGEoKXt0aGlzLl9pbmRpY2VzPVtdLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpO2Zvcihjb25zdCBlIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsZSkmJih0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLl9idWZmZXIuX2RhdGE9bnVsbCl9c2VyaWFsaXplVmVydGljZURhdGEoKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplKCk7cmV0dXJuIHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKGUudXZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuVVZLaW5kKSYmKGUudXZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWMktpbmQpJiYoZS51djJzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWMktpbmQpJiYoZS51djJzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWM0tpbmQpJiYoZS51djNzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWM0tpbmQpJiYoZS51djNzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNEtpbmQpJiYoZS51djRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWNEtpbmQpJiYoZS51djRzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNUtpbmQpJiYoZS51djVzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWNUtpbmQpJiYoZS51djVzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNktpbmQpJiYoZS51djZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWNktpbmQpJiYoZS51djZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLkNvbG9yS2luZCkmJihlLmNvbG9ycz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLkNvbG9yS2luZCkmJihlLmNvbG9ycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSksZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQ9ITAsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiYoZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJihlLm1hdHJpY2VzV2VpZ2h0cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGU9ITApKSxlLmluZGljZXM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldEluZGljZXMoKSksZX1zdGF0aWMgRXh0cmFjdEZyb21NZXNoKGUsdCl7Y29uc3QgaT1lLl9nZW9tZXRyeTtyZXR1cm4gaT9pLmNvcHkodCk6bnVsbH1zdGF0aWMgUmFuZG9tSWQoKXtyZXR1cm4gWC5SYW5kb21JZCgpfXN0YXRpYyBfR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkKGUsdCl7Zm9yKGxldCBpPTA7aTx0Lmdlb21ldHJpZXMubGVuZ3RoO2krKylpZih0Lmdlb21ldHJpZXNbaV0uX2xvYWRlZFVuaXF1ZUlkPT09ZSlyZXR1cm4gdC5nZW9tZXRyaWVzW2ldO3JldHVybiBudWxsfXN0YXRpYyBfSW1wb3J0R2VvbWV0cnkoZSx0KXtjb25zdCBpPXQuZ2V0U2NlbmUoKSxzPWUuZ2VvbWV0cnlVbmlxdWVJZCxyPWUuZ2VvbWV0cnlJZDtpZihzfHxyKXtjb25zdCBuPXM/dGhpcy5fR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkKHMsaSk6aS5nZXRHZW9tZXRyeUJ5SWQocik7biYmbi5hcHBseVRvTWVzaCh0KX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7Y29uc3Qgbj10Ll9iaW5hcnlJbmZvO2lmKG4ucG9zaXRpb25zQXR0ckRlc2MmJm4ucG9zaXRpb25zQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi5wb3NpdGlvbnNBdHRyRGVzYy5vZmZzZXQsbi5wb3NpdGlvbnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsYSwhMSl9aWYobi5ub3JtYWxzQXR0ckRlc2MmJm4ubm9ybWFsc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ubm9ybWFsc0F0dHJEZXNjLm9mZnNldCxuLm5vcm1hbHNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGEsITEpfWlmKG4udGFuZ2V0c0F0dHJEZXNjJiZuLnRhbmdldHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnRhbmdldHNBdHRyRGVzYy5vZmZzZXQsbi50YW5nZXRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQsYSwhMSl9aWYobi51dnNBdHRyRGVzYyYmbi51dnNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2c0F0dHJEZXNjLm9mZnNldCxuLnV2c0F0dHJEZXNjLmNvdW50KTtpZihfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWS2luZCxhLCExKX1pZihuLnV2czJBdHRyRGVzYyYmbi51dnMyQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnMyQXR0ckRlc2Mub2Zmc2V0LG4udXZzMkF0dHJEZXNjLmNvdW50KTtpZihfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsYSwhMSl9aWYobi51dnMzQXR0ckRlc2MmJm4udXZzM0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzM0F0dHJEZXNjLm9mZnNldCxuLnV2czNBdHRyRGVzYy5jb3VudCk7aWYoX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLGEsITEpfWlmKG4udXZzNEF0dHJEZXNjJiZuLnV2czRBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czRBdHRyRGVzYy5vZmZzZXQsbi51dnM0QXR0ckRlc2MuY291bnQpO2lmKF90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCxhLCExKX1pZihuLnV2czVBdHRyRGVzYyYmbi51dnM1QXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnM1QXR0ckRlc2Mub2Zmc2V0LG4udXZzNUF0dHJEZXNjLmNvdW50KTtpZihfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsYSwhMSl9aWYobi51dnM2QXR0ckRlc2MmJm4udXZzNkF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzNkF0dHJEZXNjLm9mZnNldCxuLnV2czZBdHRyRGVzYy5jb3VudCk7aWYoX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLGEsITEpfWlmKG4uY29sb3JzQXR0ckRlc2MmJm4uY29sb3JzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi5jb2xvcnNBdHRyRGVzYy5vZmZzZXQsbi5jb2xvcnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsYSwhMSxuLmNvbG9yc0F0dHJEZXNjLnN0cmlkZSl9aWYobi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYyYmbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5vZmZzZXQsbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudCksbz1bXTtmb3IobGV0IGg9MDtoPGEubGVuZ3RoO2grKyl7Y29uc3QgbD1hW2hdO28ucHVzaChsJjI1NSksby5wdXNoKChsJjY1MjgwKT4+OCksby5wdXNoKChsJjE2NzExNjgwKT4+MTYpLG8ucHVzaChsPj4yNCYyNTUpfXQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCxvLCExKX1pZihuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MmJm4ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLm9mZnNldCxuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MuY291bnQpLG89W107Zm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGw9YVtoXTtvLnB1c2gobCYyNTUpLG8ucHVzaCgobCY2NTI4MCk+PjgpLG8ucHVzaCgobCYxNjcxMTY4MCk+PjE2KSxvLnB1c2gobD4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxvLCExKX1pZihuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjJiZuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2Mub2Zmc2V0LG4ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCxhLCExKX1pZihuLmluZGljZXNBdHRyRGVzYyYmbi5pbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4uaW5kaWNlc0F0dHJEZXNjLm9mZnNldCxuLmluZGljZXNBdHRyRGVzYy5jb3VudCk7dC5zZXRJbmRpY2VzKGEsbnVsbCl9aWYobi5zdWJNZXNoZXNBdHRyRGVzYyYmbi5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5zdWJNZXNoZXNBdHRyRGVzYy5vZmZzZXQsbi5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudCo1KTt0LnN1Yk1lc2hlcz1bXTtmb3IobGV0IG89MDtvPG4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ7bysrKXtjb25zdCBoPWFbbyo1KzBdLGw9YVtvKjUrMV0sdT1hW28qNSsyXSxkPWFbbyo1KzNdLF89YVtvKjUrNF07VHQuQWRkVG9NZXNoKGgsbCx1LGQsXyx0KX19fWVsc2UgaWYoZS5wb3NpdGlvbnMmJmUubm9ybWFscyYmZS5pbmRpY2VzKXtpZih0LnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxlLnBvc2l0aW9ucyxlLnBvc2l0aW9ucy5fdXBkYXRhYmxlKSx0LnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsZS5ub3JtYWxzLGUubm9ybWFscy5fdXBkYXRhYmxlKSxlLnRhbmdlbnRzJiZ0LnNldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLGUudGFuZ2VudHMsZS50YW5nZW50cy5fdXBkYXRhYmxlKSxlLnV2cyYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsZS51dnMsZS51dnMuX3VwZGF0YWJsZSksZS51dnMyJiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsZS51dnMyLGUudXZzMi5fdXBkYXRhYmxlKSxlLnV2czMmJnQuc2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCxlLnV2czMsZS51dnMzLl91cGRhdGFibGUpLGUudXZzNCYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLGUudXZzNCxlLnV2czQuX3VwZGF0YWJsZSksZS51dnM1JiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsZS51dnM1LGUudXZzNS5fdXBkYXRhYmxlKSxlLnV2czYmJnQuc2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCxlLnV2czYsZS51dnM2Ll91cGRhdGFibGUpLGUuY29sb3JzJiZ0LnNldFZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCxOZS5DaGVja0NvbG9yczQoZS5jb2xvcnMsZS5wb3NpdGlvbnMubGVuZ3RoLzMpLGUuY29sb3JzLl91cGRhdGFibGUpLGUubWF0cmljZXNJbmRpY2VzKWlmKGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkKWRlbGV0ZSBlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZCx0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsZS5tYXRyaWNlc0luZGljZXMsZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZSk7ZWxzZXtjb25zdCBuPVtdO2ZvcihsZXQgYT0wO2E8ZS5tYXRyaWNlc0luZGljZXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz1lLm1hdHJpY2VzSW5kaWNlc1thXTtuLnB1c2gobyYyNTUpLG4ucHVzaCgobyY2NTI4MCk+PjgpLG4ucHVzaCgobyYxNjcxMTY4MCk+PjE2KSxuLnB1c2gobz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsbixlLm1hdHJpY2VzSW5kaWNlcy5fdXBkYXRhYmxlKX1pZihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhKWlmKGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX2lzRXhwYW5kZWQpZGVsZXRlIGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkLHQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLGUubWF0cmljZXNJbmRpY2VzRXh0cmEsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5fdXBkYXRhYmxlKTtlbHNle2NvbnN0IG49W107Zm9yKGxldCBhPTA7YTxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLmxlbmd0aDthKyspe2NvbnN0IG89ZS5tYXRyaWNlc0luZGljZXNFeHRyYVthXTtuLnB1c2gobyYyNTUpLG4ucHVzaCgobyY2NTI4MCk+PjgpLG4ucHVzaCgobyYxNjcxMTY4MCk+PjE2KSxuLnB1c2gobz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxuLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSl9ZS5tYXRyaWNlc1dlaWdodHMmJihvdC5fQ2xlYW5NYXRyaWNlc1dlaWdodHMoZSx0KSx0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZS5tYXRyaWNlc1dlaWdodHMsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSkpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLGUubWF0cmljZXNXZWlnaHRzRXh0cmEsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSksdC5zZXRJbmRpY2VzKGUuaW5kaWNlcyxudWxsKX1pZihlLnN1Yk1lc2hlcyl7dC5zdWJNZXNoZXM9W107Zm9yKGxldCBuPTA7bjxlLnN1Yk1lc2hlcy5sZW5ndGg7bisrKXtjb25zdCBhPWUuc3ViTWVzaGVzW25dO1R0LkFkZFRvTWVzaChhLm1hdGVyaWFsSW5kZXgsYS52ZXJ0aWNlc1N0YXJ0LGEudmVydGljZXNDb3VudCxhLmluZGV4U3RhcnQsYS5pbmRleENvdW50LHQpfX10Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nJiYodC5jb252ZXJ0VG9GbGF0U2hhZGVkTWVzaCgpLHQuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ITEpLHQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxpLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9c3RhdGljIF9DbGVhbk1hdHJpY2VzV2VpZ2h0cyhlLHQpe2lmKCFGZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzKXJldHVybjtsZXQgcz0wO2lmKGUuc2tlbGV0b25JZD4tMSl7Y29uc3QgdT10LmdldFNjZW5lKCkuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpO2lmKCF1KXJldHVybjtzPXUuYm9uZXMubGVuZ3RofWVsc2UgcmV0dXJuO2NvbnN0IHI9dC5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxuPXQuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxhPWUubWF0cmljZXNXZWlnaHRzLG89ZS5tYXRyaWNlc1dlaWdodHNFeHRyYSxoPWUubnVtQm9uZUluZmx1ZW5jZXIsbD1hLmxlbmd0aDtmb3IobGV0IHU9MDt1PGw7dSs9NCl7bGV0IGQ9MCxfPS0xO2ZvcihsZXQgZj0wO2Y8NDtmKyspe2NvbnN0IG09YVt1K2ZdO2QrPW0sbTwuMDAxJiZfPDAmJihfPWYpfWlmKG8pZm9yKGxldCBmPTA7Zjw0O2YrKyl7Y29uc3QgbT1vW3UrZl07ZCs9bSxtPC4wMDEmJl88MCYmKF89Zis0KX1pZigoXzwwfHxfPmgtMSkmJihfPWgtMSksZD4uMDAxKXtjb25zdCBmPTEvZDtmb3IobGV0IG09MDttPDQ7bSsrKWFbdSttXSo9ZjtpZihvKWZvcihsZXQgbT0wO208NDttKyspb1t1K21dKj1mfWVsc2UgXz49ND8ob1t1K18tNF09MS1kLG5bdStfLTRdPXMpOihhW3UrX109MS1kLHJbdStfXT1zKX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsciksZS5tYXRyaWNlc1dlaWdodHNFeHRyYSYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbil9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPW5ldyBvdChlLmlkLHQsdm9pZCAwLGUudXBkYXRhYmxlKTtyZXR1cm4gcy5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxmZSYmZmUuQWRkVGFnc1RvKHMsZS50YWdzKSxlLmRlbGF5TG9hZGluZ0ZpbGU/KHMuZGVsYXlMb2FkU3RhdGU9NCxzLmRlbGF5TG9hZGluZ0ZpbGU9aStlLmRlbGF5TG9hZGluZ0ZpbGUscy5fYm91bmRpbmdJbmZvPW5ldyBmdChwLkZyb21BcnJheShlLmJvdW5kaW5nQm94TWluaW11bSkscC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1heGltdW0pKSxzLl9kZWxheUluZm89W10sZS5oYXNVVnMmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVZLaW5kKSxlLmhhc1VWczImJnMuX2RlbGF5SW5mby5wdXNoKGcuVVYyS2luZCksZS5oYXNVVnMzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWM0tpbmQpLGUuaGFzVVZzNCYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjRLaW5kKSxlLmhhc1VWczUmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY1S2luZCksZS5oYXNVVnM2JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNktpbmQpLGUuaGFzQ29sb3JzJiZzLl9kZWxheUluZm8ucHVzaChnLkNvbG9yS2luZCksZS5oYXNNYXRyaWNlc0luZGljZXMmJnMuX2RlbGF5SW5mby5wdXNoKGcuTWF0cmljZXNJbmRpY2VzS2luZCksZS5oYXNNYXRyaWNlc1dlaWdodHMmJnMuX2RlbGF5SW5mby5wdXNoKGcuTWF0cmljZXNXZWlnaHRzS2luZCkscy5fZGVsYXlMb2FkaW5nRnVuY3Rpb249dGUuSW1wb3J0VmVydGV4RGF0YSk6dGUuSW1wb3J0VmVydGV4RGF0YShlLHMpLHQucHVzaEdlb21ldHJ5KHMsITApLHN9fXZhciB6dDsoZnVuY3Rpb24oYyl7Y1tjLkxPQ0FMPTBdPSJMT0NBTCIsY1tjLldPUkxEPTFdPSJXT1JMRCIsY1tjLkJPTkU9Ml09IkJPTkUifSkoenR8fCh6dD17fSkpO2NsYXNzIGdpe31naS5YPW5ldyBwKDEsMCwwKSxnaS5ZPW5ldyBwKDAsMSwwKSxnaS5aPW5ldyBwKDAsMCwxKTt2YXIgRnI7KGZ1bmN0aW9uKGMpe2NbYy5YPTBdPSJYIixjW2MuWT0xXT0iWSIsY1tjLlo9Ml09IloifSkoRnJ8fChGcj17fSkpO2NsYXNzIGVlIGV4dGVuZHMgemV7Z2V0IGJpbGxib2FyZE1vZGUoKXtyZXR1cm4gdGhpcy5fYmlsbGJvYXJkTW9kZX1zZXQgYmlsbGJvYXJkTW9kZShlKXt0aGlzLl9iaWxsYm9hcmRNb2RlIT09ZSYmKHRoaXMuX2JpbGxib2FyZE1vZGU9ZSx0aGlzLl9jYWNoZS51c2VCaWxsYm9hcmRQb3NpdGlvbj0odGhpcy5fYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTikhPT0wLHRoaXMuX2NvbXB1dGVVc2VCaWxsYm9hcmRQYXRoKCkpfWdldCBwcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkKCl7cmV0dXJuIHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmR9c2V0IHByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQoZSl7ZSE9PXRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQmJih0aGlzLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkPWUsdGhpcy5fY29tcHV0ZVVzZUJpbGxib2FyZFBhdGgoKSl9X2NvbXB1dGVVc2VCaWxsYm9hcmRQYXRoKCl7dGhpcy5fY2FjaGUudXNlQmlsbGJvYXJkUGF0aD10aGlzLl9iaWxsYm9hcmRNb2RlIT09ZWUuQklMTEJPQVJETU9ERV9OT05FJiYhdGhpcy5wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkfWdldCBpbmZpbml0ZURpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX2luZmluaXRlRGlzdGFuY2V9c2V0IGluZmluaXRlRGlzdGFuY2UoZSl7dGhpcy5faW5maW5pdGVEaXN0YW5jZSE9PWUmJih0aGlzLl9pbmZpbml0ZURpc3RhbmNlPWUpfWNvbnN0cnVjdG9yKGUsdD1udWxsLGk9ITApe3N1cGVyKGUsdCksdGhpcy5fZm9yd2FyZD1uZXcgcCgwLDAsMSksdGhpcy5fdXA9bmV3IHAoMCwxLDApLHRoaXMuX3JpZ2h0PW5ldyBwKDEsMCwwKSx0aGlzLl9wb3NpdGlvbj1wLlplcm8oKSx0aGlzLl9yb3RhdGlvbj1wLlplcm8oKSx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb249bnVsbCx0aGlzLl9zY2FsaW5nPXAuT25lKCksdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1udWxsLHRoaXMuX2lzQWJzb2x1dGVTeW5jZWQ9ITEsdGhpcy5fYmlsbGJvYXJkTW9kZT1lZS5CSUxMQk9BUkRNT0RFX05PTkUsdGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZD0hMSx0aGlzLnNjYWxpbmdEZXRlcm1pbmFudD0xLHRoaXMuX2luZmluaXRlRGlzdGFuY2U9ITEsdGhpcy5pZ25vcmVOb25Vbmlmb3JtU2NhbGluZz0hMSx0aGlzLnJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uPSExLHRoaXMuX3Bvc2VNYXRyaXg9bnVsbCx0aGlzLl9sb2NhbE1hdHJpeD1NLlplcm8oKSx0aGlzLl91c2VQaXZvdE1hdHJpeD0hMSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uPXAuWmVybygpLHRoaXMuX2Fic29sdXRlU2NhbGluZz1wLlplcm8oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbj1aLklkZW50aXR5KCksdGhpcy5fcGl2b3RNYXRyaXg9TS5JZGVudGl0eSgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4PSExLHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGU9bmV3IHcsdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9ITEsaSYmdGhpcy5nZXRTY2VuZSgpLmFkZFRyYW5zZm9ybU5vZGUodGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRyYW5zZm9ybU5vZGUifWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24oZSl7dGhpcy5fcG9zaXRpb249ZSx0aGlzLl9pc0RpcnR5PSEwfWlzVXNpbmdQaXZvdE1hdHJpeCgpe3JldHVybiB0aGlzLl91c2VQaXZvdE1hdHJpeH1nZXQgcm90YXRpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259c2V0IHJvdGF0aW9uKGUpe3RoaXMuX3JvdGF0aW9uPWUsdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5faXNEaXJ0eT0hMH1nZXQgc2NhbGluZygpe3JldHVybiB0aGlzLl9zY2FsaW5nfXNldCBzY2FsaW5nKGUpe3RoaXMuX3NjYWxpbmc9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCByb3RhdGlvblF1YXRlcm5pb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9ufXNldCByb3RhdGlvblF1YXRlcm5pb24oZSl7dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPWUsZSYmdGhpcy5fcm90YXRpb24uc2V0QWxsKDApLHRoaXMuX2lzRGlydHk9ITB9Z2V0IGZvcndhcmQoKXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMCwwLHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9mb3J3YXJkKSx0aGlzLl9mb3J3YXJkLm5vcm1hbGl6ZSgpfWdldCB1cCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDEsMCx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fdXApLHRoaXMuX3VwLm5vcm1hbGl6ZSgpfWdldCByaWdodCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSwwLDAsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3JpZ2h0KSx0aGlzLl9yaWdodC5ub3JtYWxpemUoKX11cGRhdGVQb3NlTWF0cml4KGUpe3JldHVybiB0aGlzLl9wb3NlTWF0cml4Pyh0aGlzLl9wb3NlTWF0cml4LmNvcHlGcm9tKGUpLHRoaXMpOih0aGlzLl9wb3NlTWF0cml4PWUuY2xvbmUoKSx0aGlzKX1nZXRQb3NlTWF0cml4KCl7cmV0dXJuIHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PU0uSWRlbnRpdHkoKSksdGhpcy5fcG9zZU1hdHJpeH1faXNTeW5jaHJvbml6ZWQoKXtjb25zdCBlPXRoaXMuX2NhY2hlO3JldHVybiEodGhpcy5fYmlsbGJvYXJkTW9kZSE9PWUuYmlsbGJvYXJkTW9kZXx8dGhpcy5fYmlsbGJvYXJkTW9kZSE9PWVlLkJJTExCT0FSRE1PREVfTk9ORXx8ZS5waXZvdE1hdHJpeFVwZGF0ZWR8fHRoaXMuX2luZmluaXRlRGlzdGFuY2V8fHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5fHx0aGlzLl9zY2FsaW5nLl9pc0RpcnR5fHx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5faXNEaXJ0eXx8dGhpcy5fcm90YXRpb24uX2lzRGlydHkpfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCk7Y29uc3QgZT10aGlzLl9jYWNoZTtlLmxvY2FsTWF0cml4VXBkYXRlZD0hMSxlLmJpbGxib2FyZE1vZGU9LTEsZS5pbmZpbml0ZURpc3RhbmNlPSExLGUudXNlQmlsbGJvYXJkUG9zaXRpb249ITEsZS51c2VCaWxsYm9hcmRQYXRoPSExfWdldCBhYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpfWdldCBhYnNvbHV0ZVNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fc3luY0Fic29sdXRlU2NhbGluZ0FuZFJvdGF0aW9uKCksdGhpcy5fYWJzb2x1dGVTY2FsaW5nfWdldCBhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbn1zZXRQcmVUcmFuc2Zvcm1NYXRyaXgoZSl7cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgoZSwhMSl9c2V0UGl2b3RNYXRyaXgoZSx0PSEwKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXguY29weUZyb20oZSksdGhpcy5fdXNlUGl2b3RNYXRyaXg9IXRoaXMuX3Bpdm90TWF0cml4LmlzSWRlbnRpdHkoKSx0aGlzLl9jYWNoZS5waXZvdE1hdHJpeFVwZGF0ZWQ9ITAsdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXg9dCx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT90aGlzLl9waXZvdE1hdHJpeC5pbnZlcnRUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UpOnRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT1NLkludmVydCh0aGlzLl9waXZvdE1hdHJpeCkpLHRoaXN9Z2V0UGl2b3RNYXRyaXgoKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXh9aW5zdGFudGlhdGVIaWVyYXJjaHkoZT1udWxsLHQsaSl7Y29uc3Qgcz10aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLGV8fHRoaXMucGFyZW50LCEwKTtzJiZpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc31mcmVlemVXb3JsZE1hdHJpeChlPW51bGwsdD0hMSl7cmV0dXJuIGU/dD8odGhpcy5fcm90YXRpb24uc2V0QWxsKDApLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj10aGlzLl9yb3RhdGlvblF1YXRlcm5pb258fFouSWRlbnRpdHkoKSxlLmRlY29tcG9zZSh0aGlzLl9zY2FsaW5nLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLl9wb3NpdGlvbiksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApKToodGhpcy5fd29ybGRNYXRyaXg9ZSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3dvcmxkTWF0cml4Lm1bMTJdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTNdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTRdKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpKToodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMCx0aGlzfXVuZnJlZXplV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpc31nZXQgaXNXb3JsZE1hdHJpeEZyb3plbigpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufWdldEFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9ufXNldEFic29sdXRlUG9zaXRpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXM7bGV0IHQsaSxzO2lmKGUueD09PXZvaWQgMCl7aWYoYXJndW1lbnRzLmxlbmd0aDwzKXJldHVybiB0aGlzO3Q9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdfWVsc2UgdD1lLngsaT1lLnkscz1lLno7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHI9Ri5NYXRyaXhbMF07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihyKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQsaSxzLHIsdGhpcy5wb3NpdGlvbil9ZWxzZSB0aGlzLnBvc2l0aW9uLng9dCx0aGlzLnBvc2l0aW9uLnk9aSx0aGlzLnBvc2l0aW9uLno9cztyZXR1cm4gdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbShlKSx0aGlzfXNldFBvc2l0aW9uV2l0aExvY2FsVmVjdG9yKGUpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMucG9zaXRpb249cC5UcmFuc2Zvcm1Ob3JtYWwoZSx0aGlzLl9sb2NhbE1hdHJpeCksdGhpc31nZXRQb3NpdGlvbkV4cHJlc3NlZEluTG9jYWxTcGFjZSgpe3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCk7Y29uc3QgZT1GLk1hdHJpeFswXTtyZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXguaW52ZXJ0VG9SZWYoZSkscC5UcmFuc2Zvcm1Ob3JtYWwodGhpcy5wb3NpdGlvbixlKX1sb2NhbGx5VHJhbnNsYXRlKGUpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5wb3NpdGlvbj1wLlRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXN9bG9va0F0KGUsdD0wLGk9MCxzPTAscj16dC5MT0NBTCl7Y29uc3Qgbj1lZS5fTG9va0F0VmVjdG9yQ2FjaGUsYT1yPT09enQuTE9DQUw/dGhpcy5wb3NpdGlvbjp0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKTtpZihlLnN1YnRyYWN0VG9SZWYoYSxuKSx0aGlzLnNldERpcmVjdGlvbihuLHQsaSxzKSxyPT09enQuV09STEQmJnRoaXMucGFyZW50KWlmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKXtjb25zdCBvPUYuTWF0cml4WzBdO3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvUm90YXRpb25NYXRyaXgobyk7Y29uc3QgaD1GLk1hdHJpeFsxXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmdldFJvdGF0aW9uTWF0cml4VG9SZWYoaCksaC5pbnZlcnQoKSxvLm11bHRpcGx5VG9SZWYoaCxvKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5mcm9tUm90YXRpb25NYXRyaXgobyl9ZWxzZXtjb25zdCBvPUYuUXVhdGVybmlvblswXTtaLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24sbyk7Y29uc3QgaD1GLk1hdHJpeFswXTtvLnRvUm90YXRpb25NYXRyaXgoaCk7Y29uc3QgbD1GLk1hdHJpeFsxXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmdldFJvdGF0aW9uTWF0cml4VG9SZWYobCksbC5pbnZlcnQoKSxoLm11bHRpcGx5VG9SZWYobCxoKSxvLmZyb21Sb3RhdGlvbk1hdHJpeChoKSxvLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKX1yZXR1cm4gdGhpc31nZXREaXJlY3Rpb24oZSl7Y29uc3QgdD1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXREaXJlY3Rpb25Ub1JlZihlLHQpLHR9Z2V0RGlyZWN0aW9uVG9SZWYoZSx0KXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0KSx0aGlzfXNldERpcmVjdGlvbihlLHQ9MCxpPTAscz0wKXtjb25zdCByPS1NYXRoLmF0YW4yKGUueixlLngpK01hdGguUEkvMixuPU1hdGguc3FydChlLngqZS54K2UueiplLnopLGE9LU1hdGguYXRhbjIoZS55LG4pO3JldHVybiB0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9aLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYocit0LGEraSxzLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKToodGhpcy5yb3RhdGlvbi54PWEraSx0aGlzLnJvdGF0aW9uLnk9cit0LHRoaXMucm90YXRpb24uej1zKSx0aGlzfXNldFBpdm90UG9pbnQoZSx0PXp0LkxPQ0FMKXt0aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKT09MCYmdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApO2NvbnN0IGk9dGhpcy5nZXRXb3JsZE1hdHJpeCgpO2lmKHQ9PXp0LldPUkxEKXtjb25zdCBzPUYuTWF0cml4WzBdO2kuaW52ZXJ0VG9SZWYocyksZT1wLlRyYW5zZm9ybUNvb3JkaW5hdGVzKGUscyl9cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgoTS5UcmFuc2xhdGlvbigtZS54LC1lLnksLWUueiksITApfWdldFBpdm90UG9pbnQoKXtjb25zdCBlPXAuWmVybygpO3JldHVybiB0aGlzLmdldFBpdm90UG9pbnRUb1JlZihlKSxlfWdldFBpdm90UG9pbnRUb1JlZihlKXtyZXR1cm4gZS54PS10aGlzLl9waXZvdE1hdHJpeC5tWzEyXSxlLnk9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTNdLGUuej0tdGhpcy5fcGl2b3RNYXRyaXgubVsxNF0sdGhpc31nZXRBYnNvbHV0ZVBpdm90UG9pbnQoKXtjb25zdCBlPXAuWmVybygpO3JldHVybiB0aGlzLmdldEFic29sdXRlUGl2b3RQb2ludFRvUmVmKGUpLGV9Z2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWYoZSl7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKGUpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSxlKSx0aGlzfW1hcmtBc0RpcnR5KGUpe2lmKHRoaXMuX2lzRGlydHkpcmV0dXJuIHRoaXM7aWYodGhpcy5fY2hpbGRyZW4pZm9yKGNvbnN0IHQgb2YgdGhpcy5fY2hpbGRyZW4pdC5tYXJrQXNEaXJ0eShlKTtyZXR1cm4gc3VwZXIubWFya0FzRGlydHkoZSl9c2V0UGFyZW50KGUsdD0hMSxpPSExKXtpZighZSYmIXRoaXMucGFyZW50KXJldHVybiB0aGlzO2NvbnN0IHM9Ri5RdWF0ZXJuaW9uWzBdLHI9Ri5WZWN0b3IzWzBdLG49Ri5WZWN0b3IzWzFdLGE9Ri5NYXRyaXhbMV07TS5JZGVudGl0eVRvUmVmKGEpO2NvbnN0IG89Ri5NYXRyaXhbMF07dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApO2xldCBoPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uO3JldHVybiBofHwoaD1lZS5fVG1wUm90YXRpb24sWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56LGgpKSxNLkNvbXBvc2VUb1JlZih0aGlzLnNjYWxpbmcsaCx0aGlzLnBvc2l0aW9uLG8pLHRoaXMucGFyZW50JiZvLm11bHRpcGx5VG9SZWYodGhpcy5wYXJlbnQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxvKSxlJiYoZS5jb21wdXRlV29ybGRNYXRyaXgoITApLmludmVydFRvUmVmKGEpLG8ubXVsdGlwbHlUb1JlZihhLG8pKSxvLmRlY29tcG9zZShuLHMscix0P3RoaXM6dm9pZCAwKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShzKTpzLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzLnNjYWxpbmcuY29weUZyb20obiksdGhpcy5wb3NpdGlvbi5jb3B5RnJvbShyKSx0aGlzLnBhcmVudD1lLGkmJnRoaXMuc2V0UGl2b3RNYXRyaXgoTS5JZGVudGl0eSgpKSx0aGlzfWdldCBub25Vbmlmb3JtU2NhbGluZygpe3JldHVybiB0aGlzLl9ub25Vbmlmb3JtU2NhbGluZ31fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZShlKXtyZXR1cm4gdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9PT1lPyExOih0aGlzLl9ub25Vbmlmb3JtU2NhbGluZz1lLCEwKX1hdHRhY2hUb0JvbmUoZSx0KXtyZXR1cm4gdGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU9dGhpcy5wYXJlbnQsdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD10LHRoaXMucGFyZW50PWUsZS5nZXRTa2VsZXRvbigpLnByZXBhcmUoKSxlLmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzfWRldGFjaEZyb21Cb25lKGU9ITEpe3JldHVybiB0aGlzLnBhcmVudD8odGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5kZXRlcm1pbmFudCgpPDAmJih0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCo9LTEpLHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9bnVsbCxlP3RoaXMucGFyZW50PXRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lOnRoaXMucGFyZW50PW51bGwsdGhpcyk6KGUmJih0aGlzLnBhcmVudD10aGlzLl9jdXJyZW50UGFyZW50V2hlbkF0dGFjaGluZ1RvQm9uZSksdGhpcyl9cm90YXRlKGUsdCxpKXtlLm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvbi50b1F1YXRlcm5pb24oKSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7bGV0IHM7aWYoIWl8fGk9PT16dC5MT0NBTClzPVouUm90YXRpb25BeGlzVG9SZWYoZSx0LGVlLl9Sb3RhdGlvbkF4aXNDYWNoZSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlUb1JlZihzLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTtlbHNle2lmKHRoaXMucGFyZW50KXtjb25zdCByPUYuTWF0cml4WzBdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYociksZT1wLlRyYW5zZm9ybU5vcm1hbChlLHIpfXM9Wi5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsZWUuX1JvdGF0aW9uQXhpc0NhY2hlKSxzLm11bHRpcGx5VG9SZWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfXJldHVybiB0aGlzfXJvdGF0ZUFyb3VuZChlLHQsaSl7dC5ub3JtYWxpemUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPVouUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnopLHRoaXMucm90YXRpb24uc2V0QWxsKDApKTtjb25zdCBzPUYuVmVjdG9yM1swXSxyPUYuVmVjdG9yM1sxXSxuPUYuVmVjdG9yM1syXSxhPUYuUXVhdGVybmlvblswXSxvPUYuTWF0cml4WzBdLGg9Ri5NYXRyaXhbMV0sbD1GLk1hdHJpeFsyXSx1PUYuTWF0cml4WzNdO3JldHVybiBlLnN1YnRyYWN0VG9SZWYodGhpcy5wb3NpdGlvbixzKSxNLlRyYW5zbGF0aW9uVG9SZWYocy54LHMueSxzLnosbyksTS5UcmFuc2xhdGlvblRvUmVmKC1zLngsLXMueSwtcy56LGgpLE0uUm90YXRpb25BeGlzVG9SZWYodCxpLGwpLGgubXVsdGlwbHlUb1JlZihsLHUpLHUubXVsdGlwbHlUb1JlZihvLHUpLHUuZGVjb21wb3NlKHIsYSxuKSx0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UobiksYS5tdWx0aXBseVRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSx0aGlzfXRyYW5zbGF0ZShlLHQsaSl7Y29uc3Qgcz1lLnNjYWxlKHQpO2lmKCFpfHxpPT09enQuTE9DQUwpe2NvbnN0IHI9dGhpcy5nZXRQb3NpdGlvbkV4cHJlc3NlZEluTG9jYWxTcGFjZSgpLmFkZChzKTt0aGlzLnNldFBvc2l0aW9uV2l0aExvY2FsVmVjdG9yKHIpfWVsc2UgdGhpcy5zZXRBYnNvbHV0ZVBvc2l0aW9uKHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLmFkZChzKSk7cmV0dXJuIHRoaXN9YWRkUm90YXRpb24oZSx0LGkpe2xldCBzO3RoaXMucm90YXRpb25RdWF0ZXJuaW9uP3M9dGhpcy5yb3RhdGlvblF1YXRlcm5pb246KHM9Ri5RdWF0ZXJuaW9uWzFdLFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueixzKSk7Y29uc3Qgcj1GLlF1YXRlcm5pb25bMF07cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUsaSxyKSxzLm11bHRpcGx5SW5QbGFjZShyKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8cy50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpc31fZ2V0RWZmZWN0aXZlUGFyZW50KCl7cmV0dXJuIHRoaXMucGFyZW50fWlzV29ybGRNYXRyaXhDYW1lcmFEZXBlbmRlbnQoKXtyZXR1cm4gdGhpcy5faW5maW5pdGVEaXN0YW5jZSYmIXRoaXMucGFyZW50fHx0aGlzLl9iaWxsYm9hcmRNb2RlIT09ZWUuQklMTEJPQVJETU9ERV9OT05FJiYhdGhpcy5wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkfWNvbXB1dGVXb3JsZE1hdHJpeChlPSExLHQ9bnVsbCl7aWYodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbiYmIXRoaXMuX2lzRGlydHkpcmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4O2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk7aWYoIXRoaXMuX2lzRGlydHkmJiFlJiYodGhpcy5fY3VycmVudFJlbmRlcklkPT09aXx8dGhpcy5pc1N5bmNocm9uaXplZCgpKSlyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPWksdGhpcy5fd29ybGRNYXRyaXg7dD10fHx0aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhLHRoaXMuX3VwZGF0ZUNhY2hlKCk7Y29uc3Qgcz10aGlzLl9jYWNoZTtzLnBpdm90TWF0cml4VXBkYXRlZD0hMSxzLmJpbGxib2FyZE1vZGU9dGhpcy5iaWxsYm9hcmRNb2RlLHMuaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2Uscy5wYXJlbnQ9dGhpcy5fcGFyZW50Tm9kZSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9aSx0aGlzLl9jaGlsZFVwZGF0ZUlkKz0xLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5fcG9zaXRpb24uX2lzRGlydHk9ITEsdGhpcy5fcm90YXRpb24uX2lzRGlydHk9ITEsdGhpcy5fc2NhbGluZy5faXNEaXJ0eT0hMTtjb25zdCByPXRoaXMuX2dldEVmZmVjdGl2ZVBhcmVudCgpLG49ZWUuX1RtcFNjYWxpbmc7bGV0IGE9dGhpcy5fcG9zaXRpb247aWYodGhpcy5faW5maW5pdGVEaXN0YW5jZSYmIXRoaXMucGFyZW50JiZ0KXtjb25zdCBoPXQuZ2V0V29ybGRNYXRyaXgoKSxsPW5ldyBwKGgubVsxMl0saC5tWzEzXSxoLm1bMTRdKTthPWVlLl9UbXBUcmFuc2xhdGlvbixhLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3Bvc2l0aW9uLngrbC54LHRoaXMuX3Bvc2l0aW9uLnkrbC55LHRoaXMuX3Bvc2l0aW9uLnorbC56KX1uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3NjYWxpbmcueCp0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCx0aGlzLl9zY2FsaW5nLnkqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQsdGhpcy5fc2NhbGluZy56KnRoaXMuc2NhbGluZ0RldGVybWluYW50KTtsZXQgbztpZih0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24/KHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5faXNEaXJ0eT0hMSxvPXRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLnJvdGF0aW9uLmxlbmd0aFNxdWFyZWQoKSYmKHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5tdWx0aXBseUluUGxhY2UoWi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLl9yb3RhdGlvbi55LHRoaXMuX3JvdGF0aW9uLngsdGhpcy5fcm90YXRpb24ueikpLHRoaXMuX3JvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSkpOihvPWVlLl9UbXBSb3RhdGlvbixaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnosbykpLHRoaXMuX3VzZVBpdm90TWF0cml4KXtjb25zdCBoPUYuTWF0cml4WzFdO00uU2NhbGluZ1RvUmVmKG4ueCxuLnksbi56LGgpO2NvbnN0IGw9Ri5NYXRyaXhbMF07by50b1JvdGF0aW9uTWF0cml4KGwpLHRoaXMuX3Bpdm90TWF0cml4Lm11bHRpcGx5VG9SZWYoaCxGLk1hdHJpeFs0XSksRi5NYXRyaXhbNF0ubXVsdGlwbHlUb1JlZihsLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXMuX2xvY2FsTWF0cml4LmFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhhLngsYS55LGEueil9ZWxzZSBNLkNvbXBvc2VUb1JlZihuLG8sYSx0aGlzLl9sb2NhbE1hdHJpeCk7aWYociYmci5nZXRXb3JsZE1hdHJpeCl7aWYoZSYmci5jb21wdXRlV29ybGRNYXRyaXgoZSkscy51c2VCaWxsYm9hcmRQYXRoKXt0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsP3IuZ2V0V29ybGRNYXRyaXgoKS5tdWx0aXBseVRvUmVmKHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWwuZ2V0V29ybGRNYXRyaXgoKSxGLk1hdHJpeFs3XSk6Ri5NYXRyaXhbN10uY29weUZyb20oci5nZXRXb3JsZE1hdHJpeCgpKTtjb25zdCBoPUYuVmVjdG9yM1s1XSxsPUYuVmVjdG9yM1s2XSx1PUYuUXVhdGVybmlvblswXTtGLk1hdHJpeFs3XS5kZWNvbXBvc2UobCx1LGgpLE0uU2NhbGluZ1RvUmVmKGwueCxsLnksbC56LEYuTWF0cml4WzddKSxGLk1hdHJpeFs3XS5zZXRUcmFuc2xhdGlvbihoKSxlZS5CaWxsYm9hcmRVc2VQYXJlbnRPcmllbnRhdGlvbiYmKHRoaXMuX3Bvc2l0aW9uLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYodSxoKSx0aGlzLl9sb2NhbE1hdHJpeC5zZXRUcmFuc2xhdGlvbihoKSksdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZihGLk1hdHJpeFs3XSx0aGlzLl93b3JsZE1hdHJpeCl9ZWxzZSB0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPyh0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHIuZ2V0V29ybGRNYXRyaXgoKSxGLk1hdHJpeFs2XSksRi5NYXRyaXhbNl0ubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpKTp0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHIuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCk7dGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX3dvcmxkTWF0cml4LmNvcHlGcm9tKHRoaXMuX2xvY2FsTWF0cml4KTtpZihzLnVzZUJpbGxib2FyZFBhdGgmJnQmJnRoaXMuYmlsbGJvYXJkTW9kZSYmIXMudXNlQmlsbGJvYXJkUG9zaXRpb24pe2NvbnN0IGg9Ri5WZWN0b3IzWzBdO2lmKHRoaXMuX3dvcmxkTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYoaCksRi5NYXRyaXhbMV0uY29weUZyb20odC5nZXRWaWV3TWF0cml4KCkpLEYuTWF0cml4WzFdLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksRi5NYXRyaXhbMV0uaW52ZXJ0VG9SZWYoRi5NYXRyaXhbMF0pLCh0aGlzLmJpbGxib2FyZE1vZGUmZWUuQklMTEJPQVJETU9ERV9BTEwpIT09ZWUuQklMTEJPQVJETU9ERV9BTEwpe0YuTWF0cml4WzBdLmRlY29tcG9zZSh2b2lkIDAsRi5RdWF0ZXJuaW9uWzBdLHZvaWQgMCk7Y29uc3QgbD1GLlZlY3RvcjNbMV07Ri5RdWF0ZXJuaW9uWzBdLnRvRXVsZXJBbmdsZXNUb1JlZihsKSwodGhpcy5iaWxsYm9hcmRNb2RlJmVlLkJJTExCT0FSRE1PREVfWCkhPT1lZS5CSUxMQk9BUkRNT0RFX1gmJihsLng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX1kpIT09ZWUuQklMTEJPQVJETU9ERV9ZJiYobC55PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmZWUuQklMTEJPQVJETU9ERV9aKSE9PWVlLkJJTExCT0FSRE1PREVfWiYmKGwuej0wKSxNLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYobC55LGwueCxsLnosRi5NYXRyaXhbMF0pfXRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksdGhpcy5fd29ybGRNYXRyaXgubXVsdGlwbHlUb1JlZihGLk1hdHJpeFswXSx0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb24oRi5WZWN0b3IzWzBdKX1lbHNlIGlmKHMudXNlQmlsbGJvYXJkUGF0aCYmdCYmcy51c2VCaWxsYm9hcmRQb3NpdGlvbil7Y29uc3QgaD1GLlZlY3RvcjNbMF07dGhpcy5fd29ybGRNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZihoKTtjb25zdCBsPXQuZ2xvYmFsUG9zaXRpb247dGhpcy5fd29ybGRNYXRyaXguaW52ZXJ0VG9SZWYoRi5NYXRyaXhbMV0pO2NvbnN0IHU9Ri5WZWN0b3IzWzFdO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihsLEYuTWF0cml4WzFdLHUpLHUubm9ybWFsaXplKCk7Y29uc3QgZD0tTWF0aC5hdGFuMih1LnosdS54KStNYXRoLlBJLzIsXz1NYXRoLnNxcnQodS54KnUueCt1LnoqdS56KSxmPS1NYXRoLmF0YW4yKHUueSxfKTtpZihaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZCxmLDAsRi5RdWF0ZXJuaW9uWzBdKSwodGhpcy5iaWxsYm9hcmRNb2RlJmVlLkJJTExCT0FSRE1PREVfQUxMKSE9PWVlLkJJTExCT0FSRE1PREVfQUxMKXtjb25zdCBtPUYuVmVjdG9yM1sxXTtGLlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKG0pLCh0aGlzLmJpbGxib2FyZE1vZGUmZWUuQklMTEJPQVJETU9ERV9YKSE9PWVlLkJJTExCT0FSRE1PREVfWCYmKG0ueD0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJmVlLkJJTExCT0FSRE1PREVfWSkhPT1lZS5CSUxMQk9BUkRNT0RFX1kmJihtLnk9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX1opIT09ZWUuQklMTEJPQVJETU9ERV9aJiYobS56PTApLE0uUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihtLnksbS54LG0ueixGLk1hdHJpeFswXSl9ZWxzZSBNLkZyb21RdWF0ZXJuaW9uVG9SZWYoRi5RdWF0ZXJuaW9uWzBdLEYuTWF0cml4WzBdKTt0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYoRi5NYXRyaXhbMF0sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uKEYuVmVjdG9yM1swXSl9cmV0dXJuIHRoaXMuaWdub3JlTm9uVW5pZm9ybVNjYWxpbmc/dGhpcy5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZSghMSk6dGhpcy5fc2NhbGluZy5pc05vblVuaWZvcm1XaXRoaW5FcHNpbG9uKDFlLTYpP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITApOnImJnIuX25vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoci5fbm9uVW5pZm9ybVNjYWxpbmcpOnRoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpLHRoaXMuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbUZsb2F0cyh0aGlzLl93b3JsZE1hdHJpeC5tWzEyXSx0aGlzLl93b3JsZE1hdHJpeC5tWzEzXSx0aGlzLl93b3JsZE1hdHJpeC5tWzE0XSksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PU0uSW52ZXJ0KHRoaXMuX3dvcmxkTWF0cml4KSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXh9cmVzZXRMb2NhbE1hdHJpeChlPSEwKXtpZih0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLGUpe2NvbnN0IHQ9dGhpcy5nZXRDaGlsZHJlbigpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7KytpKXtjb25zdCBzPXRbaV07aWYocyl7cy5jb21wdXRlV29ybGRNYXRyaXgoKTtjb25zdCByPUYuTWF0cml4WzBdO3MuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fbG9jYWxNYXRyaXgscik7Y29uc3Qgbj1GLlF1YXRlcm5pb25bMF07ci5kZWNvbXBvc2Uocy5zY2FsaW5nLG4scy5wb3NpdGlvbikscy5yb3RhdGlvblF1YXRlcm5pb24/cy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obik6bi50b0V1bGVyQW5nbGVzVG9SZWYocy5yb3RhdGlvbil9fX10aGlzLnNjYWxpbmcuY29weUZyb21GbG9hdHMoMSwxLDEpLHRoaXMucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249Wi5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeD1NLklkZW50aXR5KCl9X2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCl7fXJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZShlKXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmFkZChlKSx0aGlzfXVucmVnaXN0ZXJBZnRlcldvcmxkTWF0cml4VXBkYXRlKGUpe3JldHVybiB0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSksdGhpc31nZXRQb3NpdGlvbkluQ2FtZXJhU3BhY2UoZT1udWxsKXtyZXR1cm4gZXx8KGU9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSkscC5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKSxlLmdldFZpZXdNYXRyaXgoKSl9Z2V0RGlzdGFuY2VUb0NhbWVyYShlPW51bGwpe3JldHVybiBlfHwoZT10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhKSx0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5zdWJ0cmFjdChlLmdsb2JhbFBvc2l0aW9uKS5sZW5ndGgoKX1jbG9uZShlLHQsaSl7Y29uc3Qgcz1uZS5DbG9uZSgoKT0+bmV3IGVlKGUsdGhpcy5nZXRTY2VuZSgpKSx0aGlzKTtpZihzLm5hbWU9ZSxzLmlkPWUsdCYmKHMucGFyZW50PXQpLCFpKXtjb25zdCByPXRoaXMuZ2V0RGVzY2VuZGFudHMoITApO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXtjb25zdCBhPXJbbl07YS5jbG9uZSYmYS5jbG9uZShlKyIuIithLm5hbWUscyl9fXJldHVybiBzfXNlcmlhbGl6ZShlKXtjb25zdCB0PW5lLlNlcmlhbGl6ZSh0aGlzLGUpO3JldHVybiB0LnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSx0LnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudCh0KSx0LmxvY2FsTWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCksdC5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSx0fXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1uZS5QYXJzZSgoKT0+bmV3IGVlKGUubmFtZSx0KSxlLHQsaSk7cmV0dXJuIGUubG9jYWxNYXRyaXg/cy5zZXRQcmVUcmFuc2Zvcm1NYXRyaXgoTS5Gcm9tQXJyYXkoZS5sb2NhbE1hdHJpeCkpOmUucGl2b3RNYXRyaXgmJnMuc2V0UGl2b3RNYXRyaXgoTS5Gcm9tQXJyYXkoZS5waXZvdE1hdHJpeCkpLHMuc2V0RW5hYmxlZChlLmlzRW5hYmxlZCkscy5fd2FpdGluZ1BhcnNlZFVuaXF1ZUlkPWUudW5pcXVlSWQsZS5wYXJlbnRJZCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJZD1lLnBhcmVudElkKSxlLnBhcmVudEluc3RhbmNlSW5kZXghPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1lLnBhcmVudEluc3RhbmNlSW5kZXgpLHN9Z2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyhlLHQpe2NvbnN0IGk9W107cmV0dXJuIHRoaXMuX2dldERlc2NlbmRhbnRzKGksZSxzPT4oIXR8fHQocykpJiZzIGluc3RhbmNlb2YgZWUpLGl9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVUcmFuc2Zvcm1Ob2RlKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuc3BsaWNlKGksMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksZSl7Y29uc3QgaT10aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApO2Zvcihjb25zdCBzIG9mIGkpcy5wYXJlbnQ9bnVsbCxzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9c3VwZXIuZGlzcG9zZShlLHQpfW5vcm1hbGl6ZVRvVW5pdEN1YmUoZT0hMCx0PSExLGkpe2xldCBzPW51bGwscj1udWxsO3QmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj8ocj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwLDEpKTp0aGlzLnJvdGF0aW9uJiYocz10aGlzLnJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkpKTtjb25zdCBuPXRoaXMuZ2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzKGUsaSksYT1uLm1heC5zdWJ0cmFjdChuLm1pbiksbz1NYXRoLm1heChhLngsYS55LGEueik7aWYobz09PTApcmV0dXJuIHRoaXM7Y29uc3QgaD0xL287cmV0dXJuIHRoaXMuc2NhbGluZy5zY2FsZUluUGxhY2UoaCksdCYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZyP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHIpOnRoaXMucm90YXRpb24mJnMmJnRoaXMucm90YXRpb24uY29weUZyb20ocykpLHRoaXN9X3N5bmNBYnNvbHV0ZVNjYWxpbmdBbmRSb3RhdGlvbigpe3RoaXMuX2lzQWJzb2x1dGVTeW5jZWR8fCh0aGlzLl93b3JsZE1hdHJpeC5kZWNvbXBvc2UodGhpcy5fYWJzb2x1dGVTY2FsaW5nLHRoaXMuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKSx0aGlzLl9pc0Fic29sdXRlU3luY2VkPSEwKX19ZWUuQklMTEJPQVJETU9ERV9OT05FPTAsZWUuQklMTEJPQVJETU9ERV9YPTEsZWUuQklMTEJPQVJETU9ERV9ZPTIsZWUuQklMTEJPQVJETU9ERV9aPTQsZWUuQklMTEJPQVJETU9ERV9BTEw9NyxlZS5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTj0xMjgsZWUuQmlsbGJvYXJkVXNlUGFyZW50T3JpZW50YXRpb249ITEsZWUuX1RtcFJvdGF0aW9uPVouWmVybygpLGVlLl9UbXBTY2FsaW5nPXAuWmVybygpLGVlLl9UbXBUcmFuc2xhdGlvbj1wLlplcm8oKSxlZS5fTG9va0F0VmVjdG9yQ2FjaGU9bmV3IHAoMCwwLDApLGVlLl9Sb3RhdGlvbkF4aXNDYWNoZT1uZXcgWixUKFtVdCgicG9zaXRpb24iKV0sZWUucHJvdG90eXBlLCJfcG9zaXRpb24iLHZvaWQgMCksVChbVXQoInJvdGF0aW9uIildLGVlLnByb3RvdHlwZSwiX3JvdGF0aW9uIix2b2lkIDApLFQoW1BuKCJyb3RhdGlvblF1YXRlcm5pb24iKV0sZWUucHJvdG90eXBlLCJfcm90YXRpb25RdWF0ZXJuaW9uIix2b2lkIDApLFQoW1V0KCJzY2FsaW5nIildLGVlLnByb3RvdHlwZSwiX3NjYWxpbmciLHZvaWQgMCksVChbeSgiYmlsbGJvYXJkTW9kZSIpXSxlZS5wcm90b3R5cGUsIl9iaWxsYm9hcmRNb2RlIix2b2lkIDApLFQoW3koKV0sZWUucHJvdG90eXBlLCJzY2FsaW5nRGV0ZXJtaW5hbnQiLHZvaWQgMCksVChbeSgiaW5maW5pdGVEaXN0YW5jZSIpXSxlZS5wcm90b3R5cGUsIl9pbmZpbml0ZURpc3RhbmNlIix2b2lkIDApLFQoW3koKV0sZWUucHJvdG90eXBlLCJpZ25vcmVOb25Vbmlmb3JtU2NhbGluZyIsdm9pZCAwKSxUKFt5KCldLGVlLnByb3RvdHlwZSwicmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb24iLHZvaWQgMCk7Y2xhc3Mgem57Y29uc3RydWN0b3IoKXt0aGlzLl9jaGVja0NvbGxpc2lvbnM9ITEsdGhpcy5fY29sbGlzaW9uTWFzaz0tMSx0aGlzLl9jb2xsaXNpb25Hcm91cD0tMSx0aGlzLl9zdXJyb3VuZGluZ01lc2hlcz1udWxsLHRoaXMuX2NvbGxpZGVyPW51bGwsdGhpcy5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zPW5ldyBwKDAsMCwwKSx0aGlzLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zPW5ldyBwKDAsMCwwKSx0aGlzLl9jb2xsaXNpb25SZXNwb25zZT0hMH19Y2xhc3MgR257Y29uc3RydWN0b3IoKXt0aGlzLmZhY2V0TmI9MCx0aGlzLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz0xMCx0aGlzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz0xLjAxLHRoaXMuZmFjZXREYXRhRW5hYmxlZD0hMSx0aGlzLmZhY2V0UGFyYW1ldGVycz17fSx0aGlzLmJiU2l6ZT1wLlplcm8oKSx0aGlzLnN1YkRpdj17bWF4OjEsWDoxLFk6MSxaOjF9LHRoaXMuZmFjZXREZXB0aFNvcnQ9ITEsdGhpcy5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITF9fWNsYXNzIFhue2NvbnN0cnVjdG9yKCl7dGhpcy5faGFzVmVydGV4QWxwaGE9ITEsdGhpcy5fdXNlVmVydGV4Q29sb3JzPSEwLHRoaXMuX251bUJvbmVJbmZsdWVuY2Vycz00LHRoaXMuX2FwcGx5Rm9nPSEwLHRoaXMuX3JlY2VpdmVTaGFkb3dzPSExLHRoaXMuX2ZhY2V0RGF0YT1uZXcgR24sdGhpcy5fdmlzaWJpbGl0eT0xLHRoaXMuX3NrZWxldG9uPW51bGwsdGhpcy5fbGF5ZXJNYXNrPTI2ODQzNTQ1NSx0aGlzLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITAsdGhpcy5faXNBY3RpdmU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlcz0hMSx0aGlzLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSx0aGlzLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSExLHRoaXMuX2FjdEFzUmVndWxhck1lc2g9ITEsdGhpcy5fY3VycmVudExPRD1udWxsLHRoaXMuX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSExLHRoaXMuX2NvbGxpc2lvblJldHJ5Q291bnQ9Myx0aGlzLl9tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9yZW5kZXJpbmdHcm91cElkPTAsdGhpcy5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPW51bGwsdGhpcy5fbWF0ZXJpYWw9bnVsbCx0aGlzLl9wb3NpdGlvbnM9bnVsbCx0aGlzLl9wb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZz0hMSx0aGlzLl9tZXNoQ29sbGlzaW9uRGF0YT1uZXcgem4sdGhpcy5fZW5hYmxlRGlzdGFudFBpY2tpbmc9ITEsdGhpcy5fcmF3Qm91bmRpbmdJbmZvPW51bGx9fWNsYXNzIGh0IGV4dGVuZHMgZWV7c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX05PTkUoKXtyZXR1cm4gZWUuQklMTEJPQVJETU9ERV9OT05FfXN0YXRpYyBnZXQgQklMTEJPQVJETU9ERV9YKCl7cmV0dXJuIGVlLkJJTExCT0FSRE1PREVfWH1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWSgpe3JldHVybiBlZS5CSUxMQk9BUkRNT0RFX1l9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1ooKXtyZXR1cm4gZWUuQklMTEJPQVJETU9ERV9afXN0YXRpYyBnZXQgQklMTEJPQVJETU9ERV9BTEwoKXtyZXR1cm4gZWUuQklMTEJPQVJETU9ERV9BTEx9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTigpe3JldHVybiBlZS5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTn1nZXQgZmFjZXROYigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXROYn1nZXQgcGFydGl0aW9uaW5nU3ViZGl2aXNpb25zKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnN9c2V0IHBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zPWV9Z2V0IHBhcnRpdGlvbmluZ0JCb3hSYXRpbygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nQkJveFJhdGlvfXNldCBwYXJ0aXRpb25pbmdCQm94UmF0aW8oZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz1lfWdldCBtdXN0RGVwdGhTb3J0RmFjZXRzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydH1zZXQgbXVzdERlcHRoU29ydEZhY2V0cyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREZXB0aFNvcnQ9ZX1nZXQgZmFjZXREZXB0aFNvcnRGcm9tKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydEZyb219c2V0IGZhY2V0RGVwdGhTb3J0RnJvbShlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREZXB0aFNvcnRGcm9tPWV9Z2V0IGNvbGxpc2lvblJldHJ5Q291bnQoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29sbGlzaW9uUmV0cnlDb3VudH1zZXQgY29sbGlzaW9uUmV0cnlDb3VudChlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb2xsaXNpb25SZXRyeUNvdW50PWV9Z2V0IGlzRmFjZXREYXRhRW5hYmxlZCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZH1nZXQgbW9ycGhUYXJnZXRNYW5hZ2VyKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcn1zZXQgbW9ycGhUYXJnZXRNYW5hZ2VyKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlciE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXI9ZSx0aGlzLl9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCkpfWdldCBiYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyfXNldCBiYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcj1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpe31fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZShlKXtyZXR1cm4gc3VwZXIuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoZSk/KHRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpLCEwKTohMX1nZXQgcmF3Qm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Jhd0JvdW5kaW5nSW5mb31zZXQgcmF3Qm91bmRpbmdJbmZvKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Jhd0JvdW5kaW5nSW5mbz1lfXNldCBvbkNvbGxpZGUoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlkZU9ic2VydmVyJiZ0aGlzLm9uQ29sbGlkZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlkZU9ic2VydmVyPXRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciYmdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlcj10aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgdmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5fXNldCB2aXNpYmlsaXR5KGUpe2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eT1lLCh0PT09MSYmZSE9PTF8fHQhPT0xJiZlPT09MSkmJnRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfWdldCBwb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZ31zZXQgcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3RpbmcoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3Rpbmc9ZX1nZXQgcmVuZGVyaW5nR3JvdXBJZCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZW5kZXJpbmdHcm91cElkfXNldCByZW5kZXJpbmdHcm91cElkKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlbmRlcmluZ0dyb3VwSWQ9ZX1nZXQgbWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWx9c2V0IG1hdGVyaWFsKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsPWUsZSYmZS5tZXNoTWFwJiYoZS5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXRoaXMpLHRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5zdWJNZXNoZXMmJih0aGlzLnJlc2V0RHJhd0NhY2hlKCksdGhpcy5fdW5CaW5kRWZmZWN0KCkpKX1nZXRNYXRlcmlhbEZvclJlbmRlclBhc3MoZSl7dmFyIHQ7cmV0dXJuKHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnRbZV19c2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKGUsdCl7dGhpcy5yZXNldERyYXdDYWNoZShlKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3N8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3M9W10pLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzc1tlXT10fWdldCByZWNlaXZlU2hhZG93cygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZWNlaXZlU2hhZG93c31zZXQgcmVjZWl2ZVNoYWRvd3MoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3MhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3M9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCBoYXNWZXJ0ZXhBbHBoYSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYX1zZXQgaGFzVmVydGV4QWxwaGEoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGEhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGE9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9Z2V0IHVzZVZlcnRleENvbG9ycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnN9c2V0IHVzZVZlcnRleENvbG9ycyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnMhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfXNldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgbnVtQm9uZUluZmx1ZW5jZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2Vyc31zZXQgbnVtQm9uZUluZmx1ZW5jZXJzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2VycyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnM9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IGFwcGx5Rm9nKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nfXNldCBhcHBseUZvZyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpKX1nZXQgZW5hYmxlRGlzdGFudFBpY2tpbmcoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZW5hYmxlRGlzdGFudFBpY2tpbmd9c2V0IGVuYWJsZURpc3RhbnRQaWNraW5nKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2VuYWJsZURpc3RhbnRQaWNraW5nPWV9Z2V0IGxheWVyTWFzaygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9sYXllck1hc2t9c2V0IGxheWVyTWFzayhlKXtlIT09dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrPWUsdGhpcy5fcmVzeW5jTGlnaHRTb3VyY2VzKCkpfWdldCBjb2xsaXNpb25NYXNrKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25NYXNrfXNldCBjb2xsaXNpb25NYXNrKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25NYXNrPWlzTmFOKGUpPy0xOmV9Z2V0IGNvbGxpc2lvblJlc3BvbnNlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25SZXNwb25zZX1zZXQgY29sbGlzaW9uUmVzcG9uc2UoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlPWV9Z2V0IGNvbGxpc2lvbkdyb3VwKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25Hcm91cH1zZXQgY29sbGlzaW9uR3JvdXAoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbkdyb3VwPWlzTmFOKGUpPy0xOmV9Z2V0IHN1cnJvdW5kaW5nTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlc31zZXQgc3Vycm91bmRpbmdNZXNoZXMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX3N1cnJvdW5kaW5nTWVzaGVzPWV9Z2V0IGxpZ2h0U291cmNlcygpe3JldHVybiB0aGlzLl9saWdodFNvdXJjZXN9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gbnVsbH1zZXQgc2tlbGV0b24oZSl7Y29uc3QgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbjt0JiZ0Lm5lZWRJbml0aWFsU2tpbk1hdHJpeCYmdC5fdW5yZWdpc3Rlck1lc2hXaXRoUG9zZU1hdHJpeCh0aGlzKSxlJiZlLm5lZWRJbml0aWFsU2tpbk1hdHJpeCYmZS5fcmVnaXN0ZXJNZXNoV2l0aFBvc2VNYXRyaXgodGhpcyksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b249ZSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbnx8KHRoaXMuX2JvbmVzVHJhbnNmb3JtTWF0cmljZXM9bnVsbCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9Z2V0IHNrZWxldG9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9ufWNvbnN0cnVjdG9yKGUsdD1udWxsKXtzd2l0Y2goc3VwZXIoZSx0LCExKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvPW5ldyBYbix0aGlzLl93YWl0aW5nTWF0ZXJpYWxJZD1udWxsLHRoaXMuY3VsbGluZ1N0cmF0ZWd5PWh0LkNVTExJTkdTVFJBVEVHWV9CT1VORElOR1NQSEVSRV9PTkxZLHRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuZGVmaW5lZEZhY2luZ0ZvcndhcmQ9ITAsdGhpcy5fb2NjbHVzaW9uUXVlcnk9bnVsbCx0aGlzLl9yZW5kZXJpbmdHcm91cD1udWxsLHRoaXMuYWxwaGFJbmRleD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuaXNWaXNpYmxlPSEwLHRoaXMuaXNQaWNrYWJsZT0hMCx0aGlzLmlzTmVhclBpY2thYmxlPSExLHRoaXMuaXNOZWFyR3JhYmJhYmxlPSExLHRoaXMuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PSExLHRoaXMuaXNCbG9ja2VyPSExLHRoaXMuZW5hYmxlUG9pbnRlck1vdmVFdmVudHM9ITEsdGhpcy5vdXRsaW5lQ29sb3I9cmUuUmVkKCksdGhpcy5vdXRsaW5lV2lkdGg9LjAyLHRoaXMub3ZlcmxheUNvbG9yPXJlLlJlZCgpLHRoaXMub3ZlcmxheUFscGhhPS41LHRoaXMudXNlT2N0cmVlRm9yUmVuZGVyaW5nU2VsZWN0aW9uPSEwLHRoaXMudXNlT2N0cmVlRm9yUGlja2luZz0hMCx0aGlzLnVzZU9jdHJlZUZvckNvbGxpc2lvbnM9ITAsdGhpcy5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2g9ITEsdGhpcy5kb05vdFN5bmNCb3VuZGluZ0luZm89ITEsdGhpcy5hY3Rpb25NYW5hZ2VyPW51bGwsdGhpcy5lbGxpcHNvaWQ9bmV3IHAoLjUsMSwuNSksdGhpcy5lbGxpcHNvaWRPZmZzZXQ9bmV3IHAoMCwwLDApLHRoaXMuZWRnZXNXaWR0aD0xLHRoaXMuZWRnZXNDb2xvcj1uZXcgTmUoMSwwLDAsMSksdGhpcy5fZWRnZXNSZW5kZXJlcj1udWxsLHRoaXMuX21hc3Rlck1lc2g9bnVsbCx0aGlzLl9ib3VuZGluZ0luZm89bnVsbCx0aGlzLl9ib3VuZGluZ0luZm9Jc0RpcnR5PSEwLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3M9bmV3IEFycmF5LHRoaXMuX3VuSW5kZXhlZD0hMSx0aGlzLl9saWdodFNvdXJjZXM9bmV3IEFycmF5LHRoaXMuX3dhaXRpbmdEYXRhPXtsb2RzOm51bGwsYWN0aW9uczpudWxsLGZyZWV6ZVdvcmxkTWF0cml4Om51bGx9LHRoaXMuX2JvbmVzVHJhbnNmb3JtTWF0cmljZXM9bnVsbCx0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlPW51bGwsdGhpcy5vblJlYnVpbGRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2U9KGkscyxyPW51bGwpPT57cy5zdWJ0cmFjdFRvUmVmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zLmxlbmd0aCgpPlAuQ29sbGlzaW9uc0Vwc2lsb24mJnRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucyksciYmdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSx0aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnBvc2l0aW9uKX0sdD10aGlzLmdldFNjZW5lKCksdC5hZGRNZXNoKHRoaXMpLHRoaXMuX3Jlc3luY0xpZ2h0U291cmNlcygpLHRoaXMuX3VuaWZvcm1CdWZmZXI9bmV3IFYodGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsZSwhdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzV2ViR1BVKSx0aGlzLl9idWlsZFVuaWZvcm1MYXlvdXQoKSx0LnBlcmZvcm1hbmNlUHJpb3JpdHkpe2Nhc2UgUHQuQWdncmVzc2l2ZTp0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMDtjYXNlIFB0LkludGVybWVkaWF0ZTp0aGlzLmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaD0hMCx0aGlzLmlzUGlja2FibGU9ITE7YnJlYWt9fV9idWlsZFVuaWZvcm1MYXlvdXQoKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oIndvcmxkIiwxNiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2aXNpYmlsaXR5IiwxKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfXRyYW5zZmVyVG9FZmZlY3QoZSl7Y29uc3QgdD10aGlzLl91bmlmb3JtQnVmZmVyO3QudXBkYXRlTWF0cml4KCJ3b3JsZCIsZSksdC51cGRhdGVGbG9hdCgidmlzaWJpbGl0eSIsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eSksdC51cGRhdGUoKX1nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyfWdldENsYXNzTmFtZSgpe3JldHVybiJBYnN0cmFjdE1lc2gifXRvU3RyaW5nKGUpe2xldCB0PSJOYW1lOiAiK3RoaXMubmFtZSsiLCBpc0luc3RhbmNlOiAiKyh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2giPyJZRVMiOiJOTyIpO3QrPSIsICMgb2Ygc3VibWVzaGVzOiAiKyh0aGlzLnN1Yk1lc2hlcz90aGlzLnN1Yk1lc2hlcy5sZW5ndGg6MCk7Y29uc3QgaT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbjtyZXR1cm4gaSYmKHQrPSIsIHNrZWxldG9uOiAiK2kubmFtZSksZSYmKHQrPSIsIGJpbGxib2FyZCBtb2RlOiAiK1siTk9ORSIsIlgiLCJZIixudWxsLCJaIixudWxsLG51bGwsIkFMTCJdW3RoaXMuYmlsbGJvYXJkTW9kZV0sdCs9IiwgZnJlZXplIHdybGQgbWF0OiAiKyh0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufHx0aGlzLl93YWl0aW5nRGF0YS5mcmVlemVXb3JsZE1hdHJpeD8iWUVTIjoiTk8iKSksdH1fZ2V0RWZmZWN0aXZlUGFyZW50KCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2gmJnRoaXMuYmlsbGJvYXJkTW9kZSE9PWVlLkJJTExCT0FSRE1PREVfTk9ORT90aGlzLl9tYXN0ZXJNZXNoOnN1cGVyLl9nZXRFZmZlY3RpdmVQYXJlbnQoKX1fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoZSx0PSEwKXtpZih0aGlzLmFjdGlvbk1hbmFnZXImJih0fHx0aGlzLmFjdGlvbk1hbmFnZXIuaXNSZWN1cnNpdmUpKWlmKGUpe2lmKHRoaXMuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoZSkpcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlcn1lbHNlIHJldHVybiB0aGlzLmFjdGlvbk1hbmFnZXI7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLCExKTpudWxsfV9yZWJ1aWxkKGU9ITEpe2lmKHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fb2NjbHVzaW9uUXVlcnkhPT1udWxsJiYodGhpcy5fb2NjbHVzaW9uUXVlcnk9bnVsbCksISF0aGlzLnN1Yk1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLnN1Yk1lc2hlcyl0Ll9yZWJ1aWxkKCl9X3Jlc3luY0xpZ2h0U291cmNlcygpe3RoaXMuX2xpZ2h0U291cmNlcy5sZW5ndGg9MDtmb3IoY29uc3QgZSBvZiB0aGlzLmdldFNjZW5lKCkubGlnaHRzKWUuaXNFbmFibGVkKCkmJmUuY2FuQWZmZWN0TWVzaCh0aGlzKSYmdGhpcy5fbGlnaHRTb3VyY2VzLnB1c2goZSk7dGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfV9yZXN5bmNMaWdodFNvdXJjZShlKXtjb25zdCB0PWUuaXNFbmFibGVkKCkmJmUuY2FuQWZmZWN0TWVzaCh0aGlzKSxpPXRoaXMuX2xpZ2h0U291cmNlcy5pbmRleE9mKGUpO2xldCBzPSExO2lmKGk9PT0tMSl7aWYoIXQpcmV0dXJuO3RoaXMuX2xpZ2h0U291cmNlcy5wdXNoKGUpfWVsc2V7aWYodClyZXR1cm47cz0hMCx0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKGksMSl9dGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eShzKX1fdW5CaW5kRWZmZWN0KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zdWJNZXNoZXMpZS5zZXRFZmZlY3QobnVsbCl9X3JlbW92ZUxpZ2h0U291cmNlKGUsdCl7Y29uc3QgaT10aGlzLl9saWdodFNvdXJjZXMuaW5kZXhPZihlKTtpIT09LTEmJih0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKGksMSksdGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSh0KSl9X21hcmtTdWJNZXNoZXNBc0RpcnR5KGUpe2lmKHRoaXMuc3ViTWVzaGVzKWZvcihjb25zdCB0IG9mIHRoaXMuc3ViTWVzaGVzKWZvcihsZXQgaT0wO2k8dC5fZHJhd1dyYXBwZXJzLmxlbmd0aDsrK2kpe2NvbnN0IHM9dC5fZHJhd1dyYXBwZXJzW2ldOyFzfHwhcy5kZWZpbmVzfHwhcy5kZWZpbmVzLm1hcmtBbGxBc0RpcnR5fHxlKHMuZGVmaW5lcyl9fV9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KGU9ITEpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KHQ9PnQubWFya0FzTGlnaHREaXJ0eShlKSl9X21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGU9PmUubWFya0FzQXR0cmlidXRlc0RpcnR5KCkpfV9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShlPT5lLm1hcmtBc01pc2NEaXJ0eSgpKX1tYXJrQXNEaXJ0eShlKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfXJlc2V0RHJhd0NhY2hlKGUpe2lmKHRoaXMuc3ViTWVzaGVzKWZvcihjb25zdCB0IG9mIHRoaXMuc3ViTWVzaGVzKXQucmVzZXREcmF3Q2FjaGUoZSl9Z2V0IGlzQmxvY2tlZCgpe3JldHVybiExfWdldExPRChlKXtyZXR1cm4gdGhpc31nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIDB9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIDB9Z2V0SW5kaWNlcygpe3JldHVybiBudWxsfWdldFZlcnRpY2VzRGF0YShlKXtyZXR1cm4gbnVsbH1zZXRWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXN9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzfXNldEluZGljZXMoZSx0KXtyZXR1cm4gdGhpc31pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSl7cmV0dXJuITF9Z2V0Qm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2g/dGhpcy5fbWFzdGVyTWVzaC5nZXRCb3VuZGluZ0luZm8oKToodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eSYmKHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHk9ITEsdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCkpLHRoaXMuX2JvdW5kaW5nSW5mbyl9Z2V0UmF3Qm91bmRpbmdJbmZvKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5yYXdCb3VuZGluZ0luZm8pIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMuZ2V0Qm91bmRpbmdJbmZvKCl9c2V0Qm91bmRpbmdJbmZvKGUpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm89ZSx0aGlzfWdldCBoYXNCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvIT09bnVsbH1idWlsZEJvdW5kaW5nSW5mbyhlLHQsaSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgZnQoZSx0LGkpLHRoaXMuX2JvdW5kaW5nSW5mb31ub3JtYWxpemVUb1VuaXRDdWJlKGU9ITAsdD0hMSxpKXtyZXR1cm4gc3VwZXIubm9ybWFsaXplVG9Vbml0Q3ViZShlLHQsaSl9Z2V0IHVzZUJvbmVzKCl7cmV0dXJuIHRoaXMuc2tlbGV0b24mJnRoaXMuZ2V0U2NlbmUoKS5za2VsZXRvbnNFbmFibGVkJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpfV9wcmVBY3RpdmF0ZSgpe31fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcoZSl7fV9hY3RpdmF0ZShlLHQpe3JldHVybiB0aGlzLl9yZW5kZXJJZD1lLCEwfV9wb3N0QWN0aXZhdGUoKXt9X2ZyZWV6ZSgpe31fdW5GcmVlemUoKXt9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCYmdGhpcy5iaWxsYm9hcmRNb2RlPT09ZWUuQklMTEJPQVJETU9ERV9OT05FP3RoaXMuX21hc3Rlck1lc2guZ2V0V29ybGRNYXRyaXgoKTpzdXBlci5nZXRXb3JsZE1hdHJpeCgpfV9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2g/dGhpcy5fbWFzdGVyTWVzaC5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpOnN1cGVyLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCl9Z2V0IGlzQW5JbnN0YW5jZSgpe3JldHVybiExfWdldCBoYXNJbnN0YW5jZXMoKXtyZXR1cm4hMX1nZXQgaGFzVGhpbkluc3RhbmNlcygpe3JldHVybiExfW1vdmVQT1YoZSx0LGkpe3JldHVybiB0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5jYWxjTW92ZVBPVihlLHQsaSkpLHRoaXN9Y2FsY01vdmVQT1YoZSx0LGkpe2NvbnN0IHM9bmV3IE07KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uOlouUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnopKS50b1JvdGF0aW9uTWF0cml4KHMpO2NvbnN0IG49cC5aZXJvKCksYT10aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPy0xOjE7cmV0dXJuIHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZSphLHQsaSphLHMsbiksbn1yb3RhdGVQT1YoZSx0LGkpe3JldHVybiB0aGlzLnJvdGF0aW9uLmFkZEluUGxhY2UodGhpcy5jYWxjUm90YXRlUE9WKGUsdCxpKSksdGhpc31jYWxjUm90YXRlUE9WKGUsdCxpKXtjb25zdCBzPXRoaXMuZGVmaW5lZEZhY2luZ0ZvcndhcmQ/MTotMTtyZXR1cm4gbmV3IHAoZSpzLHQsaSpzKX1yZWZyZXNoQm91bmRpbmdJbmZvKGU9ITEsdD0hMSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbyYmdGhpcy5fYm91bmRpbmdJbmZvLmlzTG9ja2VkP3RoaXM6KHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fZ2V0UG9zaXRpb25EYXRhKGUsdCksbnVsbCksdGhpcyl9X3JlZnJlc2hCb3VuZGluZ0luZm8oZSx0KXtpZihlKXtjb25zdCBpPURyKGUsMCx0aGlzLmdldFRvdGFsVmVydGljZXMoKSx0KTt0aGlzLl9ib3VuZGluZ0luZm8/dGhpcy5fYm91bmRpbmdJbmZvLnJlQ29uc3RydWN0KGkubWluaW11bSxpLm1heGltdW0pOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgZnQoaS5taW5pbXVtLGkubWF4aW11bSl9aWYodGhpcy5zdWJNZXNoZXMpZm9yKGxldCBpPTA7aTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7aSsrKXRoaXMuc3ViTWVzaGVzW2ldLnJlZnJlc2hCb3VuZGluZ0luZm8oZSk7dGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCl9X2dldERhdGEoZT0hMSx0PSExLGkscz1nLlBvc2l0aW9uS2luZCl7aWYoaT1pPz90aGlzLmdldFZlcnRpY2VzRGF0YShzKS5zbGljZSgpLGkmJnQmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyKXtsZXQgcj0wLG49MDtmb3IobGV0IGE9MDthPGkubGVuZ3RoO2ErKyl7Zm9yKGxldCBvPTA7bzx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5udW1UYXJnZXRzO28rKyl7Y29uc3QgaD10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5nZXRUYXJnZXQobyksbD1oLmluZmx1ZW5jZTtpZihsPjApe2NvbnN0IHU9aC5nZXRQb3NpdGlvbnMoKTt1JiYoaVthXSs9KHVbYV0taVthXSkqbCl9fWlmKHIrKyxzPT09Zy5Qb3NpdGlvbktpbmQmJnRoaXMuX3Bvc2l0aW9ucyYmcj09PTMpe3I9MDtjb25zdCBvPW4qMzt0aGlzLl9wb3NpdGlvbnNbbisrXS5jb3B5RnJvbUZsb2F0cyhpW29dLGlbbysxXSxpW28rMl0pfX19aWYoaSYmZSYmdGhpcy5za2VsZXRvbil7Y29uc3Qgcj10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLG49dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZihuJiZyKXtjb25zdCBhPXRoaXMubnVtQm9uZUluZmx1ZW5jZXJzPjQsbz1hP3RoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTpudWxsLGg9YT90aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk6bnVsbCxsPXRoaXMuc2tlbGV0b24uZ2V0VHJhbnNmb3JtTWF0cmljZXModGhpcyksdT1GLlZlY3RvcjNbMF0sZD1GLk1hdHJpeFswXSxfPUYuTWF0cml4WzFdO2xldCBmPTA7Zm9yKGxldCBtPTA7bTxpLmxlbmd0aDttKz0zLGYrPTQpe2QucmVzZXQoKTtsZXQgdixFO2Zvcih2PTA7djw0O3YrKylFPW5bZit2XSxFPjAmJihNLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChsLE1hdGguZmxvb3IocltmK3ZdKjE2KSxFLF8pLGQuYWRkVG9TZWxmKF8pKTtpZihhKWZvcih2PTA7djw0O3YrKylFPWhbZit2XSxFPjAmJihNLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChsLE1hdGguZmxvb3Iob1tmK3ZdKjE2KSxFLF8pLGQuYWRkVG9TZWxmKF8pKTtzPT09Zy5Ob3JtYWxLaW5kP3AuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGlbbV0saVttKzFdLGlbbSsyXSxkLHUpOnAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoaVttXSxpW20rMV0saVttKzJdLGQsdSksdS50b0FycmF5KGksbSkscz09PWcuUG9zaXRpb25LaW5kJiZ0aGlzLl9wb3NpdGlvbnMmJnRoaXMuX3Bvc2l0aW9uc1ttLzNdLmNvcHlGcm9tKHUpfX19cmV0dXJuIGl9Z2V0Tm9ybWFsc0RhdGEoZT0hMSx0PSExKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YShlLHQsbnVsbCxnLk5vcm1hbEtpbmQpfWdldFBvc2l0aW9uRGF0YShlPSExLHQ9ITEsaSl7cmV0dXJuIHRoaXMuX2dldERhdGEoZSx0LGksZy5Qb3NpdGlvbktpbmQpfV9nZXRQb3NpdGlvbkRhdGEoZSx0KXt2YXIgaTtsZXQgcz10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW51bGwpLHMmJihlJiZ0aGlzLnNrZWxldG9ufHx0JiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcikpe2lmKHM9cy5zbGljZSgpLHRoaXMuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKSx0aGlzLl9wb3NpdGlvbnMpe2NvbnN0IHI9dGhpcy5fcG9zaXRpb25zO3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1uZXcgQXJyYXkoci5sZW5ndGgpO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9uc1tuXT0oKGk9cltuXSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLmNsb25lKCkpfHxuZXcgcH1yZXR1cm4gdGhpcy5nZXRQb3NpdGlvbkRhdGEoZSx0LHMpfXJldHVybiBzfV91cGRhdGVCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby51cGRhdGUodGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyBmdChwLlplcm8oKSxwLlplcm8oKSx0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpc31fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKGUpe2lmKCF0aGlzLnN1Yk1lc2hlcylyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuc3ViTWVzaGVzLmxlbmd0aDtmb3IobGV0IGk9MDtpPHQ7aSsrKXtjb25zdCBzPXRoaXMuc3ViTWVzaGVzW2ldOyh0PjF8fCFzLklzR2xvYmFsKSYmcy51cGRhdGVCb3VuZGluZ0luZm8oZSl9cmV0dXJuIHRoaXN9X2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCl7dGhpcy5kb05vdFN5bmNCb3VuZGluZ0luZm98fCh0aGlzLl9ib3VuZGluZ0luZm9Jc0RpcnR5PSEwKX1pc0luRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0luRnJ1c3R1bShlLHRoaXMuY3VsbGluZ1N0cmF0ZWd5KX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpfWludGVyc2VjdHNNZXNoKGUsdD0hMSxpKXtjb25zdCBzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkscj1lLmdldEJvdW5kaW5nSW5mbygpO2lmKHMuaW50ZXJzZWN0cyhyLHQpKXJldHVybiEwO2lmKGkpe2Zvcihjb25zdCBuIG9mIHRoaXMuZ2V0Q2hpbGRNZXNoZXMoKSlpZihuLmludGVyc2VjdHNNZXNoKGUsdCwhMCkpcmV0dXJuITB9cmV0dXJuITF9aW50ZXJzZWN0c1BvaW50KGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmludGVyc2VjdHNQb2ludChlKX1nZXQgY2hlY2tDb2xsaXNpb25zKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jaGVja0NvbGxpc2lvbnN9c2V0IGNoZWNrQ29sbGlzaW9ucyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY2hlY2tDb2xsaXNpb25zPWV9Z2V0IGNvbGxpZGVyKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlcn1tb3ZlV2l0aENvbGxpc2lvbnMoZSl7dGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkuYWRkVG9SZWYodGhpcy5lbGxpcHNvaWRPZmZzZXQsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucyk7Y29uc3QgaT10aGlzLmdldFNjZW5lKCkuY29sbGlzaW9uQ29vcmRpbmF0b3I7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlcnx8KHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlcj1pLmNyZWF0ZUNvbGxpZGVyKCkpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlci5fcmFkaXVzPXRoaXMuZWxsaXBzb2lkLGkuZ2V0TmV3UG9zaXRpb24odGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucyxlLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlcix0aGlzLmNvbGxpc2lvblJldHJ5Q291bnQsdGhpcyx0aGlzLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlLHRoaXMudW5pcXVlSWQpLHRoaXN9X2NvbGxpZGVGb3JTdWJNZXNoKGUsdCxpKXt2YXIgcztpZih0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCksIXRoaXMuX3Bvc2l0aW9ucylyZXR1cm4gdGhpcztpZighZS5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlc3x8IWUuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeC5lcXVhbHModCkpe2UuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeD10LmNsb25lKCksZS5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1bXSxlLl90cmlhbmdsZVBsYW5lcz1bXTtjb25zdCByPWUudmVydGljZXNTdGFydCxuPWUudmVydGljZXNTdGFydCtlLnZlcnRpY2VzQ291bnQ7Zm9yKGxldCBhPXI7YTxuO2ErKyllLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzLnB1c2gocC5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLl9wb3NpdGlvbnNbYV0sdCkpfXJldHVybiBpLl9jb2xsaWRlKGUuX3RyaWFuZ2xlUGxhbmVzLGUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXMsdGhpcy5nZXRJbmRpY2VzKCksZS5pbmRleFN0YXJ0LGUuaW5kZXhTdGFydCtlLmluZGV4Q291bnQsZS52ZXJ0aWNlc1N0YXJ0LCEhZS5nZXRNYXRlcmlhbCgpLHRoaXMsdGhpcy5fc2hvdWxkQ29udmVydFJIUygpLCgocz1lLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5maWxsTW9kZSk9PT03KSx0aGlzfV9wcm9jZXNzQ29sbGlzaW9uc0ZvclN1Yk1lc2hlcyhlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0Q29sbGlkaW5nU3ViTWVzaENhbmRpZGF0ZXModGhpcyxlKSxzPWkubGVuZ3RoO2ZvcihsZXQgcj0wO3I8cztyKyspe2NvbnN0IG49aS5kYXRhW3JdO3M+MSYmIW4uX2NoZWNrQ29sbGlzaW9uKGUpfHx0aGlzLl9jb2xsaWRlRm9yU3ViTWVzaChuLHQsZSl9cmV0dXJuIHRoaXN9X3Nob3VsZENvbnZlcnRSSFMoKXtyZXR1cm4hMX1fY2hlY2tDb2xsaXNpb24oZSl7aWYoIXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuX2NoZWNrQ29sbGlzaW9uKGUpKXJldHVybiB0aGlzO2NvbnN0IHQ9Ri5NYXRyaXhbMF0saT1GLk1hdHJpeFsxXTtyZXR1cm4gTS5TY2FsaW5nVG9SZWYoMS9lLl9yYWRpdXMueCwxL2UuX3JhZGl1cy55LDEvZS5fcmFkaXVzLnosdCksdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZS5tdWx0aXBseVRvUmVmKHQsaSksdGhpcy5fcHJvY2Vzc0NvbGxpc2lvbnNGb3JTdWJNZXNoZXMoZSxpKSx0aGlzfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7cmV0dXJuITF9aW50ZXJzZWN0cyhlLHQsaSxzPSExLHIsbj0hMSl7Y29uc3QgYT1uZXcga3Qsbz10aGlzLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZExpbmVzTWVzaCJ8fHRoaXMuZ2V0Q2xhc3NOYW1lKCk9PT0iTGluZXNNZXNoIj90aGlzLmludGVyc2VjdGlvblRocmVzaG9sZDowLGg9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtpZighdGhpcy5zdWJNZXNoZXN8fCFuJiYoIWUuaW50ZXJzZWN0c1NwaGVyZShoLmJvdW5kaW5nU3BoZXJlLG8pfHwhZS5pbnRlcnNlY3RzQm94KGguYm91bmRpbmdCb3gsbykpKXJldHVybiBhO2lmKHMpcmV0dXJuIGEuaGl0PSFuLGEucGlja2VkTWVzaD1uP251bGw6dGhpcyxhLmRpc3RhbmNlPW4/MDpwLkRpc3RhbmNlKGUub3JpZ2luLGguYm91bmRpbmdTcGhlcmUuY2VudGVyKSxhLnN1Yk1lc2hJZD0wLGE7aWYoIXRoaXMuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKSlyZXR1cm4gYTtsZXQgbD1udWxsO2NvbnN0IHU9dGhpcy5fc2NlbmUuZ2V0SW50ZXJzZWN0aW5nU3ViTWVzaENhbmRpZGF0ZXModGhpcyxlKSxkPXUubGVuZ3RoO2xldCBfPSExO2ZvcihsZXQgZj0wO2Y8ZDtmKyspe2NvbnN0IHY9dS5kYXRhW2ZdLmdldE1hdGVyaWFsKCk7aWYodiYmKHYuZmlsbE1vZGU9PTd8fHYuZmlsbE1vZGU9PTB8fHYuZmlsbE1vZGU9PTF8fHYuZmlsbE1vZGU9PTJ8fHYuZmlsbE1vZGU9PTQpKXtfPSEwO2JyZWFrfX1pZighXylyZXR1cm4gYS5oaXQ9ITAsYS5waWNrZWRNZXNoPXRoaXMsYS5kaXN0YW5jZT1wLkRpc3RhbmNlKGUub3JpZ2luLGguYm91bmRpbmdTcGhlcmUuY2VudGVyKSxhLnN1Yk1lc2hJZD0tMSxhO2ZvcihsZXQgZj0wO2Y8ZDtmKyspe2NvbnN0IG09dS5kYXRhW2ZdO2lmKGQ+MSYmIW0uY2FuSW50ZXJzZWN0cyhlKSljb250aW51ZTtjb25zdCB2PW0uaW50ZXJzZWN0cyhlLHRoaXMuX3Bvc2l0aW9ucyx0aGlzLmdldEluZGljZXMoKSx0LGkpO2lmKHYmJih0fHwhbHx8di5kaXN0YW5jZTxsLmRpc3RhbmNlKSYmKGw9dixsLnN1Yk1lc2hJZD1mLHQpKWJyZWFrfWlmKGwpe2NvbnN0IGY9cj8/dGhpcy5nZXRXb3JsZE1hdHJpeCgpLG09Ri5WZWN0b3IzWzBdLHY9Ri5WZWN0b3IzWzFdO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLm9yaWdpbixmLG0pLGUuZGlyZWN0aW9uLnNjYWxlVG9SZWYobC5kaXN0YW5jZSx2KTtjb25zdCBTPXAuVHJhbnNmb3JtTm9ybWFsKHYsZikuYWRkSW5QbGFjZShtKTtyZXR1cm4gYS5oaXQ9ITAsYS5kaXN0YW5jZT1wLkRpc3RhbmNlKG0sUyksYS5waWNrZWRQb2ludD1TLGEucGlja2VkTWVzaD10aGlzLGEuYnU9bC5idXx8MCxhLmJ2PWwuYnZ8fDAsYS5zdWJNZXNoRmFjZUlkPWwuZmFjZUlkLGEuZmFjZUlkPWwuZmFjZUlkK3UuZGF0YVtsLnN1Yk1lc2hJZF0uaW5kZXhTdGFydC8odGhpcy5nZXRDbGFzc05hbWUoKS5pbmRleE9mKCJMaW5lc01lc2giKSE9PS0xPzI6MyksYS5zdWJNZXNoSWQ9bC5zdWJNZXNoSWQsYX1yZXR1cm4gYX1jbG9uZShlLHQsaSl7cmV0dXJuIG51bGx9cmVsZWFzZVN1Yk1lc2hlcygpe2lmKHRoaXMuc3ViTWVzaGVzKWZvcig7dGhpcy5zdWJNZXNoZXMubGVuZ3RoOyl0aGlzLnN1Yk1lc2hlc1swXS5kaXNwb3NlKCk7ZWxzZSB0aGlzLnN1Yk1lc2hlcz1uZXcgQXJyYXk7cmV0dXJuIHRoaXN9ZGlzcG9zZShlLHQ9ITEpe2xldCBpO2Zvcih0aGlzLl9zY2VuZS51c2VNYXRlcmlhbE1lc2hNYXAmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuZ2V0U2NlbmUoKS5mcmVlQWN0aXZlTWVzaGVzKCksdGhpcy5nZXRTY2VuZSgpLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLmFjdGlvbk1hbmFnZXIhPT12b2lkIDAmJnRoaXMuYWN0aW9uTWFuYWdlciE9PW51bGwmJih0aGlzLmFjdGlvbk1hbmFnZXIuZGlzcG9zZSgpLHRoaXMuYWN0aW9uTWFuYWdlcj1udWxsKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbj1udWxsLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmUmJih0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlPW51bGwpLGk9MDtpPHRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmxlbmd0aDtpKyspe2NvbnN0IG49dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3NbaV0sYT1uLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5pbmRleE9mKHRoaXMpO24uX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnNwbGljZShhLDEpfXRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmxlbmd0aD0wLHRoaXMuZ2V0U2NlbmUoKS5saWdodHMuZm9yRWFjaChuPT57bGV0IGE9bi5pbmNsdWRlZE9ubHlNZXNoZXMuaW5kZXhPZih0aGlzKTthIT09LTEmJm4uaW5jbHVkZWRPbmx5TWVzaGVzLnNwbGljZShhLDEpLGE9bi5leGNsdWRlZE1lc2hlcy5pbmRleE9mKHRoaXMpLGEhPT0tMSYmbi5leGNsdWRlZE1lc2hlcy5zcGxpY2UoYSwxKTtjb25zdCBvPW4uZ2V0U2hhZG93R2VuZXJhdG9ycygpO2lmKG8pe2NvbnN0IGg9by52YWx1ZXMoKTtmb3IobGV0IGw9aC5uZXh0KCk7bC5kb25lIT09ITA7bD1oLm5leHQoKSl7Y29uc3QgZD1sLnZhbHVlLmdldFNoYWRvd01hcCgpO2QmJmQucmVuZGVyTGlzdCYmKGE9ZC5yZW5kZXJMaXN0LmluZGV4T2YodGhpcyksYSE9PS0xJiZkLnJlbmRlckxpc3Quc3BsaWNlKGEsMSkpfX19KSwodGhpcy5nZXRDbGFzc05hbWUoKSE9PSJJbnN0YW5jZWRNZXNoInx8dGhpcy5nZXRDbGFzc05hbWUoKSE9PSJJbnN0YW5jZWRMaW5lc01lc2giKSYmdGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Y29uc3Qgcj10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7aWYodGhpcy5fb2NjbHVzaW9uUXVlcnkhPT1udWxsJiYodGhpcy5pc09jY2x1c2lvblF1ZXJ5SW5Qcm9ncmVzcz0hMSxyLmRlbGV0ZVF1ZXJ5KHRoaXMuX29jY2x1c2lvblF1ZXJ5KSx0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsKSxyLndpcGVDYWNoZXMoKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlTWVzaCh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IG49dGhpcy5fcGFyZW50Q29udGFpbmVyLm1lc2hlcy5pbmRleE9mKHRoaXMpO24+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5tZXNoZXMuc3BsaWNlKG4sMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodCYmdGhpcy5tYXRlcmlhbCYmKHRoaXMubWF0ZXJpYWwuZ2V0Q2xhc3NOYW1lKCk9PT0iTXVsdGlNYXRlcmlhbCI/dGhpcy5tYXRlcmlhbC5kaXNwb3NlKCExLCEwLCEwKTp0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoITEsITApKSwhZSlmb3IoaT0wO2k8dGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7aSsrKXRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXNbaV0uZW1pdHRlcj09PXRoaXMmJih0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zW2ldLmRpc3Bvc2UoKSxpLS0pO3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERhdGFFbmFibGVkJiZ0aGlzLmRpc2FibGVGYWNldERhdGEoKSx0aGlzLl91bmlmb3JtQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ29sbGlkZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlYnVpbGRPYnNlcnZhYmxlLmNsZWFyKCksc3VwZXIuZGlzcG9zZShlLHQpfWFkZENoaWxkKGUsdD0hMSl7cmV0dXJuIGUuc2V0UGFyZW50KHRoaXMsdCksdGhpc31yZW1vdmVDaGlsZChlLHQ9ITEpe3JldHVybiBlLnNldFBhcmVudChudWxsLHQpLHRoaXN9X2luaXRGYWNldERhdGEoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtlLmZhY2V0Tm9ybWFsc3x8KGUuZmFjZXROb3JtYWxzPW5ldyBBcnJheSksZS5mYWNldFBvc2l0aW9uc3x8KGUuZmFjZXRQb3NpdGlvbnM9bmV3IEFycmF5KSxlLmZhY2V0UGFydGl0aW9uaW5nfHwoZS5mYWNldFBhcnRpdGlvbmluZz1uZXcgQXJyYXkpLGUuZmFjZXROYj10aGlzLmdldEluZGljZXMoKS5sZW5ndGgvM3wwLGUucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zPWUucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zP2UucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zOjEwLGUucGFydGl0aW9uaW5nQkJveFJhdGlvPWUucGFydGl0aW9uaW5nQkJveFJhdGlvP2UucGFydGl0aW9uaW5nQkJveFJhdGlvOjEuMDE7Zm9yKGxldCB0PTA7dDxlLmZhY2V0TmI7dCsrKWUuZmFjZXROb3JtYWxzW3RdPXAuWmVybygpLGUuZmFjZXRQb3NpdGlvbnNbdF09cC5aZXJvKCk7cmV0dXJuIGUuZmFjZXREYXRhRW5hYmxlZD0hMCx0aGlzfXVwZGF0ZUZhY2V0RGF0YSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO2UuZmFjZXREYXRhRW5hYmxlZHx8dGhpcy5faW5pdEZhY2V0RGF0YSgpO2NvbnN0IHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpLGk9dGhpcy5nZXRJbmRpY2VzKCkscz10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpLHI9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtpZihlLmZhY2V0RGVwdGhTb3J0JiYhZS5mYWNldERlcHRoU29ydEVuYWJsZWQpe2lmKGUuZmFjZXREZXB0aFNvcnRFbmFibGVkPSEwLGkgaW5zdGFuY2VvZiBVaW50MTZBcnJheSllLmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDE2QXJyYXkoaSk7ZWxzZSBpZihpIGluc3RhbmNlb2YgVWludDMyQXJyYXkpZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KGkpO2Vsc2V7bGV0IGE9ITE7Zm9yKGxldCBvPTA7bzxpLmxlbmd0aDtvKyspaWYoaVtvXT42NTUzNSl7YT0hMDticmVha31hP2UuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MzJBcnJheShpKTplLmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDE2QXJyYXkoaSl9aWYoZS5mYWNldERlcHRoU29ydEZ1bmN0aW9uPWZ1bmN0aW9uKGEsbyl7cmV0dXJuIG8uc3FEaXN0YW5jZS1hLnNxRGlzdGFuY2V9LCFlLmZhY2V0RGVwdGhTb3J0RnJvbSl7Y29uc3QgYT10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhO2UuZmFjZXREZXB0aFNvcnRGcm9tPWE/YS5wb3NpdGlvbjpwLlplcm8oKX1lLmRlcHRoU29ydGVkRmFjZXRzPVtdO2ZvcihsZXQgYT0wO2E8ZS5mYWNldE5iO2ErKyl7Y29uc3Qgbz17aW5kOmEqMyxzcURpc3RhbmNlOjB9O2UuZGVwdGhTb3J0ZWRGYWNldHMucHVzaChvKX1lLmludmVydGVkTWF0cml4PU0uSWRlbnRpdHkoKSxlLmZhY2V0RGVwdGhTb3J0T3JpZ2luPXAuWmVybygpfWUuYmJTaXplLng9ci5tYXhpbXVtLngtci5taW5pbXVtLng+U2U/ci5tYXhpbXVtLngtci5taW5pbXVtLng6U2UsZS5iYlNpemUueT1yLm1heGltdW0ueS1yLm1pbmltdW0ueT5TZT9yLm1heGltdW0ueS1yLm1pbmltdW0ueTpTZSxlLmJiU2l6ZS56PXIubWF4aW11bS56LXIubWluaW11bS56PlNlP3IubWF4aW11bS56LXIubWluaW11bS56OlNlO2xldCBuPWUuYmJTaXplLng+ZS5iYlNpemUueT9lLmJiU2l6ZS54OmUuYmJTaXplLnk7aWYobj1uPmUuYmJTaXplLno/bjplLmJiU2l6ZS56LGUuc3ViRGl2Lm1heD1lLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucyxlLnN1YkRpdi5YPU1hdGguZmxvb3IoZS5zdWJEaXYubWF4KmUuYmJTaXplLngvbiksZS5zdWJEaXYuWT1NYXRoLmZsb29yKGUuc3ViRGl2Lm1heCplLmJiU2l6ZS55L24pLGUuc3ViRGl2Llo9TWF0aC5mbG9vcihlLnN1YkRpdi5tYXgqZS5iYlNpemUuei9uKSxlLnN1YkRpdi5YPWUuc3ViRGl2Llg8MT8xOmUuc3ViRGl2LlgsZS5zdWJEaXYuWT1lLnN1YkRpdi5ZPDE/MTplLnN1YkRpdi5ZLGUuc3ViRGl2Llo9ZS5zdWJEaXYuWjwxPzE6ZS5zdWJEaXYuWixlLmZhY2V0UGFyYW1ldGVycy5mYWNldE5vcm1hbHM9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpLGUuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0UG9zaXRpb25zPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpLGUuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0UGFydGl0aW9uaW5nPXRoaXMuZ2V0RmFjZXRMb2NhbFBhcnRpdGlvbmluZygpLGUuZmFjZXRQYXJhbWV0ZXJzLmJJbmZvPXIsZS5mYWNldFBhcmFtZXRlcnMuYmJTaXplPWUuYmJTaXplLGUuZmFjZXRQYXJhbWV0ZXJzLnN1YkRpdj1lLnN1YkRpdixlLmZhY2V0UGFyYW1ldGVycy5yYXRpbz10aGlzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbyxlLmZhY2V0UGFyYW1ldGVycy5kZXB0aFNvcnQ9ZS5mYWNldERlcHRoU29ydCxlLmZhY2V0RGVwdGhTb3J0JiZlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZCYmKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzLl93b3JsZE1hdHJpeC5pbnZlcnRUb1JlZihlLmludmVydGVkTWF0cml4KSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZS5mYWNldERlcHRoU29ydEZyb20sZS5pbnZlcnRlZE1hdHJpeCxlLmZhY2V0RGVwdGhTb3J0T3JpZ2luKSxlLmZhY2V0UGFyYW1ldGVycy5kaXN0YW5jZVRvPWUuZmFjZXREZXB0aFNvcnRPcmlnaW4pLGUuZmFjZXRQYXJhbWV0ZXJzLmRlcHRoU29ydGVkRmFjZXRzPWUuZGVwdGhTb3J0ZWRGYWNldHMscyYmdGUuQ29tcHV0ZU5vcm1hbHModCxpLHMsZS5mYWNldFBhcmFtZXRlcnMpLGUuZmFjZXREZXB0aFNvcnQmJmUuZmFjZXREZXB0aFNvcnRFbmFibGVkKXtlLmRlcHRoU29ydGVkRmFjZXRzLnNvcnQoZS5mYWNldERlcHRoU29ydEZ1bmN0aW9uKTtjb25zdCBhPWUuZGVwdGhTb3J0ZWRJbmRpY2VzLmxlbmd0aC8zfDA7Zm9yKGxldCBvPTA7bzxhO28rKyl7Y29uc3QgaD1lLmRlcHRoU29ydGVkRmFjZXRzW29dLmluZDtlLmRlcHRoU29ydGVkSW5kaWNlc1tvKjNdPWlbaF0sZS5kZXB0aFNvcnRlZEluZGljZXNbbyozKzFdPWlbaCsxXSxlLmRlcHRoU29ydGVkSW5kaWNlc1tvKjMrMl09aVtoKzJdfXRoaXMudXBkYXRlSW5kaWNlcyhlLmRlcHRoU29ydGVkSW5kaWNlcyx2b2lkIDAsITApfXJldHVybiB0aGlzfWdldEZhY2V0TG9jYWxOb3JtYWxzKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXROb3JtYWxzfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLGUuZmFjZXROb3JtYWxzfWdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtyZXR1cm4gZS5mYWNldFBvc2l0aW9uc3x8dGhpcy51cGRhdGVGYWNldERhdGEoKSxlLmZhY2V0UG9zaXRpb25zfWdldEZhY2V0TG9jYWxQYXJ0aXRpb25pbmcoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtyZXR1cm4gZS5mYWNldFBhcnRpdGlvbmluZ3x8dGhpcy51cGRhdGVGYWNldERhdGEoKSxlLmZhY2V0UGFydGl0aW9uaW5nfWdldEZhY2V0UG9zaXRpb24oZSl7Y29uc3QgdD1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldFBvc2l0aW9uVG9SZWYoZSx0KSx0fWdldEZhY2V0UG9zaXRpb25Ub1JlZihlLHQpe2NvbnN0IGk9dGhpcy5nZXRGYWNldExvY2FsUG9zaXRpb25zKClbZV0scz10aGlzLmdldFdvcmxkTWF0cml4KCk7cmV0dXJuIHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihpLHMsdCksdGhpc31nZXRGYWNldE5vcm1hbChlKXtjb25zdCB0PXAuWmVybygpO3JldHVybiB0aGlzLmdldEZhY2V0Tm9ybWFsVG9SZWYoZSx0KSx0fWdldEZhY2V0Tm9ybWFsVG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKVtlXTtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihpLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0KSx0aGlzfWdldEZhY2V0c0F0TG9jYWxDb29yZGluYXRlcyhlLHQsaSl7Y29uc3Qgcz10aGlzLmdldEJvdW5kaW5nSW5mbygpLHI9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLG49TWF0aC5mbG9vcigoZS1zLm1pbmltdW0ueCpyLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqci5zdWJEaXYuWCpyLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9yLmJiU2l6ZS54KSxhPU1hdGguZmxvb3IoKHQtcy5taW5pbXVtLnkqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnIuc3ViRGl2Llkqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8vci5iYlNpemUueSksbz1NYXRoLmZsb29yKChpLXMubWluaW11bS56KnIucGFydGl0aW9uaW5nQkJveFJhdGlvKSpyLnN1YkRpdi5aKnIucGFydGl0aW9uaW5nQkJveFJhdGlvL3IuYmJTaXplLnopO3JldHVybiBuPDB8fG4+ci5zdWJEaXYubWF4fHxhPDB8fGE+ci5zdWJEaXYubWF4fHxvPDB8fG8+ci5zdWJEaXYubWF4P251bGw6ci5mYWNldFBhcnRpdGlvbmluZ1tuK3Iuc3ViRGl2Lm1heCphK3Iuc3ViRGl2Lm1heCpyLnN1YkRpdi5tYXgqb119Z2V0Q2xvc2VzdEZhY2V0QXRDb29yZGluYXRlcyhlLHQsaSxzLHI9ITEsbj0hMCl7Y29uc3QgYT10aGlzLmdldFdvcmxkTWF0cml4KCksbz1GLk1hdHJpeFs1XTthLmludmVydFRvUmVmKG8pO2NvbnN0IGg9Ri5WZWN0b3IzWzhdO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZSx0LGksbyxoKTtjb25zdCBsPXRoaXMuZ2V0Q2xvc2VzdEZhY2V0QXRMb2NhbENvb3JkaW5hdGVzKGgueCxoLnksaC56LHMscixuKTtyZXR1cm4gcyYmcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihzLngscy55LHMueixhLHMpLGx9Z2V0Q2xvc2VzdEZhY2V0QXRMb2NhbENvb3JkaW5hdGVzKGUsdCxpLHMscj0hMSxuPSEwKXtsZXQgYT1udWxsLG89MCxoPTAsbD0wLHU9MCxkPTAsXz0wLGY9MCxtPTA7Y29uc3Qgdj10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKSxFPXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKSxTPXRoaXMuZ2V0RmFjZXRzQXRMb2NhbENvb3JkaW5hdGVzKGUsdCxpKTtpZighUylyZXR1cm4gbnVsbDtsZXQgUj1OdW1iZXIuTUFYX1ZBTFVFLEE9UixDLGIseDtmb3IobGV0IEk9MDtJPFMubGVuZ3RoO0krKylDPVNbSV0sYj1FW0NdLHg9dltDXSx1PShlLXgueCkqYi54Kyh0LXgueSkqYi55KyhpLXgueikqYi56LCghcnx8ciYmbiYmdT49MHx8ciYmIW4mJnU8PTApJiYodT1iLngqeC54K2IueSp4LnkrYi56KngueixkPS0oYi54KmUrYi55KnQrYi56KmktdSkvKGIueCpiLngrYi55KmIueStiLnoqYi56KSxfPWUrYi54KmQsZj10K2IueSpkLG09aStiLnoqZCxvPV8tZSxoPWYtdCxsPW0taSxBPW8qbytoKmgrbCpsLEE8UiYmKFI9QSxhPUMscyYmKHMueD1fLHMueT1mLHMuej1tKSkpO3JldHVybiBhfWdldEZhY2V0RGF0YVBhcmFtZXRlcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0UGFyYW1ldGVyc31kaXNhYmxlRmFjZXREYXRhKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXREYXRhRW5hYmxlZCYmKGUuZmFjZXREYXRhRW5hYmxlZD0hMSxlLmZhY2V0UG9zaXRpb25zPW5ldyBBcnJheSxlLmZhY2V0Tm9ybWFscz1uZXcgQXJyYXksZS5mYWNldFBhcnRpdGlvbmluZz1uZXcgQXJyYXksZS5mYWNldFBhcmFtZXRlcnM9bnVsbCxlLmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkoMCkpLHRoaXN9dXBkYXRlSW5kaWNlcyhlLHQsaT0hMSl7cmV0dXJuIHRoaXN9Y3JlYXRlTm9ybWFscyhlKXtjb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSxpPXRoaXMuZ2V0SW5kaWNlcygpO2xldCBzO3JldHVybiB0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpP3M9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTpzPVtdLHRlLkNvbXB1dGVOb3JtYWxzKHQsaSxzLHt1c2VSaWdodEhhbmRlZFN5c3RlbTp0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW19KSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQscyxlKSx0aGlzfWFsaWduV2l0aE5vcm1hbChlLHQpe3R8fCh0PWdpLlkpO2NvbnN0IGk9Ri5WZWN0b3IzWzBdLHM9Ri5WZWN0b3IzWzFdO3JldHVybiBwLkNyb3NzVG9SZWYodCxlLHMpLHAuQ3Jvc3NUb1JlZihlLHMsaSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/Wi5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKGksZSxzLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTpwLlJvdGF0aW9uRnJvbUF4aXNUb1JlZihpLGUscyx0aGlzLnJvdGF0aW9uKSx0aGlzfV9jaGVja09jY2x1c2lvblF1ZXJ5KCl7cmV0dXJuITF9ZGlzYWJsZUVkZ2VzUmVuZGVyaW5nKCl7dGhyb3cgUSgiRWRnZXNSZW5kZXJlciIpfWVuYWJsZUVkZ2VzUmVuZGVyaW5nKGUsdCxpKXt0aHJvdyBRKCJFZGdlc1JlbmRlcmVyIil9Z2V0Q29ubmVjdGVkUGFydGljbGVTeXN0ZW1zKCl7cmV0dXJuIHRoaXMuX3NjZW5lLnBhcnRpY2xlU3lzdGVtcy5maWx0ZXIoZT0+ZS5lbWl0dGVyPT09dGhpcyl9fWh0Lk9DQ0xVU0lPTl9UWVBFX05PTkU9MCxodC5PQ0NMVVNJT05fVFlQRV9PUFRJTUlTVElDPTEsaHQuT0NDTFVTSU9OX1RZUEVfU1RSSUNUPTIsaHQuT0NDTFVTSU9OX0FMR09SSVRITV9UWVBFX0FDQ1VSQVRFPTAsaHQuT0NDTFVTSU9OX0FMR09SSVRITV9UWVBFX0NPTlNFUlZBVElWRT0xLGh0LkNVTExJTkdTVFJBVEVHWV9TVEFOREFSRD0wLGh0LkNVTExJTkdTVFJBVEVHWV9CT1VORElOR1NQSEVSRV9PTkxZPTEsaHQuQ1VMTElOR1NUUkFURUdZX09QVElNSVNUSUNfSU5DTFVTSU9OPTIsaHQuQ1VMTElOR1NUUkFURUdZX09QVElNSVNUSUNfSU5DTFVTSU9OX1RIRU5fQlNQSEVSRV9PTkxZPTMsc3QoIkJBQllMT04uQWJzdHJhY3RNZXNoIixodCk7ZnVuY3Rpb24gb3MoYyl7Yy5pbmRleE9mKCJ2Q2xpcFBsYW5lIik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lIiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lMiIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTIiKSxjLmluZGV4T2YoInZDbGlwUGxhbmUzIik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lMyIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTQiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmU0IiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lNSIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTUiKSxjLmluZGV4T2YoInZDbGlwUGxhbmU2Iik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lNiIpfWZ1bmN0aW9uIHdyKGMsZSx0KXt2YXIgaSxzLHIsbixhLG87Y29uc3QgaD0hISgoaT1jLmNsaXBQbGFuZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6ZS5jbGlwUGxhbmUpLGw9ISEoKHM9Yy5jbGlwUGxhbmUyKSE9PW51bGwmJnMhPT12b2lkIDA/czplLmNsaXBQbGFuZTIpLHU9ISEoKHI9Yy5jbGlwUGxhbmUzKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLmNsaXBQbGFuZTMpLGQ9ISEoKG49Yy5jbGlwUGxhbmU0KSE9PW51bGwmJm4hPT12b2lkIDA/bjplLmNsaXBQbGFuZTQpLF89ISEoKGE9Yy5jbGlwUGxhbmU1KSE9PW51bGwmJmEhPT12b2lkIDA/YTplLmNsaXBQbGFuZTUpLGY9ISEoKG89Yy5jbGlwUGxhbmU2KSE9PW51bGwmJm8hPT12b2lkIDA/bzplLmNsaXBQbGFuZTYpO2gmJnQucHVzaCgiI2RlZmluZSBDTElQUExBTkUiKSxsJiZ0LnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FMiIpLHUmJnQucHVzaCgiI2RlZmluZSBDTElQUExBTkUzIiksZCYmdC5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTQiKSxfJiZ0LnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FNSIpLGYmJnQucHVzaCgiI2RlZmluZSBDTElQUExBTkU2Iil9ZnVuY3Rpb24gSG4oYyxlLHQpe3ZhciBpLHMscixuLGEsbztsZXQgaD0hMTtjb25zdCBsPSEhKChpPWMuY2xpcFBsYW5lKSE9PW51bGwmJmkhPT12b2lkIDA/aTplLmNsaXBQbGFuZSksdT0hISgocz1jLmNsaXBQbGFuZTIpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmUuY2xpcFBsYW5lMiksZD0hISgocj1jLmNsaXBQbGFuZTMpIT09bnVsbCYmciE9PXZvaWQgMD9yOmUuY2xpcFBsYW5lMyksXz0hISgobj1jLmNsaXBQbGFuZTQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOmUuY2xpcFBsYW5lNCksZj0hISgoYT1jLmNsaXBQbGFuZTUpIT09bnVsbCYmYSE9PXZvaWQgMD9hOmUuY2xpcFBsYW5lNSksbT0hISgobz1jLmNsaXBQbGFuZTYpIT09bnVsbCYmbyE9PXZvaWQgMD9vOmUuY2xpcFBsYW5lNik7cmV0dXJuIHQuQ0xJUFBMQU5FIT09bCYmKHQuQ0xJUFBMQU5FPWwsaD0hMCksdC5DTElQUExBTkUyIT09dSYmKHQuQ0xJUFBMQU5FMj11LGg9ITApLHQuQ0xJUFBMQU5FMyE9PWQmJih0LkNMSVBQTEFORTM9ZCxoPSEwKSx0LkNMSVBQTEFORTQhPT1fJiYodC5DTElQUExBTkU0PV8saD0hMCksdC5DTElQUExBTkU1IT09ZiYmKHQuQ0xJUFBMQU5FNT1mLGg9ITApLHQuQ0xJUFBMQU5FNiE9PW0mJih0LkNMSVBQTEFORTY9bSxoPSEwKSxofWZ1bmN0aW9uIGhzKGMsZSx0KXt2YXIgaSxzLHIsbixhLG87bGV0IGg9KGk9ZS5jbGlwUGxhbmUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOnQuY2xpcFBsYW5lO0FpKGMsInZDbGlwUGxhbmUiLGgpLGg9KHM9ZS5jbGlwUGxhbmUyKSE9PW51bGwmJnMhPT12b2lkIDA/czp0LmNsaXBQbGFuZTIsQWkoYywidkNsaXBQbGFuZTIiLGgpLGg9KHI9ZS5jbGlwUGxhbmUzKSE9PW51bGwmJnIhPT12b2lkIDA/cjp0LmNsaXBQbGFuZTMsQWkoYywidkNsaXBQbGFuZTMiLGgpLGg9KG49ZS5jbGlwUGxhbmU0KSE9PW51bGwmJm4hPT12b2lkIDA/bjp0LmNsaXBQbGFuZTQsQWkoYywidkNsaXBQbGFuZTQiLGgpLGg9KGE9ZS5jbGlwUGxhbmU1KSE9PW51bGwmJmEhPT12b2lkIDA/YTp0LmNsaXBQbGFuZTUsQWkoYywidkNsaXBQbGFuZTUiLGgpLGg9KG89ZS5jbGlwUGxhbmU2KSE9PW51bGwmJm8hPT12b2lkIDA/bzp0LmNsaXBQbGFuZTYsQWkoYywidkNsaXBQbGFuZTYiLGgpfWZ1bmN0aW9uIEFpKGMsZSx0KXt0JiZjLnNldEZsb2F0NChlLHQubm9ybWFsLngsdC5ub3JtYWwueSx0Lm5vcm1hbC56LHQuZCl9Y2xhc3Mgc2V7c3RhdGljIEJpbmRTY2VuZVVuaWZvcm1CdWZmZXIoZSx0KXt0LmJpbmRUb0VmZmVjdChlLCJTY2VuZSIpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKGUsdCxpKXt0Ll9uZWVkVVZzPSEwLHRbaV09ITAsZS5vcHRpbWl6ZVVWQWxsb2NhdGlvbiYmZS5nZXRUZXh0dXJlTWF0cml4KCkuaXNJZGVudGl0eUFzM3gyKCk/KHRbaSsiRElSRUNUVVYiXT1lLmNvb3JkaW5hdGVzSW5kZXgrMSx0WyJNQUlOVVYiKyhlLmNvb3JkaW5hdGVzSW5kZXgrMSldPSEwKTp0W2krIkRJUkVDVFVWIl09MH1zdGF0aWMgQmluZFRleHR1cmVNYXRyaXgoZSx0LGkpe2NvbnN0IHM9ZS5nZXRUZXh0dXJlTWF0cml4KCk7dC51cGRhdGVNYXRyaXgoaSsiTWF0cml4IixzKX1zdGF0aWMgR2V0Rm9nU3RhdGUoZSx0KXtyZXR1cm4gdC5mb2dFbmFibGVkJiZlLmFwcGx5Rm9nJiZ0LmZvZ01vZGUhPT1hZS5GT0dNT0RFX05PTkV9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTWlzYyhlLHQsaSxzLHIsbixhKXthLl9hcmVNaXNjRGlydHkmJihhLkxPR0FSSVRITUlDREVQVEg9aSxhLlBPSU5UU0laRT1zLGEuRk9HPXImJnRoaXMuR2V0Rm9nU3RhdGUoZSx0KSxhLk5PTlVOSUZPUk1TQ0FMSU5HPWUubm9uVW5pZm9ybVNjYWxpbmcsYS5BTFBIQVRFU1Q9bil9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yQ2FtZXJhKGUsdCl7bGV0IGk9ITE7aWYoZS5hY3RpdmVDYW1lcmEpe2NvbnN0IHM9dC5DQU1FUkFfT1JUSE9HUkFQSElDPzE6MCxyPXQuQ0FNRVJBX1BFUlNQRUNUSVZFPzE6MCxuPWUuYWN0aXZlQ2FtZXJhLm1vZGU9PT0kLk9SVEhPR1JBUEhJQ19DQU1FUkE/MTowLGE9ZS5hY3RpdmVDYW1lcmEubW9kZT09PSQuUEVSU1BFQ1RJVkVfQ0FNRVJBPzE6MDsoc15ufHxyXmEpJiYodC5DQU1FUkFfT1JUSE9HUkFQSElDPW49PT0xLHQuQ0FNRVJBX1BFUlNQRUNUSVZFPWE9PT0xLGk9ITApfXJldHVybiBpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckZyYW1lQm91bmRWYWx1ZXMoZSx0LGkscyxyLG49bnVsbCxhPSExKXtsZXQgbz1zZS5QcmVwYXJlRGVmaW5lc0ZvckNhbWVyYShlLHMpO24hPT0hMSYmKG89SG4oaSxlLHMpKSxzLkRFUFRIUFJFUEFTUyE9PSF0LmdldENvbG9yV3JpdGUoKSYmKHMuREVQVEhQUkVQQVNTPSFzLkRFUFRIUFJFUEFTUyxvPSEwKSxzLklOU1RBTkNFUyE9PXImJihzLklOU1RBTkNFUz1yLG89ITApLHMuVEhJTl9JTlNUQU5DRVMhPT1hJiYocy5USElOX0lOU1RBTkNFUz1hLG89ITApLG8mJnMubWFya0FzVW5wcm9jZXNzZWQoKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JCb25lcyhlLHQpe2lmKGUudXNlQm9uZXMmJmUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZlLnNrZWxldG9uKXt0Lk5VTV9CT05FX0lORkxVRU5DRVJTPWUubnVtQm9uZUluZmx1ZW5jZXJzO2NvbnN0IGk9dC5CT05FVEVYVFVSRSE9PXZvaWQgMDtpZihlLnNrZWxldG9uLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJmkpdC5CT05FVEVYVFVSRT0hMDtlbHNle3QuQm9uZXNQZXJNZXNoPWUuc2tlbGV0b24uYm9uZXMubGVuZ3RoKzEsdC5CT05FVEVYVFVSRT1pPyExOnZvaWQgMDtjb25zdCBzPWUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXI7aWYocyYmcy5lbmFibGVkKXtjb25zdCByPXMuZXhjbHVkZWRTa2lubmVkTWVzaC5pbmRleE9mKGUpPT09LTE7dC5CT05FU19WRUxPQ0lUWV9FTkFCTEVEPXJ9fX1lbHNlIHQuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0LkJvbmVzUGVyTWVzaD0wLHQuQk9ORVRFWFRVUkUhPT12b2lkIDAmJih0LkJPTkVURVhUVVJFPSExKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JNb3JwaFRhcmdldHMoZSx0KXtjb25zdCBpPWUubW9ycGhUYXJnZXRNYW5hZ2VyO2k/KHQuTU9SUEhUQVJHRVRTX1VWPWkuc3VwcG9ydHNVVnMmJnQuVVYxLHQuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9aS5zdXBwb3J0c1RhbmdlbnRzJiZ0LlRBTkdFTlQsdC5NT1JQSFRBUkdFVFNfTk9STUFMPWkuc3VwcG9ydHNOb3JtYWxzJiZ0Lk5PUk1BTCx0Lk1PUlBIVEFSR0VUUz1pLm51bUluZmx1ZW5jZXJzPjAsdC5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9aS5udW1JbmZsdWVuY2Vycyx0Lk1PUlBIVEFSR0VUU19URVhUVVJFPWkuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKToodC5NT1JQSFRBUkdFVFNfVVY9ITEsdC5NT1JQSFRBUkdFVFNfVEFOR0VOVD0hMSx0Lk1PUlBIVEFSR0VUU19OT1JNQUw9ITEsdC5NT1JQSFRBUkdFVFM9ITEsdC5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9MCl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oZSx0KXtjb25zdCBpPWUuYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyO3QuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFPSEhKGkmJmkuaXNFbmFibGVkKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUsdCxpLHMscj0hMSxuPSEwLGE9ITApe2lmKCF0Ll9hcmVBdHRyaWJ1dGVzRGlydHkmJnQuX25lZWROb3JtYWxzPT09dC5fbm9ybWFscyYmdC5fbmVlZFVWcz09PXQuX3V2cylyZXR1cm4hMTt0Ll9ub3JtYWxzPXQuX25lZWROb3JtYWxzLHQuX3V2cz10Ll9uZWVkVVZzLHQuTk9STUFMPXQuX25lZWROb3JtYWxzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpLHQuX25lZWROb3JtYWxzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kKSYmKHQuVEFOR0VOVD0hMCk7Zm9yKGxldCBvPTE7bzw9NjsrK28pdFsiVVYiK29dPXQuX25lZWRVVnM/ZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYHV2JHtvPT09MT8iIjpvfWApOiExO2lmKGkpe2NvbnN0IG89ZS51c2VWZXJ0ZXhDb2xvcnMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuQ29sb3JLaW5kKTt0LlZFUlRFWENPTE9SPW8sdC5WRVJURVhBTFBIQT1lLmhhc1ZlcnRleEFscGhhJiZvJiZufXJldHVybiBlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLkNvbG9ySW5zdGFuY2VLaW5kKSYmKGUuaGFzSW5zdGFuY2VzfHxlLmhhc1RoaW5JbnN0YW5jZXMpJiYodC5JTlNUQU5DRVNDT0xPUj0hMCkscyYmdGhpcy5QcmVwYXJlRGVmaW5lc0ZvckJvbmVzKGUsdCksciYmdGhpcy5QcmVwYXJlRGVmaW5lc0Zvck1vcnBoVGFyZ2V0cyhlLHQpLGEmJnRoaXMuUHJlcGFyZURlZmluZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihlLHQpLCEwfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck11bHRpdmlldyhlLHQpe2lmKGUuYWN0aXZlQ2FtZXJhKXtjb25zdCBpPXQuTVVMVElWSUVXO3QuTVVMVElWSUVXPWUuYWN0aXZlQ2FtZXJhLm91dHB1dFJlbmRlclRhcmdldCE9PW51bGwmJmUuYWN0aXZlQ2FtZXJhLm91dHB1dFJlbmRlclRhcmdldC5nZXRWaWV3Q291bnQoKT4xLHQuTVVMVElWSUVXIT1pJiZ0Lm1hcmtBc1VucHJvY2Vzc2VkKCl9fXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck9JVChlLHQsaSl7Y29uc3Qgcz10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWSxyPXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUzt0Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWT1lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kmJmksdC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTPSFlLmdldEVuZ2luZSgpLmdldENhcHMoKS50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmcsKHMhPT10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWXx8ciE9PXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUykmJnQubWFya0FzVW5wcm9jZXNzZWQoKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JQcmVQYXNzKGUsdCxpKXtjb25zdCBzPXQuUFJFUEFTUztpZighdC5fYXJlUHJlUGFzc0RpcnR5KXJldHVybjtjb25zdCByPVt7dHlwZToxLGRlZmluZToiUFJFUEFTU19QT1NJVElPTiIsaW5kZXg6IlBSRVBBU1NfUE9TSVRJT05fSU5ERVgifSx7dHlwZToyLGRlZmluZToiUFJFUEFTU19WRUxPQ0lUWSIsaW5kZXg6IlBSRVBBU1NfVkVMT0NJVFlfSU5ERVgifSx7dHlwZTozLGRlZmluZToiUFJFUEFTU19SRUZMRUNUSVZJVFkiLGluZGV4OiJQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWCJ9LHt0eXBlOjAsZGVmaW5lOiJQUkVQQVNTX0lSUkFESUFOQ0UiLGluZGV4OiJQUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVgifSx7dHlwZTo3LGRlZmluZToiUFJFUEFTU19BTEJFRE9fU1FSVCIsaW5kZXg6IlBSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVgifSx7dHlwZTo1LGRlZmluZToiUFJFUEFTU19ERVBUSCIsaW5kZXg6IlBSRVBBU1NfREVQVEhfSU5ERVgifSx7dHlwZTo2LGRlZmluZToiUFJFUEFTU19OT1JNQUwiLGluZGV4OiJQUkVQQVNTX05PUk1BTF9JTkRFWCJ9XTtpZihlLnByZVBhc3NSZW5kZXJlciYmZS5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmaSl7dC5QUkVQQVNTPSEwLHQuU0NFTkVfTVJUX0NPVU5UPWUucHJlUGFzc1JlbmRlcmVyLm1ydENvdW50O2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXtjb25zdCBhPWUucHJlUGFzc1JlbmRlcmVyLmdldEluZGV4KHJbbl0udHlwZSk7YSE9PS0xPyh0W3Jbbl0uZGVmaW5lXT0hMCx0W3Jbbl0uaW5kZXhdPWEpOnRbcltuXS5kZWZpbmVdPSExfX1lbHNle3QuUFJFUEFTUz0hMTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl0W3Jbbl0uZGVmaW5lXT0hMX10LlBSRVBBU1MhPXMmJih0Lm1hcmtBc1VucHJvY2Vzc2VkKCksdC5tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JMaWdodChlLHQsaSxzLHIsbixhKXt2YXIgbztzd2l0Y2goYS5uZWVkTm9ybWFscz0hMCxyWyJMSUdIVCIrc109PT12b2lkIDAmJihhLm5lZWRSZWJ1aWxkPSEwKSxyWyJMSUdIVCIrc109ITAsclsiU1BPVExJR0hUIitzXT0hMSxyWyJIRU1JTElHSFQiK3NdPSExLHJbIlBPSU5UTElHSFQiK3NdPSExLHJbIkRJUkxJR0hUIitzXT0hMSxpLnByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcyhyLHMpLHJbIkxJR0hUX0ZBTExPRkZfUEhZU0lDQUwiK3NdPSExLHJbIkxJR0hUX0ZBTExPRkZfR0xURiIrc109ITEsclsiTElHSFRfRkFMTE9GRl9TVEFOREFSRCIrc109ITEsaS5mYWxsb2ZmVHlwZSl7Y2FzZSBFZS5GQUxMT0ZGX0dMVEY6clsiTElHSFRfRkFMTE9GRl9HTFRGIitzXT0hMDticmVhaztjYXNlIEVlLkZBTExPRkZfUEhZU0lDQUw6clsiTElHSFRfRkFMTE9GRl9QSFlTSUNBTCIrc109ITA7YnJlYWs7Y2FzZSBFZS5GQUxMT0ZGX1NUQU5EQVJEOnJbIkxJR0hUX0ZBTExPRkZfU1RBTkRBUkQiK3NdPSEwO2JyZWFrfWlmKG4mJiFpLnNwZWN1bGFyLmVxdWFsc0Zsb2F0cygwLDAsMCkmJihhLnNwZWN1bGFyRW5hYmxlZD0hMCksclsiU0hBRE9XIitzXT0hMSxyWyJTSEFET1dDU00iK3NdPSExLHJbIlNIQURPV0NTTURFQlVHIitzXT0hMSxyWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK3NdPSExLHJbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK3NdPSExLHJbIlNIQURPV0NTTU5PQkxFTkQiK3NdPSExLHJbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrc109ITEsclsiU0hBRE9XUENGIitzXT0hMSxyWyJTSEFET1dQQ1NTIitzXT0hMSxyWyJTSEFET1dQT0lTU09OIitzXT0hMSxyWyJTSEFET1dFU00iK3NdPSExLHJbIlNIQURPV0NMT1NFRVNNIitzXT0hMSxyWyJTSEFET1dDVUJFIitzXT0hMSxyWyJTSEFET1dMT1dRVUFMSVRZIitzXT0hMSxyWyJTSEFET1dNRURJVU1RVUFMSVRZIitzXT0hMSx0JiZ0LnJlY2VpdmVTaGFkb3dzJiZlLnNoYWRvd3NFbmFibGVkJiZpLnNoYWRvd0VuYWJsZWQpe2NvbnN0IGg9KG89aS5nZXRTaGFkb3dHZW5lcmF0b3IoZS5hY3RpdmVDYW1lcmEpKSE9PW51bGwmJm8hPT12b2lkIDA/bzppLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKGgpe2NvbnN0IGw9aC5nZXRTaGFkb3dNYXAoKTtsJiZsLnJlbmRlckxpc3QmJmwucmVuZGVyTGlzdC5sZW5ndGg+MCYmKGEuc2hhZG93RW5hYmxlZD0hMCxoLnByZXBhcmVEZWZpbmVzKHIscykpfX1pLmxpZ2h0bWFwTW9kZSE9RWUuTElHSFRNQVBfREVGQVVMVD8oYS5saWdodG1hcE1vZGU9ITAsclsiTElHSFRNQVBFWENMVURFRCIrc109ITAsclsiTElHSFRNQVBOT1NQRUNVTEFSIitzXT1pLmxpZ2h0bWFwTW9kZT09RWUuTElHSFRNQVBfU0hBRE9XU09OTFkpOihyWyJMSUdIVE1BUEVYQ0xVREVEIitzXT0hMSxyWyJMSUdIVE1BUE5PU1BFQ1VMQVIiK3NdPSExKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JMaWdodHMoZSx0LGkscyxyPTQsbj0hMSl7aWYoIWkuX2FyZUxpZ2h0c0RpcnR5KXJldHVybiBpLl9uZWVkTm9ybWFscztsZXQgYT0wO2NvbnN0IG89e25lZWROb3JtYWxzOmkuX25lZWROb3JtYWxzLG5lZWRSZWJ1aWxkOiExLGxpZ2h0bWFwTW9kZTohMSxzaGFkb3dFbmFibGVkOiExLHNwZWN1bGFyRW5hYmxlZDohMX07aWYoZS5saWdodHNFbmFibGVkJiYhbil7Zm9yKGNvbnN0IGwgb2YgdC5saWdodFNvdXJjZXMpaWYodGhpcy5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0KGUsdCxsLGEsaSxzLG8pLGErKyxhPT09cilicmVha31pLlNQRUNVTEFSVEVSTT1vLnNwZWN1bGFyRW5hYmxlZCxpLlNIQURPV1M9by5zaGFkb3dFbmFibGVkO2ZvcihsZXQgbD1hO2w8cjtsKyspaVsiTElHSFQiK2xdIT09dm9pZCAwJiYoaVsiTElHSFQiK2xdPSExLGlbIkhFTUlMSUdIVCIrbF09ITEsaVsiUE9JTlRMSUdIVCIrbF09ITEsaVsiRElSTElHSFQiK2xdPSExLGlbIlNQT1RMSUdIVCIrbF09ITEsaVsiU0hBRE9XIitsXT0hMSxpWyJTSEFET1dDU00iK2xdPSExLGlbIlNIQURPV0NTTURFQlVHIitsXT0hMSxpWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK2xdPSExLGlbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK2xdPSExLGlbIlNIQURPV0NTTU5PQkxFTkQiK2xdPSExLGlbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrbF09ITEsaVsiU0hBRE9XUENGIitsXT0hMSxpWyJTSEFET1dQQ1NTIitsXT0hMSxpWyJTSEFET1dQT0lTU09OIitsXT0hMSxpWyJTSEFET1dFU00iK2xdPSExLGlbIlNIQURPV0NMT1NFRVNNIitsXT0hMSxpWyJTSEFET1dDVUJFIitsXT0hMSxpWyJTSEFET1dMT1dRVUFMSVRZIitsXT0hMSxpWyJTSEFET1dNRURJVU1RVUFMSVRZIitsXT0hMSk7Y29uc3QgaD1lLmdldEVuZ2luZSgpLmdldENhcHMoKTtyZXR1cm4gaS5TSEFET1dGTE9BVD09PXZvaWQgMCYmKG8ubmVlZFJlYnVpbGQ9ITApLGkuU0hBRE9XRkxPQVQ9by5zaGFkb3dFbmFibGVkJiYoaC50ZXh0dXJlRmxvYXRSZW5kZXImJmgudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nfHxoLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJmgudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZyksaS5MSUdIVE1BUEVYQ0xVREVEPW8ubGlnaHRtYXBNb2RlLG8ubmVlZFJlYnVpbGQmJmkucmVidWlsZCgpLG8ubmVlZE5vcm1hbHN9c3RhdGljIFByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzRm9yTGlnaHQoZSx0LGkscyxyPW51bGwsbj0hMSl7ciYmci5wdXNoKCJMaWdodCIrZSksIW4mJih0LnB1c2goInZMaWdodERhdGEiK2UsInZMaWdodERpZmZ1c2UiK2UsInZMaWdodFNwZWN1bGFyIitlLCJ2TGlnaHREaXJlY3Rpb24iK2UsInZMaWdodEZhbGxvZmYiK2UsInZMaWdodEdyb3VuZCIrZSwibGlnaHRNYXRyaXgiK2UsInNoYWRvd3NJbmZvIitlLCJkZXB0aFZhbHVlcyIrZSksaS5wdXNoKCJzaGFkb3dTYW1wbGVyIitlKSxpLnB1c2goImRlcHRoU2FtcGxlciIrZSksdC5wdXNoKCJ2aWV3RnJ1c3R1bVoiK2UsImNhc2NhZGVCbGVuZEZhY3RvciIrZSwibGlnaHRTaXplVVZDb3JyZWN0aW9uIitlLCJkZXB0aENvcnJlY3Rpb24iK2UsInBlbnVtYnJhRGFya25lc3MiK2UsImZydXN0dW1MZW5ndGhzIitlKSxzJiYoaS5wdXNoKCJwcm9qZWN0aW9uTGlnaHRTYW1wbGVyIitlKSx0LnB1c2goInRleHR1cmVQcm9qZWN0aW9uTWF0cml4IitlKSkpfXN0YXRpYyBQcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3QoZSx0LGkscz00KXtsZXQgcixuPW51bGw7aWYoZS51bmlmb3Jtc05hbWVzKXtjb25zdCBhPWU7cj1hLnVuaWZvcm1zTmFtZXMsbj1hLnVuaWZvcm1CdWZmZXJzTmFtZXMsdD1hLnNhbXBsZXJzLGk9YS5kZWZpbmVzLHM9YS5tYXhTaW11bHRhbmVvdXNMaWdodHN8fDB9ZWxzZSByPWUsdHx8KHQ9W10pO2ZvcihsZXQgYT0wO2E8cyYmaVsiTElHSFQiK2FdO2ErKyl0aGlzLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzRm9yTGlnaHQoYSxyLHQsaVsiUFJPSkVDVEVETElHSFRURVhUVVJFIithXSxuKTtpLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUyYmci5wdXNoKCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiKSxpLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmKHIucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5ncyIpLHIucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkIiksci5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRpbWUiKSx0LnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSIpKX1zdGF0aWMgSGFuZGxlRmFsbGJhY2tzRm9yU2hhZG93cyhlLHQsaT00LHM9MCl7bGV0IHI9MDtmb3IobGV0IG49MDtuPGkmJmVbIkxJR0hUIituXTtuKyspbj4wJiYocj1zK24sdC5hZGRGYWxsYmFjayhyLCJMSUdIVCIrbikpLGUuU0hBRE9XU3x8KGVbIlNIQURPVyIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XIituKSxlWyJTSEFET1dQQ0YiK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV1BDRiIrbiksZVsiU0hBRE9XUENTUyIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XUENTUyIrbiksZVsiU0hBRE9XUE9JU1NPTiIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XUE9JU1NPTiIrbiksZVsiU0hBRE9XRVNNIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dFU00iK24pLGVbIlNIQURPV0NMT1NFRVNNIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dDTE9TRUVTTSIrbikpO3JldHVybiByKyt9c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnMoZSx0LGkpe3RoaXMuX1RtcE1vcnBoSW5mbHVlbmNlcnMuTlVNX01PUlBIX0lORkxVRU5DRVJTPWksdGhpcy5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cyhlLHQsdGhpcy5fVG1wTW9ycGhJbmZsdWVuY2Vycyl9c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGUsdCxpKXtjb25zdCBzPWkuTlVNX01PUlBIX0lORkxVRU5DRVJTO2lmKHM+MCYmY2UuTGFzdENyZWF0ZWRFbmdpbmUpe2NvbnN0IHI9Y2UuTGFzdENyZWF0ZWRFbmdpbmUuZ2V0Q2FwcygpLm1heFZlcnRleEF0dHJpYnMsbj10Lm1vcnBoVGFyZ2V0TWFuYWdlcjtpZihuIT1udWxsJiZuLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cylyZXR1cm47Y29uc3QgYT1uJiZuLnN1cHBvcnRzTm9ybWFscyYmaS5OT1JNQUwsbz1uJiZuLnN1cHBvcnRzVGFuZ2VudHMmJmkuVEFOR0VOVCxoPW4mJm4uc3VwcG9ydHNVVnMmJmkuVVYxO2ZvcihsZXQgbD0wO2w8cztsKyspZS5wdXNoKGcuUG9zaXRpb25LaW5kK2wpLGEmJmUucHVzaChnLk5vcm1hbEtpbmQrbCksbyYmZS5wdXNoKGcuVGFuZ2VudEtpbmQrbCksaCYmZS5wdXNoKGcuVVZLaW5kKyJfIitsKSxlLmxlbmd0aD5yJiZPLkVycm9yKCJDYW5ub3QgYWRkIG1vcmUgdmVydGV4IGF0dHJpYnV0ZXMgZm9yIG1lc2ggIit0Lm5hbWUpfX1zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihlLHQsaSl7aS5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUmJmkuSU5TVEFOQ0VTJiZlLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQiKX1zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JCb25lcyhlLHQsaSxzKXtpLk5VTV9CT05FX0lORkxVRU5DRVJTPjAmJihzLmFkZENQVVNraW5uaW5nRmFsbGJhY2soMCx0KSxlLnB1c2goZy5NYXRyaWNlc0luZGljZXNLaW5kKSxlLnB1c2goZy5NYXRyaWNlc1dlaWdodHNLaW5kKSxpLk5VTV9CT05FX0lORkxVRU5DRVJTPjQmJihlLnB1c2goZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLGUucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpKX1zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoZSx0KXsodC5JTlNUQU5DRVN8fHQuVEhJTl9JTlNUQU5DRVMpJiZ0aGlzLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGUsISF0LlBSRVBBU1NfVkVMT0NJVFkpLHQuSU5TVEFOQ0VTQ09MT1ImJmUucHVzaChnLkNvbG9ySW5zdGFuY2VLaW5kKX1zdGF0aWMgUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoZSx0PSExKXtlLnB1c2goIndvcmxkMCIpLGUucHVzaCgid29ybGQxIiksZS5wdXNoKCJ3b3JsZDIiKSxlLnB1c2goIndvcmxkMyIpLHQmJihlLnB1c2goInByZXZpb3VzV29ybGQwIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMSIpLGUucHVzaCgicHJldmlvdXNXb3JsZDIiKSxlLnB1c2goInByZXZpb3VzV29ybGQzIikpfXN0YXRpYyBCaW5kTGlnaHRQcm9wZXJ0aWVzKGUsdCxpKXtlLnRyYW5zZmVyVG9FZmZlY3QodCxpKyIiKX1zdGF0aWMgQmluZExpZ2h0KGUsdCxpLHMscixuPSEwKXtlLl9iaW5kTGlnaHQodCxpLHMscixuKX1zdGF0aWMgQmluZExpZ2h0cyhlLHQsaSxzLHI9NCl7Y29uc3Qgbj1NYXRoLm1pbih0LmxpZ2h0U291cmNlcy5sZW5ndGgscik7Zm9yKGxldCBhPTA7YTxuO2ErKyl7Y29uc3Qgbz10LmxpZ2h0U291cmNlc1thXTt0aGlzLkJpbmRMaWdodChvLGEsZSxpLHR5cGVvZiBzPT0iYm9vbGVhbiI/czpzLlNQRUNVTEFSVEVSTSx0LnJlY2VpdmVTaGFkb3dzKX19c3RhdGljIEJpbmRGb2dQYXJhbWV0ZXJzKGUsdCxpLHM9ITEpe2UuZm9nRW5hYmxlZCYmdC5hcHBseUZvZyYmZS5mb2dNb2RlIT09YWUuRk9HTU9ERV9OT05FJiYoaS5zZXRGbG9hdDQoInZGb2dJbmZvcyIsZS5mb2dNb2RlLGUuZm9nU3RhcnQsZS5mb2dFbmQsZS5mb2dEZW5zaXR5KSxzPyhlLmZvZ0NvbG9yLnRvTGluZWFyU3BhY2VUb1JlZih0aGlzLl9UZW1wRm9nQ29sb3IsZS5nZXRFbmdpbmUoKS51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucyksaS5zZXRDb2xvcjMoInZGb2dDb2xvciIsdGhpcy5fVGVtcEZvZ0NvbG9yKSk6aS5zZXRDb2xvcjMoInZGb2dDb2xvciIsZS5mb2dDb2xvcikpfXN0YXRpYyBCaW5kQm9uZXNQYXJhbWV0ZXJzKGUsdCxpKXtpZighKCF0fHwhZSkmJihlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmdC5fYm9uZXNDb21wdXRhdGlvbkZvcmNlZFRvQ1BVJiYoZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITEpLGUudXNlQm9uZXMmJmUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZlLnNrZWxldG9uKSl7Y29uc3Qgcz1lLnNrZWxldG9uO2lmKHMuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmdC5nZXRVbmlmb3JtSW5kZXgoImJvbmVUZXh0dXJlV2lkdGgiKT4tMSl7Y29uc3Qgcj1zLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoZSk7dC5zZXRUZXh0dXJlKCJib25lU2FtcGxlciIsciksdC5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCoocy5ib25lcy5sZW5ndGgrMSkpfWVsc2V7Y29uc3Qgcj1zLmdldFRyYW5zZm9ybU1hdHJpY2VzKGUpO3ImJih0LnNldE1hdHJpY2VzKCJtQm9uZXMiLHIpLGkmJmUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXImJmUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgoMikmJihpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF18fChpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF09ci5zbGljZSgpKSx0LnNldE1hdHJpY2VzKCJtUHJldmlvdXNCb25lcyIsaS5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdKSxzZS5fQ29weUJvbmVzVHJhbnNmb3JtYXRpb25NYXRyaWNlcyhyLGkucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXSkpKX19fXN0YXRpYyBfQ29weUJvbmVzVHJhbnNmb3JtYXRpb25NYXRyaWNlcyhlLHQpe3JldHVybiB0LnNldChlKSx0fXN0YXRpYyBCaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT1lLm1vcnBoVGFyZ2V0TWFuYWdlcjshZXx8IWl8fHQuc2V0RmxvYXRBcnJheSgibW9ycGhUYXJnZXRJbmZsdWVuY2VzIixpLmluZmx1ZW5jZXMpfXN0YXRpYyBCaW5kTG9nRGVwdGgoZSx0LGkpe2lmKCFlfHxlLkxPR0FSSVRITUlDREVQVEh8fGUuaW5kZXhPZiYmZS5pbmRleE9mKCJMT0dBUklUSE1JQ0RFUFRIIik+PTApe2NvbnN0IHM9aS5hY3RpdmVDYW1lcmE7cy5tb2RlPT09JC5PUlRIT0dSQVBISUNfQ0FNRVJBJiZPLkVycm9yKCJMb2dhcml0aG1pYyBkZXB0aCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG9ydGhvZ3JhcGhpYyBjYW1lcmFzISIsMjApLHQuc2V0RmxvYXQoImxvZ2FyaXRobWljRGVwdGhDb25zdGFudCIsMi8oTWF0aC5sb2cocy5tYXhaKzEpL01hdGguTE4yKSl9fX1zZS5fVG1wTW9ycGhJbmZsdWVuY2Vycz17TlVNX01PUlBIX0lORkxVRU5DRVJTOjB9LHNlLl9UZW1wRm9nQ29sb3I9cmUuQmxhY2soKTtjbGFzcyBHdHtjb25zdHJ1Y3Rvcigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLm1hc2s9MjU1LHRoaXMuZnVuYz01MTksdGhpcy5mdW5jUmVmPTEsdGhpcy5mdW5jTWFzaz0yNTUsdGhpcy5vcFN0ZW5jaWxGYWlsPTc2ODAsdGhpcy5vcERlcHRoRmFpbD03NjgwLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPTc2ODF9Z2V0IGZ1bmMoKXtyZXR1cm4gdGhpcy5fZnVuY31zZXQgZnVuYyhlKXt0aGlzLl9mdW5jPWV9Z2V0IGZ1bmNSZWYoKXtyZXR1cm4gdGhpcy5fZnVuY1JlZn1zZXQgZnVuY1JlZihlKXt0aGlzLl9mdW5jUmVmPWV9Z2V0IGZ1bmNNYXNrKCl7cmV0dXJuIHRoaXMuX2Z1bmNNYXNrfXNldCBmdW5jTWFzayhlKXt0aGlzLl9mdW5jTWFzaz1lfWdldCBvcFN0ZW5jaWxGYWlsKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9c2V0IG9wU3RlbmNpbEZhaWwoZSl7dGhpcy5fb3BTdGVuY2lsRmFpbD1lfWdldCBvcERlcHRoRmFpbCgpe3JldHVybiB0aGlzLl9vcERlcHRoRmFpbH1zZXQgb3BEZXB0aEZhaWwoZSl7dGhpcy5fb3BEZXB0aEZhaWw9ZX1nZXQgb3BTdGVuY2lsRGVwdGhQYXNzKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbERlcHRoUGFzc31zZXQgb3BTdGVuY2lsRGVwdGhQYXNzKGUpe3RoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lfWdldCBtYXNrKCl7cmV0dXJuIHRoaXMuX21hc2t9c2V0IG1hc2soZSl7dGhpcy5fbWFzaz1lfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZD1lfWdldENsYXNzTmFtZSgpe3JldHVybiJNYXRlcmlhbFN0ZW5jaWxTdGF0ZSJ9Y29weVRvKGUpe25lLkNsb25lKCgpPT5lLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiBuZS5TZXJpYWxpemUodGhpcyl9cGFyc2UoZSx0LGkpe25lLlBhcnNlKCgpPT50aGlzLGUsdCxpKX19VChbeSgpXSxHdC5wcm90b3R5cGUsImZ1bmMiLG51bGwpLFQoW3koKV0sR3QucHJvdG90eXBlLCJmdW5jUmVmIixudWxsKSxUKFt5KCldLEd0LnByb3RvdHlwZSwiZnVuY01hc2siLG51bGwpLFQoW3koKV0sR3QucHJvdG90eXBlLCJvcFN0ZW5jaWxGYWlsIixudWxsKSxUKFt5KCldLEd0LnByb3RvdHlwZSwib3BEZXB0aEZhaWwiLG51bGwpLFQoW3koKV0sR3QucHJvdG90eXBlLCJvcFN0ZW5jaWxEZXB0aFBhc3MiLG51bGwpLFQoW3koKV0sR3QucHJvdG90eXBlLCJtYXNrIixudWxsKSxUKFt5KCldLEd0LnByb3RvdHlwZSwiZW5hYmxlZCIsbnVsbCk7dmFyIGV0OyhmdW5jdGlvbihjKXtjW2MuQ3JlYXRlZD0xXT0iQ3JlYXRlZCIsY1tjLkRpc3Bvc2VkPTJdPSJEaXNwb3NlZCIsY1tjLkdldERlZmluZU5hbWVzPTRdPSJHZXREZWZpbmVOYW1lcyIsY1tjLlByZXBhcmVVbmlmb3JtQnVmZmVyPThdPSJQcmVwYXJlVW5pZm9ybUJ1ZmZlciIsY1tjLklzUmVhZHlGb3JTdWJNZXNoPTE2XT0iSXNSZWFkeUZvclN1Yk1lc2giLGNbYy5QcmVwYXJlRGVmaW5lcz0zMl09IlByZXBhcmVEZWZpbmVzIixjW2MuQmluZEZvclN1Yk1lc2g9NjRdPSJCaW5kRm9yU3ViTWVzaCIsY1tjLlByZXBhcmVFZmZlY3Q9MTI4XT0iUHJlcGFyZUVmZmVjdCIsY1tjLkdldEFuaW1hdGFibGVzPTI1Nl09IkdldEFuaW1hdGFibGVzIixjW2MuR2V0QWN0aXZlVGV4dHVyZXM9NTEyXT0iR2V0QWN0aXZlVGV4dHVyZXMiLGNbYy5IYXNUZXh0dXJlPTEwMjRdPSJIYXNUZXh0dXJlIixjW2MuRmlsbFJlbmRlclRhcmdldFRleHR1cmVzPTIwNDhdPSJGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGNbYy5IYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz00MDk2XT0iSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGNbYy5IYXJkQmluZEZvclN1Yk1lc2g9ODE5Ml09IkhhcmRCaW5kRm9yU3ViTWVzaCJ9KShldHx8KGV0PXt9KSk7Y2xhc3MgRHtnZXQgY2FuUmVuZGVyVG9NUlQoKXtyZXR1cm4hMX1zZXQgYWxwaGEoZSl7aWYodGhpcy5fYWxwaGE9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX2FscGhhO3RoaXMuX2FscGhhPWUsKHQ9PT0xfHxlPT09MSkmJnRoaXMubWFya0FzRGlydHkoRC5NaXNjRGlydHlGbGFnKX1nZXQgYWxwaGEoKXtyZXR1cm4gdGhpcy5fYWxwaGF9c2V0IGJhY2tGYWNlQ3VsbGluZyhlKXt0aGlzLl9iYWNrRmFjZUN1bGxpbmchPT1lJiYodGhpcy5fYmFja0ZhY2VDdWxsaW5nPWUsdGhpcy5tYXJrQXNEaXJ0eShELlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgYmFja0ZhY2VDdWxsaW5nKCl7cmV0dXJuIHRoaXMuX2JhY2tGYWNlQ3VsbGluZ31zZXQgY3VsbEJhY2tGYWNlcyhlKXt0aGlzLl9jdWxsQmFja0ZhY2VzIT09ZSYmKHRoaXMuX2N1bGxCYWNrRmFjZXM9ZSx0aGlzLm1hcmtBc0RpcnR5KEQuVGV4dHVyZURpcnR5RmxhZykpfWdldCBjdWxsQmFja0ZhY2VzKCl7cmV0dXJuIHRoaXMuX2N1bGxCYWNrRmFjZXN9Z2V0IGJsb2NrRGlydHlNZWNoYW5pc20oKXtyZXR1cm4gdGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbX1zZXQgYmxvY2tEaXJ0eU1lY2hhbmlzbShlKXt0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtIT09ZSYmKHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc209ZSxlfHx0aGlzLm1hcmtEaXJ0eSgpKX1hdG9taWNNYXRlcmlhbHNVcGRhdGUoZSl7dGhpcy5ibG9ja0RpcnR5TWVjaGFuaXNtPSEwO3RyeXtlKHRoaXMpfWZpbmFsbHl7dGhpcy5ibG9ja0RpcnR5TWVjaGFuaXNtPSExfX1nZXQgaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlc31zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfWdldCBvbkJpbmRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX29uQmluZE9ic2VydmFibGV8fCh0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfXNldCBvbkJpbmQoZSl7dGhpcy5fb25CaW5kT2JzZXJ2ZXImJnRoaXMub25CaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQmluZE9ic2VydmVyPXRoaXMub25CaW5kT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IG9uVW5CaW5kT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vblVuQmluZE9ic2VydmFibGV8fCh0aGlzLl9vblVuQmluZE9ic2VydmFibGU9bmV3IHcpLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZX1nZXQgb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlfHwodGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZT1uZXcgdyksdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZX1zZXQgYWxwaGFNb2RlKGUpe3RoaXMuX2FscGhhTW9kZSE9PWUmJih0aGlzLl9hbHBoYU1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KEQuVGV4dHVyZURpcnR5RmxhZykpfWdldCBhbHBoYU1vZGUoKXtyZXR1cm4gdGhpcy5fYWxwaGFNb2RlfXNldCBuZWVkRGVwdGhQcmVQYXNzKGUpe3RoaXMuX25lZWREZXB0aFByZVBhc3MhPT1lJiYodGhpcy5fbmVlZERlcHRoUHJlUGFzcz1lLHRoaXMuX25lZWREZXB0aFByZVBhc3MmJih0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMCkpfWdldCBuZWVkRGVwdGhQcmVQYXNzKCl7cmV0dXJuIHRoaXMuX25lZWREZXB0aFByZVBhc3N9Z2V0IGlzUHJlUGFzc0NhcGFibGUoKXtyZXR1cm4hMX1zZXQgZm9nRW5hYmxlZChlKXt0aGlzLl9mb2dFbmFibGVkIT09ZSYmKHRoaXMuX2ZvZ0VuYWJsZWQ9ZSx0aGlzLm1hcmtBc0RpcnR5KEQuTWlzY0RpcnR5RmxhZykpfWdldCBmb2dFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ZvZ0VuYWJsZWR9Z2V0IHdpcmVmcmFtZSgpe3N3aXRjaCh0aGlzLl9maWxsTW9kZSl7Y2FzZSBELldpcmVGcmFtZUZpbGxNb2RlOmNhc2UgRC5MaW5lTGlzdERyYXdNb2RlOmNhc2UgRC5MaW5lTG9vcERyYXdNb2RlOmNhc2UgRC5MaW5lU3RyaXBEcmF3TW9kZTpyZXR1cm4hMH1yZXR1cm4gdGhpcy5fc2NlbmUuZm9yY2VXaXJlZnJhbWV9c2V0IHdpcmVmcmFtZShlKXt0aGlzLmZpbGxNb2RlPWU/RC5XaXJlRnJhbWVGaWxsTW9kZTpELlRyaWFuZ2xlRmlsbE1vZGV9Z2V0IHBvaW50c0Nsb3VkKCl7c3dpdGNoKHRoaXMuX2ZpbGxNb2RlKXtjYXNlIEQuUG9pbnRGaWxsTW9kZTpjYXNlIEQuUG9pbnRMaXN0RHJhd01vZGU6cmV0dXJuITB9cmV0dXJuIHRoaXMuX3NjZW5lLmZvcmNlUG9pbnRzQ2xvdWR9c2V0IHBvaW50c0Nsb3VkKGUpe3RoaXMuZmlsbE1vZGU9ZT9ELlBvaW50RmlsbE1vZGU6RC5UcmlhbmdsZUZpbGxNb2RlfWdldCBmaWxsTW9kZSgpe3JldHVybiB0aGlzLl9maWxsTW9kZX1zZXQgZmlsbE1vZGUoZSl7dGhpcy5fZmlsbE1vZGUhPT1lJiYodGhpcy5fZmlsbE1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KEQuTWlzY0RpcnR5RmxhZykpfV9nZXREcmF3V3JhcHBlcigpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlcn1fc2V0RHJhd1dyYXBwZXIoZSl7dGhpcy5fZHJhd1dyYXBwZXI9ZX1jb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5zaGFkb3dEZXB0aFdyYXBwZXI9bnVsbCx0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITAsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMSx0aGlzLnN0YXRlPSIiLHRoaXMuX2FscGhhPTEsdGhpcy5fYmFja0ZhY2VDdWxsaW5nPSEwLHRoaXMuX2N1bGxCYWNrRmFjZXM9ITAsdGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMSx0aGlzLm9uQ29tcGlsZWQ9bnVsbCx0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLmdldFJlbmRlclRhcmdldFRleHR1cmVzPW51bGwsdGhpcy5kb05vdFNlcmlhbGl6ZT0hMSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSExLHRoaXMuYW5pbWF0aW9ucz1udWxsLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX29uQmluZE9ic2VydmVyPW51bGwsdGhpcy5fYWxwaGFNb2RlPTIsdGhpcy5fbmVlZERlcHRoUHJlUGFzcz0hMSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlPSExLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGU9ITEsdGhpcy5mb3JjZURlcHRoV3JpdGU9ITEsdGhpcy5kZXB0aEZ1bmN0aW9uPTAsdGhpcy5zZXBhcmF0ZUN1bGxpbmdQYXNzPSExLHRoaXMuX2ZvZ0VuYWJsZWQ9ITAsdGhpcy5wb2ludFNpemU9MSx0aGlzLnpPZmZzZXQ9MCx0aGlzLnpPZmZzZXRVbml0cz0wLHRoaXMuc3RlbmNpbD1uZXcgR3QsdGhpcy5fdXNlVUJPPSExLHRoaXMuX2ZpbGxNb2RlPUQuVHJpYW5nbGVGaWxsTW9kZSx0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9ITEsdGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZT0wLHRoaXMuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSExLHRoaXMuX2V2ZW50SW5mbz17fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYz0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaD0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9mb3JjZUFscGhhVGVzdD0hMSx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPW51bGwsdGhpcy5uYW1lPWU7Y29uc3Qgcz10fHxjZS5MYXN0Q3JlYXRlZFNjZW5lO3MmJih0aGlzLl9zY2VuZT1zLHRoaXMuX2RpcnR5Q2FsbGJhY2tzPXt9LHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzFdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1syXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzRdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzhdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzE2XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1szMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzUHJlUGFzc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbNjNdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0FsbERpcnR5LmJpbmQodGhpcyksdGhpcy5pZD1lfHxYLlJhbmRvbUlkKCksdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX21hdGVyaWFsQ29udGV4dD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jcmVhdGVNYXRlcmlhbENvbnRleHQoKSx0aGlzLl9kcmF3V3JhcHBlcj1uZXcgdmkodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksITEpLHRoaXMuX2RyYXdXcmFwcGVyLm1hdGVyaWFsQ29udGV4dD10aGlzLl9tYXRlcmlhbENvbnRleHQsdGhpcy5fc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0/dGhpcy5zaWRlT3JpZW50YXRpb249RC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb246dGhpcy5zaWRlT3JpZW50YXRpb249RC5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uLHRoaXMuX3VuaWZvcm1CdWZmZXI9bmV3IFYodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCxlKSx0aGlzLl91c2VVQk89dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMsaXx8dGhpcy5fc2NlbmUuYWRkTWF0ZXJpYWwodGhpcyksdGhpcy5fc2NlbmUudXNlTWF0ZXJpYWxNZXNoTWFwJiYodGhpcy5tZXNoTWFwPXt9KSxELk9uRXZlbnRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLGV0LkNyZWF0ZWQpKX10b1N0cmluZyhlKXtyZXR1cm4iTmFtZTogIit0aGlzLm5hbWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsIn1nZXQgX2lzTWF0ZXJpYWwoKXtyZXR1cm4hMH1nZXQgaXNGcm96ZW4oKXtyZXR1cm4gdGhpcy5jaGVja1JlYWR5T25seU9uY2V9ZnJlZXplKCl7dGhpcy5tYXJrRGlydHkoKSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMH11bmZyZWV6ZSgpe3RoaXMubWFya0RpcnR5KCksdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITF9aXNSZWFkeShlLHQpe3JldHVybiEwfWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXtjb25zdCBzPXQubWF0ZXJpYWxEZWZpbmVzO3JldHVybiBzPyh0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2g9ITAsdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9cyx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2gpOiExfWdldEVmZmVjdCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0IHRyYW5zcGFyZW5jeU1vZGUoKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5TW9kZX1zZXQgdHJhbnNwYXJlbmN5TW9kZShlKXt0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09ZSYmKHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9ZSx0aGlzLl9mb3JjZUFscGhhVGVzdD1lPT09RC5NQVRFUklBTF9BTFBIQVRFU1RBTkRCTEVORCx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSgpKX1nZXQgX2Rpc2FibGVBbHBoYUJsZW5kaW5nKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1ELk1BVEVSSUFMX09QQVFVRXx8dGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09PUQuTUFURVJJQUxfQUxQSEFURVNUfW5lZWRBbHBoYUJsZW5kaW5nKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOnRoaXMuYWxwaGE8MX1uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSl7cmV0dXJuIGUudmlzaWJpbGl0eTwxPyEwOnRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOmUuaGFzVmVydGV4QWxwaGF8fHRoaXMubmVlZEFscGhhQmxlbmRpbmcoKX1uZWVkQWxwaGFUZXN0aW5nKCl7cmV0dXJuISF0aGlzLl9mb3JjZUFscGhhVGVzdH1fc2hvdWxkVHVybkFscGhhVGVzdE9uKGUpe3JldHVybiF0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlKSYmdGhpcy5uZWVkQWxwaGFUZXN0aW5nKCl9Z2V0QWxwaGFUZXN0VGV4dHVyZSgpe3JldHVybiBudWxsfW1hcmtEaXJ0eShlPSExKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7Zm9yKGNvbnN0IGkgb2YgdClpZihpLnN1Yk1lc2hlcylmb3IoY29uc3QgcyBvZiBpLnN1Yk1lc2hlcylzLmdldE1hdGVyaWFsKCk9PT10aGlzJiZzLmVmZmVjdCYmKHMuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEscy5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz1udWxsLHMuZWZmZWN0Ll9mb3JjZVJlYmluZE9uTmV4dENhbGw9ZSk7ZSYmdGhpcy5tYXJrQXNEaXJ0eShELkFsbERpcnR5RmxhZyl9X3ByZUJpbmQoZSx0PW51bGwpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj0odD8/dGhpcy5zaWRlT3JpZW50YXRpb24pPT09RC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb247cmV0dXJuIGkuZW5hYmxlRWZmZWN0KGV8fHRoaXMuX2dldERyYXdXcmFwcGVyKCkpLGkuc2V0U3RhdGUodGhpcy5iYWNrRmFjZUN1bGxpbmcsdGhpcy56T2Zmc2V0LCExLHIsdGhpcy5fc2NlbmUuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24/IXRoaXMuY3VsbEJhY2tGYWNlczp0aGlzLmN1bGxCYWNrRmFjZXMsdGhpcy5zdGVuY2lsLHRoaXMuek9mZnNldFVuaXRzKSxyfWJpbmQoZSx0KXt9YnVpbGRVbmlmb3JtTGF5b3V0KCl7Y29uc3QgZT10aGlzLl91bmlmb3JtQnVmZmVyO3RoaXMuX2V2ZW50SW5mby51Ym89ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhldC5QcmVwYXJlVW5pZm9ybUJ1ZmZlcix0aGlzLl9ldmVudEluZm8pLGUuY3JlYXRlKCksdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSEwfWJpbmRGb3JTdWJNZXNoKGUsdCxpKXtjb25zdCBzPWkuZWZmZWN0O3MmJih0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1pLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLHMuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbD0hMSl9YmluZE9ubHlXb3JsZE1hdHJpeChlKXt9YmluZFZpZXcoZSl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDplLnNldE1hdHJpeCgidmlldyIsdGhpcy5nZXRTY2VuZSgpLmdldFZpZXdNYXRyaXgoKSl9YmluZFZpZXdQcm9qZWN0aW9uKGUpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6KGUuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFRyYW5zZm9ybU1hdHJpeCgpKSxlLnNldE1hdHJpeCgicHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFByb2plY3Rpb25NYXRyaXgoKSkpfWJpbmRFeWVQb3NpdGlvbihlLHQpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6dGhpcy5fc2NlbmUuYmluZEV5ZVBvc2l0aW9uKGUsdCl9X2FmdGVyQmluZChlLHQ9bnVsbCl7aWYodGhpcy5fc2NlbmUuX2NhY2hlZE1hdGVyaWFsPXRoaXMsdGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvJiZ0JiYodGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSExLHNlLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXIodCx0aGlzLmdldFNjZW5lKCkuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSksZT90aGlzLl9zY2VuZS5fY2FjaGVkVmlzaWJpbGl0eT1lLnZpc2liaWxpdHk6dGhpcy5fc2NlbmUuX2NhY2hlZFZpc2liaWxpdHk9MSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlKXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZERlcHRoV3JpdGVTdGF0ZT1pLmdldERlcHRoV3JpdGUoKSxpLnNldERlcHRoV3JpdGUoITEpfWlmKHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPWkuZ2V0Q29sb3JXcml0ZSgpLGkuc2V0Q29sb3JXcml0ZSghMSl9aWYodGhpcy5kZXB0aEZ1bmN0aW9uIT09MCl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9aS5nZXREZXB0aEZ1bmN0aW9uKCl8fDAsaS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuZGVwdGhGdW5jdGlvbil9fXVuYmluZCgpe3RoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmRlcHRoRnVuY3Rpb24hPT0wJiZ0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZSksdGhpcy5kaXNhYmxlRGVwdGhXcml0ZSYmdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc2V0RGVwdGhXcml0ZSh0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGUpLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUmJnRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnNldENvbG9yV3JpdGUodGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlKX1nZXRBbmltYXRhYmxlcygpe3JldHVybiB0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXM9W10sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoZXQuR2V0QW5pbWF0YWJsZXMsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXN9Z2V0QWN0aXZlVGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzPVtdLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKGV0LkdldEFjdGl2ZVRleHR1cmVzLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzfWhhc1RleHR1cmUoZSl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlPSExLHRoaXMuX2V2ZW50SW5mby50ZXh0dXJlPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoZXQuSGFzVGV4dHVyZSx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlfWNsb25lKGUpe3JldHVybiBudWxsfWdldEJpbmRlZE1lc2hlcygpe2lmKHRoaXMubWVzaE1hcCl7Y29uc3QgZT1uZXcgQXJyYXk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5tZXNoTWFwKXtjb25zdCBpPXRoaXMubWVzaE1hcFt0XTtpJiZlLnB1c2goaSl9cmV0dXJuIGV9ZWxzZSByZXR1cm4gdGhpcy5fc2NlbmUubWVzaGVzLmZpbHRlcih0PT50Lm1hdGVyaWFsPT09dGhpcyl9Zm9yY2VDb21waWxhdGlvbihlLHQsaSxzKXtjb25zdCByPXtjbGlwUGxhbmU6ITEsdXNlSW5zdGFuY2VzOiExLC4uLml9LG49dGhpcy5nZXRTY2VuZSgpLGE9dGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nO3RoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMTtjb25zdCBvPSgpPT57aWYoIXRoaXMuX3NjZW5lfHwhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkpcmV0dXJuO2NvbnN0IGg9bi5jbGlwUGxhbmU7aWYoci5jbGlwUGxhbmUmJihuLmNsaXBQbGFuZT1uZXcgTXQoMCwwLDAsMSkpLHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2xldCBsPSEwLHU9bnVsbDtpZihlLnN1Yk1lc2hlcyl7Y29uc3QgZD1uZXcgVHQoMCwwLDAsMCwwLGUsdm9pZCAwLCExLCExKTtkLm1hdGVyaWFsRGVmaW5lcyYmKGQubWF0ZXJpYWxEZWZpbmVzLl9yZW5kZXJJZD0tMSksdGhpcy5pc1JlYWR5Rm9yU3ViTWVzaChlLGQsci51c2VJbnN0YW5jZXMpfHwoZC5lZmZlY3QmJmQuZWZmZWN0LmdldENvbXBpbGF0aW9uRXJyb3IoKSYmZC5lZmZlY3QuYWxsRmFsbGJhY2tzUHJvY2Vzc2VkKCk/dT1kLmVmZmVjdC5nZXRDb21waWxhdGlvbkVycm9yKCk6KGw9ITEsc2V0VGltZW91dChvLDE2KSkpfWwmJih0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9YSx1JiZzJiZzKHUpLHQmJnQodGhpcykpfWVsc2UgdGhpcy5pc1JlYWR5KCk/KHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz1hLHQmJnQodGhpcykpOnNldFRpbWVvdXQobywxNik7ci5jbGlwUGxhbmUmJihuLmNsaXBQbGFuZT1oKX07bygpfWZvcmNlQ29tcGlsYXRpb25Bc3luYyhlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoaSxzKT0+e3RoaXMuZm9yY2VDb21waWxhdGlvbihlLCgpPT57aSgpfSx0LHI9PntzKHIpfSl9KX1tYXJrQXNEaXJ0eShlKXt0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfHx0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtfHwoRC5fRGlydHlDYWxsYmFja0FycmF5Lmxlbmd0aD0wLGUmRC5UZXh0dXJlRGlydHlGbGFnJiZELl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChELl9UZXh0dXJlRGlydHlDYWxsQmFjayksZSZELkxpZ2h0RGlydHlGbGFnJiZELl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChELl9MaWdodHNEaXJ0eUNhbGxCYWNrKSxlJkQuRnJlc25lbERpcnR5RmxhZyYmRC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goRC5fRnJlc25lbERpcnR5Q2FsbEJhY2spLGUmRC5BdHRyaWJ1dGVzRGlydHlGbGFnJiZELl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChELl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrKSxlJkQuTWlzY0RpcnR5RmxhZyYmRC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goRC5fTWlzY0RpcnR5Q2FsbEJhY2spLGUmRC5QcmVQYXNzRGlydHlGbGFnJiZELl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChELl9QcmVQYXNzRGlydHlDYWxsQmFjayksRC5fRGlydHlDYWxsYmFja0FycmF5Lmxlbmd0aCYmdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRC5fUnVuRGlydHlDYWxsQmFja3MpLHRoaXMuZ2V0U2NlbmUoKS5yZXNldENhY2hlZE1hdGVyaWFsKCkpfXJlc2V0RHJhd0NhY2hlKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCB0IG9mIGUpaWYodC5zdWJNZXNoZXMpZm9yKGNvbnN0IGkgb2YgdC5zdWJNZXNoZXMpaS5nZXRNYXRlcmlhbCgpPT09dGhpcyYmaS5yZXNldERyYXdDYWNoZSgpfV9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShlKXtpZih0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfHx0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtKXJldHVybjtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7Zm9yKGNvbnN0IGkgb2YgdClpZihpLnN1Yk1lc2hlcyl7Zm9yKGNvbnN0IHMgb2YgaS5zdWJNZXNoZXMpaWYocy5nZXRNYXRlcmlhbCghMSk9PT10aGlzKWZvcihjb25zdCByIG9mIHMuX2RyYXdXcmFwcGVycykhcnx8IXIuZGVmaW5lc3x8IXIuZGVmaW5lcy5tYXJrQWxsQXNEaXJ0eXx8dGhpcy5fbWF0ZXJpYWxDb250ZXh0PT09ci5tYXRlcmlhbENvbnRleHQmJmUoci5kZWZpbmVzKX19X21hcmtTY2VuZVByZVBhc3NEaXJ0eSgpe2lmKHRoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc218fHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc20pcmV0dXJuO2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpLmVuYWJsZVByZVBhc3NSZW5kZXJlcigpO2UmJmUubWFya0FzRGlydHkoKX1fbWFya0FsbFN1Yk1lc2hlc0FzQWxsRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShELl9BbGxEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShELl9JbWFnZVByb2Nlc3NpbmdEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEQuX1RleHR1cmVEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRC5fRnJlc25lbERpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsQW5kTWlzY0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRC5fRnJlc25lbEFuZE1pc2NEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShELl9MaWdodHNEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRC5fQXR0cmlidXRlRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc01pc2NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEQuX01pc2NEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzUHJlUGFzc0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRC5fTWlzY0RpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEQuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjayl9X2NoZWNrU2NlbmVQZXJmb3JtYW5jZVByaW9yaXR5KCl7aWYodGhpcy5fc2NlbmUucGVyZm9ybWFuY2VQcmlvcml0eSE9PVB0LkJhY2t3YXJkQ29tcGF0aWJsZSl7dGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITA7Y29uc3QgZT10aGlzLl9zY2VuZS5vblNjZW5lUGVyZm9ybWFuY2VQcmlvcml0eUNoYW5nZWRPYnNlcnZhYmxlLmFkZE9uY2UoKCk9Pnt0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMX0pO3RoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLl9zY2VuZS5vblNjZW5lUGVyZm9ybWFuY2VQcmlvcml0eUNoYW5nZWRPYnNlcnZhYmxlLnJlbW92ZShlKX0pfX1zZXRQcmVQYXNzUmVuZGVyZXIoZSl7cmV0dXJuITF9ZGlzcG9zZShlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCk7aWYocy5zdG9wQW5pbWF0aW9uKHRoaXMpLHMuZnJlZVByb2Nlc3NlZE1hdGVyaWFscygpLHMucmVtb3ZlTWF0ZXJpYWwodGhpcyksdGhpcy5fZXZlbnRJbmZvLmZvcmNlRGlzcG9zZVRleHR1cmVzPXQsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoZXQuRGlzcG9zZWQsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IHI9dGhpcy5fcGFyZW50Q29udGFpbmVyLm1hdGVyaWFscy5pbmRleE9mKHRoaXMpO3I+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5tYXRlcmlhbHMuc3BsaWNlKHIsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYoaSE9PSEwKWlmKHRoaXMubWVzaE1hcClmb3IoY29uc3QgciBpbiB0aGlzLm1lc2hNYXApe2NvbnN0IG49dGhpcy5tZXNoTWFwW3JdO24mJihuLm1hdGVyaWFsPW51bGwsdGhpcy5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QobixlKSl9ZWxzZXtjb25zdCByPXMubWVzaGVzO2Zvcihjb25zdCBuIG9mIHIpbi5tYXRlcmlhbD09PXRoaXMmJiFuLnNvdXJjZU1lc2gmJihuLm1hdGVyaWFsPW51bGwsdGhpcy5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QobixlKSl9dGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksZSYmdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0JiYodGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlc3x8dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LmRpc3Bvc2UoKSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9bnVsbCksdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25CaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSYmdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2V2ZW50SW5mbyYmKHRoaXMuX2V2ZW50SW5mbz17fSl9cmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KGUsdCl7aWYoZS5nZW9tZXRyeSl7Y29uc3QgaT1lLmdlb21ldHJ5O2lmKHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKGNvbnN0IHMgb2YgZS5zdWJNZXNoZXMpaS5fcmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHMuZWZmZWN0KSx0JiZzLmVmZmVjdCYmcy5lZmZlY3QuZGlzcG9zZSgpO2Vsc2UgaS5fcmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCl9fXNlcmlhbGl6ZSgpe2NvbnN0IGU9bmUuU2VyaWFsaXplKHRoaXMpO3JldHVybiBlLnN0ZW5jaWw9dGhpcy5zdGVuY2lsLnNlcmlhbGl6ZSgpLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlfXN0YXRpYyBQYXJzZShlLHQsaSl7aWYoIWUuY3VzdG9tVHlwZSllLmN1c3RvbVR5cGU9IkJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCI7ZWxzZSBpZihlLmN1c3RvbVR5cGU9PT0iQkFCWUxPTi5QQlJNYXRlcmlhbCImJmUub3ZlcmxvYWRlZEFsYmVkbyYmKGUuY3VzdG9tVHlwZT0iQkFCWUxPTi5MZWdhY3lQQlJNYXRlcmlhbCIsIUJBQllMT04uTGVnYWN5UEJSTWF0ZXJpYWwpKXJldHVybiBPLkVycm9yKCJZb3VyIHNjZW5lIGlzIHRyeWluZyB0byBsb2FkIGEgbGVnYWN5IHZlcnNpb24gb2YgdGhlIFBCUk1hdGVyaWFsLCBwbGVhc2UsIGluY2x1ZGUgaXQgZnJvbSB0aGUgbWF0ZXJpYWxzIGxpYnJhcnkuIiksbnVsbDtjb25zdCByPVguSW5zdGFudGlhdGUoZS5jdXN0b21UeXBlKS5QYXJzZShlLHQsaSk7cmV0dXJuIHIuX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQscn19RC5UcmlhbmdsZUZpbGxNb2RlPTAsRC5XaXJlRnJhbWVGaWxsTW9kZT0xLEQuUG9pbnRGaWxsTW9kZT0yLEQuUG9pbnRMaXN0RHJhd01vZGU9MyxELkxpbmVMaXN0RHJhd01vZGU9NCxELkxpbmVMb29wRHJhd01vZGU9NSxELkxpbmVTdHJpcERyYXdNb2RlPTYsRC5UcmlhbmdsZVN0cmlwRHJhd01vZGU9NyxELlRyaWFuZ2xlRmFuRHJhd01vZGU9OCxELkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbj0wLEQuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbj0xLEQuVGV4dHVyZURpcnR5RmxhZz0xLEQuTGlnaHREaXJ0eUZsYWc9MixELkZyZXNuZWxEaXJ0eUZsYWc9NCxELkF0dHJpYnV0ZXNEaXJ0eUZsYWc9OCxELk1pc2NEaXJ0eUZsYWc9MTYsRC5QcmVQYXNzRGlydHlGbGFnPTMyLEQuQWxsRGlydHlGbGFnPTYzLEQuTUFURVJJQUxfT1BBUVVFPTAsRC5NQVRFUklBTF9BTFBIQVRFU1Q9MSxELk1BVEVSSUFMX0FMUEhBQkxFTkQ9MixELk1BVEVSSUFMX0FMUEhBVEVTVEFOREJMRU5EPTMsRC5NQVRFUklBTF9OT1JNQUxCTEVORE1FVEhPRF9XSElURU9VVD0wLEQuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfUk5NPTEsRC5PbkV2ZW50T2JzZXJ2YWJsZT1uZXcgdyxjZS5PbkVuZ2luZXNEaXNwb3NlZE9ic2VydmFibGUuYWRkT25jZSgoKT0+e0QuT25FdmVudE9ic2VydmFibGUuY2xlYXIoKX0pLEQuX0FsbERpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQWxsQXNEaXJ0eSgpLEQuX0ltYWdlUHJvY2Vzc2luZ0RpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpLEQuX1RleHR1cmVEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzVGV4dHVyZXNEaXJ0eSgpLEQuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzRnJlc25lbERpcnR5KCksRC5fTWlzY0RpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNNaXNjRGlydHkoKSxELl9QcmVQYXNzRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc1ByZVBhc3NEaXJ0eSgpLEQuX0xpZ2h0c0RpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNMaWdodERpcnR5KCksRC5fQXR0cmlidXRlRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpLEQuX0ZyZXNuZWxBbmRNaXNjRGlydHlDYWxsQmFjaz1jPT57RC5fRnJlc25lbERpcnR5Q2FsbEJhY2soYyksRC5fTWlzY0RpcnR5Q2FsbEJhY2soYyl9LEQuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjaz1jPT57RC5fVGV4dHVyZURpcnR5Q2FsbEJhY2soYyksRC5fTWlzY0RpcnR5Q2FsbEJhY2soYyl9LEQuX0RpcnR5Q2FsbGJhY2tBcnJheT1bXSxELl9SdW5EaXJ0eUNhbGxCYWNrcz1jPT57Zm9yKGNvbnN0IGUgb2YgRC5fRGlydHlDYWxsYmFja0FycmF5KWUoYyl9LFQoW3koKV0sRC5wcm90b3R5cGUsImlkIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbeSgpXSxELnByb3RvdHlwZSwibWV0YWRhdGEiLHZvaWQgMCksVChbeSgpXSxELnByb3RvdHlwZSwiY2hlY2tSZWFkeU9uRXZlcnlDYWxsIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsImNoZWNrUmVhZHlPbmx5T25jZSIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJzdGF0ZSIsdm9pZCAwKSxUKFt5KCJhbHBoYSIpXSxELnByb3RvdHlwZSwiX2FscGhhIix2b2lkIDApLFQoW3koImJhY2tGYWNlQ3VsbGluZyIpXSxELnByb3RvdHlwZSwiX2JhY2tGYWNlQ3VsbGluZyIsdm9pZCAwKSxUKFt5KCJjdWxsQmFja0ZhY2VzIildLEQucHJvdG90eXBlLCJfY3VsbEJhY2tGYWNlcyIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJzaWRlT3JpZW50YXRpb24iLHZvaWQgMCksVChbeSgiYWxwaGFNb2RlIildLEQucHJvdG90eXBlLCJfYWxwaGFNb2RlIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsIl9uZWVkRGVwdGhQcmVQYXNzIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsImRpc2FibGVEZXB0aFdyaXRlIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsImRpc2FibGVDb2xvcldyaXRlIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsImZvcmNlRGVwdGhXcml0ZSIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJkZXB0aEZ1bmN0aW9uIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsInNlcGFyYXRlQ3VsbGluZ1Bhc3MiLHZvaWQgMCksVChbeSgiZm9nRW5hYmxlZCIpXSxELnByb3RvdHlwZSwiX2ZvZ0VuYWJsZWQiLHZvaWQgMCksVChbeSgpXSxELnByb3RvdHlwZSwicG9pbnRTaXplIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsInpPZmZzZXQiLHZvaWQgMCksVChbeSgpXSxELnByb3RvdHlwZSwiek9mZnNldFVuaXRzIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsInBvaW50c0Nsb3VkIixudWxsKSxUKFt5KCldLEQucHJvdG90eXBlLCJmaWxsTW9kZSIsbnVsbCksVChbeSgpXSxELnByb3RvdHlwZSwidHJhbnNwYXJlbmN5TW9kZSIsbnVsbCk7Y2xhc3MgUmkgZXh0ZW5kcyBEe2dldCBzdWJNYXRlcmlhbHMoKXtyZXR1cm4gdGhpcy5fc3ViTWF0ZXJpYWxzfXNldCBzdWJNYXRlcmlhbHMoZSl7dGhpcy5fc3ViTWF0ZXJpYWxzPWUsdGhpcy5faG9va0FycmF5KGUpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuc3ViTWF0ZXJpYWxzfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LCEwKSx0aGlzLl93YWl0aW5nU3ViTWF0ZXJpYWxzVW5pcXVlSWRzPVtdLHRoaXMuZ2V0U2NlbmUoKS5tdWx0aU1hdGVyaWFscy5wdXNoKHRoaXMpLHRoaXMuc3ViTWF0ZXJpYWxzPW5ldyBBcnJheSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSEwfV9ob29rQXJyYXkoZSl7Y29uc3QgdD1lLnB1c2g7ZS5wdXNoPSguLi5zKT0+e2NvbnN0IHI9dC5hcHBseShlLHMpO3JldHVybiB0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCkscn07Y29uc3QgaT1lLnNwbGljZTtlLnNwbGljZT0ocyxyKT0+e2NvbnN0IG49aS5hcHBseShlLFtzLHJdKTtyZXR1cm4gdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpLG59fWdldFN1Yk1hdGVyaWFsKGUpe3JldHVybiBlPDB8fGU+PXRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aD90aGlzLmdldFNjZW5lKCkuZGVmYXVsdE1hdGVyaWFsOnRoaXMuc3ViTWF0ZXJpYWxzW2VdfWdldEFjdGl2ZVRleHR1cmVzKCl7cmV0dXJuIHN1cGVyLmdldEFjdGl2ZVRleHR1cmVzKCkuY29uY2F0KC4uLnRoaXMuc3ViTWF0ZXJpYWxzLm1hcChlPT5lP2UuZ2V0QWN0aXZlVGV4dHVyZXMoKTpbXSkpfWhhc1RleHR1cmUoZSl7dmFyIHQ7aWYoc3VwZXIuaGFzVGV4dHVyZShlKSlyZXR1cm4hMDtmb3IobGV0IGk9MDtpPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtpKyspaWYoISgodD10aGlzLnN1Yk1hdGVyaWFsc1tpXSk9PT1udWxsfHx0PT09dm9pZCAwKSYmdC5oYXNUZXh0dXJlKGUpKXJldHVybiEwO3JldHVybiExfWdldENsYXNzTmFtZSgpe3JldHVybiJNdWx0aU1hdGVyaWFsIn1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7Zm9yKGxldCBzPTA7czx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuc3ViTWF0ZXJpYWxzW3NdO2lmKHIpe2lmKHIuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFyLmlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKSlyZXR1cm4hMTtjb250aW51ZX1pZighci5pc1JlYWR5KGUpKXJldHVybiExfX1yZXR1cm4hMH1jbG9uZShlLHQpe2NvbnN0IGk9bmV3IFJpKGUsdGhpcy5nZXRTY2VuZSgpKTtmb3IobGV0IHM9MDtzPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtzKyspe2xldCByPW51bGw7Y29uc3Qgbj10aGlzLnN1Yk1hdGVyaWFsc1tzXTt0JiZuP3I9bi5jbG9uZShlKyItIituLm5hbWUpOnI9dGhpcy5zdWJNYXRlcmlhbHNbc10saS5zdWJNYXRlcmlhbHMucHVzaChyKX1yZXR1cm4gaX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O2UubmFtZT10aGlzLm5hbWUsZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxmZSYmKGUudGFncz1mZS5HZXRUYWdzKHRoaXMpKSxlLm1hdGVyaWFsc1VuaXF1ZUlkcz1bXSxlLm1hdGVyaWFscz1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5zdWJNYXRlcmlhbHNbdF07aT8oZS5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChpLnVuaXF1ZUlkKSxlLm1hdGVyaWFscy5wdXNoKGkuaWQpKTooZS5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChudWxsKSxlLm1hdGVyaWFscy5wdXNoKG51bGwpKX1yZXR1cm4gZX1kaXNwb3NlKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKTtpZighcylyZXR1cm47aWYoaSlmb3IobGV0IG49MDtuPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtuKyspe2NvbnN0IGE9dGhpcy5zdWJNYXRlcmlhbHNbbl07YSYmYS5kaXNwb3NlKGUsdCl9Y29uc3Qgcj1zLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7cj49MCYmcy5tdWx0aU1hdGVyaWFscy5zcGxpY2UociwxKSxzdXBlci5kaXNwb3NlKGUsdCl9c3RhdGljIFBhcnNlTXVsdGlNYXRlcmlhbChlLHQpe2NvbnN0IGk9bmV3IFJpKGUubmFtZSx0KTtyZXR1cm4gaS5pZD1lLmlkLGkuX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQsZmUmJmZlLkFkZFRhZ3NUbyhpLGUudGFncyksZS5tYXRlcmlhbHNVbmlxdWVJZHM/aS5fd2FpdGluZ1N1Yk1hdGVyaWFsc1VuaXF1ZUlkcz1lLm1hdGVyaWFsc1VuaXF1ZUlkczplLm1hdGVyaWFscy5mb3JFYWNoKHM9Pmkuc3ViTWF0ZXJpYWxzLnB1c2godC5nZXRMYXN0TWF0ZXJpYWxCeUlkKHMpKSksaX19c3QoIkJBQllMT04uTXVsdGlNYXRlcmlhbCIsUmkpO2NsYXNzIEtue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U9ZSx0aGlzLm1lc2g9dH19Y2xhc3MgWW57Y29uc3RydWN0b3IoKXt0aGlzLnZpc2libGVJbnN0YW5jZXM9e30sdGhpcy5iYXRjaENhY2hlPW5ldyBPcix0aGlzLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGU9bmV3IE9yLHRoaXMuaW5zdGFuY2VzQnVmZmVyU2l6ZT0zMioxNio0fX1jbGFzcyBPcntjb25zdHJ1Y3Rvcigpe3RoaXMubXVzdFJldHVybj0hMSx0aGlzLnZpc2libGVJbnN0YW5jZXM9bmV3IEFycmF5LHRoaXMucmVuZGVyU2VsZj1uZXcgQXJyYXksdGhpcy5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZz1uZXcgQXJyYXl9fWNsYXNzIFpue2NvbnN0cnVjdG9yKCl7dGhpcy5pbnN0YW5jZXNDb3VudD0wLHRoaXMubWF0cml4QnVmZmVyPW51bGwsdGhpcy5wcmV2aW91c01hdHJpeEJ1ZmZlcj1udWxsLHRoaXMubWF0cml4QnVmZmVyU2l6ZT0zMioxNix0aGlzLm1hdHJpeERhdGE9bnVsbCx0aGlzLmJvdW5kaW5nVmVjdG9ycz1bXSx0aGlzLndvcmxkTWF0cmljZXM9bnVsbH19Y2xhc3MgcW57Y29uc3RydWN0b3IoKXt0aGlzLl9hcmVOb3JtYWxzRnJvemVuPSExLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMubWVzaE1hcD1udWxsLHRoaXMuX3ByZUFjdGl2YXRlSWQ9LTEsdGhpcy5fTE9ETGV2ZWxzPW5ldyBBcnJheSx0aGlzLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT0hMSx0aGlzLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHRoaXMuX2ZvcmNlZEluc3RhbmNlQ291bnQ9MCx0aGlzLl9vdmVycmlkZVJlbmRlcmluZ0ZpbGxNb2RlPW51bGx9fWNsYXNzIHogZXh0ZW5kcyBodHtzdGF0aWMgX0dldERlZmF1bHRTaWRlT3JpZW50YXRpb24oZSl7cmV0dXJuIGV8fHouRlJPTlRTSURFfWdldCB1c2VMT0RTY3JlZW5Db3ZlcmFnZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2V9c2V0IHVzZUxPRFNjcmVlbkNvdmVyYWdlKGUpe3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT1lLHRoaXMuX3NvcnRMT0RMZXZlbHMoKX1nZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc31zZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PWUmJihlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zJiYodGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucywhMCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHMmJnRoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscywhMCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucz1udWxsLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzPW51bGwpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlfWdldCBvbkJlZm9yZUJpbmRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGU9bmV3IHcpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfWdldCBvbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IHcpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZX1nZXQgb25CZXR3ZWVuUGFzc09ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGV9Z2V0IG9uQmVmb3JlRHJhd09ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZT1uZXcgdyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV9c2V0IG9uQmVmb3JlRHJhdyhlKXt0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlciYmdGhpcy5vbkJlZm9yZURyYXdPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlciksdGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZURyYXdPYnNlcnZhYmxlLmFkZChlKX1nZXQgaGFzSW5zdGFuY2VzKCl7cmV0dXJuIHRoaXMuaW5zdGFuY2VzLmxlbmd0aD4wfWdldCBoYXNUaGluSW5zdGFuY2VzKCl7dmFyIGU7cmV0dXJuKChlPXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50KSE9PW51bGwmJmUhPT12b2lkIDA/ZTowKT4wfWdldCBmb3JjZWRJbnN0YW5jZUNvdW50KCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9mb3JjZWRJbnN0YW5jZUNvdW50fXNldCBmb3JjZWRJbnN0YW5jZUNvdW50KGUpe3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9mb3JjZWRJbnN0YW5jZUNvdW50PWV9Z2V0IG92ZXJyaWRlUmVuZGVyaW5nRmlsbE1vZGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX292ZXJyaWRlUmVuZGVyaW5nRmlsbE1vZGV9c2V0IG92ZXJyaWRlUmVuZGVyaW5nRmlsbE1vZGUoZSl7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX292ZXJyaWRlUmVuZGVyaW5nRmlsbE1vZGU9ZX1nZXQgc291cmNlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2V9Z2V0IGNsb25lTWVzaE1hcCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfWdldCBpc1VuSW5kZXhlZCgpe3JldHVybiB0aGlzLl91bkluZGV4ZWR9c2V0IGlzVW5JbmRleGVkKGUpe3RoaXMuX3VuSW5kZXhlZCE9PWUmJih0aGlzLl91bkluZGV4ZWQ9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IHdvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzRGF0YX1nZXQgcHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc1ByZXZpb3VzRGF0YX1nZXQgbWFudWFsVXBkYXRlT2ZXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZX1zZXQgbWFudWFsVXBkYXRlT2ZXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcihlKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZT1lfWdldCBtYW51YWxVcGRhdGVPZlByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZX1zZXQgbWFudWFsVXBkYXRlT2ZQcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGU9ZX1nZXQgZm9yY2VXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlclVwZGF0ZSgpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmZvcmNlTWF0cml4VXBkYXRlc31zZXQgZm9yY2VXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlclVwZGF0ZShlKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmZvcmNlTWF0cml4VXBkYXRlcz1lfWNvbnN0cnVjdG9yKGUsdD1udWxsLGk9bnVsbCxzPW51bGwscixuPSEwKXtpZihzdXBlcihlLHQpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvPW5ldyBxbix0aGlzLmRlbGF5TG9hZFN0YXRlPTAsdGhpcy5pbnN0YW5jZXM9bmV3IEFycmF5LHRoaXMuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9bnVsbCx0aGlzLl9nZW9tZXRyeT1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2U9bmV3IFluLHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlPW5ldyBabix0aGlzLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPSExLHRoaXMuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj16LkRFRkFVTFRTSURFLHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj1udWxsLHRoaXMuaWdub3JlQ2FtZXJhTWF4Wj0hMSx0PXRoaXMuZ2V0U2NlbmUoKSx0aGlzLl9vbkJlZm9yZURyYXc9KGEsbyxoKT0+e2EmJmgmJih0aGlzLl91bmlmb3JtQnVmZmVyP3RoaXMudHJhbnNmZXJUb0VmZmVjdChvKTpoLmJpbmRPbmx5V29ybGRNYXRyaXgobykpfSxzKXtpZihzLl9nZW9tZXRyeSYmcy5fZ2VvbWV0cnkuYXBwbHlUb01lc2godGhpcyksTXMuRGVlcENvcHkocyx0aGlzLFsibmFtZSIsIm1hdGVyaWFsIiwic2tlbGV0b24iLCJpbnN0YW5jZXMiLCJwYXJlbnQiLCJ1bmlxdWVJZCIsInNvdXJjZSIsIm1ldGFkYXRhIiwibW9ycGhUYXJnZXRNYW5hZ2VyIiwiaGFzSW5zdGFuY2VzIiwid29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLCJwcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIiwiaGFzTE9ETGV2ZWxzIiwiZ2VvbWV0cnkiLCJpc0Jsb2NrZWQiLCJhcmVOb3JtYWxzRnJvemVuIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImxpZ2h0U291cmNlcyIsInVzZUJvbmVzIiwiaXNBbkluc3RhbmNlIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiLCJjbG9uZU1lc2hNYXAiLCJoYXNCb3VuZGluZ0luZm8iXSxbIl9wb3NlTWF0cml4Il0pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9cyx0LnVzZUNsb25lZE1lc2hNYXAmJihzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfHwocy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcD17fSkscy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT10aGlzKSx0aGlzLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249cy5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uLHRoaXMuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9cy5fY3JlYXRpb25EYXRhU3RvcmFnZSxzLl9yYW5nZXMpe2NvbnN0IGE9cy5fcmFuZ2VzO2Zvcihjb25zdCBvIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsbykmJmFbb10mJnRoaXMuY3JlYXRlQW5pbWF0aW9uUmFuZ2UobyxhW29dLmZyb20sYVtvXS50byl9aWYocy5tZXRhZGF0YSYmcy5tZXRhZGF0YS5jbG9uZT90aGlzLm1ldGFkYXRhPXMubWV0YWRhdGEuY2xvbmUoKTp0aGlzLm1ldGFkYXRhPXMubWV0YWRhdGEsdGhpcy5faW50ZXJuYWxNZXRhZGF0YT1zLl9pbnRlcm5hbE1ldGFkYXRhLGZlJiZmZS5IYXNUYWdzKHMpJiZmZS5BZGRUYWdzVG8odGhpcyxmZS5HZXRUYWdzKHMsITApKSx0aGlzLnNldEVuYWJsZWQocy5pc0VuYWJsZWQoITEpKSx0aGlzLnBhcmVudD1zLnBhcmVudCx0aGlzLnNldFBpdm90TWF0cml4KHMuZ2V0UGl2b3RNYXRyaXgoKSksdGhpcy5pZD1lKyIuIitzLmlkLHRoaXMubWF0ZXJpYWw9cy5tYXRlcmlhbCwhcil7Y29uc3QgYT1zLmdldERlc2NlbmRhbnRzKCEwKTtmb3IobGV0IG89MDtvPGEubGVuZ3RoO28rKyl7Y29uc3QgaD1hW29dO2guY2xvbmUmJmguY2xvbmUoZSsiLiIraC5uYW1lLHRoaXMpfX1pZihzLm1vcnBoVGFyZ2V0TWFuYWdlciYmKHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPXMubW9ycGhUYXJnZXRNYW5hZ2VyKSx0LmdldFBoeXNpY3NFbmdpbmUpe2NvbnN0IGE9dC5nZXRQaHlzaWNzRW5naW5lKCk7aWYobiYmYSlpZihhLmdldFBsdWdpblZlcnNpb24oKT09PTEpe2NvbnN0IG89YS5nZXRJbXBvc3RvckZvclBoeXNpY3NPYmplY3Qocyk7byYmKHRoaXMucGh5c2ljc0ltcG9zdG9yPW8uY2xvbmUodGhpcykpfWVsc2UgYS5nZXRQbHVnaW5WZXJzaW9uKCk9PT0yJiZzLnBoeXNpY3NCb2R5JiZzLnBoeXNpY3NCb2R5LmNsb25lKHRoaXMpfWZvcihsZXQgYT0wO2E8dC5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz10LnBhcnRpY2xlU3lzdGVtc1thXTtvLmVtaXR0ZXI9PT1zJiZvLmNsb25lKG8ubmFtZSx0aGlzKX10aGlzLnNrZWxldG9uPXMuc2tlbGV0b24sdGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCEwLCEwKSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9aSE9PW51bGwmJih0aGlzLnBhcmVudD1pKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nPXRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25NZXNoUmVhZHlPYnNlcnZlckFkZGVkPWE9PnthLnVucmVnaXN0ZXJPbk5leHRDYWxsPSEwLHRoaXMuaXNSZWFkeSghMCk/dGhpcy5vbk1lc2hSZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpOnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXI9dGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuaXNSZWFkeSghMCkmJih0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcj1udWxsLHRoaXMub25NZXNoUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSl9KSl9LHRoaXMub25NZXNoUmVhZHlPYnNlcnZhYmxlPW5ldyB3KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbk1lc2hSZWFkeU9ic2VydmVyQWRkZWQpLHMmJnMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1pbnN0YW50aWF0ZUhpZXJhcmNoeShlPW51bGwsdCxpKXtjb25zdCBzPXRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpPT09MHx8dCYmdC5kb05vdEluc3RhbnRpYXRlJiYodC5kb05vdEluc3RhbnRpYXRlPT09ITB8fHQuZG9Ob3RJbnN0YW50aWF0ZSh0aGlzKSk/dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSxlfHx0aGlzLnBhcmVudCwhMCk6dGhpcy5jcmVhdGVJbnN0YW5jZSgiaW5zdGFuY2Ugb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSk7cy5wYXJlbnQ9ZXx8dGhpcy5wYXJlbnQscy5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmNsb25lKCkscy5zY2FsaW5nPXRoaXMuc2NhbGluZy5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3Mucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk6cy5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLmNsb25lKCksaSYmaSh0aGlzLHMpO2Zvcihjb25zdCByIG9mIHRoaXMuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyghMCkpci5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRNZXNoIiYmcy5nZXRDbGFzc05hbWUoKT09PSJNZXNoIiYmci5zb3VyY2VNZXNoPT09dGhpcz9yLmluc3RhbnRpYXRlSGllcmFyY2h5KHMse2RvTm90SW5zdGFudGlhdGU6dCYmdC5kb05vdEluc3RhbnRpYXRlfHwhMSxuZXdTb3VyY2VkTWVzaDpzfSxpKTpyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc31nZXRDbGFzc05hbWUoKXtyZXR1cm4iTWVzaCJ9Z2V0IF9pc01lc2goKXtyZXR1cm4hMH10b1N0cmluZyhlKXtsZXQgdD1zdXBlci50b1N0cmluZyhlKTtpZih0Kz0iLCBuIHZlcnRpY2VzOiAiK3RoaXMuZ2V0VG90YWxWZXJ0aWNlcygpLHQrPSIsIHBhcmVudDogIisodGhpcy5fd2FpdGluZ1BhcmVudElkP3RoaXMuX3dhaXRpbmdQYXJlbnRJZDp0aGlzLnBhcmVudD90aGlzLnBhcmVudC5uYW1lOiJOT05FIiksdGhpcy5hbmltYXRpb25zKWZvcihsZXQgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspdCs9IiwgYW5pbWF0aW9uWzBdOiAiK3RoaXMuYW5pbWF0aW9uc1tpXS50b1N0cmluZyhlKTtpZihlKWlmKHRoaXMuX2dlb21ldHJ5KXtjb25zdCBpPXRoaXMuZ2V0SW5kaWNlcygpLHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO3MmJmkmJih0Kz0iLCBmbGF0IHNoYWRpbmc6ICIrKHMubGVuZ3RoLzM9PT1pLmxlbmd0aD8iWUVTIjoiTk8iKSl9ZWxzZSB0Kz0iLCBmbGF0IHNoYWRpbmc6IFVOS05PV04iO3JldHVybiB0fV91bkJpbmRFZmZlY3QoKXtzdXBlci5fdW5CaW5kRWZmZWN0KCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5pbnN0YW5jZXMpZS5fdW5CaW5kRWZmZWN0KCl9Z2V0IGhhc0xPRExldmVscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLmxlbmd0aD4wfWdldExPRExldmVscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzfV9zb3J0TE9ETGV2ZWxzKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U/LTE6MTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLnNvcnQoKHQsaSk9PnQuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPGkuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlP2U6dC5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U+aS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U/LWU6MCl9YWRkTE9ETGV2ZWwoZSx0KXtpZih0JiZ0Ll9tYXN0ZXJNZXNoKXJldHVybiBPLldhcm4oIllvdSBjYW5ub3QgdXNlIGEgbWVzaCBhcyBMT0QgbGV2ZWwgdHdpY2UiKSx0aGlzO2NvbnN0IGk9bmV3IEtuKGUsdCk7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMucHVzaChpKSx0JiYodC5fbWFzdGVyTWVzaD10aGlzKSx0aGlzLl9zb3J0TE9ETGV2ZWxzKCksdGhpc31nZXRMT0RMZXZlbEF0RGlzdGFuY2UoZSl7Y29uc3QgdD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztmb3IobGV0IGk9MDtpPHQuX0xPRExldmVscy5sZW5ndGg7aSsrKXtjb25zdCBzPXQuX0xPRExldmVsc1tpXTtpZihzLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT09PWUpcmV0dXJuIHMubWVzaH1yZXR1cm4gbnVsbH1yZW1vdmVMT0RMZXZlbChlKXtjb25zdCB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2ZvcihsZXQgaT0wO2k8dC5fTE9ETGV2ZWxzLmxlbmd0aDtpKyspdC5fTE9ETGV2ZWxzW2ldLm1lc2g9PT1lJiYodC5fTE9ETGV2ZWxzLnNwbGljZShpLDEpLGUmJihlLl9tYXN0ZXJNZXNoPW51bGwpKTtyZXR1cm4gdGhpcy5fc29ydExPRExldmVscygpLHRoaXN9Z2V0TE9EKGUsdCl7Y29uc3QgaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighaS5fTE9ETGV2ZWxzfHxpLl9MT0RMZXZlbHMubGVuZ3RoPT09MClyZXR1cm4gdGhpcztjb25zdCBzPXR8fHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmUscj1lLm1vZGU9PT0kLk9SVEhPR1JBUEhJQ19DQU1FUkE/ZS5taW5aOnMuY2VudGVyV29ybGQuc3VidHJhY3QoZS5nbG9iYWxQb3NpdGlvbikubGVuZ3RoKCk7bGV0IG49cixhPTE7aWYoaS5fdXNlTE9EU2NyZWVuQ292ZXJhZ2Upe2NvbnN0IG89ZS5zY3JlZW5BcmVhO2xldCBoPXMucmFkaXVzV29ybGQqZS5taW5aL3I7aD1oKmgqTWF0aC5QSSxuPWgvbyxhPS0xfWlmKGEqaS5fTE9ETGV2ZWxzW2kuX0xPRExldmVscy5sZW5ndGgtMV0uZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPmEqbilyZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24obix0aGlzLHRoaXMpLHRoaXM7Zm9yKGxldCBvPTA7bzxpLl9MT0RMZXZlbHMubGVuZ3RoO28rKyl7Y29uc3QgaD1pLl9MT0RMZXZlbHNbb107aWYoYSpoLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZTxhKm4pe2lmKGgubWVzaCl7aWYoaC5tZXNoLmRlbGF5TG9hZFN0YXRlPT09NClyZXR1cm4gaC5tZXNoLl9jaGVja0RlbGF5U3RhdGUoKSx0aGlzO2lmKGgubWVzaC5kZWxheUxvYWRTdGF0ZT09PTIpcmV0dXJuIHRoaXM7aC5tZXNoLl9wcmVBY3RpdmF0ZSgpLGgubWVzaC5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpfXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihuLHRoaXMsaC5tZXNoKSxoLm1lc2h9fXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihuLHRoaXMsdGhpcyksdGhpc31nZXQgZ2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnl9Z2V0VG90YWxWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9nZW9tZXRyeT09PW51bGx8fHRoaXMuX2dlb21ldHJ5PT09dm9pZCAwPzA6dGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxWZXJ0aWNlcygpfWdldFZlcnRpY2VzRGF0YShlLHQsaSxzKXt2YXIgcixuO2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gbnVsbDtsZXQgYT1zfHwobj0ocj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci52ZXJ0ZXhCdWZmZXJzW2VdKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZ2V0RmxvYXREYXRhKHRoaXMuaW5zdGFuY2VzLmxlbmd0aCsxLGl8fHQmJnRoaXMuX2dlb21ldHJ5Lm1lc2hlcy5sZW5ndGghPT0xKTtyZXR1cm4gYXx8KGE9dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGljZXNEYXRhKGUsdCxpKSksYX1nZXRWZXJ0ZXhCdWZmZXIoZSx0KXt2YXIgaSxzO3JldHVybiB0aGlzLl9nZW9tZXRyeT8ocz10fHwoaT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS52ZXJ0ZXhCdWZmZXJzW2VdKSE9PW51bGwmJnMhPT12b2lkIDA/czp0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXIoZSk6bnVsbH1pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSx0KXt2YXIgaTtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/IXQmJigoaT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS52ZXJ0ZXhCdWZmZXJzW2VdKSE9PXZvaWQgMHx8dGhpcy5fZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExfWlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGUsdCl7dmFyIGk7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiB0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YoZSkhPT0tMTohMTtpZighdCl7Y29uc3Qgcz0oaT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS52ZXJ0ZXhCdWZmZXJzW2VdO2lmKHMpcmV0dXJuIHMuaXNVcGRhdGFibGUoKX1yZXR1cm4gdGhpcy5fZ2VvbWV0cnkuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZSl9Z2V0VmVydGljZXNEYXRhS2luZHMoZSl7aWYoIXRoaXMuX2dlb21ldHJ5KXtjb25zdCBpPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fZGVsYXlJbmZvJiZ0aGlzLl9kZWxheUluZm8uZm9yRWFjaChmdW5jdGlvbihzKXtpLnB1c2gocyl9KSxpfWNvbnN0IHQ9dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGljZXNEYXRhS2luZHMoKTtpZighZSYmdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKWZvcihjb25zdCBpIGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzKXQuaW5kZXhPZihpKT09PS0xJiZ0LnB1c2goaSk7cmV0dXJuIHR9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5LmdldFRvdGFsSW5kaWNlcygpOjB9Z2V0SW5kaWNlcyhlLHQpe3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5nZXRJbmRpY2VzKGUsdCk6W119Z2V0IGlzQmxvY2tlZCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoIT09bnVsbCYmdGhpcy5fbWFzdGVyTWVzaCE9PXZvaWQgMH1pc1JlYWR5KGU9ITEsdD0hMSl7dmFyIGkscyxyLG4sYSxvO2lmKHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0yfHwhc3VwZXIuaXNSZWFkeShlKSlyZXR1cm4hMTtpZighdGhpcy5zdWJNZXNoZXN8fHRoaXMuc3ViTWVzaGVzLmxlbmd0aD09PTB8fCFlKXJldHVybiEwO2NvbnN0IGg9dGhpcy5nZXRFbmdpbmUoKSxsPXRoaXMuZ2V0U2NlbmUoKSx1PXR8fGguZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKHRoaXMuaW5zdGFuY2VzLmxlbmd0aD4wfHx0aGlzLmhhc1RoaW5JbnN0YW5jZXMpO3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCk7Y29uc3QgZD10aGlzLm1hdGVyaWFsfHxsLmRlZmF1bHRNYXRlcmlhbDtpZihkKXtpZihkLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcihjb25zdCBmIG9mIHRoaXMuc3ViTWVzaGVzKXtjb25zdCBtPWYuZ2V0TWF0ZXJpYWwoKTtpZihtKXtpZihtLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtpZighbS5pc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLGYsdSkpcmV0dXJuITF9ZWxzZSBpZighbS5pc1JlYWR5KHRoaXMsdSkpcmV0dXJuITF9fWVsc2UgaWYoIWQuaXNSZWFkeSh0aGlzLHUpKXJldHVybiExfWNvbnN0IF89aC5jdXJyZW50UmVuZGVyUGFzc0lkO2Zvcihjb25zdCBmIG9mIHRoaXMubGlnaHRTb3VyY2VzKXtjb25zdCBtPWYuZ2V0U2hhZG93R2VuZXJhdG9ycygpO2lmKCFtKWNvbnRpbnVlO2NvbnN0IHY9bS52YWx1ZXMoKTtmb3IobGV0IEU9di5uZXh0KCk7RS5kb25lIT09ITA7RT12Lm5leHQoKSl7Y29uc3QgUz1FLnZhbHVlO2lmKFMmJighKCEoKGk9Uy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxpPT09dm9pZCAwKSYmaS5yZW5kZXJMaXN0KXx8ISgocz1TLmdldFNoYWRvd01hcCgpKT09PW51bGx8fHM9PT12b2lkIDApJiZzLnJlbmRlckxpc3QmJigobj0ocj1TLmdldFNoYWRvd01hcCgpKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIucmVuZGVyTGlzdCk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmluZGV4T2YodGhpcykpIT09LTEpKXtTLmdldFNoYWRvd01hcCgpJiYoaC5jdXJyZW50UmVuZGVyUGFzc0lkPVMuZ2V0U2hhZG93TWFwKCkucmVuZGVyUGFzc0lkKTtmb3IoY29uc3QgUiBvZiB0aGlzLnN1Yk1lc2hlcylpZighUy5pc1JlYWR5KFIsdSwobz0oYT1SLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godGhpcykpIT09bnVsbCYmbyE9PXZvaWQgMD9vOiExKSlyZXR1cm4gaC5jdXJyZW50UmVuZGVyUGFzc0lkPV8sITE7aC5jdXJyZW50UmVuZGVyUGFzc0lkPV99fX1mb3IoY29uc3QgZiBvZiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzKWlmKGYubWVzaCYmIWYubWVzaC5pc1JlYWR5KHUpKXJldHVybiExO3JldHVybiEwfWdldCBhcmVOb3JtYWxzRnJvemVuKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9hcmVOb3JtYWxzRnJvemVufWZyZWV6ZU5vcm1hbHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW49ITAsdGhpc311bmZyZWV6ZU5vcm1hbHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW49ITEsdGhpc31zZXQgb3ZlcnJpZGVuSW5zdGFuY2VDb3VudChlKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm92ZXJyaWRlbkluc3RhbmNlQ291bnQ9ZX1fcHJlQWN0aXZhdGUoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLHQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk7cmV0dXJuIGUuX3ByZUFjdGl2YXRlSWQ9PT10P3RoaXM6KGUuX3ByZUFjdGl2YXRlSWQ9dCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXM9bnVsbCx0aGlzKX1fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcoZSl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcy5pbnRlcm1lZGlhdGVEZWZhdWx0UmVuZGVySWQ9ZSksdGhpc31fcmVnaXN0ZXJJbnN0YW5jZUZvclJlbmRlcklkKGUsdCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc3x8KHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcz17ZGVmYXVsdFJlbmRlcklkOnQsc2VsZkRlZmF1bHRSZW5kZXJJZDp0aGlzLl9yZW5kZXJJZH0pLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1t0XXx8KHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZCE9PXZvaWQgMCYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbiYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1t0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzUmVuZGVySWRdPW51bGwpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZD10LHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1t0XT1uZXcgQXJyYXkpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1t0XS5wdXNoKGUpLHRoaXN9X2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCl7c3VwZXIuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5oYXNUaGluSW5zdGFuY2VzJiYodGhpcy5kb05vdFN5bmNCb3VuZGluZ0luZm98fHRoaXMudGhpbkluc3RhbmNlUmVmcmVzaEJvdW5kaW5nSW5mbyghMSkpfV9wb3N0QWN0aXZhdGUoKXt0aGlzLmVkZ2VzU2hhcmVXaXRoSW5zdGFuY2VzJiZ0aGlzLmVkZ2VzUmVuZGVyZXImJnRoaXMuZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3JlbmRlcmluZ0dyb3VwJiYodGhpcy5fcmVuZGVyaW5nR3JvdXAuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0aGlzLmVkZ2VzUmVuZGVyZXIpLHRoaXMuZWRnZXNSZW5kZXJlci5jdXN0b21JbnN0YW5jZXMucHVzaCh0aGlzLmdldFdvcmxkTWF0cml4KCkpKX1yZWZyZXNoQm91bmRpbmdJbmZvKGU9ITEsdD0hMSl7aWYodGhpcy5oYXNCb3VuZGluZ0luZm8mJnRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNMb2NrZWQpcmV0dXJuIHRoaXM7Y29uc3QgaT10aGlzLmdlb21ldHJ5P3RoaXMuZ2VvbWV0cnkuYm91bmRpbmdCaWFzOm51bGw7cmV0dXJuIHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fZ2V0UG9zaXRpb25EYXRhKGUsdCksaSksdGhpc31fY3JlYXRlR2xvYmFsU3ViTWVzaChlKXtjb25zdCB0PXRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpO2lmKCF0fHwhdGhpcy5nZXRJbmRpY2VzKCkpcmV0dXJuIG51bGw7aWYodGhpcy5zdWJNZXNoZXMmJnRoaXMuc3ViTWVzaGVzLmxlbmd0aD4wKXtjb25zdCBpPXRoaXMuZ2V0SW5kaWNlcygpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9aS5sZW5ndGg7bGV0IHI9ITE7aWYoZSlyPSEwO2Vsc2UgZm9yKGNvbnN0IG4gb2YgdGhpcy5zdWJNZXNoZXMpe2lmKG4uaW5kZXhTdGFydCtuLmluZGV4Q291bnQ+cyl7cj0hMDticmVha31pZihuLnZlcnRpY2VzU3RhcnQrbi52ZXJ0aWNlc0NvdW50PnQpe3I9ITA7YnJlYWt9fWlmKCFyKXJldHVybiB0aGlzLnN1Yk1lc2hlc1swXX1yZXR1cm4gdGhpcy5yZWxlYXNlU3ViTWVzaGVzKCksbmV3IFR0KDAsMCx0LDAsdGhpcy5nZXRUb3RhbEluZGljZXMoKSx0aGlzKX1zdWJkaXZpZGUoZSl7aWYoZTwxKXJldHVybjtjb25zdCB0PXRoaXMuZ2V0VG90YWxJbmRpY2VzKCk7bGV0IGk9dC9lfDAscz0wO2Zvcig7aSUzIT09MDspaSsrO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2ZvcihsZXQgcj0wO3I8ZSYmIShzPj10KTtyKyspVHQuQ3JlYXRlRnJvbUluZGljZXMoMCxzLHI9PT1lLTE/dC1zOmksdGhpcykscys9aTt0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9c2V0VmVydGljZXNEYXRhKGUsdCxpPSExLHMpe2lmKHRoaXMuX2dlb21ldHJ5KXRoaXMuX2dlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShlLHQsaSxzKTtlbHNle2NvbnN0IHI9bmV3IHRlO3Iuc2V0KHQsZSk7Y29uc3Qgbj10aGlzLmdldFNjZW5lKCk7bmV3IG90KG90LlJhbmRvbUlkKCksbixyLGksdGhpcyl9cmV0dXJuIHRoaXN9cmVtb3ZlVmVydGljZXNEYXRhKGUpe3RoaXMuX2dlb21ldHJ5JiZ0aGlzLl9nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoZSl9bWFya1ZlcnRpY2VzRGF0YUFzVXBkYXRhYmxlKGUsdD0hMCl7Y29uc3QgaT10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTshaXx8aS5pc1VwZGF0YWJsZSgpPT09dHx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZSx0aGlzLmdldFZlcnRpY2VzRGF0YShlKSx0KX1zZXRWZXJ0aWNlc0J1ZmZlcihlLHQ9ITApe3JldHVybiB0aGlzLl9nZW9tZXRyeXx8KHRoaXMuX2dlb21ldHJ5PW90LkNyZWF0ZUdlb21ldHJ5Rm9yTWVzaCh0aGlzKSksdGhpcy5fZ2VvbWV0cnkuc2V0VmVydGljZXNCdWZmZXIoZSxudWxsLHQpLHRoaXN9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8ocz8odGhpcy5tYWtlR2VvbWV0cnlVbmlxdWUoKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSwhMSkpOnRoaXMuX2dlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSksdGhpcyk6dGhpc311cGRhdGVNZXNoUG9zaXRpb25zKGUsdD0hMCl7Y29uc3QgaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIWkpcmV0dXJuIHRoaXM7aWYoZShpKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxpLCExLCExKSx0KXtjb25zdCBzPXRoaXMuZ2V0SW5kaWNlcygpLHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTtpZighcilyZXR1cm4gdGhpczt0ZS5Db21wdXRlTm9ybWFscyhpLHMsciksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHIsITEsITEpfXJldHVybiB0aGlzfW1ha2VHZW9tZXRyeVVuaXF1ZSgpe2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpcztpZih0aGlzLl9nZW9tZXRyeS5tZXNoZXMubGVuZ3RoPT09MSlyZXR1cm4gdGhpcztjb25zdCBlPXRoaXMuX2dlb21ldHJ5LHQ9dGhpcy5fZ2VvbWV0cnkuY29weShvdC5SYW5kb21JZCgpKTtyZXR1cm4gZS5yZWxlYXNlRm9yTWVzaCh0aGlzLCEwKSx0LmFwcGx5VG9NZXNoKHRoaXMpLHRoaXN9c2V0SW5kaWNlcyhlLHQ9bnVsbCxpPSExKXtpZih0aGlzLl9nZW9tZXRyeSl0aGlzLl9nZW9tZXRyeS5zZXRJbmRpY2VzKGUsdCxpKTtlbHNle2NvbnN0IHM9bmV3IHRlO3MuaW5kaWNlcz1lO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpO25ldyBvdChvdC5SYW5kb21JZCgpLHIscyxpLHRoaXMpfXJldHVybiB0aGlzfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8odGhpcy5fZ2VvbWV0cnkudXBkYXRlSW5kaWNlcyhlLHQsaSksdGhpcyk6dGhpc310b0xlZnRIYW5kZWQoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHRoaXMuX2dlb21ldHJ5LnRvTGVmdEhhbmRlZCgpLHRoaXMpOnRoaXN9X2JpbmQoZSx0LGkscz0hMCl7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiB0aGlzO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3RoaXMubW9ycGhUYXJnZXRNYW5hZ2VyJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKHQpO2xldCBuO2lmKHRoaXMuX3VuSW5kZXhlZCluPW51bGw7ZWxzZSBzd2l0Y2godGhpcy5fZ2V0UmVuZGVyaW5nRmlsbE1vZGUoaSkpe2Nhc2UgRC5Qb2ludEZpbGxNb2RlOm49bnVsbDticmVhaztjYXNlIEQuV2lyZUZyYW1lRmlsbE1vZGU6bj1lLl9nZXRMaW5lc0luZGV4QnVmZmVyKHRoaXMuZ2V0SW5kaWNlcygpLHIpO2JyZWFrO2RlZmF1bHQ6Y2FzZSBELlRyaWFuZ2xlRmlsbE1vZGU6bj10aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpO2JyZWFrfXJldHVybiFzfHwhdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLmhhc1RoaW5JbnN0YW5jZXM/dGhpcy5fZ2VvbWV0cnkuX2JpbmQodCxuKTp0aGlzLl9nZW9tZXRyeS5fYmluZCh0LG4sdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyksdGhpc31fZHJhdyhlLHQsaSl7aWYoIXRoaXMuX2dlb21ldHJ5fHwhdGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVycygpfHwhdGhpcy5fdW5JbmRleGVkJiYhdGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKSlyZXR1cm4gdGhpczt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLl91bkluZGV4ZWR8fHQ9PUQuUG9pbnRGaWxsTW9kZT9yLmRyYXdBcnJheXNUeXBlKHQsZS52ZXJ0aWNlc1N0YXJ0LGUudmVydGljZXNDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fGkpOnQ9PUQuV2lyZUZyYW1lRmlsbE1vZGU/ci5kcmF3RWxlbWVudHNUeXBlKHQsMCxlLl9saW5lc0luZGV4Q291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxpKTpyLmRyYXdFbGVtZW50c1R5cGUodCxlLmluZGV4U3RhcnQsZS5pbmRleENvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8aSksdGhpc31yZWdpc3RlckJlZm9yZVJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpLHRoaXN9dW5yZWdpc3RlckJlZm9yZVJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSksdGhpc31yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3JldHVybiB0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSx0aGlzfXVucmVnaXN0ZXJBZnRlclJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhlKSx0aGlzfV9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUsdD0hMSl7aWYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbil7aWYodClyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW2VdPSExLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZS5yZW5kZXJTZWxmW2VdPSEwLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZTtpZih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2gpcmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaH1jb25zdCBpPXRoaXMuZ2V0U2NlbmUoKSxzPWkuX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKSxyPXM/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZTp0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzLG49dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlO2lmKG4ubXVzdFJldHVybj0hMSxuLnJlbmRlclNlbGZbZV09dHx8IXImJnRoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNWaXNpYmxlLG4udmlzaWJsZUluc3RhbmNlc1tlXT1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyYmIXQpe2NvbnN0IGE9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzLG89aS5nZXRSZW5kZXJJZCgpLGg9cz9hLmludGVybWVkaWF0ZURlZmF1bHRSZW5kZXJJZDphLmRlZmF1bHRSZW5kZXJJZDtuLnZpc2libGVJbnN0YW5jZXNbZV09YVtvXSwhbi52aXNpYmxlSW5zdGFuY2VzW2VdJiZoJiYobi52aXNpYmxlSW5zdGFuY2VzW2VdPWFbaF0pfXJldHVybiBuLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW2VdPSF0JiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nJiZuLnZpc2libGVJbnN0YW5jZXNbZV0hPT1udWxsJiZuLnZpc2libGVJbnN0YW5jZXNbZV0hPT12b2lkIDAsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoPW4sbn1fcmVuZGVyV2l0aEluc3RhbmNlcyhlLHQsaSxzLHIpe3ZhciBuO2NvbnN0IGE9aS52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSxvPWE/YS5sZW5ndGg6MCxoPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UsbD1oLmluc3RhbmNlc0J1ZmZlclNpemU7bGV0IHU9aC5pbnN0YW5jZXNCdWZmZXIsZD1oLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyO2NvbnN0IGY9KG8rMSkqMTYqNDtmb3IoO2guaW5zdGFuY2VzQnVmZmVyU2l6ZTxmOyloLmluc3RhbmNlc0J1ZmZlclNpemUqPTI7KCFoLmluc3RhbmNlc0RhdGF8fGwhPWguaW5zdGFuY2VzQnVmZmVyU2l6ZSkmJihoLmluc3RhbmNlc0RhdGE9bmV3IEZsb2F0MzJBcnJheShoLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpLCh0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWguaW5zdGFuY2VzUHJldmlvdXNEYXRhfHxsIT1oLmluc3RhbmNlc0J1ZmZlclNpemUpJiYoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGE9bmV3IEZsb2F0MzJBcnJheShoLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpO2xldCBtPTAsdj0wO2NvbnN0IEU9aS5yZW5kZXJTZWxmW2UuX2lkXSxTPSF1fHxsIT09aC5pbnN0YW5jZXNCdWZmZXJTaXplfHx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWguaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI7aWYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlJiYoIWguaXNGcm96ZW58fFMpKXtjb25zdCBSPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtpZihFJiYodGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PyhoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLG0pLGgubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weUZyb20oUikpOihoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PVIuY2xvbmUoKSxoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLG0pKSksUi5jb3B5VG9BcnJheShoLmluc3RhbmNlc0RhdGEsbSksbSs9MTYsdisrKSxhKXtpZih6LklOU1RBTkNFRE1FU0hfU09SVF9UUkFOU1BBUkVOVCYmdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhJiYoISgobj1lLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8bj09PXZvaWQgMCkmJm4ubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUuZ2V0UmVuZGVyaW5nTWVzaCgpKSkpe2NvbnN0IEE9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uO2ZvcihsZXQgQz0wO0M8YS5sZW5ndGg7QysrKXtjb25zdCBiPWFbQ107Yi5fZGlzdGFuY2VUb0NhbWVyYT1wLkRpc3RhbmNlKGIuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsQSl9YS5zb3J0KChDLGIpPT5DLl9kaXN0YW5jZVRvQ2FtZXJhPmIuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6Qy5fZGlzdGFuY2VUb0NhbWVyYTxiLl9kaXN0YW5jZVRvQ2FtZXJhPzE6MCl9Zm9yKGxldCBBPTA7QTxhLmxlbmd0aDtBKyspe2NvbnN0IEM9YVtBXSxiPUMuZ2V0V29ybGRNYXRyaXgoKTtiLmNvcHlUb0FycmF5KGguaW5zdGFuY2VzRGF0YSxtKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKEMuX3ByZXZpb3VzV29ybGRNYXRyaXg/KEMuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsbSksQy5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5RnJvbShiKSk6KEMuX3ByZXZpb3VzV29ybGRNYXRyaXg9Yi5jbG9uZSgpLEMuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsbSkpKSxtKz0xNix2Kyt9fX1lbHNlIHY9KEU/MTowKStvO3JldHVybiBTPyh1JiZ1LmRpc3Bvc2UoKSxkJiZkLmRpc3Bvc2UoKSx1PW5ldyB0cyhyLGguaW5zdGFuY2VzRGF0YSwhMCwxNiwhMSwhMCksaC5pbnN0YW5jZXNCdWZmZXI9dSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDA9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMCIsMCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDE9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDI9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMiIsOCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDM9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMyIsMTIsNCksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihkPW5ldyB0cyhyLGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLCEwLDE2LCExLCEwKSxoLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyPWQsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDA9ZC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQwIiwwLDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQxPWQuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMj1kLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDIiLDgsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDM9ZC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQzIiwxMiw0KSksdGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSk6KCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVufHx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmZvcmNlTWF0cml4VXBkYXRlcykmJih1LnVwZGF0ZURpcmVjdGx5KGguaW5zdGFuY2VzRGF0YSwwLHYpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlfHx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlKSYmZC51cGRhdGVEaXJlY3RseShoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSwwLHYpKSx0aGlzLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycyhhLEUpLHRoaXMuZ2V0U2NlbmUoKS5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudChlLmluZGV4Q291bnQqdiwhMSksci5fY3VycmVudERyYXdDb250ZXh0JiYoci5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITApLHRoaXMuX2JpbmQoZSxzLHQpLHRoaXMuX2RyYXcoZSx0LHYpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhUyYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGUmJighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbnx8dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5mb3JjZU1hdHJpeFVwZGF0ZXMpJiYhdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZSYmZC51cGRhdGVEaXJlY3RseShoLmluc3RhbmNlc0RhdGEsMCx2KSxyLnVuYmluZEluc3RhbmNlQXR0cmlidXRlcygpLHRoaXN9X3JlbmRlcldpdGhUaGluSW5zdGFuY2VzKGUsdCxpLHMpe3ZhciByLG47Y29uc3QgYT0obj0ocj10aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmluc3RhbmNlc0NvdW50KSE9PW51bGwmJm4hPT12b2lkIDA/bjowO3RoaXMuZ2V0U2NlbmUoKS5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudChlLmluZGV4Q291bnQqYSwhMSkscy5fY3VycmVudERyYXdDb250ZXh0JiYocy5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITApLHRoaXMuX2JpbmQoZSxpLHQpLHRoaXMuX2RyYXcoZSx0LGEpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhEYXRhJiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXI/dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXIudXBkYXRlRGlyZWN0bHkodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwwLGEpOnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyPXRoaXMuX3RoaW5JbnN0YW5jZUNyZWF0ZU1hdHJpeEJ1ZmZlcigicHJldmlvdXNXb3JsZCIsdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwhMSkpLHMudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl9X3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzKGUsdCl7fV9wcm9jZXNzUmVuZGVyaW5nKGUsdCxpLHMscixuLGEsbyl7Y29uc3QgaD10aGlzLmdldFNjZW5lKCksbD1oLmdldEVuZ2luZSgpO2lmKHM9dGhpcy5fZ2V0UmVuZGVyaW5nRmlsbE1vZGUocyksbiYmdC5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcylyZXR1cm4gdGhpcy5fcmVuZGVyV2l0aFRoaW5JbnN0YW5jZXModCxzLGksbCksdGhpcztpZihuKXRoaXMuX3JlbmRlcldpdGhJbnN0YW5jZXModCxzLHIsaSxsKTtlbHNle2wuX2N1cnJlbnREcmF3Q29udGV4dCYmKGwuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSExKTtsZXQgdT0wO3IucmVuZGVyU2VsZlt0Ll9pZF0mJihhJiZhKCExLGUuZ2V0V29ybGRNYXRyaXgoKSxvKSx1KyssdGhpcy5fZHJhdyh0LHMsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5vdmVycmlkZW5JbnN0YW5jZUNvdW50KSk7Y29uc3QgZD1yLnZpc2libGVJbnN0YW5jZXNbdC5faWRdO2lmKGQpe2NvbnN0IF89ZC5sZW5ndGg7dSs9Xztmb3IobGV0IGY9MDtmPF87ZisrKXtjb25zdCB2PWRbZl0uZ2V0V29ybGRNYXRyaXgoKTthJiZhKCEwLHYsbyksdGhpcy5fZHJhdyh0LHMpfX1oLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KHQuaW5kZXhDb3VudCp1LCExKX1yZXR1cm4gdGhpc31fcmVidWlsZChlPSExKXtpZih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKGUmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Upe2Zvcihjb25zdCB0IGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzKXtjb25zdCBpPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3RdO2kmJihlJiZpLmRpc3Bvc2UoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1t0XT1udWxsKX10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz17fSl9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsc3VwZXIuX3JlYnVpbGQoZSl9X2ZyZWV6ZSgpe2lmKHRoaXMuc3ViTWVzaGVzKXtmb3IobGV0IGU9MDtlPHRoaXMuc3ViTWVzaGVzLmxlbmd0aDtlKyspdGhpcy5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlKTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuPSEwfX1fdW5GcmVlemUoKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuPSExLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaD1udWxsfXJlbmRlcihlLHQsaSl7dmFyIHMscixuO2NvbnN0IGE9dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExOnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSExLHRoaXMuX2NoZWNrT2NjbHVzaW9uUXVlcnkoKSYmIXRoaXMuX29jY2x1c2lvbkRhdGFTdG9yYWdlLmZvcmNlUmVuZGVyaW5nV2hlbk9jY2x1ZGVkKXJldHVybiB0aGlzO2NvbnN0IG89dGhpcy5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlLl9pZCwhIWkpO2lmKG8ubXVzdFJldHVybilyZXR1cm4gdGhpcztpZighdGhpcy5fZ2VvbWV0cnl8fCF0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXJzKCl8fCF0aGlzLl91bkluZGV4ZWQmJiF0aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpKXJldHVybiB0aGlzO2NvbnN0IGg9YS5nZXRFbmdpbmUoKTtsZXQgbD0wLHU9bnVsbDt0aGlzLmlnbm9yZUNhbWVyYU1heFomJmEuYWN0aXZlQ2FtZXJhJiYhYS5faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZygpJiYobD1hLmFjdGl2ZUNhbWVyYS5tYXhaLHU9YS5hY3RpdmVDYW1lcmEsYS5hY3RpdmVDYW1lcmEubWF4Wj0wLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3QgZD1lLmdldFJlbmRlcmluZ01lc2goKSxfPW8uaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbZS5faWRdfHxkLmhhc1RoaW5JbnN0YW5jZXN8fCEhdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlJiYhZS5nZXRNZXNoKCkuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gsZj10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLG09ZS5nZXRNYXRlcmlhbCgpO2lmKCFtKXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO2lmKCFmLmlzRnJvemVufHwhdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsfHx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwhPT1tKXtpZihtLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtpZighbS5pc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLGUsXykpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXN9ZWxzZSBpZighbS5pc1JlYWR5KHRoaXMsXykpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPW19ZWxzZSBpZihtLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzJiYhKCEoKHM9ZS5lZmZlY3QpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuX3dhc1ByZXZpb3VzbHlSZWFkeSl8fCFtLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzJiYhKCEoKHI9bS5nZXRFZmZlY3QoKSk9PT1udWxsfHxyPT09dm9pZCAwKSYmci5fd2FzUHJldmlvdXNseVJlYWR5KSlyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpczt0JiZoLnNldEFscGhhTW9kZSh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuYWxwaGFNb2RlKTtsZXQgdjt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/dj1lLl9kcmF3V3JhcHBlcjp2PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fZ2V0RHJhd1dyYXBwZXIoKTtjb25zdCBFPShuPXY9PW51bGw/dm9pZCAwOnYuZWZmZWN0KSE9PW51bGwmJm4hPT12b2lkIDA/bjpudWxsO2Zvcihjb25zdCBJIG9mIGEuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZSlJLmFjdGlvbih0aGlzLGUsbyxFKTtpZighdnx8IUUpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7Y29uc3QgUz1pfHx0aGlzO2xldCBSO2lmKCFmLmlzRnJvemVuJiYodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmJhY2tGYWNlQ3VsbGluZ3x8dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uIT09bnVsbCkpe2NvbnN0IEk9Uy5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpO1I9dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLFI9PW51bGwmJihSPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5zaWRlT3JpZW50YXRpb24pLEk8MCYmKFI9Uj09PUQuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uP0QuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbjpELkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbiksZi5zaWRlT3JpZW50YXRpb249Un1lbHNlIFI9Zi5zaWRlT3JpZW50YXRpb247Y29uc3QgQT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX3ByZUJpbmQodixSKTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuZm9yY2VEZXB0aFdyaXRlJiZoLnNldERlcHRoV3JpdGUoITApO2NvbnN0IEM9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLGI9Qy5maWxsTW9kZTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLF98fHRoaXMuX2JpbmQoZSxFLGIsITEpO2NvbnN0IHg9Uy5nZXRXb3JsZE1hdHJpeCgpO0MuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/Qy5iaW5kRm9yU3ViTWVzaCh4LHRoaXMsZSk6Qy5iaW5kKHgsdGhpcyksIUMuYmFja0ZhY2VDdWxsaW5nJiZDLnNlcGFyYXRlQ3VsbGluZ1Bhc3MmJihoLnNldFN0YXRlKCEwLEMuek9mZnNldCwhMSwhQSxDLmN1bGxCYWNrRmFjZXMsQy5zdGVuY2lsLEMuek9mZnNldFVuaXRzKSx0aGlzLl9wcm9jZXNzUmVuZGVyaW5nKHRoaXMsZSxFLGIsbyxfLHRoaXMuX29uQmVmb3JlRHJhdyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwpLGguc2V0U3RhdGUoITAsQy56T2Zmc2V0LCExLEEsQy5jdWxsQmFja0ZhY2VzLEMuc3RlbmNpbCxDLnpPZmZzZXRVbml0cyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKSx0aGlzLl9wcm9jZXNzUmVuZGVyaW5nKHRoaXMsZSxFLGIsbyxfLHRoaXMuX29uQmVmb3JlRHJhdyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC51bmJpbmQoKTtmb3IoY29uc3QgSSBvZiBhLl9hZnRlclJlbmRlcmluZ01lc2hTdGFnZSlJLmFjdGlvbih0aGlzLGUsbyxFKTtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLGEucGVyZm9ybWFuY2VQcmlvcml0eT09PVB0LkFnZ3Jlc3NpdmUmJiFmLmlzRnJvemVuJiZ0aGlzLl9mcmVlemUoKSx0aGlzfWNsZWFuTWF0cml4V2VpZ2h0cygpe3RoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJih0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk/dGhpcy5fbm9ybWFsaXplU2tpbldlaWdodHNBbmRFeHRyYSgpOnRoaXMuX25vcm1hbGl6ZVNraW5Gb3VyV2VpZ2h0cygpKX1fbm9ybWFsaXplU2tpbkZvdXJXZWlnaHRzKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHQ9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krPTQpe2NvbnN0IHM9ZVtpXStlW2krMV0rZVtpKzJdK2VbaSszXTtpZihzPT09MCllW2ldPTE7ZWxzZXtjb25zdCByPTEvcztlW2ldKj1yLGVbaSsxXSo9cixlW2krMl0qPXIsZVtpKzNdKj1yfX10aGlzLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZSl9X25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmEoKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSx0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCksaT10Lmxlbmd0aDtmb3IobGV0IHM9MDtzPGk7cys9NCl7bGV0IHI9dFtzXSt0W3MrMV0rdFtzKzJdK3RbcyszXTtpZihyKz1lW3NdK2VbcysxXStlW3MrMl0rZVtzKzNdLHI9PT0wKXRbc109MTtlbHNle2NvbnN0IG49MS9yO3Rbc10qPW4sdFtzKzFdKj1uLHRbcysyXSo9bix0W3MrM10qPW4sZVtzXSo9bixlW3MrMV0qPW4sZVtzKzJdKj1uLGVbcyszXSo9bn19dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHQpLHRoaXMuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCxlKX12YWxpZGF0ZVNraW5uaW5nKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCksdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKHQ9PT1udWxsfHx0aGlzLnNrZWxldG9uPT1udWxsKXJldHVybntza2lubmVkOiExLHZhbGlkOiEwLHJlcG9ydDoibm90IHNraW5uZWQifTtjb25zdCBpPXQubGVuZ3RoO2xldCBzPTAscj0wLG49MCxhPTA7Y29uc3Qgbz1lPT09bnVsbD80OjgsaD1uZXcgQXJyYXk7Zm9yKGxldCB2PTA7djw9bzt2KyspaFt2XT0wO2NvbnN0IGw9LjAwMTtmb3IobGV0IHY9MDt2PGk7dis9NCl7bGV0IEU9dFt2XSxTPUUsUj1TPT09MD8wOjE7Zm9yKGxldCBBPTE7QTxvO0ErKyl7Y29uc3QgQz1BPDQ/dFt2K0FdOmVbditBLTRdO0M+RSYmcysrLEMhPT0wJiZSKyssUys9QyxFPUN9aWYoaFtSXSsrLFI+biYmKG49UiksUz09PTApcisrO2Vsc2V7Y29uc3QgQT0xL1M7bGV0IEM9MDtmb3IobGV0IGI9MDtiPG87YisrKWI8ND9DKz1NYXRoLmFicyh0W3YrYl0tdFt2K2JdKkEpOkMrPU1hdGguYWJzKGVbditiLTRdLWVbditiLTRdKkEpO0M+bCYmYSsrfX1jb25zdCB1PXRoaXMuc2tlbGV0b24uYm9uZXMubGVuZ3RoLGQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxfPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTtsZXQgZj0wO2ZvcihsZXQgdj0wO3Y8aTt2Kz00KWZvcihsZXQgRT0wO0U8bztFKyspe2NvbnN0IFM9RTw0P2RbditFXTpfW3YrRS00XTsoUz49dXx8UzwwKSYmZisrfWNvbnN0IG09Ik51bWJlciBvZiBXZWlnaHRzID0gIitpLzQrYApNYXhpbXVtIGluZmx1ZW5jZXMgPSBgK24rYApNaXNzaW5nIFdlaWdodHMgPSBgK3IrYApOb3QgU29ydGVkID0gYCtzK2AKTm90IE5vcm1hbGl6ZWQgPSBgK2ErYApXZWlnaHRDb3VudHMgPSBbYCtoK2BdCk51bWJlciBvZiBib25lcyA9IGArdStgCkJhZCBCb25lIEluZGljZXMgPSBgK2Y7cmV0dXJue3NraW5uZWQ6ITAsdmFsaWQ6cj09PTAmJmE9PT0wJiZmPT09MCxyZXBvcnQ6bX19X2NoZWNrRGVsYXlTdGF0ZSgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5sb2FkKGUpOnRoaXMuZGVsYXlMb2FkU3RhdGU9PT00JiYodGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlKSksdGhpc31fcXVldWVMb2FkKGUpe2UuYWRkUGVuZGluZ0RhdGEodGhpcyk7Y29uc3QgdD10aGlzLmRlbGF5TG9hZGluZ0ZpbGUuaW5kZXhPZigiLmJhYnlsb25iaW5hcnltZXNoZGF0YSIpIT09LTE7cmV0dXJuIFguTG9hZEZpbGUodGhpcy5kZWxheUxvYWRpbmdGaWxlLGk9PntpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oaSx0aGlzKTp0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKGkpLHRoaXMpLHRoaXMuaW5zdGFuY2VzLmZvckVhY2gocz0+e3MucmVmcmVzaEJvdW5kaW5nSW5mbygpLHMuX3N5bmNTdWJNZXNoZXMoKX0pLHRoaXMuZGVsYXlMb2FkU3RhdGU9MSxlLnJlbW92ZVBlbmRpbmdEYXRhKHRoaXMpfSwoKT0+e30sZS5vZmZsaW5lUHJvdmlkZXIsdCksdGhpc31pc0luRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTJ8fCFzdXBlci5pc0luRnJ1c3R1bShlKT8hMToodGhpcy5fY2hlY2tEZWxheVN0YXRlKCksITApfXNldE1hdGVyaWFsQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5tYXRlcmlhbHM7bGV0IGk7Zm9yKGk9dC5sZW5ndGgtMTtpPi0xO2ktLSlpZih0W2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbD10W2ldLHRoaXM7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkubXVsdGlNYXRlcmlhbHM7Zm9yKGk9cy5sZW5ndGgtMTtpPi0xO2ktLSlpZihzW2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbD1zW2ldLHRoaXM7cmV0dXJuIHRoaXN9Z2V0QW5pbWF0YWJsZXMoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5tYXRlcmlhbCYmZS5wdXNoKHRoaXMubWF0ZXJpYWwpLHRoaXMuc2tlbGV0b24mJmUucHVzaCh0aGlzLnNrZWxldG9uKSxlfWJha2VUcmFuc2Zvcm1JbnRvVmVydGljZXMoZSl7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuc3ViTWVzaGVzLnNwbGljZSgwKTt0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtsZXQgaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7Y29uc3Qgcz1wLlplcm8oKTtsZXQgcjtmb3Iocj0wO3I8aS5sZW5ndGg7cis9MylwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGlbcl0saVtyKzFdLGlbcisyXSxlLHMpLnRvQXJyYXkoaSxyKTtpZih0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxpLHRoaXMuZ2V0VmVydGV4QnVmZmVyKGcuUG9zaXRpb25LaW5kKS5pc1VwZGF0YWJsZSgpKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpKXtmb3IoaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpLHI9MDtyPGkubGVuZ3RoO3IrPTMpcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoaVtyXSxpW3IrMV0saVtyKzJdLGUscykubm9ybWFsaXplKCkudG9BcnJheShpLHIpO3RoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxpLHRoaXMuZ2V0VmVydGV4QnVmZmVyKGcuTm9ybWFsS2luZCkuaXNVcGRhdGFibGUoKSl9cmV0dXJuIGUuZGV0ZXJtaW5hbnQoKTwwJiZ0aGlzLmZsaXBGYWNlcygpLHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuc3ViTWVzaGVzPXQsdGhpc31iYWtlQ3VycmVudFRyYW5zZm9ybUludG9WZXJ0aWNlcyhlPSEwKXtyZXR1cm4gdGhpcy5iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5yZXNldExvY2FsTWF0cml4KGUpLHRoaXN9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9uczp0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5fcG9zaXRpb25zOm51bGx9X3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLHRoaXN9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKTohMX1jbG9uZShlPSIiLHQ9bnVsbCxpLHM9ITApe3JldHVybiBuZXcgeihlLHRoaXMuZ2V0U2NlbmUoKSx0LHRoaXMsaSxzKX1kaXNwb3NlKGUsdD0hMSl7dGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkucmVsZWFzZUZvck1lc2godGhpcywhMCk7Y29uc3QgaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZihpLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlJiZpLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25BZnRlclJlbmRlck9ic2VydmFibGUmJmkuX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUmJmkuX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2NlbmUudXNlQ2xvbmVkTWVzaE1hcCl7aWYoaS5tZXNoTWFwKWZvcihjb25zdCBzIGluIGkubWVzaE1hcCl7Y29uc3Qgcj1pLm1lc2hNYXBbc107ciYmKHIuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9bnVsbCxpLm1lc2hNYXBbc109dm9pZCAwKX1pLl9zb3VyY2UmJmkuX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcCYmKGkuX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApfWVsc2V7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCByIG9mIHMpe2NvbnN0IG49cjtuLl9pbnRlcm5hbE1lc2hEYXRhSW5mbyYmbi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZSYmbi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT09PXRoaXMmJihuLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPW51bGwpfX1pLl9zb3VyY2U9bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXM9e30sdGhpcy5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyKSxzdXBlci5kaXNwb3NlKGUsdCl9X2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YSgpe31fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpe31faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKXt9YXBwbHlEaXNwbGFjZW1lbnRNYXAoZSx0LGkscyxyLG4sYT0hMSl7Y29uc3Qgbz10aGlzLmdldFNjZW5lKCksaD1sPT57Y29uc3QgdT1sLndpZHRoLGQ9bC5oZWlnaHQsZj10aGlzLmdldEVuZ2luZSgpLmNyZWF0ZUNhbnZhcyh1LGQpLmdldENvbnRleHQoIjJkIik7Zi5kcmF3SW1hZ2UobCwwLDApO2NvbnN0IG09Zi5nZXRJbWFnZURhdGEoMCwwLHUsZCkuZGF0YTt0aGlzLmFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcihtLHUsZCx0LGkscixuLGEpLHMmJnModGhpcyl9O3JldHVybiBYLkxvYWRJbWFnZShlLGgsKCk9Pnt9LG8ub2ZmbGluZVByb3ZpZGVyKSx0aGlzfWFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcihlLHQsaSxzLHIsbixhLG89ITEpe2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCl8fCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpfHwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpKXJldHVybiBPLldhcm4oIkNhbm5vdCBjYWxsIGFwcGx5RGlzcGxhY2VtZW50TWFwOiBHaXZlbiBtZXNoIGlzIG5vdCBjb21wbGV0ZS4gUG9zaXRpb24sIE5vcm1hbCBvciBVViBhcmUgbWlzc2luZyIpLHRoaXM7Y29uc3QgaD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCwhMCwhMCksbD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpLHU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQpO2xldCBkPXAuWmVybygpO2NvbnN0IF89cC5aZXJvKCksZj12ZS5aZXJvKCk7bj1ufHx2ZS5aZXJvKCksYT1hfHxuZXcgdmUoMSwxKTtmb3IobGV0IG09MDttPGgubGVuZ3RoO20rPTMpe3AuRnJvbUFycmF5VG9SZWYoaCxtLGQpLHAuRnJvbUFycmF5VG9SZWYobCxtLF8pLHZlLkZyb21BcnJheVRvUmVmKHUsbS8zKjIsZik7Y29uc3Qgdj1NYXRoLmFicyhmLngqYS54K24ueCUxKSoodC0xKSV0fDAsRT1NYXRoLmFicyhmLnkqYS55K24ueSUxKSooaS0xKSVpfDAsUz0oditFKnQpKjQsUj1lW1NdLzI1NSxBPWVbUysxXS8yNTUsQz1lW1MrMl0vMjU1LGI9UiouMytBKi41OStDKi4xMTtfLm5vcm1hbGl6ZSgpLF8uc2NhbGVJblBsYWNlKHMrKHItcykqYiksZD1kLmFkZChfKSxkLnRvQXJyYXkoaCxtKX1yZXR1cm4gdGUuQ29tcHV0ZU5vcm1hbHMoaCx0aGlzLmdldEluZGljZXMoKSxsKSxvPyh0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsbCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdSkpOih0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxoKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsbCkpLHRoaXN9Y29udmVydFRvRmxhdFNoYWRlZE1lc2goKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhS2luZHMoKSx0PXt9LGk9e30scz17fTtsZXQgcj0hMSxuLGE7Zm9yKG49MDtuPGUubGVuZ3RoO24rKyl7YT1lW25dO2NvbnN0IHY9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoYSksRT12LmdldERhdGEoKTtpZighKChFIGluc3RhbmNlb2YgQXJyYXl8fEUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpJiZFLmxlbmd0aD09PTApKXtpZihhPT09Zy5Ob3JtYWxLaW5kKXtyPXYuaXNVcGRhdGFibGUoKSxlLnNwbGljZShuLDEpLG4tLTtjb250aW51ZX10W2FdPXYsaVthXT10aGlzLmdldFZlcnRpY2VzRGF0YShhKSxzW2FdPVtdfX1jb25zdCBvPXRoaXMuc3ViTWVzaGVzLnNsaWNlKDApLGg9dGhpcy5nZXRJbmRpY2VzKCksbD10aGlzLmdldFRvdGFsSW5kaWNlcygpO2xldCB1O2Zvcih1PTA7dTxsO3UrKyl7Y29uc3Qgdj1oW3VdO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspe2lmKGE9ZVtuXSwhdFthXSljb250aW51ZTtjb25zdCBFPXRbYV0uZ2V0U3RyaWRlU2l6ZSgpO2ZvcihsZXQgUz0wO1M8RTtTKyspc1thXS5wdXNoKGlbYV1bdipFK1NdKX19Y29uc3QgZD1bXSxfPXNbZy5Qb3NpdGlvbktpbmRdLGY9dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtO2xldCBtO2ZvcihmP209dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09MTptPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PTAsdT0wO3U8bDt1Kz0zKXtoW3VdPXUsaFt1KzFdPXUrMSxoW3UrMl09dSsyO2NvbnN0IHY9cC5Gcm9tQXJyYXkoXyx1KjMpLEU9cC5Gcm9tQXJyYXkoXywodSsxKSozKSxTPXAuRnJvbUFycmF5KF8sKHUrMikqMyksUj12LnN1YnRyYWN0KEUpLEE9Uy5zdWJ0cmFjdChFKSxDPXAuTm9ybWFsaXplKHAuQ3Jvc3MoUixBKSk7bSYmQy5zY2FsZUluUGxhY2UoLTEpO2ZvcihsZXQgYj0wO2I8MztiKyspZC5wdXNoKEMueCksZC5wdXNoKEMueSksZC5wdXNoKEMueil9Zm9yKHRoaXMuc2V0SW5kaWNlcyhoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsZCxyKSxuPTA7bjxlLmxlbmd0aDtuKyspYT1lW25dLHNbYV0mJnRoaXMuc2V0VmVydGljZXNEYXRhKGEsc1thXSx0W2FdLmlzVXBkYXRhYmxlKCkpO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2ZvcihsZXQgdj0wO3Y8by5sZW5ndGg7disrKXtjb25zdCBFPW9bdl07VHQuQWRkVG9NZXNoKEUubWF0ZXJpYWxJbmRleCxFLmluZGV4U3RhcnQsRS5pbmRleENvdW50LEUuaW5kZXhTdGFydCxFLmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfWNvbnZlcnRUb1VuSW5kZXhlZE1lc2goKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhS2luZHMoKSx0PXt9LGk9e30scz17fTtsZXQgcixuO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspe249ZVtyXTtjb25zdCB1PXRoaXMuZ2V0VmVydGV4QnVmZmVyKG4pO3Rbbl09dSxpW25dPXRbbl0uZ2V0RGF0YSgpLHNbbl09W119Y29uc3QgYT10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKSxvPXRoaXMuZ2V0SW5kaWNlcygpLGg9dGhpcy5nZXRUb3RhbEluZGljZXMoKTtsZXQgbDtmb3IobD0wO2w8aDtsKyspe2NvbnN0IHU9b1tsXTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXtuPWVbcl07Y29uc3QgZD10W25dLmdldFN0cmlkZVNpemUoKTtmb3IobGV0IF89MDtfPGQ7XysrKXNbbl0ucHVzaChpW25dW3UqZCtfXSl9fWZvcihsPTA7bDxoO2wrPTMpb1tsXT1sLG9bbCsxXT1sKzEsb1tsKzJdPWwrMjtmb3IodGhpcy5zZXRJbmRpY2VzKG8pLHI9MDtyPGUubGVuZ3RoO3IrKyluPWVbcl0sdGhpcy5zZXRWZXJ0aWNlc0RhdGEobixzW25dLHRbbl0uaXNVcGRhdGFibGUoKSx0W25dLmdldFN0cmlkZVNpemUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKGxldCB1PTA7dTxhLmxlbmd0aDt1Kyspe2NvbnN0IGQ9YVt1XTtUdC5BZGRUb01lc2goZC5tYXRlcmlhbEluZGV4LGQuaW5kZXhTdGFydCxkLmluZGV4Q291bnQsZC5pbmRleFN0YXJ0LGQuaW5kZXhDb3VudCx0aGlzKX1yZXR1cm4gdGhpcy5fdW5JbmRleGVkPSEwLHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfWZsaXBGYWNlcyhlPSExKXtjb25zdCB0PXRlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKTtsZXQgaTtpZihlJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpJiZ0Lm5vcm1hbHMpZm9yKGk9MDtpPHQubm9ybWFscy5sZW5ndGg7aSsrKXQubm9ybWFsc1tpXSo9LTE7aWYodC5pbmRpY2VzKXtsZXQgcztmb3IoaT0wO2k8dC5pbmRpY2VzLmxlbmd0aDtpKz0zKXM9dC5pbmRpY2VzW2krMV0sdC5pbmRpY2VzW2krMV09dC5pbmRpY2VzW2krMl0sdC5pbmRpY2VzW2krMl09c31yZXR1cm4gdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Qb3NpdGlvbktpbmQpKSx0aGlzfWluY3JlYXNlVmVydGljZXMoZT0xKXtjb25zdCB0PXRlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSxpPXQuaW5kaWNlcyYmIUFycmF5LmlzQXJyYXkodC5pbmRpY2VzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQuaW5kaWNlcyk6dC5pbmRpY2VzLHM9dC5wb3NpdGlvbnMmJiFBcnJheS5pc0FycmF5KHQucG9zaXRpb25zKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQucG9zaXRpb25zKTp0LnBvc2l0aW9ucyxyPXQudXZzJiYhQXJyYXkuaXNBcnJheSh0LnV2cykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0LnV2cyk6dC51dnMsbj10Lm5vcm1hbHMmJiFBcnJheS5pc0FycmF5KHQubm9ybWFscykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0Lm5vcm1hbHMpOnQubm9ybWFscztpZighaXx8IXMpTy5XYXJuKCJDb3VsZG4ndCBpbmNyZWFzZSBudW1iZXIgb2YgdmVydGljZXMgOiBWZXJ0ZXhEYXRhIG11c3QgY29udGFpbiBhdCBsZWFzdCBpbmRpY2VzIGFuZCBwb3NpdGlvbnMiKTtlbHNle3QuaW5kaWNlcz1pLHQucG9zaXRpb25zPXMsciYmKHQudXZzPXIpLG4mJih0Lm5vcm1hbHM9bik7Y29uc3QgYT1lKzEsbz1uZXcgQXJyYXk7Zm9yKGxldCBDPTA7QzxhKzE7QysrKW9bQ109bmV3IEFycmF5O2xldCBoLGw7Y29uc3QgdT1uZXcgcCgwLDAsMCksZD1uZXcgcCgwLDAsMCksXz1uZXcgdmUoMCwwKSxmPW5ldyBBcnJheSxtPW5ldyBBcnJheSx2PW5ldyBBcnJheTtsZXQgRSxTPXMubGVuZ3RoLFI7ciYmKFI9ci5sZW5ndGgpO2xldCBBO24mJihBPW4ubGVuZ3RoKTtmb3IobGV0IEM9MDtDPGkubGVuZ3RoO0MrPTMpe21bMF09aVtDXSxtWzFdPWlbQysxXSxtWzJdPWlbQysyXTtmb3IobGV0IGI9MDtiPDM7YisrKWlmKGg9bVtiXSxsPW1bKGIrMSklM10sdltoXT09PXZvaWQgMCYmdltsXT09PXZvaWQgMD8odltoXT1uZXcgQXJyYXksdltsXT1uZXcgQXJyYXkpOih2W2hdPT09dm9pZCAwJiYodltoXT1uZXcgQXJyYXkpLHZbbF09PT12b2lkIDAmJih2W2xdPW5ldyBBcnJheSkpLHZbaF1bbF09PT12b2lkIDAmJnZbbF1baF09PT12b2lkIDApe3ZbaF1bbF09W10sdS54PShzWzMqbF0tc1szKmhdKS9hLHUueT0oc1szKmwrMV0tc1szKmgrMV0pL2EsdS56PShzWzMqbCsyXS1zWzMqaCsyXSkvYSxuJiYoZC54PShuWzMqbF0tblszKmhdKS9hLGQueT0oblszKmwrMV0tblszKmgrMV0pL2EsZC56PShuWzMqbCsyXS1uWzMqaCsyXSkvYSksciYmKF8ueD0oclsyKmxdLXJbMipoXSkvYSxfLnk9KHJbMipsKzFdLXJbMipoKzFdKS9hKSx2W2hdW2xdLnB1c2goaCk7Zm9yKGxldCB4PTE7eDxhO3grKyl2W2hdW2xdLnB1c2gocy5sZW5ndGgvMyksc1tTKytdPXNbMypoXSt4KnUueCxzW1MrK109c1szKmgrMV0reCp1Lnksc1tTKytdPXNbMypoKzJdK3gqdS56LG4mJihuW0ErK109blszKmhdK3gqZC54LG5bQSsrXT1uWzMqaCsxXSt4KmQueSxuW0ErK109blszKmgrMl0reCpkLnopLHImJihyW1IrK109clsyKmhdK3gqXy54LHJbUisrXT1yWzIqaCsxXSt4Kl8ueSk7dltoXVtsXS5wdXNoKGwpLHZbbF1baF09bmV3IEFycmF5LEU9dltoXVtsXS5sZW5ndGg7Zm9yKGxldCB4PTA7eDxFO3grKyl2W2xdW2hdW3hdPXZbaF1bbF1bRS0xLXhdfW9bMF1bMF09aVtDXSxvWzFdWzBdPXZbaVtDXV1baVtDKzFdXVsxXSxvWzFdWzFdPXZbaVtDXV1baVtDKzJdXVsxXTtmb3IobGV0IGI9MjtiPGE7YisrKXtvW2JdWzBdPXZbaVtDXV1baVtDKzFdXVtiXSxvW2JdW2JdPXZbaVtDXV1baVtDKzJdXVtiXSx1Lng9KHNbMypvW2JdW2JdXS1zWzMqb1tiXVswXV0pL2IsdS55PShzWzMqb1tiXVtiXSsxXS1zWzMqb1tiXVswXSsxXSkvYix1Lno9KHNbMypvW2JdW2JdKzJdLXNbMypvW2JdWzBdKzJdKS9iLG4mJihkLng9KG5bMypvW2JdW2JdXS1uWzMqb1tiXVswXV0pL2IsZC55PShuWzMqb1tiXVtiXSsxXS1uWzMqb1tiXVswXSsxXSkvYixkLno9KG5bMypvW2JdW2JdKzJdLW5bMypvW2JdWzBdKzJdKS9iKSxyJiYoXy54PShyWzIqb1tiXVtiXV0tclsyKm9bYl1bMF1dKS9iLF8ueT0oclsyKm9bYl1bYl0rMV0tclsyKm9bYl1bMF0rMV0pL2IpO2ZvcihsZXQgeD0xO3g8Yjt4Kyspb1tiXVt4XT1zLmxlbmd0aC8zLHNbUysrXT1zWzMqb1tiXVswXV0reCp1Lngsc1tTKytdPXNbMypvW2JdWzBdKzFdK3gqdS55LHNbUysrXT1zWzMqb1tiXVswXSsyXSt4KnUueixuJiYobltBKytdPW5bMypvW2JdWzBdXSt4KmQueCxuW0ErK109blszKm9bYl1bMF0rMV0reCpkLnksbltBKytdPW5bMypvW2JdWzBdKzJdK3gqZC56KSxyJiYocltSKytdPXJbMipvW2JdWzBdXSt4Kl8ueCxyW1IrK109clsyKm9bYl1bMF0rMV0reCpfLnkpfW9bYV09dltpW0MrMV1dW2lbQysyXV0sZi5wdXNoKG9bMF1bMF0sb1sxXVswXSxvWzFdWzFdKTtmb3IobGV0IGI9MTtiPGE7YisrKXtsZXQgeDtmb3IoeD0wO3g8Yjt4KyspZi5wdXNoKG9bYl1beF0sb1tiKzFdW3hdLG9bYisxXVt4KzFdKSxmLnB1c2gob1tiXVt4XSxvW2IrMV1beCsxXSxvW2JdW3grMV0pO2YucHVzaChvW2JdW3hdLG9bYisxXVt4XSxvW2IrMV1beCsxXSl9fXQuaW5kaWNlcz1mLHQuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKSl9fWZvcmNlU2hhcmVkVmVydGljZXMoKXtjb25zdCBlPXRlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSx0PWUudXZzLGk9ZS5pbmRpY2VzLHM9ZS5wb3NpdGlvbnMscj1lLmNvbG9ycyxuPWUubWF0cmljZXNJbmRpY2VzLGE9ZS5tYXRyaWNlc1dlaWdodHMsbz1lLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGg9ZS5tYXRyaWNlc1dlaWdodHNFeHRyYTtpZihpPT09dm9pZCAwfHxzPT09dm9pZCAwfHxpPT09bnVsbHx8cz09PW51bGwpTy5XYXJuKCJWZXJ0ZXhEYXRhIGNvbnRhaW5zIGVtcHR5IGVudHJpZXMiKTtlbHNle2NvbnN0IGw9bmV3IEFycmF5LHU9bmV3IEFycmF5LGQ9bmV3IEFycmF5LF89bmV3IEFycmF5LGY9bmV3IEFycmF5LG09bmV3IEFycmF5LHY9bmV3IEFycmF5LEU9bmV3IEFycmF5O2xldCBTPW5ldyBBcnJheSxSPTA7Y29uc3QgQT17fTtsZXQgQyxiO2ZvcihsZXQgST0wO0k8aS5sZW5ndGg7SSs9Myl7Yj1baVtJXSxpW0krMV0saVtJKzJdXSxTPW5ldyBBcnJheTtmb3IobGV0IFU9MDtVPDM7VSsrKXtTW1VdPSIiO2ZvcihsZXQgaz0wO2s8MztrKyspTWF0aC5hYnMoc1szKmJbVV0ra10pPDFlLTgmJihzWzMqYltVXStrXT0wKSxTW1VdKz1zWzMqYltVXStrXSsifCJ9aWYoIShTWzBdPT1TWzFdfHxTWzBdPT1TWzJdfHxTWzFdPT1TWzJdKSlmb3IobGV0IFU9MDtVPDM7VSsrKXtpZihDPUFbU1tVXV0sQz09PXZvaWQgMCl7QVtTW1VdXT1SLEM9UisrO2ZvcihsZXQgaz0wO2s8MztrKyspbC5wdXNoKHNbMypiW1VdK2tdKTtpZihyIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspXy5wdXNoKHJbNCpiW1VdK2tdKTtpZih0IT1udWxsKWZvcihsZXQgaz0wO2s8MjtrKyspZC5wdXNoKHRbMipiW1VdK2tdKTtpZihuIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspZi5wdXNoKG5bNCpiW1VdK2tdKTtpZihhIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspbS5wdXNoKGFbNCpiW1VdK2tdKTtpZihvIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspdi5wdXNoKG9bNCpiW1VdK2tdKTtpZihoIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspRS5wdXNoKGhbNCpiW1VdK2tdKX11LnB1c2goQyl9fWNvbnN0IHg9bmV3IEFycmF5O3RlLkNvbXB1dGVOb3JtYWxzKGwsdSx4KSxlLnBvc2l0aW9ucz1sLGUuaW5kaWNlcz11LGUubm9ybWFscz14LHQhPW51bGwmJihlLnV2cz1kKSxyIT1udWxsJiYoZS5jb2xvcnM9XyksbiE9bnVsbCYmKGUubWF0cmljZXNJbmRpY2VzPWYpLGEhPW51bGwmJihlLm1hdHJpY2VzV2VpZ2h0cz1tKSxvIT1udWxsJiYoZS5tYXRyaWNlc0luZGljZXNFeHRyYT12KSxhIT1udWxsJiYoZS5tYXRyaWNlc1dlaWdodHNFeHRyYT1FKSxlLmFwcGx5VG9NZXNoKHRoaXMsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCkpfX1zdGF0aWMgX2luc3RhbmNlZE1lc2hGYWN0b3J5KGUsdCl7dGhyb3cgUSgiSW5zdGFuY2VkTWVzaCIpfXN0YXRpYyBfUGh5c2ljc0ltcG9zdG9yUGFyc2VyKGUsdCxpKXt0aHJvdyBRKCJQaHlzaWNzSW1wb3N0b3IiKX1jcmVhdGVJbnN0YW5jZShlKXtyZXR1cm4gei5faW5zdGFuY2VkTWVzaEZhY3RvcnkoZSx0aGlzKX1zeW5jaHJvbml6ZUluc3RhbmNlcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2UrKyl0aGlzLmluc3RhbmNlc1tlXS5fc3luY1N1Yk1lc2hlcygpO3JldHVybiB0aGlzfW9wdGltaXplSW5kaWNlcyhlKXtjb25zdCB0PXRoaXMuZ2V0SW5kaWNlcygpLGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCFpfHwhdClyZXR1cm4gdGhpcztjb25zdCBzPW5ldyBBcnJheTtmb3IobGV0IG49MDtuPGkubGVuZ3RoO249biszKXMucHVzaChwLkZyb21BcnJheShpLG4pKTtjb25zdCByPW5ldyBBcnJheTtyZXR1cm4gJGkuU3luY0FzeW5jRm9yTG9vcChzLmxlbmd0aCw0MCxuPT57Y29uc3QgYT1zLmxlbmd0aC0xLW4sbz1zW2FdO2ZvcihsZXQgaD0wO2g8YTsrK2gpe2NvbnN0IGw9c1toXTtpZihvLmVxdWFscyhsKSl7clthXT1oO2JyZWFrfX19LCgpPT57Zm9yKGxldCBhPTA7YTx0Lmxlbmd0aDsrK2EpdFthXT1yW3RbYV1dfHx0W2FdO2NvbnN0IG49dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCk7dGhpcy5zZXRJbmRpY2VzKHQpLHRoaXMuc3ViTWVzaGVzPW4sZSYmZSh0aGlzKX0pLHRoaXN9c2VyaWFsaXplKGU9e30pe2UubmFtZT10aGlzLm5hbWUsZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSxmZSYmZmUuSGFzVGFncyh0aGlzKSYmKGUudGFncz1mZS5HZXRUYWdzKHRoaXMpKSxlLnBvc2l0aW9uPXRoaXMucG9zaXRpb24uYXNBcnJheSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP2Uucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmFzQXJyYXkoKTp0aGlzLnJvdGF0aW9uJiYoZS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLmFzQXJyYXkoKSksZS5zY2FsaW5nPXRoaXMuc2NhbGluZy5hc0FycmF5KCksdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXg/ZS5waXZvdE1hdHJpeD10aGlzLmdldFBpdm90TWF0cml4KCkuYXNBcnJheSgpOmUubG9jYWxNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKSxlLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCghMSksZS5pc1Zpc2libGU9dGhpcy5pc1Zpc2libGUsZS5pbmZpbml0ZURpc3RhbmNlPXRoaXMuaW5maW5pdGVEaXN0YW5jZSxlLnBpY2thYmxlPXRoaXMuaXNQaWNrYWJsZSxlLnJlY2VpdmVTaGFkb3dzPXRoaXMucmVjZWl2ZVNoYWRvd3MsZS5iaWxsYm9hcmRNb2RlPXRoaXMuYmlsbGJvYXJkTW9kZSxlLnZpc2liaWxpdHk9dGhpcy52aXNpYmlsaXR5LGUuY2hlY2tDb2xsaXNpb25zPXRoaXMuY2hlY2tDb2xsaXNpb25zLGUuaXNCbG9ja2VyPXRoaXMuaXNCbG9ja2VyLGUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChlKSxlLmlzVW5JbmRleGVkPXRoaXMuaXNVbkluZGV4ZWQ7Y29uc3QgdD10aGlzLl9nZW9tZXRyeTtpZih0JiZ0aGlzLnN1Yk1lc2hlcyl7ZS5nZW9tZXRyeVVuaXF1ZUlkPXQudW5pcXVlSWQsZS5nZW9tZXRyeUlkPXQuaWQsZS5zdWJNZXNoZXM9W107Zm9yKGxldCBpPTA7aTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuc3ViTWVzaGVzW2ldO2Uuc3ViTWVzaGVzLnB1c2goe21hdGVyaWFsSW5kZXg6cy5tYXRlcmlhbEluZGV4LHZlcnRpY2VzU3RhcnQ6cy52ZXJ0aWNlc1N0YXJ0LHZlcnRpY2VzQ291bnQ6cy52ZXJ0aWNlc0NvdW50LGluZGV4U3RhcnQ6cy5pbmRleFN0YXJ0LGluZGV4Q291bnQ6cy5pbmRleENvdW50fSl9fWlmKHRoaXMubWF0ZXJpYWw/dGhpcy5tYXRlcmlhbC5kb05vdFNlcmlhbGl6ZXx8KGUubWF0ZXJpYWxVbmlxdWVJZD10aGlzLm1hdGVyaWFsLnVuaXF1ZUlkLGUubWF0ZXJpYWxJZD10aGlzLm1hdGVyaWFsLmlkKToodGhpcy5tYXRlcmlhbD1udWxsLGUubWF0ZXJpYWxVbmlxdWVJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwudW5pcXVlSWQsZS5tYXRlcmlhbElkPXRoaXMuX3NjZW5lLmRlZmF1bHRNYXRlcmlhbC5pZCksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJihlLm1vcnBoVGFyZ2V0TWFuYWdlcklkPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLnVuaXF1ZUlkKSx0aGlzLnNrZWxldG9uJiYoZS5za2VsZXRvbklkPXRoaXMuc2tlbGV0b24uaWQsZS5udW1Cb25lSW5mbHVlbmNlcnM9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnMpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KGouTkFNRV9QSFlTSUNTRU5HSU5FKSl7Y29uc3QgaT10aGlzLmdldFBoeXNpY3NJbXBvc3RvcigpO2kmJihlLnBoeXNpY3NNYXNzPWkuZ2V0UGFyYW0oIm1hc3MiKSxlLnBoeXNpY3NGcmljdGlvbj1pLmdldFBhcmFtKCJmcmljdGlvbiIpLGUucGh5c2ljc1Jlc3RpdHV0aW9uPWkuZ2V0UGFyYW0oIm1hc3MiKSxlLnBoeXNpY3NJbXBvc3Rvcj1pLnR5cGUpfXRoaXMubWV0YWRhdGEmJihlLm1ldGFkYXRhPXRoaXMubWV0YWRhdGEpLGUuaW5zdGFuY2VzPVtdO2ZvcihsZXQgaT0wO2k8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLmluc3RhbmNlc1tpXTtpZihzLmRvTm90U2VyaWFsaXplKWNvbnRpbnVlO2NvbnN0IHI9e25hbWU6cy5uYW1lLGlkOnMuaWQsaXNFbmFibGVkOnMuaXNFbmFibGVkKCExKSxpc1Zpc2libGU6cy5pc1Zpc2libGUsaXNQaWNrYWJsZTpzLmlzUGlja2FibGUsY2hlY2tDb2xsaXNpb25zOnMuY2hlY2tDb2xsaXNpb25zLHBvc2l0aW9uOnMucG9zaXRpb24uYXNBcnJheSgpLHNjYWxpbmc6cy5zY2FsaW5nLmFzQXJyYXkoKX07aWYocy5wYXJlbnQmJnMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChyKSxzLnJvdGF0aW9uUXVhdGVybmlvbj9yLnJvdGF0aW9uUXVhdGVybmlvbj1zLnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6cy5yb3RhdGlvbiYmKHIucm90YXRpb249cy5yb3RhdGlvbi5hc0FycmF5KCkpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KGouTkFNRV9QSFlTSUNTRU5HSU5FKSl7Y29uc3Qgbj1zLmdldFBoeXNpY3NJbXBvc3RvcigpO24mJihyLnBoeXNpY3NNYXNzPW4uZ2V0UGFyYW0oIm1hc3MiKSxyLnBoeXNpY3NGcmljdGlvbj1uLmdldFBhcmFtKCJmcmljdGlvbiIpLHIucGh5c2ljc1Jlc3RpdHV0aW9uPW4uZ2V0UGFyYW0oIm1hc3MiKSxyLnBoeXNpY3NJbXBvc3Rvcj1uLnR5cGUpfXMubWV0YWRhdGEmJihyLm1ldGFkYXRhPXMubWV0YWRhdGEpLHMuYWN0aW9uTWFuYWdlciYmKHIuYWN0aW9ucz1zLmFjdGlvbk1hbmFnZXIuc2VyaWFsaXplKHMubmFtZSkpLGUuaW5zdGFuY2VzLnB1c2gociksbmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnMocyxyKSxyLnJhbmdlcz1zLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpfWlmKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50JiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYoZS50aGluSW5zdGFuY2VzPXtpbnN0YW5jZXNDb3VudDp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCxtYXRyaXhEYXRhOkFycmF5LmZyb20odGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSksbWF0cml4QnVmZmVyU2l6ZTp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplLGVuYWJsZVBpY2tpbmc6dGhpcy50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nfSx0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UpKXtjb25zdCBpPXtkYXRhOnt9LHNpemVzOnt9LHN0cmlkZXM6e319O2Zvcihjb25zdCBzIGluIHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5kYXRhKWkuZGF0YVtzXT1BcnJheS5mcm9tKHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5kYXRhW3NdKSxpLnNpemVzW3NdPXRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zaXplc1tzXSxpLnN0cmlkZXNbc109dGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbc107ZS50aGluSW5zdGFuY2VzLnVzZXJUaGluSW5zdGFuY2U9aX1yZXR1cm4gbmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUubGF5ZXJNYXNrPXRoaXMubGF5ZXJNYXNrLGUuYWxwaGFJbmRleD10aGlzLmFscGhhSW5kZXgsZS5oYXNWZXJ0ZXhBbHBoYT10aGlzLmhhc1ZlcnRleEFscGhhLGUub3ZlcmxheUFscGhhPXRoaXMub3ZlcmxheUFscGhhLGUub3ZlcmxheUNvbG9yPXRoaXMub3ZlcmxheUNvbG9yLmFzQXJyYXkoKSxlLnJlbmRlck92ZXJsYXk9dGhpcy5yZW5kZXJPdmVybGF5LGUuYXBwbHlGb2c9dGhpcy5hcHBseUZvZyx0aGlzLmFjdGlvbk1hbmFnZXImJihlLmFjdGlvbnM9dGhpcy5hY3Rpb25NYW5hZ2VyLnNlcmlhbGl6ZSh0aGlzLm5hbWUpKSxlfV9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCl7aWYoIXRoaXMuZ2VvbWV0cnkpcmV0dXJuO3RoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpO2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyO2lmKGUmJmUudmVydGV4Q291bnQpe2lmKGUudmVydGV4Q291bnQhPT10aGlzLmdldFRvdGFsVmVydGljZXMoKSl7Ty5FcnJvcigiTWVzaCBpcyBpbmNvbXBhdGlibGUgd2l0aCBtb3JwaCB0YXJnZXRzLiBUYXJnZXRzIGFuZCBtZXNoIG11c3QgYWxsIGhhdmUgdGhlIHNhbWUgdmVydGljZXMgY291bnQuIiksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbDtyZXR1cm59aWYoZS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpcmV0dXJuO2ZvcihsZXQgdD0wO3Q8ZS5udW1JbmZsdWVuY2Vyczt0Kyspe2NvbnN0IGk9ZS5nZXRBY3RpdmVUYXJnZXQodCkscz1pLmdldFBvc2l0aW9ucygpO2lmKCFzKXtPLkVycm9yKCJJbnZhbGlkIG1vcnBoIHRhcmdldC4gVGFyZ2V0IG11c3QgaGF2ZSBwb3NpdGlvbnMuIik7cmV0dXJufXRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kK3QscywhMSwzKTtjb25zdCByPWkuZ2V0Tm9ybWFscygpO3ImJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCt0LHIsITEsMyk7Y29uc3Qgbj1pLmdldFRhbmdlbnRzKCk7biYmdGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCt0LG4sITEsMyk7Y29uc3QgYT1pLmdldFVWcygpO2EmJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuVVZLaW5kKyJfIit0LGEsITEsMil9fWVsc2V7bGV0IHQ9MDtmb3IoO3RoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kK3QpOyl0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQrdCkmJnRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kK3QpLHRoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlVWS2luZCsiXyIrdCksdCsrfX1zdGF0aWMgUGFyc2UoZSx0LGkpe2xldCBzO2lmKGUudHlwZSYmZS50eXBlPT09IkxpbmVzTWVzaCI/cz16Ll9MaW5lc01lc2hQYXJzZXIoZSx0KTplLnR5cGUmJmUudHlwZT09PSJHcm91bmRNZXNoIj9zPXouX0dyb3VuZE1lc2hQYXJzZXIoZSx0KTplLnR5cGUmJmUudHlwZT09PSJHb2xkYmVyZ01lc2giP3M9ei5fR29sZGJlcmdNZXNoUGFyc2VyKGUsdCk6cz1uZXcgeihlLm5hbWUsdCkscy5pZD1lLmlkLHMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLGZlJiZmZS5BZGRUYWdzVG8ocyxlLnRhZ3MpLHMucG9zaXRpb249cC5Gcm9tQXJyYXkoZS5wb3NpdGlvbiksZS5tZXRhZGF0YSE9PXZvaWQgMCYmKHMubWV0YWRhdGE9ZS5tZXRhZGF0YSksZS5yb3RhdGlvblF1YXRlcm5pb24/cy5yb3RhdGlvblF1YXRlcm5pb249Wi5Gcm9tQXJyYXkoZS5yb3RhdGlvblF1YXRlcm5pb24pOmUucm90YXRpb24mJihzLnJvdGF0aW9uPXAuRnJvbUFycmF5KGUucm90YXRpb24pKSxzLnNjYWxpbmc9cC5Gcm9tQXJyYXkoZS5zY2FsaW5nKSxlLmxvY2FsTWF0cml4P3Muc2V0UHJlVHJhbnNmb3JtTWF0cml4KE0uRnJvbUFycmF5KGUubG9jYWxNYXRyaXgpKTplLnBpdm90TWF0cml4JiZzLnNldFBpdm90TWF0cml4KE0uRnJvbUFycmF5KGUucGl2b3RNYXRyaXgpKSxzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHMuaXNWaXNpYmxlPWUuaXNWaXNpYmxlLHMuaW5maW5pdGVEaXN0YW5jZT1lLmluZmluaXRlRGlzdGFuY2Uscy5zaG93Qm91bmRpbmdCb3g9ZS5zaG93Qm91bmRpbmdCb3gscy5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9ZS5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3gsZS5hcHBseUZvZyE9PXZvaWQgMCYmKHMuYXBwbHlGb2c9ZS5hcHBseUZvZyksZS5waWNrYWJsZSE9PXZvaWQgMCYmKHMuaXNQaWNrYWJsZT1lLnBpY2thYmxlKSxlLmFscGhhSW5kZXghPT12b2lkIDAmJihzLmFscGhhSW5kZXg9ZS5hbHBoYUluZGV4KSxzLnJlY2VpdmVTaGFkb3dzPWUucmVjZWl2ZVNoYWRvd3MsZS5iaWxsYm9hcmRNb2RlIT09dm9pZCAwJiYocy5iaWxsYm9hcmRNb2RlPWUuYmlsbGJvYXJkTW9kZSksZS52aXNpYmlsaXR5IT09dm9pZCAwJiYocy52aXNpYmlsaXR5PWUudmlzaWJpbGl0eSkscy5jaGVja0NvbGxpc2lvbnM9ZS5jaGVja0NvbGxpc2lvbnMscy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPWUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbixlLmlzQmxvY2tlciE9PXZvaWQgMCYmKHMuaXNCbG9ja2VyPWUuaXNCbG9ja2VyKSxzLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPWUudXNlRmxhdFNoYWRpbmcsZS5mcmVlemVXb3JsZE1hdHJpeCYmKHMuX3dhaXRpbmdEYXRhLmZyZWV6ZVdvcmxkTWF0cml4PWUuZnJlZXplV29ybGRNYXRyaXgpLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxlLmFjdGlvbnMhPT12b2lkIDAmJihzLl93YWl0aW5nRGF0YS5hY3Rpb25zPWUuYWN0aW9ucyksZS5vdmVybGF5QWxwaGEhPT12b2lkIDAmJihzLm92ZXJsYXlBbHBoYT1lLm92ZXJsYXlBbHBoYSksZS5vdmVybGF5Q29sb3IhPT12b2lkIDAmJihzLm92ZXJsYXlDb2xvcj1yZS5Gcm9tQXJyYXkoZS5vdmVybGF5Q29sb3IpKSxlLnJlbmRlck92ZXJsYXkhPT12b2lkIDAmJihzLnJlbmRlck92ZXJsYXk9ZS5yZW5kZXJPdmVybGF5KSxzLmlzVW5JbmRleGVkPSEhZS5pc1VuSW5kZXhlZCxzLmhhc1ZlcnRleEFscGhhPWUuaGFzVmVydGV4QWxwaGEsZS5kZWxheUxvYWRpbmdGaWxlPyhzLmRlbGF5TG9hZFN0YXRlPTQscy5kZWxheUxvYWRpbmdGaWxlPWkrZS5kZWxheUxvYWRpbmdGaWxlLHMuYnVpbGRCb3VuZGluZ0luZm8ocC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLHAuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSksZS5fYmluYXJ5SW5mbyYmKHMuX2JpbmFyeUluZm89ZS5fYmluYXJ5SW5mbykscy5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWS2luZCksZS5oYXNVVnMyJiZzLl9kZWxheUluZm8ucHVzaChnLlVWMktpbmQpLGUuaGFzVVZzMyYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjNLaW5kKSxlLmhhc1VWczQmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY0S2luZCksZS5oYXNVVnM1JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNUtpbmQpLGUuaGFzVVZzNiYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmcy5fZGVsYXlJbmZvLnB1c2goZy5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPW90Ll9JbXBvcnRHZW9tZXRyeSxGZS5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCYmcy5fY2hlY2tEZWxheVN0YXRlKCkpOm90Ll9JbXBvcnRHZW9tZXRyeShlLHMpLGUubWF0ZXJpYWxVbmlxdWVJZD9zLl93YWl0aW5nTWF0ZXJpYWxJZD1lLm1hdGVyaWFsVW5pcXVlSWQ6ZS5tYXRlcmlhbElkJiYocy5fd2FpdGluZ01hdGVyaWFsSWQ9ZS5tYXRlcmlhbElkKSxlLm1vcnBoVGFyZ2V0TWFuYWdlcklkPi0xJiYocy5tb3JwaFRhcmdldE1hbmFnZXI9dC5nZXRNb3JwaFRhcmdldE1hbmFnZXJCeUlkKGUubW9ycGhUYXJnZXRNYW5hZ2VySWQpKSxlLnNrZWxldG9uSWQhPT12b2lkIDAmJmUuc2tlbGV0b25JZCE9PW51bGwmJihzLnNrZWxldG9uPXQuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpLGUubnVtQm9uZUluZmx1ZW5jZXJzJiYocy5udW1Cb25lSW5mbHVlbmNlcnM9ZS5udW1Cb25lSW5mbHVlbmNlcnMpKSxlLmFuaW1hdGlvbnMpe2ZvcihsZXQgcj0wO3I8ZS5hbmltYXRpb25zLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5hbmltYXRpb25zW3JdLGE9YWkoIkJBQllMT04uQW5pbWF0aW9uIik7YSYmcy5hbmltYXRpb25zLnB1c2goYS5QYXJzZShuKSl9emUuUGFyc2VBbmltYXRpb25SYW5nZXMocyxlLHQpfWlmKGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocyxlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmxheWVyTWFzayYmIWlzTmFOKGUubGF5ZXJNYXNrKT9zLmxheWVyTWFzaz1NYXRoLmFicyhwYXJzZUludChlLmxheWVyTWFzaykpOnMubGF5ZXJNYXNrPTI2ODQzNTQ1NSxlLnBoeXNpY3NJbXBvc3RvciYmei5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyKHQscyxlKSxlLmxvZE1lc2hJZHMmJihzLl93YWl0aW5nRGF0YS5sb2RzPXtpZHM6ZS5sb2RNZXNoSWRzLGRpc3RhbmNlczplLmxvZERpc3RhbmNlcz9lLmxvZERpc3RhbmNlczpudWxsLGNvdmVyYWdlczplLmxvZENvdmVyYWdlcz9lLmxvZENvdmVyYWdlczpudWxsfSksZS5pbnN0YW5jZXMpZm9yKGxldCByPTA7cjxlLmluc3RhbmNlcy5sZW5ndGg7cisrKXtjb25zdCBuPWUuaW5zdGFuY2VzW3JdLGE9cy5jcmVhdGVJbnN0YW5jZShuLm5hbWUpO2lmKG4uaWQmJihhLmlkPW4uaWQpLGZlJiYobi50YWdzP2ZlLkFkZFRhZ3NUbyhhLG4udGFncyk6ZmUuQWRkVGFnc1RvKGEsZS50YWdzKSksYS5wb3NpdGlvbj1wLkZyb21BcnJheShuLnBvc2l0aW9uKSxuLm1ldGFkYXRhIT09dm9pZCAwJiYoYS5tZXRhZGF0YT1uLm1ldGFkYXRhKSxuLnBhcmVudElkIT09dm9pZCAwJiYoYS5fd2FpdGluZ1BhcmVudElkPW4ucGFyZW50SWQpLG4ucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKGEuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PW4ucGFyZW50SW5zdGFuY2VJbmRleCksbi5pc0VuYWJsZWQhPT12b2lkIDAmJm4uaXNFbmFibGVkIT09bnVsbCYmYS5zZXRFbmFibGVkKG4uaXNFbmFibGVkKSxuLmlzVmlzaWJsZSE9PXZvaWQgMCYmbi5pc1Zpc2libGUhPT1udWxsJiYoYS5pc1Zpc2libGU9bi5pc1Zpc2libGUpLG4uaXNQaWNrYWJsZSE9PXZvaWQgMCYmbi5pc1BpY2thYmxlIT09bnVsbCYmKGEuaXNQaWNrYWJsZT1uLmlzUGlja2FibGUpLG4ucm90YXRpb25RdWF0ZXJuaW9uP2Eucm90YXRpb25RdWF0ZXJuaW9uPVouRnJvbUFycmF5KG4ucm90YXRpb25RdWF0ZXJuaW9uKTpuLnJvdGF0aW9uJiYoYS5yb3RhdGlvbj1wLkZyb21BcnJheShuLnJvdGF0aW9uKSksYS5zY2FsaW5nPXAuRnJvbUFycmF5KG4uc2NhbGluZyksbi5jaGVja0NvbGxpc2lvbnMhPW51bGwmJm4uY2hlY2tDb2xsaXNpb25zIT1udWxsJiYoYS5jaGVja0NvbGxpc2lvbnM9bi5jaGVja0NvbGxpc2lvbnMpLG4ucGlja2FibGUhPW51bGwmJm4ucGlja2FibGUhPW51bGwmJihhLmlzUGlja2FibGU9bi5waWNrYWJsZSksbi5zaG93Qm91bmRpbmdCb3ghPW51bGwmJm4uc2hvd0JvdW5kaW5nQm94IT1udWxsJiYoYS5zaG93Qm91bmRpbmdCb3g9bi5zaG93Qm91bmRpbmdCb3gpLG4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiZuLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCE9bnVsbCYmKGEuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PW4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94KSxuLmFscGhhSW5kZXghPW51bGwmJm4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiYoYS5hbHBoYUluZGV4PW4uYWxwaGFJbmRleCksbi5waHlzaWNzSW1wb3N0b3ImJnouX1BoeXNpY3NJbXBvc3RvclBhcnNlcih0LGEsbiksbi5hY3Rpb25zIT09dm9pZCAwJiYoYS5fd2FpdGluZ0RhdGEuYWN0aW9ucz1uLmFjdGlvbnMpLG4uYW5pbWF0aW9ucyl7Zm9yKGxldCBvPTA7bzxuLmFuaW1hdGlvbnMubGVuZ3RoO28rKyl7Y29uc3QgaD1uLmFuaW1hdGlvbnNbb10sbD1haSgiQkFCWUxPTi5BbmltYXRpb24iKTtsJiZhLmFuaW1hdGlvbnMucHVzaChsLlBhcnNlKGgpKX16ZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhhLG4sdCksbi5hdXRvQW5pbWF0ZSYmdC5iZWdpbkFuaW1hdGlvbihhLG4uYXV0b0FuaW1hdGVGcm9tLG4uYXV0b0FuaW1hdGVUbyxuLmF1dG9BbmltYXRlTG9vcCxuLmF1dG9BbmltYXRlU3BlZWR8fDEpfX1pZihlLnRoaW5JbnN0YW5jZXMpe2NvbnN0IHI9ZS50aGluSW5zdGFuY2VzO2lmKHMudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZz0hIXIuZW5hYmxlUGlja2luZyxyLm1hdHJpeERhdGE/KHMudGhpbkluc3RhbmNlU2V0QnVmZmVyKCJtYXRyaXgiLG5ldyBGbG9hdDMyQXJyYXkoci5tYXRyaXhEYXRhKSwxNiwhMSkscy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4QnVmZmVyU2l6ZT1yLm1hdHJpeEJ1ZmZlclNpemUscy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQ9ci5pbnN0YW5jZXNDb3VudCk6cy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4QnVmZmVyU2l6ZT1yLm1hdHJpeEJ1ZmZlclNpemUsZS50aGluSW5zdGFuY2VzLnVzZXJUaGluSW5zdGFuY2Upe2NvbnN0IG49ZS50aGluSW5zdGFuY2VzLnVzZXJUaGluSW5zdGFuY2U7Zm9yKGNvbnN0IGEgaW4gbi5kYXRhKXMudGhpbkluc3RhbmNlU2V0QnVmZmVyKGEsbmV3IEZsb2F0MzJBcnJheShuLmRhdGFbYV0pLG4uc3RyaWRlc1thXSwhMSkscy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnNpemVzW2FdPW4uc2l6ZXNbYV19fXJldHVybiBzfXNldFBvc2l0aW9uc0ZvckNQVVNraW5uaW5nKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighZS5fc291cmNlUG9zaXRpb25zKXtjb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtpZighdClyZXR1cm4gZS5fc291cmNlUG9zaXRpb25zO2UuX3NvdXJjZVBvc2l0aW9ucz1uZXcgRmxvYXQzMkFycmF5KHQpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Qb3NpdGlvbktpbmQpfHx0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0LCEwKX1yZXR1cm4gZS5fc291cmNlUG9zaXRpb25zfXNldE5vcm1hbHNGb3JDUFVTa2lubmluZygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIWUuX3NvdXJjZU5vcm1hbHMpe2NvbnN0IHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTtpZighdClyZXR1cm4gZS5fc291cmNlTm9ybWFscztlLl9zb3VyY2VOb3JtYWxzPW5ldyBGbG9hdDMyQXJyYXkodCksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLk5vcm1hbEtpbmQpfHx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsdCwhMCl9cmV0dXJuIGUuX3NvdXJjZU5vcm1hbHN9YXBwbHlTa2VsZXRvbihlKXtpZighdGhpcy5nZW9tZXRyeSlyZXR1cm4gdGhpcztpZih0aGlzLmdlb21ldHJ5Ll9zb2Z0d2FyZVNraW5uaW5nRnJhbWVJZD09dGhpcy5nZXRTY2VuZSgpLmdldEZyYW1lSWQoKSlyZXR1cm4gdGhpcztpZih0aGlzLmdlb21ldHJ5Ll9zb2Z0d2FyZVNraW5uaW5nRnJhbWVJZD10aGlzLmdldFNjZW5lKCkuZ2V0RnJhbWVJZCgpLCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCkpcmV0dXJuIHRoaXM7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCkpcmV0dXJuIHRoaXM7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCkpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpLGk9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIWkuX3NvdXJjZVBvc2l0aW9ucyl7Y29uc3QgRT10aGlzLnN1Yk1lc2hlcy5zbGljZSgpO3RoaXMuc2V0UG9zaXRpb25zRm9yQ1BVU2tpbm5pbmcoKSx0aGlzLnN1Yk1lc2hlcz1FfXQmJiFpLl9zb3VyY2VOb3JtYWxzJiZ0aGlzLnNldE5vcm1hbHNGb3JDUFVTa2lubmluZygpO2xldCBzPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtpZighcylyZXR1cm4gdGhpcztzIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHwocz1uZXcgRmxvYXQzMkFycmF5KHMpKTtsZXQgcj10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpO2lmKHQpe2lmKCFyKXJldHVybiB0aGlzO3IgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fChyPW5ldyBGbG9hdDMyQXJyYXkocikpfWNvbnN0IG49dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxhPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCk7aWYoIWF8fCFuKXJldHVybiB0aGlzO2NvbnN0IG89dGhpcy5udW1Cb25lSW5mbHVlbmNlcnM+NCxoPW8/dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpOm51bGwsbD1vP3RoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKTpudWxsLHU9ZS5nZXRUcmFuc2Zvcm1NYXRyaWNlcyh0aGlzKSxkPXAuWmVybygpLF89bmV3IE0sZj1uZXcgTTtsZXQgbT0wLHY7Zm9yKGxldCBFPTA7RTxzLmxlbmd0aDtFKz0zLG0rPTQpe2xldCBTO2Zvcih2PTA7djw0O3YrKylTPWFbbSt2XSxTPjAmJihNLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZCh1LE1hdGguZmxvb3IoblttK3ZdKjE2KSxTLGYpLF8uYWRkVG9TZWxmKGYpKTtpZihvKWZvcih2PTA7djw0O3YrKylTPWxbbSt2XSxTPjAmJihNLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZCh1LE1hdGguZmxvb3IoaFttK3ZdKjE2KSxTLGYpLF8uYWRkVG9TZWxmKGYpKTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGkuX3NvdXJjZVBvc2l0aW9uc1tFXSxpLl9zb3VyY2VQb3NpdGlvbnNbRSsxXSxpLl9zb3VyY2VQb3NpdGlvbnNbRSsyXSxfLGQpLGQudG9BcnJheShzLEUpLHQmJihwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihpLl9zb3VyY2VOb3JtYWxzW0VdLGkuX3NvdXJjZU5vcm1hbHNbRSsxXSxpLl9zb3VyY2VOb3JtYWxzW0UrMl0sXyxkKSxkLnRvQXJyYXkocixFKSksXy5yZXNldCgpfXJldHVybiB0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxzKSx0JiZ0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsciksdGhpc31zdGF0aWMgTWluTWF4KGUpe2xldCB0PW51bGwsaT1udWxsO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24ocyl7Y29uc3Qgbj1zLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nQm94OyF0fHwhaT8odD1uLm1pbmltdW1Xb3JsZCxpPW4ubWF4aW11bVdvcmxkKToodC5taW5pbWl6ZUluUGxhY2Uobi5taW5pbXVtV29ybGQpLGkubWF4aW1pemVJblBsYWNlKG4ubWF4aW11bVdvcmxkKSl9KSwhdHx8IWk/e21pbjpwLlplcm8oKSxtYXg6cC5aZXJvKCl9OnttaW46dCxtYXg6aX19c3RhdGljIENlbnRlcihlKXtjb25zdCB0PWUgaW5zdGFuY2VvZiBBcnJheT96Lk1pbk1heChlKTplO3JldHVybiBwLkNlbnRlcih0Lm1pbix0Lm1heCl9c3RhdGljIE1lcmdlTWVzaGVzKGUsdD0hMCxpLHMscixuKXtyZXR1cm4gTHMoei5fTWVyZ2VNZXNoZXNDb3JvdXRpbmUoZSx0LGkscyxyLG4sITEpKX1zdGF0aWMgTWVyZ2VNZXNoZXNBc3luYyhlLHQ9ITAsaSxzLHIsbil7cmV0dXJuIFVuKHouX01lcmdlTWVzaGVzQ29yb3V0aW5lKGUsdCxpLHMscixuLCEwKSxCbigpKX1zdGF0aWMqX01lcmdlTWVzaGVzQ29yb3V0aW5lKGUsdD0hMCxpLHMscixuLGEpe2lmKGU9ZS5maWx0ZXIoQm9vbGVhbiksZS5sZW5ndGg9PT0wKXJldHVybiBudWxsO2xldCBvO2lmKCFpKXtsZXQgeD0wO2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspaWYoeCs9ZVtvXS5nZXRUb3RhbFZlcnRpY2VzKCkseD49NjU1MzYpcmV0dXJuIE8uV2FybigiQ2Fubm90IG1lcmdlIG1lc2hlcyBiZWNhdXNlIHJlc3VsdGluZyBtZXNoIHdpbGwgaGF2ZSBtb3JlIHRoYW4gNjU1MzYgdmVydGljZXMuIFBsZWFzZSB1c2UgYWxsb3czMkJpdHNJbmRpY2VzID0gdHJ1ZSB0byB1c2UgMzIgYml0cyBpbmRpY2VzIiksbnVsbH1uJiYocj0hMSk7Y29uc3QgaD1uZXcgQXJyYXksbD1uZXcgQXJyYXksdT1uZXcgQXJyYXksZD1lWzBdLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb247Zm9yKG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3QgeD1lW29dO2lmKHguaXNBbkluc3RhbmNlKXJldHVybiBPLldhcm4oIkNhbm5vdCBtZXJnZSBpbnN0YW5jZSBtZXNoZXMuIiksbnVsbDtpZihkIT09eC5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKXJldHVybiBPLldhcm4oIkNhbm5vdCBtZXJnZSBtZXNoZXMgd2l0aCBkaWZmZXJlbnQgb3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbiB2YWx1ZXMuIiksbnVsbDtpZihyJiZ1LnB1c2goeC5nZXRUb3RhbEluZGljZXMoKSksbilpZih4Lm1hdGVyaWFsKXtjb25zdCBJPXgubWF0ZXJpYWw7aWYoSSBpbnN0YW5jZW9mIFJpKXtmb3IobGV0IFU9MDtVPEkuc3ViTWF0ZXJpYWxzLmxlbmd0aDtVKyspaC5pbmRleE9mKEkuc3ViTWF0ZXJpYWxzW1VdKTwwJiZoLnB1c2goSS5zdWJNYXRlcmlhbHNbVV0pO2ZvcihsZXQgVT0wO1U8eC5zdWJNZXNoZXMubGVuZ3RoO1UrKylsLnB1c2goaC5pbmRleE9mKEkuc3ViTWF0ZXJpYWxzW3guc3ViTWVzaGVzW1VdLm1hdGVyaWFsSW5kZXhdKSksdS5wdXNoKHguc3ViTWVzaGVzW1VdLmluZGV4Q291bnQpfWVsc2V7aC5pbmRleE9mKEkpPDAmJmgucHVzaChJKTtmb3IobGV0IFU9MDtVPHguc3ViTWVzaGVzLmxlbmd0aDtVKyspbC5wdXNoKGguaW5kZXhPZihJKSksdS5wdXNoKHguc3ViTWVzaGVzW1VdLmluZGV4Q291bnQpfX1lbHNlIGZvcihsZXQgST0wO0k8eC5zdWJNZXNoZXMubGVuZ3RoO0krKylsLnB1c2goMCksdS5wdXNoKHguc3ViTWVzaGVzW0ldLmluZGV4Q291bnQpfWNvbnN0IF89ZVswXSxmPXg9Pntjb25zdCBJPXguY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtyZXR1cm57dmVydGV4RGF0YTp0ZS5FeHRyYWN0RnJvbU1lc2goeCwhMSwhMSksdHJhbnNmb3JtOkl9fSx7dmVydGV4RGF0YTptLHRyYW5zZm9ybTp2fT1mKF8pO2EmJih5aWVsZCk7Y29uc3QgRT1uZXcgQXJyYXkoZS5sZW5ndGgtMSk7Zm9yKGxldCB4PTE7eDxlLmxlbmd0aDt4KyspRVt4LTFdPWYoZVt4XSksYSYmKHlpZWxkKTtjb25zdCBTPW0uX21lcmdlQ29yb3V0aW5lKHYsRSxpLGEsIXQpO2xldCBSPVMubmV4dCgpO2Zvcig7IVIuZG9uZTspYSYmKHlpZWxkKSxSPVMubmV4dCgpO2NvbnN0IEE9Ui52YWx1ZTtzfHwocz1uZXcgeihfLm5hbWUrIl9tZXJnZWQiLF8uZ2V0U2NlbmUoKSkpO2NvbnN0IEM9QS5fYXBwbHlUb0Nvcm91dGluZShzLHZvaWQgMCxhKTtsZXQgYj1DLm5leHQoKTtmb3IoOyFiLmRvbmU7KWEmJih5aWVsZCksYj1DLm5leHQoKTtpZihzLmNoZWNrQ29sbGlzaW9ucz1fLmNoZWNrQ29sbGlzaW9ucyxzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249Xy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLHQpZm9yKG89MDtvPGUubGVuZ3RoO28rKyllW29dLmRpc3Bvc2UoKTtpZihyfHxuKXtzLnJlbGVhc2VTdWJNZXNoZXMoKSxvPTA7bGV0IHg9MDtmb3IoO288dS5sZW5ndGg7KVR0LkNyZWF0ZUZyb21JbmRpY2VzKDAseCx1W29dLHMsdm9pZCAwLCExKSx4Kz11W29dLG8rKztmb3IoY29uc3QgSSBvZiBzLnN1Yk1lc2hlcylJLnJlZnJlc2hCb3VuZGluZ0luZm8oKTtzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9aWYobil7Y29uc3QgeD1uZXcgUmkoXy5uYW1lKyJfbWVyZ2VkIixfLmdldFNjZW5lKCkpO3guc3ViTWF0ZXJpYWxzPWg7Zm9yKGxldCBJPTA7STxzLnN1Yk1lc2hlcy5sZW5ndGg7SSsrKXMuc3ViTWVzaGVzW0ldLm1hdGVyaWFsSW5kZXg9bFtJXTtzLm1hdGVyaWFsPXh9ZWxzZSBzLm1hdGVyaWFsPV8ubWF0ZXJpYWw7cmV0dXJuIHN9YWRkSW5zdGFuY2UoZSl7ZS5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5PXRoaXMuaW5zdGFuY2VzLmxlbmd0aCx0aGlzLmluc3RhbmNlcy5wdXNoKGUpfXJlbW92ZUluc3RhbmNlKGUpe2NvbnN0IHQ9ZS5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5O2lmKHQhPS0xKXtpZih0IT09dGhpcy5pbnN0YW5jZXMubGVuZ3RoLTEpe2NvbnN0IGk9dGhpcy5pbnN0YW5jZXNbdGhpcy5pbnN0YW5jZXMubGVuZ3RoLTFdO3RoaXMuaW5zdGFuY2VzW3RdPWksaS5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5PXR9ZS5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5PS0xLHRoaXMuaW5zdGFuY2VzLnBvcCgpfX1fc2hvdWxkQ29udmVydFJIUygpe3JldHVybiB0aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249PT1ELkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb259X2dldFJlbmRlcmluZ0ZpbGxNb2RlKGUpe3ZhciB0O2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpO3JldHVybiBpLmZvcmNlUG9pbnRzQ2xvdWQ/RC5Qb2ludEZpbGxNb2RlOmkuZm9yY2VXaXJlZnJhbWU/RC5XaXJlRnJhbWVGaWxsTW9kZToodD10aGlzLm92ZXJyaWRlUmVuZGVyaW5nRmlsbE1vZGUpIT09bnVsbCYmdCE9PXZvaWQgMD90OmV9fXouRlJPTlRTSURFPXRlLkZST05UU0lERSx6LkJBQ0tTSURFPXRlLkJBQ0tTSURFLHouRE9VQkxFU0lERT10ZS5ET1VCTEVTSURFLHouREVGQVVMVFNJREU9dGUuREVGQVVMVFNJREUsei5OT19DQVA9MCx6LkNBUF9TVEFSVD0xLHouQ0FQX0VORD0yLHouQ0FQX0FMTD0zLHouTk9fRkxJUD0wLHouRkxJUF9USUxFPTEsei5ST1RBVEVfVElMRT0yLHouRkxJUF9ST1c9Myx6LlJPVEFURV9ST1c9NCx6LkZMSVBfTl9ST1RBVEVfVElMRT01LHouRkxJUF9OX1JPVEFURV9ST1c9Nix6LkNFTlRFUj0wLHouTEVGVD0xLHouUklHSFQ9Mix6LlRPUD0zLHouQk9UVE9NPTQsei5JTlNUQU5DRURNRVNIX1NPUlRfVFJBTlNQQVJFTlQ9ITEsei5fR3JvdW5kTWVzaFBhcnNlcj0oYyxlKT0+e3Rocm93IFEoIkdyb3VuZE1lc2giKX0sei5fR29sZGJlcmdNZXNoUGFyc2VyPShjLGUpPT57dGhyb3cgUSgiR29sZGJlcmdNZXNoIil9LHouX0xpbmVzTWVzaFBhcnNlcj0oYyxlKT0+e3Rocm93IFEoIkxpbmVzTWVzaCIpfSxzdCgiQkFCWUxPTi5NZXNoIix6KSx6LnByb3RvdHlwZS5zZXRNYXRlcmlhbEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuc2V0TWF0ZXJpYWxCeUlkKGMpfSx6LkNyZWF0ZURpc2M9ei5DcmVhdGVEaXNjfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZUJveD16LkNyZWF0ZUJveHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVTcGhlcmU9ei5DcmVhdGVTcGhlcmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlQ3lsaW5kZXI9ei5DcmVhdGVDeWxpbmRlcnx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVUb3J1c0tub3Q9ei5DcmVhdGVUb3J1c0tub3R8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlVG9ydXM9ei5DcmVhdGVUb3J1c3x8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVQbGFuZT16LkNyZWF0ZVBsYW5lfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZUdyb3VuZD16LkNyZWF0ZUdyb3VuZHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVUaWxlZEdyb3VuZD16LkNyZWF0ZVRpbGVkR3JvdW5kfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZUdyb3VuZEZyb21IZWlnaHRNYXA9ei5DcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZVR1YmU9ei5DcmVhdGVUdWJlfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZVBvbHloZWRyb249ei5DcmVhdGVQb2x5aGVkcm9ufHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZUljb1NwaGVyZT16LkNyZWF0ZUljb1NwaGVyZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVEZWNhbD16LkNyZWF0ZURlY2FsfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZUNhcHN1bGU9ei5DcmVhdGVDYXBzdWxlfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkV4dGVuZFRvR29sZGJlcmc9ei5FeHRlbmRUb0dvbGRiZXJnfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KTtjbGFzcyBYdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiIifWFwcGx5KGUsdCl7cmV0dXJuITB9Y29uc3RydWN0b3IoZT0wKXt0aGlzLnByaW9yaXR5PWV9fWNsYXNzIGtzIGV4dGVuZHMgWHR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iUmVkdWNpbmcgcmVuZGVyIHRhcmdldCB0ZXh0dXJlIHNpemUgdG8gIit0aGlzLm1heGltdW1TaXplfWNvbnN0cnVjdG9yKGU9MCx0PTEwMjQsaT0uNSl7c3VwZXIoZSksdGhpcy5wcmlvcml0eT1lLHRoaXMubWF4aW11bVNpemU9dCx0aGlzLnN0ZXA9aX1hcHBseShlLHQpe2xldCBpPSEwO2ZvcihsZXQgcz0wO3M8ZS50ZXh0dXJlcy5sZW5ndGg7cysrKXtjb25zdCByPWUudGV4dHVyZXNbc107aWYoIXIuY2FuUmVzY2FsZXx8ci5nZXRDb250ZXh0KWNvbnRpbnVlO2NvbnN0IG49ci5nZXRTaXplKCk7TWF0aC5tYXgobi53aWR0aCxuLmhlaWdodCk+dGhpcy5tYXhpbXVtU2l6ZSYmKHIuc2NhbGUodGhpcy5zdGVwKSxpPSExKX1yZXR1cm4gaX19Y2xhc3MgTHIgZXh0ZW5kcyBYdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJTZXR0aW5nIGhhcmR3YXJlIHNjYWxpbmcgbGV2ZWwgdG8gIit0aGlzLl9jdXJyZW50U2NhbGV9Y29uc3RydWN0b3IoZT0wLHQ9MixpPS4yNSl7c3VwZXIoZSksdGhpcy5wcmlvcml0eT1lLHRoaXMubWF4aW11bVNjYWxlPXQsdGhpcy5zdGVwPWksdGhpcy5fY3VycmVudFNjYWxlPS0xLHRoaXMuX2RpcmVjdGlvbk9mZnNldD0xfWFwcGx5KGUsdCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRTY2FsZT09PS0xJiYodGhpcy5fY3VycmVudFNjYWxlPWUuZ2V0RW5naW5lKCkuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKSx0aGlzLl9jdXJyZW50U2NhbGU+dGhpcy5tYXhpbXVtU2NhbGUmJih0aGlzLl9kaXJlY3Rpb25PZmZzZXQ9LTEpKSx0aGlzLl9jdXJyZW50U2NhbGUrPXRoaXMuX2RpcmVjdGlvbk9mZnNldCp0aGlzLnN0ZXAsZS5nZXRFbmdpbmUoKS5zZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCh0aGlzLl9jdXJyZW50U2NhbGUpLHRoaXMuX2RpcmVjdGlvbk9mZnNldD09PTE/dGhpcy5fY3VycmVudFNjYWxlPj10aGlzLm1heGltdW1TY2FsZTp0aGlzLl9jdXJyZW50U2NhbGU8PXRoaXMubWF4aW11bVNjYWxlfX1jbGFzcyBWcyBleHRlbmRzIFh0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgc2hhZG93cyBvbi9vZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUuc2hhZG93c0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBXcyBleHRlbmRzIFh0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcG9zdC1wcm9jZXNzZXMgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnBvc3RQcm9jZXNzZXNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgenMgZXh0ZW5kcyBYdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIGxlbnMgZmxhcmVzIG9uL29mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5sZW5zRmxhcmVzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIGpuIGV4dGVuZHMgWHR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5vbkdldERlc2NyaXB0aW9uP3RoaXMub25HZXREZXNjcmlwdGlvbigpOiJSdW5uaW5nIHVzZXIgZGVmaW5lZCBjYWxsYmFjayJ9YXBwbHkoZSx0KXtyZXR1cm4gdGhpcy5vbkFwcGx5P3RoaXMub25BcHBseShlLHQpOiEwfX1jbGFzcyBHcyBleHRlbmRzIFh0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcGFydGljbGVzIG9uL29mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5wYXJ0aWNsZXNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgTnIgZXh0ZW5kcyBYdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIHJlbmRlciB0YXJnZXRzIG9mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5yZW5kZXJUYXJnZXRzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIEp0IGV4dGVuZHMgWHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2NhbkJlTWVyZ2VkPWU9PntpZighKGUgaW5zdGFuY2VvZiB6KSlyZXR1cm4hMTtjb25zdCB0PWU7cmV0dXJuISh0LmlzRGlzcG9zZWQoKXx8IXQuaXNWaXNpYmxlfHwhdC5pc0VuYWJsZWQoKXx8dC5pbnN0YW5jZXMubGVuZ3RoPjB8fHQuc2tlbGV0b258fHQuaGFzTE9ETGV2ZWxzfHx0LmdldFRvdGFsVmVydGljZXMoKT09PTApfX1zdGF0aWMgZ2V0IFVwZGF0ZVNlbGVjdGlvblRyZWUoKXtyZXR1cm4gSnQuX1VwZGF0ZVNlbGVjdGlvblRyZWV9c3RhdGljIHNldCBVcGRhdGVTZWxlY3Rpb25UcmVlKGUpe0p0Ll9VcGRhdGVTZWxlY3Rpb25UcmVlPWV9Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iTWVyZ2luZyBzaW1pbGFyIG1lc2hlcyB0b2dldGhlciJ9YXBwbHkoZSx0LGkpe2NvbnN0IHM9ZS5tZXNoZXMuc2xpY2UoMCk7bGV0IHI9cy5sZW5ndGg7Zm9yKGxldCBhPTA7YTxyO2ErKyl7Y29uc3Qgbz1uZXcgQXJyYXksaD1zW2FdO2lmKHRoaXMuX2NhbkJlTWVyZ2VkKGgpKXtvLnB1c2goaCk7Zm9yKGxldCBsPWErMTtsPHI7bCsrKXtjb25zdCB1PXNbbF07dGhpcy5fY2FuQmVNZXJnZWQodSkmJnUubWF0ZXJpYWw9PT1oLm1hdGVyaWFsJiZ1LmNoZWNrQ29sbGlzaW9ucz09PWguY2hlY2tDb2xsaXNpb25zJiYoby5wdXNoKHUpLHItLSxzLnNwbGljZShsLDEpLGwtLSl9by5sZW5ndGg8Mnx8ei5NZXJnZU1lc2hlcyhvLHZvaWQgMCwhMCl9fWNvbnN0IG49ZTtyZXR1cm4gbi5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSYmKGkhPW51bGw/aSYmbi5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSgpOkp0LlVwZGF0ZVNlbGVjdGlvblRyZWUmJm4uY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUoKSksITB9fUp0Ll9VcGRhdGVTZWxlY3Rpb25UcmVlPSExO2NsYXNzIHBpe2NvbnN0cnVjdG9yKGU9NjAsdD0yZTMpe3RoaXMudGFyZ2V0RnJhbWVSYXRlPWUsdGhpcy50cmFja2VyRHVyYXRpb249dCx0aGlzLm9wdGltaXphdGlvbnM9bmV3IEFycmF5fWFkZE9wdGltaXphdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpbWl6YXRpb25zLnB1c2goZSksdGhpc31hZGRDdXN0b21PcHRpbWl6YXRpb24oZSx0LGk9MCl7Y29uc3Qgcz1uZXcgam4oaSk7cmV0dXJuIHMub25BcHBseT1lLHMub25HZXREZXNjcmlwdGlvbj10LHRoaXMub3B0aW1pemF0aW9ucy5wdXNoKHMpLHRoaXN9c3RhdGljIExvd0RlZ3JhZGF0aW9uQWxsb3dlZChlKXtjb25zdCB0PW5ldyBwaShlKTtsZXQgaT0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgSnQoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBWcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IHpzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IFdzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgR3MoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcga3MoaSwxMDI0KSksdH1zdGF0aWMgTW9kZXJhdGVEZWdyYWRhdGlvbkFsbG93ZWQoZSl7Y29uc3QgdD1uZXcgcGkoZSk7bGV0IGk9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IEp0KGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgVnMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyB6cyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBXcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IEdzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IGtzKGksNTEyKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBOcihpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBMcihpLDIpKSx0fXN0YXRpYyBIaWdoRGVncmFkYXRpb25BbGxvd2VkKGUpe2NvbnN0IHQ9bmV3IHBpKGUpO2xldCBpPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyBKdChpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IFZzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgenMoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgV3MoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBHcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBrcyhpLDI1NikpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgTnIoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgTHIoaSw0KSksdH19Y2xhc3MgWHN7Z2V0IGlzSW5JbXByb3ZlbWVudE1vZGUoKXtyZXR1cm4gdGhpcy5faW1wcm92ZW1lbnRNb2RlfXNldCBpc0luSW1wcm92ZW1lbnRNb2RlKGUpe3RoaXMuX2ltcHJvdmVtZW50TW9kZT1lfWdldCBjdXJyZW50UHJpb3JpdHlMZXZlbCgpe3JldHVybiB0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbH1nZXQgY3VycmVudEZyYW1lUmF0ZSgpe3JldHVybiB0aGlzLl9jdXJyZW50RnJhbWVSYXRlfWdldCB0YXJnZXRGcmFtZVJhdGUoKXtyZXR1cm4gdGhpcy5fdGFyZ2V0RnJhbWVSYXRlfXNldCB0YXJnZXRGcmFtZVJhdGUoZSl7dGhpcy5fdGFyZ2V0RnJhbWVSYXRlPWV9Z2V0IHRyYWNrZXJEdXJhdGlvbigpe3JldHVybiB0aGlzLl90cmFja2VyRHVyYXRpb259c2V0IHRyYWNrZXJEdXJhdGlvbihlKXt0aGlzLl90cmFja2VyRHVyYXRpb249ZX1nZXQgb3B0aW1pemF0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zLm9wdGltaXphdGlvbnN9Y29uc3RydWN0b3IoZSx0LGk9ITAscz0hMSl7aWYodGhpcy5faXNSdW5uaW5nPSExLHRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsPTAsdGhpcy5fdGFyZ2V0RnJhbWVSYXRlPTYwLHRoaXMuX3RyYWNrZXJEdXJhdGlvbj0yZTMsdGhpcy5fY3VycmVudEZyYW1lUmF0ZT0wLHRoaXMuX2ltcHJvdmVtZW50TW9kZT0hMSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZT1uZXcgdyx0P3RoaXMuX29wdGlvbnM9dDp0aGlzLl9vcHRpb25zPW5ldyBwaSx0aGlzLl9vcHRpb25zLnRhcmdldEZyYW1lUmF0ZSYmKHRoaXMuX3RhcmdldEZyYW1lUmF0ZT10aGlzLl9vcHRpb25zLnRhcmdldEZyYW1lUmF0ZSksdGhpcy5fb3B0aW9ucy50cmFja2VyRHVyYXRpb24mJih0aGlzLl90cmFja2VyRHVyYXRpb249dGhpcy5fb3B0aW9ucy50cmFja2VyRHVyYXRpb24pLGkpe2xldCByPTA7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fb3B0aW9ucy5vcHRpbWl6YXRpb25zKW4ucHJpb3JpdHk9cisrfXRoaXMuX2ltcHJvdmVtZW50TW9kZT1zLHRoaXMuX3NjZW5lPWV8fGNlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXI9dGhpcy5fc2NlbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuZGlzcG9zZSgpfSl9c3RvcCgpe3RoaXMuX2lzUnVubmluZz0hMX1yZXNldCgpe3RoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsPTB9c3RhcnQoKXt0aGlzLl9pc1J1bm5pbmd8fCh0aGlzLl9pc1J1bm5pbmc9ITAsdGhpcy5fc2NlbmUuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e3NldFRpbWVvdXQoKCk9Pnt0aGlzLl9jaGVja0N1cnJlbnRTdGF0ZSgpfSx0aGlzLl90cmFja2VyRHVyYXRpb24pfSkpfV9jaGVja0N1cnJlbnRTdGF0ZSgpe2lmKCF0aGlzLl9pc1J1bm5pbmcpcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2NlbmUsdD10aGlzLl9vcHRpb25zO2lmKHRoaXMuX2N1cnJlbnRGcmFtZVJhdGU9TWF0aC5yb3VuZChlLmdldEVuZ2luZSgpLmdldEZwcygpKSx0aGlzLl9pbXByb3ZlbWVudE1vZGUmJnRoaXMuX2N1cnJlbnRGcmFtZVJhdGU8PXRoaXMuX3RhcmdldEZyYW1lUmF0ZXx8IXRoaXMuX2ltcHJvdmVtZW50TW9kZSYmdGhpcy5fY3VycmVudEZyYW1lUmF0ZT49dGhpcy5fdGFyZ2V0RnJhbWVSYXRlKXt0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtyZXR1cm59bGV0IGk9ITAscz0hMDtmb3IobGV0IHI9MDtyPHQub3B0aW1pemF0aW9ucy5sZW5ndGg7cisrKXtjb25zdCBuPXQub3B0aW1pemF0aW9uc1tyXTtuLnByaW9yaXR5PT09dGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWwmJihzPSExLGk9aSYmbi5hcHBseShlLHRoaXMpLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobikpfWlmKHMpe3RoaXMuX2lzUnVubmluZz0hMSx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3JldHVybn1pJiZ0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbCsrLGUuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e3NldFRpbWVvdXQoKCk9Pnt0aGlzLl9jaGVja0N1cnJlbnRTdGF0ZSgpfSx0aGlzLl90cmFja2VyRHVyYXRpb24pfSl9ZGlzcG9zZSgpe3RoaXMuc3RvcCgpLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcil9c3RhdGljIE9wdGltaXplQXN5bmMoZSx0LGkscyl7Y29uc3Qgcj1uZXcgWHMoZSx0fHxwaS5Nb2RlcmF0ZURlZ3JhZGF0aW9uQWxsb3dlZCgpLCExKTtyZXR1cm4gaSYmci5vblN1Y2Nlc3NPYnNlcnZhYmxlLmFkZCgoKT0+e2koKX0pLHMmJnIub25GYWlsdXJlT2JzZXJ2YWJsZS5hZGQoKCk9PntzKCl9KSxyLnN0YXJ0KCkscn19ZnVuY3Rpb24gJG4oYyl7Y29uc3R7ZW5naW5lOmV9PWMsdD1uZXcgYWUoZSk7dC5jbGVhckNvbG9yPW5ldyBOZSgwLDAsMCwwKSx0LnBvaW50ZXJNb3ZlUHJlZGljYXRlPSgpPT4hMSx0LnBvaW50ZXJEb3duUHJlZGljYXRlPSgpPT4hMSx0LnBvaW50ZXJVcFByZWRpY2F0ZT0oKT0+ITEsdC5jbGVhckNhY2hlZFZlcnRleERhdGEoKSx0LnRoZW1lRGF0YT17fTtjb25zdCBpPXBpLkxvd0RlZ3JhZGF0aW9uQWxsb3dlZCgpO3JldHVybiBpLm9wdGltaXphdGlvbnM9aS5vcHRpbWl6YXRpb25zLnNwbGljZSgxKSxpLnRhcmdldEZyYW1lUmF0ZT02MCxYcy5PcHRpbWl6ZUFzeW5jKHQsaSksdH1jbGFzcyBHZSBleHRlbmRzICR7Y29uc3RydWN0b3IoZSx0LGkscz0hMCl7c3VwZXIoZSx0LGkscyksdGhpcy5fdG1wVXBWZWN0b3I9cC5aZXJvKCksdGhpcy5fdG1wVGFyZ2V0VmVjdG9yPXAuWmVybygpLHRoaXMuY2FtZXJhRGlyZWN0aW9uPW5ldyBwKDAsMCwwKSx0aGlzLmNhbWVyYVJvdGF0aW9uPW5ldyB2ZSgwLDApLHRoaXMuaWdub3JlUGFyZW50U2NhbGluZz0hMSx0aGlzLnVwZGF0ZVVwVmVjdG9yRnJvbVJvdGF0aW9uPSExLHRoaXMuX3RtcFF1YXRlcm5pb249bmV3IFosdGhpcy5yb3RhdGlvbj1uZXcgcCgwLDAsMCksdGhpcy5zcGVlZD0yLHRoaXMubm9Sb3RhdGlvbkNvbnN0cmFpbnQ9ITEsdGhpcy5pbnZlcnRSb3RhdGlvbj0hMSx0aGlzLmludmVyc2VSb3RhdGlvblNwZWVkPS4yLHRoaXMubG9ja2VkVGFyZ2V0PW51bGwsdGhpcy5fY3VycmVudFRhcmdldD1wLlplcm8oKSx0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZT0xLHRoaXMuX3ZpZXdNYXRyaXg9TS5aZXJvKCksdGhpcy5fY2FtTWF0cml4PU0uWmVybygpLHRoaXMuX2NhbWVyYVRyYW5zZm9ybU1hdHJpeD1NLlplcm8oKSx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeD1NLlplcm8oKSx0aGlzLl9yZWZlcmVuY2VQb2ludD1uZXcgcCgwLDAsMSksdGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludD1wLlplcm8oKSx0aGlzLl9kZWZhdWx0VXA9cC5VcCgpLHRoaXMuX2NhY2hlZFJvdGF0aW9uWj0wLHRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblo9MH1nZXRGcm9udFBvc2l0aW9uKGUpe3RoaXMuZ2V0V29ybGRNYXRyaXgoKTtjb25zdCB0PXRoaXMuZ2V0VGFyZ2V0KCkuc3VidHJhY3QodGhpcy5wb3NpdGlvbik7cmV0dXJuIHQubm9ybWFsaXplKCksdC5zY2FsZUluUGxhY2UoZSksdGhpcy5nbG9iYWxQb3NpdGlvbi5hZGQodCl9X2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCl7aWYoIXRoaXMubG9ja2VkVGFyZ2V0KXJldHVybiBudWxsO2lmKHRoaXMubG9ja2VkVGFyZ2V0LmFic29sdXRlUG9zaXRpb24pe2NvbnN0IGU9dGhpcy5sb2NrZWRUYXJnZXQ7ZS5jb21wdXRlV29ybGRNYXRyaXgoKS5nZXRUcmFuc2xhdGlvblRvUmVmKGUuYWJzb2x1dGVQb3NpdGlvbil9cmV0dXJuIHRoaXMubG9ja2VkVGFyZ2V0LmFic29sdXRlUG9zaXRpb258fHRoaXMubG9ja2VkVGFyZ2V0fXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RvcmVkUG9zaXRpb249dGhpcy5wb3NpdGlvbi5jbG9uZSgpLHRoaXMuX3N0b3JlZFJvdGF0aW9uPXRoaXMucm90YXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMuX3N0b3JlZFJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSxzdXBlci5zdG9yZVN0YXRlKCl9X3Jlc3RvcmVTdGF0ZVZhbHVlcygpe3JldHVybiBzdXBlci5fcmVzdG9yZVN0YXRlVmFsdWVzKCk/KHRoaXMucG9zaXRpb249dGhpcy5fc3RvcmVkUG9zaXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uPXRoaXMuX3N0b3JlZFJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLl9zdG9yZWRSb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksdGhpcy5jYW1lcmFEaXJlY3Rpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMuY2FtZXJhUm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwKSwhMCk6ITF9X2luaXRDYWNoZSgpe3N1cGVyLl9pbml0Q2FjaGUoKSx0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLnJvdGF0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb249bmV3IFooTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSl9X3VwZGF0ZUNhY2hlKGUpe2V8fHN1cGVyLl91cGRhdGVDYWNoZSgpO2NvbnN0IHQ9dGhpcy5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKTt0P3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQuY29weUZyb20odCk6dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PXQuY2xvbmUoKTp0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9bnVsbCx0aGlzLl9jYWNoZS5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCl7aWYoIXN1cGVyLl9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKSlyZXR1cm4hMTtjb25zdCBlPXRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCk7cmV0dXJuKHRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQuZXF1YWxzKGUpOiFlKSYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmVxdWFscyh0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb24pOnRoaXMuX2NhY2hlLnJvdGF0aW9uLmVxdWFscyh0aGlzLnJvdGF0aW9uKSl9X2NvbXB1dGVMb2NhbENhbWVyYVNwZWVkKCl7Y29uc3QgZT10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLnNwZWVkKk1hdGguc3FydChlLmdldERlbHRhVGltZSgpLyhlLmdldEZwcygpKjEwMCkpfXNldFRhcmdldChlKXt0aGlzLnVwVmVjdG9yLm5vcm1hbGl6ZSgpLHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlPWUuc3VidHJhY3QodGhpcy5wb3NpdGlvbikubGVuZ3RoKCksdGhpcy5wb3NpdGlvbi56PT09ZS56JiYodGhpcy5wb3NpdGlvbi56Kz1TZSksdGhpcy5fcmVmZXJlbmNlUG9pbnQubm9ybWFsaXplKCkuc2NhbGVJblBsYWNlKHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlKSxNLkxvb2tBdExIVG9SZWYodGhpcy5wb3NpdGlvbixlLHRoaXMuX2RlZmF1bHRVcCx0aGlzLl9jYW1NYXRyaXgpLHRoaXMuX2NhbU1hdHJpeC5pbnZlcnQoKSx0aGlzLnJvdGF0aW9uLng9TWF0aC5hdGFuKHRoaXMuX2NhbU1hdHJpeC5tWzZdL3RoaXMuX2NhbU1hdHJpeC5tWzEwXSk7Y29uc3QgdD1lLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pO3QueD49MD90aGlzLnJvdGF0aW9uLnk9LU1hdGguYXRhbih0LnovdC54KStNYXRoLlBJLzI6dGhpcy5yb3RhdGlvbi55PS1NYXRoLmF0YW4odC56L3QueCktTWF0aC5QSS8yLHRoaXMucm90YXRpb24uej0wLGlzTmFOKHRoaXMucm90YXRpb24ueCkmJih0aGlzLnJvdGF0aW9uLng9MCksaXNOYU4odGhpcy5yb3RhdGlvbi55KSYmKHRoaXMucm90YXRpb24ueT0wKSxpc05hTih0aGlzLnJvdGF0aW9uLnopJiYodGhpcy5yb3RhdGlvbi56PTApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfWdldCB0YXJnZXQoKXtyZXR1cm4gdGhpcy5nZXRUYXJnZXQoKX1zZXQgdGFyZ2V0KGUpe3RoaXMuc2V0VGFyZ2V0KGUpfWdldFRhcmdldCgpe3JldHVybiB0aGlzLl9jdXJyZW50VGFyZ2V0fV9kZWNpZGVJZk5lZWRzVG9Nb3ZlKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLngpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnkpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnopPjB9X3VwZGF0ZVBvc2l0aW9uKCl7aWYodGhpcy5wYXJlbnQpe3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYoRi5NYXRyaXhbMF0pLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5jYW1lcmFEaXJlY3Rpb24sRi5NYXRyaXhbMF0sRi5WZWN0b3IzWzBdKSx0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UoRi5WZWN0b3IzWzBdKTtyZXR1cm59dGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FtZXJhRGlyZWN0aW9uKX1fY2hlY2tJbnB1dHMoKXtjb25zdCBlPXRoaXMuaW52ZXJ0Um90YXRpb24/LXRoaXMuaW52ZXJzZVJvdGF0aW9uU3BlZWQ6MSx0PXRoaXMuX2RlY2lkZUlmTmVlZHNUb01vdmUoKSxpPU1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueCk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi55KT4wO3QmJnRoaXMuX3VwZGF0ZVBvc2l0aW9uKCksaSYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpcy5yb3RhdGlvbi54Kz10aGlzLmNhbWVyYVJvdGF0aW9uLngqZSx0aGlzLnJvdGF0aW9uLnkrPXRoaXMuY2FtZXJhUm90YXRpb24ueSplLHRoaXMubm9Sb3RhdGlvbkNvbnN0cmFpbnR8fCh0aGlzLnJvdGF0aW9uLng+MS41NzA3OTYmJih0aGlzLnJvdGF0aW9uLng9MS41NzA3OTYpLHRoaXMucm90YXRpb24ueDwtMS41NzA3OTYmJih0aGlzLnJvdGF0aW9uLng9LTEuNTcwNzk2KSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMucm90YXRpb24ubGVuZ3RoU3F1YXJlZCgpJiZaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pKSx0JiYoTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueCk8dGhpcy5zcGVlZCpTZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLng9MCksTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueSk8dGhpcy5zcGVlZCpTZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnk9MCksTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueik8dGhpcy5zcGVlZCpTZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLno9MCksdGhpcy5jYW1lcmFEaXJlY3Rpb24uc2NhbGVJblBsYWNlKHRoaXMuaW5lcnRpYSkpLGkmJihNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLngpPHRoaXMuc3BlZWQqU2UmJih0aGlzLmNhbWVyYVJvdGF0aW9uLng9MCksTWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi55KTx0aGlzLnNwZWVkKlNlJiYodGhpcy5jYW1lcmFSb3RhdGlvbi55PTApLHRoaXMuY2FtZXJhUm90YXRpb24uc2NhbGVJblBsYWNlKHRoaXMuaW5lcnRpYSkpLHN1cGVyLl9jaGVja0lucHV0cygpfV91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeCgpe3RoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvUm90YXRpb25NYXRyaXgodGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgpOk0uUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueix0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCl9X3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4KCl7cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5fZGVmYXVsdFVwLHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4LHRoaXMudXBWZWN0b3IpLHRoaXN9X2dldFZpZXdNYXRyaXgoKXtyZXR1cm4gdGhpcy5sb2NrZWRUYXJnZXQmJnRoaXMuc2V0VGFyZ2V0KHRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCkpLHRoaXMuX3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblohPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLno/KHRoaXMuX3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi56KTp0aGlzLl9jYWNoZWRSb3RhdGlvblohPT10aGlzLnJvdGF0aW9uLnomJih0aGlzLl9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMuX2NhY2hlZFJvdGF0aW9uWj10aGlzLnJvdGF0aW9uLnopLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLl9yZWZlcmVuY2VQb2ludCx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50KSx0aGlzLnBvc2l0aW9uLmFkZFRvUmVmKHRoaXMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQsdGhpcy5fY3VycmVudFRhcmdldCksdGhpcy51cGRhdGVVcFZlY3RvckZyb21Sb3RhdGlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP2dpLlkucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24sdGhpcy51cFZlY3Rvcik6KFouRnJvbUV1bGVyVmVjdG9yVG9SZWYodGhpcy5yb3RhdGlvbix0aGlzLl90bXBRdWF0ZXJuaW9uKSxnaS5ZLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKHRoaXMuX3RtcFF1YXRlcm5pb24sdGhpcy51cFZlY3RvcikpKSx0aGlzLl9jb21wdXRlVmlld01hdHJpeCh0aGlzLnBvc2l0aW9uLHRoaXMuX2N1cnJlbnRUYXJnZXQsdGhpcy51cFZlY3RvciksdGhpcy5fdmlld01hdHJpeH1fY29tcHV0ZVZpZXdNYXRyaXgoZSx0LGkpe2lmKHRoaXMuaWdub3JlUGFyZW50U2NhbGluZyl7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHM9dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSxzLHRoaXMuX2dsb2JhbFBvc2l0aW9uKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodCxzLHRoaXMuX3RtcFRhcmdldFZlY3RvcikscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihpLHMsdGhpcy5fdG1wVXBWZWN0b3IpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl9nbG9iYWxQb3NpdGlvbi5jb3B5RnJvbShlKSx0aGlzLl90bXBUYXJnZXRWZWN0b3IuY29weUZyb20odCksdGhpcy5fdG1wVXBWZWN0b3IuY29weUZyb20oaSk7dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP00uTG9va0F0UkhUb1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbix0aGlzLl90bXBUYXJnZXRWZWN0b3IsdGhpcy5fdG1wVXBWZWN0b3IsdGhpcy5fdmlld01hdHJpeCk6TS5Mb29rQXRMSFRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uLHRoaXMuX3RtcFRhcmdldFZlY3Rvcix0aGlzLl90bXBVcFZlY3Rvcix0aGlzLl92aWV3TWF0cml4KTtyZXR1cm59aWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP00uTG9va0F0UkhUb1JlZihlLHQsaSx0aGlzLl92aWV3TWF0cml4KTpNLkxvb2tBdExIVG9SZWYoZSx0LGksdGhpcy5fdmlld01hdHJpeCksdGhpcy5wYXJlbnQpe2NvbnN0IHM9dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKTt0aGlzLl92aWV3TWF0cml4LmludmVydCgpLHRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZihzLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMuX3ZpZXdNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbiksdGhpcy5fdmlld01hdHJpeC5pbnZlcnQoKSx0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpfWVsc2UgdGhpcy5fZ2xvYmFsUG9zaXRpb24uY29weUZyb20oZSl9Y3JlYXRlUmlnQ2FtZXJhKGUsdCl7aWYodGhpcy5jYW1lcmFSaWdNb2RlIT09JC5SSUdfTU9ERV9OT05FKXtjb25zdCBpPW5ldyBHZShlLHRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLmdldFNjZW5lKCkpO3JldHVybiBpLmlzUmlnQ2FtZXJhPSEwLGkucmlnUGFyZW50PXRoaXMsKHRoaXMuY2FtZXJhUmlnTW9kZT09PSQuUklHX01PREVfVlJ8fHRoaXMuY2FtZXJhUmlnTW9kZT09PSQuUklHX01PREVfV0VCVlIpJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb258fCh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgWiksaS5fY2FtZXJhUmlnUGFyYW1zPXt9LGkucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBaKSxpLm1vZGU9dGhpcy5tb2RlLGkub3J0aG9MZWZ0PXRoaXMub3J0aG9MZWZ0LGkub3J0aG9SaWdodD10aGlzLm9ydGhvUmlnaHQsaS5vcnRob1RvcD10aGlzLm9ydGhvVG9wLGkub3J0aG9Cb3R0b209dGhpcy5vcnRob0JvdHRvbSxpfXJldHVybiBudWxsfV91cGRhdGVSaWdDYW1lcmFzKCl7Y29uc3QgZT10aGlzLl9yaWdDYW1lcmFzWzBdLHQ9dGhpcy5fcmlnQ2FtZXJhc1sxXTtzd2l0Y2godGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmNhbWVyYVJpZ01vZGUpe2Nhc2UgJC5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfQU5BR0xZUEg6Y2FzZSAkLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX1BBUkFMTEVMOmNhc2UgJC5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ6Y2FzZSAkLlJJR19NT0RFX1NURVJFT1NDT1BJQ19PVkVSVU5ERVI6Y2FzZSAkLlJJR19NT0RFX1NURVJFT1NDT1BJQ19JTlRFUkxBQ0VEOntjb25zdCBpPXRoaXMuY2FtZXJhUmlnTW9kZT09PSQuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPzE6LTEscz10aGlzLmNhbWVyYVJpZ01vZGU9PT0kLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD8tMToxO3RoaXMuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGUqaSxlKSx0aGlzLl9nZXRSaWdDYW1Qb3NpdGlvbkFuZFRhcmdldCh0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlKnMsdCk7YnJlYWt9Y2FzZSAkLlJJR19NT0RFX1ZSOmUucm90YXRpb25RdWF0ZXJuaW9uPyhlLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksdC5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pKTooZS5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSx0LnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pKSxlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHQucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbik7YnJlYWt9c3VwZXIuX3VwZGF0ZVJpZ0NhbWVyYXMoKX1fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQoZSx0KXt0aGlzLmdldFRhcmdldCgpLnN1YnRyYWN0VG9SZWYodGhpcy5wb3NpdGlvbixHZS5fVGFyZ2V0Rm9jYWxQb2ludCksR2UuX1RhcmdldEZvY2FsUG9pbnQubm9ybWFsaXplKCkuc2NhbGVJblBsYWNlKHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlKTtjb25zdCBzPUdlLl9UYXJnZXRGb2NhbFBvaW50LmFkZEluUGxhY2UodGhpcy5wb3NpdGlvbik7TS5UcmFuc2xhdGlvblRvUmVmKC1zLngsLXMueSwtcy56LEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgpLEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgubXVsdGlwbHlUb1JlZihNLlJvdGF0aW9uQXhpcyh0LnVwVmVjdG9yLGUpLEdlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgpLE0uVHJhbnNsYXRpb25Ub1JlZihzLngscy55LHMueixHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4KSxHZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4Lm11bHRpcGx5VG9SZWYoR2UuX1RhcmdldFRyYW5zZm9ybU1hdHJpeCxHZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbixHZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4LHQucG9zaXRpb24pLHQuc2V0VGFyZ2V0KHMpfWdldENsYXNzTmFtZSgpe3JldHVybiJUYXJnZXRDYW1lcmEifX1HZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4PW5ldyBNLEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXg9bmV3IE0sR2UuX1RhcmdldEZvY2FsUG9pbnQ9bmV3IHAsVChbVXQoKV0sR2UucHJvdG90eXBlLCJyb3RhdGlvbiIsdm9pZCAwKSxUKFt5KCldLEdlLnByb3RvdHlwZSwic3BlZWQiLHZvaWQgMCksVChbQ24oImxvY2tlZFRhcmdldElkIildLEdlLnByb3RvdHlwZSwibG9ja2VkVGFyZ2V0Iix2b2lkIDApO2Z1bmN0aW9uIFFuKGMpe2NvbnN0e3NjZW5lOmV9PWM7bGV0IHQ7Y29uc3QgaT0zNi41O3JldHVybiB0PW5ldyBHZSgiVGFyZ2V0Q2FtZXJhMSIsbmV3IHAoMCxpLDApLGUpLHQuZm92PS4yNSx0Lm1pblo9NSx0Lm1heFo9aSsxLHQuc2V0VGFyZ2V0KHAuWmVybygpKSx0fWNsYXNzIGhlIGV4dGVuZHMgemV7Z2V0IHJhbmdlKCl7cmV0dXJuIHRoaXMuX3JhbmdlfXNldCByYW5nZShlKXt0aGlzLl9yYW5nZT1lLHRoaXMuX2ludmVyc2VTcXVhcmVkUmFuZ2U9MS8odGhpcy5yYW5nZSp0aGlzLnJhbmdlKX1nZXQgaW50ZW5zaXR5TW9kZSgpe3JldHVybiB0aGlzLl9pbnRlbnNpdHlNb2RlfXNldCBpbnRlbnNpdHlNb2RlKGUpe3RoaXMuX2ludGVuc2l0eU1vZGU9ZSx0aGlzLl9jb21wdXRlUGhvdG9tZXRyaWNTY2FsZSgpfWdldCByYWRpdXMoKXtyZXR1cm4gdGhpcy5fcmFkaXVzfXNldCByYWRpdXMoZSl7dGhpcy5fcmFkaXVzPWUsdGhpcy5fY29tcHV0ZVBob3RvbWV0cmljU2NhbGUoKX1nZXQgc2hhZG93RW5hYmxlZCgpe3JldHVybiB0aGlzLl9zaGFkb3dFbmFibGVkfXNldCBzaGFkb3dFbmFibGVkKGUpe3RoaXMuX3NoYWRvd0VuYWJsZWQhPT1lJiYodGhpcy5fc2hhZG93RW5hYmxlZD1lLHRoaXMuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9Z2V0IGluY2x1ZGVkT25seU1lc2hlcygpe3JldHVybiB0aGlzLl9pbmNsdWRlZE9ubHlNZXNoZXN9c2V0IGluY2x1ZGVkT25seU1lc2hlcyhlKXt0aGlzLl9pbmNsdWRlZE9ubHlNZXNoZXM9ZSx0aGlzLl9ob29rQXJyYXlGb3JJbmNsdWRlZE9ubHkoZSl9Z2V0IGV4Y2x1ZGVkTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVkTWVzaGVzfXNldCBleGNsdWRlZE1lc2hlcyhlKXt0aGlzLl9leGNsdWRlZE1lc2hlcz1lLHRoaXMuX2hvb2tBcnJheUZvckV4Y2x1ZGVkKGUpfWdldCBleGNsdWRlV2l0aExheWVyTWFzaygpe3JldHVybiB0aGlzLl9leGNsdWRlV2l0aExheWVyTWFza31zZXQgZXhjbHVkZVdpdGhMYXllck1hc2soZSl7dGhpcy5fZXhjbHVkZVdpdGhMYXllck1hc2s9ZSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1nZXQgaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVPbmx5V2l0aExheWVyTWFza31zZXQgaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrKGUpe3RoaXMuX2luY2x1ZGVPbmx5V2l0aExheWVyTWFzaz1lLHRoaXMuX3Jlc3luY01lc2hlcygpfWdldCBsaWdodG1hcE1vZGUoKXtyZXR1cm4gdGhpcy5fbGlnaHRtYXBNb2RlfXNldCBsaWdodG1hcE1vZGUoZSl7dGhpcy5fbGlnaHRtYXBNb2RlIT09ZSYmKHRoaXMuX2xpZ2h0bWFwTW9kZT1lLHRoaXMuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuZGlmZnVzZT1uZXcgcmUoMSwxLDEpLHRoaXMuc3BlY3VsYXI9bmV3IHJlKDEsMSwxKSx0aGlzLmZhbGxvZmZUeXBlPWhlLkZBTExPRkZfREVGQVVMVCx0aGlzLmludGVuc2l0eT0xLHRoaXMuX3JhbmdlPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faW52ZXJzZVNxdWFyZWRSYW5nZT0wLHRoaXMuX3Bob3RvbWV0cmljU2NhbGU9MSx0aGlzLl9pbnRlbnNpdHlNb2RlPWhlLklOVEVOU0lUWU1PREVfQVVUT01BVElDLHRoaXMuX3JhZGl1cz0xZS01LHRoaXMucmVuZGVyUHJpb3JpdHk9MCx0aGlzLl9zaGFkb3dFbmFibGVkPSEwLHRoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrPTAsdGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrPTAsdGhpcy5fbGlnaHRtYXBNb2RlPTAsdGhpcy5fc2hhZG93R2VuZXJhdG9ycz1udWxsLHRoaXMuX2V4Y2x1ZGVkTWVzaGVzSWRzPW5ldyBBcnJheSx0aGlzLl9pbmNsdWRlZE9ubHlNZXNoZXNJZHM9bmV3IEFycmF5LHRoaXMuX2lzTGlnaHQ9ITAsdGhpcy5nZXRTY2VuZSgpLmFkZExpZ2h0KHRoaXMpLHRoaXMuX3VuaWZvcm1CdWZmZXI9bmV3IFYodGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsZSksdGhpcy5fYnVpbGRVbmlmb3JtTGF5b3V0KCksdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXM9bmV3IEFycmF5LHRoaXMuZXhjbHVkZWRNZXNoZXM9bmV3IEFycmF5LHRoaXMuX3Jlc3luY01lc2hlcygpfXRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdChlLHQpe3JldHVybiB0aGlzfV9iaW5kTGlnaHQoZSx0LGkscyxyPSEwKXt2YXIgbjtjb25zdCBhPWUudG9TdHJpbmcoKTtsZXQgbz0hMTtpZih0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRUb0VmZmVjdChpLCJMaWdodCIrYSksdGhpcy5fcmVuZGVySWQhPT10LmdldFJlbmRlcklkKCl8fHRoaXMuX2xhc3RVc2VTcGVjdWxhciE9PXN8fCF0aGlzLl91bmlmb3JtQnVmZmVyLnVzZVVibyl7dGhpcy5fcmVuZGVySWQ9dC5nZXRSZW5kZXJJZCgpLHRoaXMuX2xhc3RVc2VTcGVjdWxhcj1zO2NvbnN0IGg9dGhpcy5nZXRTY2FsZWRJbnRlbnNpdHkoKTt0aGlzLnRyYW5zZmVyVG9FZmZlY3QoaSxhKSx0aGlzLmRpZmZ1c2Uuc2NhbGVUb1JlZihoLHhpLkNvbG9yM1swXSksdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVDb2xvcjQoInZMaWdodERpZmZ1c2UiLHhpLkNvbG9yM1swXSx0aGlzLnJhbmdlLGEpLHMmJih0aGlzLnNwZWN1bGFyLnNjYWxlVG9SZWYoaCx4aS5Db2xvcjNbMV0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHRTcGVjdWxhciIseGkuQ29sb3IzWzFdLHRoaXMucmFkaXVzLGEpKSxvPSEwfWlmKHRoaXMudHJhbnNmZXJUZXh0dXJlc1RvRWZmZWN0KGksYSksdC5zaGFkb3dzRW5hYmxlZCYmdGhpcy5zaGFkb3dFbmFibGVkJiZyKXtjb25zdCBoPShuPXRoaXMuZ2V0U2hhZG93R2VuZXJhdG9yKHQuYWN0aXZlQ2FtZXJhKSkhPT1udWxsJiZuIT09dm9pZCAwP246dGhpcy5nZXRTaGFkb3dHZW5lcmF0b3IoKTtoJiYoaC5iaW5kU2hhZG93TGlnaHQoYSxpKSxvPSEwKX1vP3RoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlKCk6dGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVW5pZm9ybUJ1ZmZlcigpfWdldENsYXNzTmFtZSgpe3JldHVybiJMaWdodCJ9dG9TdHJpbmcoZSl7bGV0IHQ9Ik5hbWU6ICIrdGhpcy5uYW1lO2lmKHQrPSIsIHR5cGU6ICIrWyJQb2ludCIsIkRpcmVjdGlvbmFsIiwiU3BvdCIsIkhlbWlzcGhlcmljIl1bdGhpcy5nZXRUeXBlSUQoKV0sdGhpcy5hbmltYXRpb25zKWZvcihsZXQgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspdCs9IiwgYW5pbWF0aW9uWzBdOiAiK3RoaXMuYW5pbWF0aW9uc1tpXS50b1N0cmluZyhlKTtyZXR1cm4gdH1fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpe3N1cGVyLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCksdGhpcy5pc0Rpc3Bvc2VkKCl8fHRoaXMuX3Jlc3luY01lc2hlcygpfXNldEVuYWJsZWQoZSl7c3VwZXIuc2V0RW5hYmxlZChlKSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1nZXRTaGFkb3dHZW5lcmF0b3IoZT1udWxsKXt2YXIgdDtyZXR1cm4gdGhpcy5fc2hhZG93R2VuZXJhdG9ycz09PW51bGw/bnVsbDoodD10aGlzLl9zaGFkb3dHZW5lcmF0b3JzLmdldChlKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1nZXRTaGFkb3dHZW5lcmF0b3JzKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0dlbmVyYXRvcnN9Z2V0QWJzb2x1dGVQb3NpdGlvbigpe3JldHVybiBwLlplcm8oKX1jYW5BZmZlY3RNZXNoKGUpe3JldHVybiBlPyEodGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMmJnRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmxlbmd0aD4wJiZ0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5pbmRleE9mKGUpPT09LTF8fHRoaXMuZXhjbHVkZWRNZXNoZXMmJnRoaXMuZXhjbHVkZWRNZXNoZXMubGVuZ3RoPjAmJnRoaXMuZXhjbHVkZWRNZXNoZXMuaW5kZXhPZihlKSE9PS0xfHx0aGlzLmluY2x1ZGVPbmx5V2l0aExheWVyTWFzayE9PTAmJiEodGhpcy5pbmNsdWRlT25seVdpdGhMYXllck1hc2smZS5sYXllck1hc2spfHx0aGlzLmV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIT09MCYmdGhpcy5leGNsdWRlV2l0aExheWVyTWFzayZlLmxheWVyTWFzayk6ITB9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuX3NoYWRvd0dlbmVyYXRvcnMpe2NvbnN0IGk9dGhpcy5fc2hhZG93R2VuZXJhdG9ycy52YWx1ZXMoKTtmb3IobGV0IHM9aS5uZXh0KCk7cy5kb25lIT09ITA7cz1pLm5leHQoKSlzLnZhbHVlLmRpc3Bvc2UoKTt0aGlzLl9zaGFkb3dHZW5lcmF0b3JzPW51bGx9aWYodGhpcy5nZXRTY2VuZSgpLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCBpPXRoaXMuX3BhcmVudENvbnRhaW5lci5saWdodHMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLnNwbGljZShpLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWZvcihjb25zdCBpIG9mIHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMpaS5fcmVtb3ZlTGlnaHRTb3VyY2UodGhpcywhMCk7dGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZUxpZ2h0KHRoaXMpLHN1cGVyLmRpc3Bvc2UoZSx0KX1nZXRUeXBlSUQoKXtyZXR1cm4gMH1nZXRTY2FsZWRJbnRlbnNpdHkoKXtyZXR1cm4gdGhpcy5fcGhvdG9tZXRyaWNTY2FsZSp0aGlzLmludGVuc2l0eX1jbG9uZShlLHQ9bnVsbCl7Y29uc3QgaT1oZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKHRoaXMuZ2V0VHlwZUlEKCksZSx0aGlzLmdldFNjZW5lKCkpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9bmUuQ2xvbmUoaSx0aGlzKTtyZXR1cm4gZSYmKHMubmFtZT1lKSx0JiYocy5wYXJlbnQ9dCkscy5zZXRFbmFibGVkKHRoaXMuaXNFbmFibGVkKCkpLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzKSxzfXNlcmlhbGl6ZSgpe2NvbnN0IGU9bmUuU2VyaWFsaXplKHRoaXMpO3JldHVybiBlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZS50eXBlPXRoaXMuZ2V0VHlwZUlEKCksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChlKSx0aGlzLmV4Y2x1ZGVkTWVzaGVzLmxlbmd0aD4wJiYoZS5leGNsdWRlZE1lc2hlc0lkcz1bXSx0aGlzLmV4Y2x1ZGVkTWVzaGVzLmZvckVhY2godD0+e2UuZXhjbHVkZWRNZXNoZXNJZHMucHVzaCh0LmlkKX0pKSx0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5sZW5ndGg+MCYmKGUuaW5jbHVkZWRPbmx5TWVzaGVzSWRzPVtdLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmZvckVhY2godD0+e2UuaW5jbHVkZWRPbmx5TWVzaGVzSWRzLnB1c2godC5pZCl9KSksbmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksZX1zdGF0aWMgR2V0Q29uc3RydWN0b3JGcm9tTmFtZShlLHQsaSl7Y29uc3Qgcz16ZS5Db25zdHJ1Y3QoIkxpZ2h0X1R5cGVfIitlLHQsaSk7cmV0dXJuIHN8fG51bGx9c3RhdGljIFBhcnNlKGUsdCl7Y29uc3QgaT1oZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKGUudHlwZSxlLm5hbWUsdCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1uZS5QYXJzZShpLGUsdCk7aWYoZS5leGNsdWRlZE1lc2hlc0lkcyYmKHMuX2V4Y2x1ZGVkTWVzaGVzSWRzPWUuZXhjbHVkZWRNZXNoZXNJZHMpLGUuaW5jbHVkZWRPbmx5TWVzaGVzSWRzJiYocy5faW5jbHVkZWRPbmx5TWVzaGVzSWRzPWUuaW5jbHVkZWRPbmx5TWVzaGVzSWRzKSxlLnBhcmVudElkIT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudElkPWUucGFyZW50SWQpLGUucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PWUucGFyZW50SW5zdGFuY2VJbmRleCksZS5mYWxsb2ZmVHlwZSE9PXZvaWQgMCYmKHMuZmFsbG9mZlR5cGU9ZS5mYWxsb2ZmVHlwZSksZS5saWdodG1hcE1vZGUhPT12b2lkIDAmJihzLmxpZ2h0bWFwTW9kZT1lLmxpZ2h0bWFwTW9kZSksZS5hbmltYXRpb25zKXtmb3IobGV0IHI9MDtyPGUuYW5pbWF0aW9ucy5sZW5ndGg7cisrKXtjb25zdCBuPWUuYW5pbWF0aW9uc1tyXSxhPWFpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2EmJnMuYW5pbWF0aW9ucy5wdXNoKGEuUGFyc2UobikpfXplLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKHMsZSx0KX1yZXR1cm4gZS5hdXRvQW5pbWF0ZSYmdC5iZWdpbkFuaW1hdGlvbihzLGUuYXV0b0FuaW1hdGVGcm9tLGUuYXV0b0FuaW1hdGVUbyxlLmF1dG9BbmltYXRlTG9vcCxlLmF1dG9BbmltYXRlU3BlZWR8fDEpLGUuaXNFbmFibGVkIT09dm9pZCAwJiZzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHN9X2hvb2tBcnJheUZvckV4Y2x1ZGVkKGUpe2NvbnN0IHQ9ZS5wdXNoO2UucHVzaD0oLi4ucyk9Pntjb25zdCByPXQuYXBwbHkoZSxzKTtmb3IoY29uc3QgbiBvZiBzKW4uX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpO3JldHVybiByfTtjb25zdCBpPWUuc3BsaWNlO2Uuc3BsaWNlPShzLHIpPT57Y29uc3Qgbj1pLmFwcGx5KGUsW3Mscl0pO2Zvcihjb25zdCBhIG9mIG4pYS5fcmVzeW5jTGlnaHRTb3VyY2UodGhpcyk7cmV0dXJuIG59O2Zvcihjb25zdCBzIG9mIGUpcy5fcmVzeW5jTGlnaHRTb3VyY2UodGhpcyl9X2hvb2tBcnJheUZvckluY2x1ZGVkT25seShlKXtjb25zdCB0PWUucHVzaDtlLnB1c2g9KC4uLnMpPT57Y29uc3Qgcj10LmFwcGx5KGUscyk7cmV0dXJuIHRoaXMuX3Jlc3luY01lc2hlcygpLHJ9O2NvbnN0IGk9ZS5zcGxpY2U7ZS5zcGxpY2U9KHMscik9Pntjb25zdCBuPWkuYXBwbHkoZSxbcyxyXSk7cmV0dXJuIHRoaXMuX3Jlc3luY01lc2hlcygpLG59LHRoaXMuX3Jlc3luY01lc2hlcygpfV9yZXN5bmNNZXNoZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLmdldFNjZW5lKCkubWVzaGVzKWUuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfV9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRTY2VuZSgpLm1lc2hlcyllLmxpZ2h0U291cmNlcy5pbmRleE9mKHRoaXMpIT09LTEmJmUuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX1fY29tcHV0ZVBob3RvbWV0cmljU2NhbGUoKXt0aGlzLl9waG90b21ldHJpY1NjYWxlPXRoaXMuX2dldFBob3RvbWV0cmljU2NhbGUoKSx0aGlzLmdldFNjZW5lKCkucmVzZXRDYWNoZWRNYXRlcmlhbCgpfV9nZXRQaG90b21ldHJpY1NjYWxlKCl7bGV0IGU9MDtjb25zdCB0PXRoaXMuZ2V0VHlwZUlEKCk7bGV0IGk9dGhpcy5pbnRlbnNpdHlNb2RlO3N3aXRjaChpPT09aGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMmJih0PT09aGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD9pPWhlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6aT1oZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZKSx0KXtjYXNlIGhlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ6Y2FzZSBoZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ6c3dpdGNoKGkpe2Nhc2UgaGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSOmU9MS8oNCpNYXRoLlBJKTticmVhaztjYXNlIGhlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk6ZT0xO2JyZWFrO2Nhc2UgaGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U6ZT10aGlzLnJhZGl1cyp0aGlzLnJhZGl1czticmVha31icmVhaztjYXNlIGhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ6c3dpdGNoKGkpe2Nhc2UgaGUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRTplPTE7YnJlYWs7Y2FzZSBoZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRTp7bGV0IHM9dGhpcy5yYWRpdXM7cz1NYXRoLm1heChzLC4wMDEpLGU9MipNYXRoLlBJKigxLU1hdGguY29zKHMpKTticmVha319YnJlYWs7Y2FzZSBoZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUOmU9MTticmVha31yZXR1cm4gZX1fcmVvcmRlckxpZ2h0c0luU2NlbmUoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTt0aGlzLl9yZW5kZXJQcmlvcml0eSE9MCYmKGUucmVxdWlyZUxpZ2h0U29ydGluZz0hMCksdGhpcy5nZXRTY2VuZSgpLnNvcnRMaWdodHNCeVByaW9yaXR5KCl9fWhlLkZBTExPRkZfREVGQVVMVD1FZS5GQUxMT0ZGX0RFRkFVTFQsaGUuRkFMTE9GRl9QSFlTSUNBTD1FZS5GQUxMT0ZGX1BIWVNJQ0FMLGhlLkZBTExPRkZfR0xURj1FZS5GQUxMT0ZGX0dMVEYsaGUuRkFMTE9GRl9TVEFOREFSRD1FZS5GQUxMT0ZGX1NUQU5EQVJELGhlLkxJR0hUTUFQX0RFRkFVTFQ9RWUuTElHSFRNQVBfREVGQVVMVCxoZS5MSUdIVE1BUF9TUEVDVUxBUj1FZS5MSUdIVE1BUF9TUEVDVUxBUixoZS5MSUdIVE1BUF9TSEFET1dTT05MWT1FZS5MSUdIVE1BUF9TSEFET1dTT05MWSxoZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQz1FZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyxoZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI9RWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSLGhlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk9RWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWSxoZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFPUVlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0UsaGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U9RWUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0UsaGUuTElHSFRUWVBFSURfUE9JTlRMSUdIVD1FZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hULGhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ9RWUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVCxoZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ9RWUuTElHSFRUWVBFSURfU1BPVExJR0hULGhlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQ9RWUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVCxUKFtkaSgpXSxoZS5wcm90b3R5cGUsImRpZmZ1c2UiLHZvaWQgMCksVChbZGkoKV0saGUucHJvdG90eXBlLCJzcGVjdWxhciIsdm9pZCAwKSxUKFt5KCldLGhlLnByb3RvdHlwZSwiZmFsbG9mZlR5cGUiLHZvaWQgMCksVChbeSgpXSxoZS5wcm90b3R5cGUsImludGVuc2l0eSIsdm9pZCAwKSxUKFt5KCldLGhlLnByb3RvdHlwZSwicmFuZ2UiLG51bGwpLFQoW3koKV0saGUucHJvdG90eXBlLCJpbnRlbnNpdHlNb2RlIixudWxsKSxUKFt5KCldLGhlLnByb3RvdHlwZSwicmFkaXVzIixudWxsKSxUKFt5KCldLGhlLnByb3RvdHlwZSwiX3JlbmRlclByaW9yaXR5Iix2b2lkIDApLFQoW1RlKCJfcmVvcmRlckxpZ2h0c0luU2NlbmUiKV0saGUucHJvdG90eXBlLCJyZW5kZXJQcmlvcml0eSIsdm9pZCAwKSxUKFt5KCJzaGFkb3dFbmFibGVkIildLGhlLnByb3RvdHlwZSwiX3NoYWRvd0VuYWJsZWQiLHZvaWQgMCksVChbeSgiZXhjbHVkZVdpdGhMYXllck1hc2siKV0saGUucHJvdG90eXBlLCJfZXhjbHVkZVdpdGhMYXllck1hc2siLHZvaWQgMCksVChbeSgiaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIildLGhlLnByb3RvdHlwZSwiX2luY2x1ZGVPbmx5V2l0aExheWVyTWFzayIsdm9pZCAwKSxUKFt5KCJsaWdodG1hcE1vZGUiKV0saGUucHJvdG90eXBlLCJfbGlnaHRtYXBNb2RlIix2b2lkIDApO2NsYXNzIHppIGV4dGVuZHMgaGV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMH1fc2V0UG9zaXRpb24oZSl7dGhpcy5fcG9zaXRpb249ZX1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3NldFBvc2l0aW9uKGUpfV9zZXREaXJlY3Rpb24oZSl7dGhpcy5fZGlyZWN0aW9uPWV9Z2V0IGRpcmVjdGlvbigpe3JldHVybiB0aGlzLl9kaXJlY3Rpb259c2V0IGRpcmVjdGlvbihlKXt0aGlzLl9zZXREaXJlY3Rpb24oZSl9Z2V0IHNoYWRvd01pblooKXtyZXR1cm4gdGhpcy5fc2hhZG93TWluWn1zZXQgc2hhZG93TWluWihlKXt0aGlzLl9zaGFkb3dNaW5aPWUsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9Z2V0IHNoYWRvd01heFooKXtyZXR1cm4gdGhpcy5fc2hhZG93TWF4Wn1zZXQgc2hhZG93TWF4WihlKXt0aGlzLl9zaGFkb3dNYXhaPWUsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9Y29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4Pyh0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb258fCh0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb249cC5aZXJvKCkpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLnBvc2l0aW9uLHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCksdGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uKSx0aGlzLmRpcmVjdGlvbiYmKHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb258fCh0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uPXAuWmVybygpKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuZGlyZWN0aW9uLHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbikpLCEwKTohMX1nZXREZXB0aFNjYWxlKCl7cmV0dXJuIDUwfWdldFNoYWRvd0RpcmVjdGlvbihlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj90aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9ufWdldEFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uP3RoaXMudHJhbnNmb3JtZWRQb3NpdGlvbjp0aGlzLnBvc2l0aW9ufXNldERpcmVjdGlvblRvVGFyZ2V0KGUpe3JldHVybiB0aGlzLmRpcmVjdGlvbj1wLk5vcm1hbGl6ZShlLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pKSx0aGlzLmRpcmVjdGlvbn1nZXRSb3RhdGlvbigpe3RoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpO2NvbnN0IGU9cC5Dcm9zcyh0aGlzLmRpcmVjdGlvbixnaS5ZKSx0PXAuQ3Jvc3MoZSx0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHAuUm90YXRpb25Gcm9tQXhpcyhlLHQsdGhpcy5kaXJlY3Rpb24pfW5lZWRDdWJlKCl7cmV0dXJuITF9bmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl7cmV0dXJuIHRoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZX1mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl7dGhpcy5fbmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlPSEwfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCksdGhpcy5fY2FjaGUucG9zaXRpb249cC5aZXJvKCl9X2lzU3luY2hyb25pemVkKCl7cmV0dXJuISF0aGlzLl9jYWNoZS5wb3NpdGlvbi5lcXVhbHModGhpcy5wb3NpdGlvbil9Y29tcHV0ZVdvcmxkTWF0cml4KGUpe3JldHVybiFlJiZ0aGlzLmlzU3luY2hyb25pemVkKCk/KHRoaXMuX2N1cnJlbnRSZW5kZXJJZD10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKSx0aGlzLl93b3JsZE1hdHJpeCk6KHRoaXMuX3VwZGF0ZUNhY2hlKCksdGhpcy5fY2FjaGUucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbiksdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD1NLklkZW50aXR5KCkpLE0uVHJhbnNsYXRpb25Ub1JlZih0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi55LHRoaXMucG9zaXRpb24ueix0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4JiYodGhpcy5fd29ybGRNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMCx0aGlzLl93b3JsZE1hdHJpeCl9Z2V0RGVwdGhNaW5aKGUpe3JldHVybiB0aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOmUubWluWn1nZXREZXB0aE1heFooZSl7cmV0dXJuIHRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6ZS5tYXhafXNldFNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSx0LGkpe3JldHVybiB0aGlzLmN1c3RvbVByb2plY3Rpb25NYXRyaXhCdWlsZGVyP3RoaXMuY3VzdG9tUHJvamVjdGlvbk1hdHJpeEJ1aWxkZXIodCxpLGUpOnRoaXMuX3NldERlZmF1bHRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKSx0aGlzfV9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl7c3VwZXIuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKSwoIXRoaXMucGFyZW50fHwhdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgpJiYodGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uPW51bGwsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj1udWxsKX19VChbVXQoKV0semkucHJvdG90eXBlLCJwb3NpdGlvbiIsbnVsbCksVChbVXQoKV0semkucHJvdG90eXBlLCJkaXJlY3Rpb24iLG51bGwpLFQoW3koKV0semkucHJvdG90eXBlLCJzaGFkb3dNaW5aIixudWxsKSxUKFt5KCldLHppLnByb3RvdHlwZSwic2hhZG93TWF4WiIsbnVsbCksemUuQWRkTm9kZUNvbnN0cnVjdG9yKCJMaWdodF9UeXBlXzEiLChjLGUpPT4oKT0+bmV3IER0KGMscC5aZXJvKCksZSkpO2NsYXNzIER0IGV4dGVuZHMgeml7Z2V0IHNoYWRvd0ZydXN0dW1TaXplKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0ZydXN0dW1TaXplfXNldCBzaGFkb3dGcnVzdHVtU2l6ZShlKXt0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZT1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWdldCBzaGFkb3dPcnRob1NjYWxlKCl7cmV0dXJuIHRoaXMuX3NoYWRvd09ydGhvU2NhbGV9c2V0IHNoYWRvd09ydGhvU2NhbGUoZSl7dGhpcy5fc2hhZG93T3J0aG9TY2FsZT1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWdldCBvcnRob0xlZnQoKXtyZXR1cm4gdGhpcy5fb3J0aG9MZWZ0fXNldCBvcnRob0xlZnQoZSl7dGhpcy5fb3J0aG9MZWZ0PWV9Z2V0IG9ydGhvUmlnaHQoKXtyZXR1cm4gdGhpcy5fb3J0aG9SaWdodH1zZXQgb3J0aG9SaWdodChlKXt0aGlzLl9vcnRob1JpZ2h0PWV9Z2V0IG9ydGhvVG9wKCl7cmV0dXJuIHRoaXMuX29ydGhvVG9wfXNldCBvcnRob1RvcChlKXt0aGlzLl9vcnRob1RvcD1lfWdldCBvcnRob0JvdHRvbSgpe3JldHVybiB0aGlzLl9vcnRob0JvdHRvbX1zZXQgb3J0aG9Cb3R0b20oZSl7dGhpcy5fb3J0aG9Cb3R0b209ZX1jb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSxpKSx0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZT0wLHRoaXMuX3NoYWRvd09ydGhvU2NhbGU9LjEsdGhpcy5hdXRvVXBkYXRlRXh0ZW5kcz0hMCx0aGlzLmF1dG9DYWxjU2hhZG93WkJvdW5kcz0hMSx0aGlzLl9vcnRob0xlZnQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9vcnRob1JpZ2h0PU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Ub3A9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob0JvdHRvbT1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMucG9zaXRpb249dC5zY2FsZSgtMSksdGhpcy5kaXJlY3Rpb249dH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iRGlyZWN0aW9uYWxMaWdodCJ9Z2V0VHlwZUlEKCl7cmV0dXJuIGhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFR9X3NldERlZmF1bHRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKXt0aGlzLnNoYWRvd0ZydXN0dW1TaXplPjA/dGhpcy5fc2V0RGVmYXVsdEZpeGVkRnJ1c3R1bVNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSk6dGhpcy5fc2V0RGVmYXVsdEF1dG9FeHRlbmRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKX1fc2V0RGVmYXVsdEZpeGVkRnJ1c3R1bVNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSl7Y29uc3QgdD10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhO3QmJk0uT3J0aG9MSFRvUmVmKHRoaXMuc2hhZG93RnJ1c3R1bVNpemUsdGhpcy5zaGFkb3dGcnVzdHVtU2l6ZSx0aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOnQubWluWix0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOnQubWF4WixlLHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpfV9zZXREZWZhdWx0QXV0b0V4dGVuZFNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTtpZighcylyZXR1cm47aWYodGhpcy5hdXRvVXBkYXRlRXh0ZW5kc3x8dGhpcy5fb3J0aG9MZWZ0PT09TnVtYmVyLk1BWF9WQUxVRSl7Y29uc3QgbD1wLlplcm8oKTt0aGlzLl9vcnRob0xlZnQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9vcnRob1JpZ2h0PU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Ub3A9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob0JvdHRvbT1OdW1iZXIuTUFYX1ZBTFVFO2xldCB1PU51bWJlci5NQVhfVkFMVUUsZD1OdW1iZXIuTUlOX1ZBTFVFO2ZvcihsZXQgXz0wO188aS5sZW5ndGg7XysrKXtjb25zdCBmPWlbX107aWYoIWYpY29udGludWU7Y29uc3Qgdj1mLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nQm94O2ZvcihsZXQgRT0wO0U8di52ZWN0b3JzV29ybGQubGVuZ3RoO0UrKylwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodi52ZWN0b3JzV29ybGRbRV0sdCxsKSxsLng8dGhpcy5fb3J0aG9MZWZ0JiYodGhpcy5fb3J0aG9MZWZ0PWwueCksbC55PHRoaXMuX29ydGhvQm90dG9tJiYodGhpcy5fb3J0aG9Cb3R0b209bC55KSxsLng+dGhpcy5fb3J0aG9SaWdodCYmKHRoaXMuX29ydGhvUmlnaHQ9bC54KSxsLnk+dGhpcy5fb3J0aG9Ub3AmJih0aGlzLl9vcnRob1RvcD1sLnkpLHRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzJiYobC56PHUmJih1PWwueiksbC56PmQmJihkPWwueikpfXRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzJiYodGhpcy5fc2hhZG93TWluWj11LHRoaXMuX3NoYWRvd01heFo9ZCl9Y29uc3Qgcj10aGlzLl9vcnRob1JpZ2h0LXRoaXMuX29ydGhvTGVmdCxuPXRoaXMuX29ydGhvVG9wLXRoaXMuX29ydGhvQm90dG9tLGE9dGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjpzLm1pblosbz10aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOnMubWF4WixoPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXI7TS5PcnRob09mZkNlbnRlckxIVG9SZWYodGhpcy5fb3J0aG9MZWZ0LXIqdGhpcy5zaGFkb3dPcnRob1NjYWxlLHRoaXMuX29ydGhvUmlnaHQrcip0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9Cb3R0b20tbip0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9Ub3Arbip0aGlzLnNoYWRvd09ydGhvU2NhbGUsaD9vOmEsaD9hOm8sZSx0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKX1fYnVpbGRVbmlmb3JtTGF5b3V0KCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREYXRhIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERpZmZ1c2UiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0U3BlY3VsYXIiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgic2hhZG93c0luZm8iLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgiZGVwdGhWYWx1ZXMiLDIpLHRoaXMuX3VuaWZvcm1CdWZmZXIuY3JlYXRlKCl9dHJhbnNmZXJUb0VmZmVjdChlLHQpe3JldHVybiB0aGlzLmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCk/KHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIix0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLngsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi55LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueiwxLHQpLHRoaXMpOih0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsdGhpcy5kaXJlY3Rpb24ueCx0aGlzLmRpcmVjdGlvbi55LHRoaXMuZGlyZWN0aW9uLnosMSx0KSx0aGlzKX10cmFuc2ZlclRvTm9kZU1hdGVyaWFsRWZmZWN0KGUsdCl7cmV0dXJuIHRoaXMuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKT8oZS5zZXRGbG9hdDModCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLngsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi55LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueiksdGhpcyk6KGUuc2V0RmxvYXQzKHQsdGhpcy5kaXJlY3Rpb24ueCx0aGlzLmRpcmVjdGlvbi55LHRoaXMuZGlyZWN0aW9uLnopLHRoaXMpfWdldERlcHRoTWluWihlKXtjb25zdCB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3JldHVybiF0LnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmdC5pc05EQ0hhbGZaUmFuZ2U/MDoxfWdldERlcHRoTWF4WihlKXtjb25zdCB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3JldHVybiB0LnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmdC5pc05EQ0hhbGZaUmFuZ2U/MDoxfXByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcyhlLHQpe2VbIkRJUkxJR0hUIit0XT0hMH19VChbeSgpXSxEdC5wcm90b3R5cGUsInNoYWRvd0ZydXN0dW1TaXplIixudWxsKSxUKFt5KCldLER0LnByb3RvdHlwZSwic2hhZG93T3J0aG9TY2FsZSIsbnVsbCksVChbeSgpXSxEdC5wcm90b3R5cGUsImF1dG9VcGRhdGVFeHRlbmRzIix2b2lkIDApLFQoW3koKV0sRHQucHJvdG90eXBlLCJhdXRvQ2FsY1NoYWRvd1pCb3VuZHMiLHZvaWQgMCksVChbeSgib3J0aG9MZWZ0IildLER0LnByb3RvdHlwZSwiX29ydGhvTGVmdCIsdm9pZCAwKSxUKFt5KCJvcnRob1JpZ2h0IildLER0LnByb3RvdHlwZSwiX29ydGhvUmlnaHQiLHZvaWQgMCksVChbeSgib3J0aG9Ub3AiKV0sRHQucHJvdG90eXBlLCJfb3J0aG9Ub3AiLHZvaWQgMCksVChbeSgib3J0aG9Cb3R0b20iKV0sRHQucHJvdG90eXBlLCJfb3J0aG9Cb3R0b20iLHZvaWQgMCksemUuQWRkTm9kZUNvbnN0cnVjdG9yKCJMaWdodF9UeXBlXzMiLChjLGUpPT4oKT0+bmV3IGxzKGMscC5aZXJvKCksZSkpO2NsYXNzIGxzIGV4dGVuZHMgaGV7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsaSksdGhpcy5ncm91bmRDb2xvcj1uZXcgcmUoMCwwLDApLHRoaXMuZGlyZWN0aW9uPXR8fHAuVXAoKX1fYnVpbGRVbmlmb3JtTGF5b3V0KCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREYXRhIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERpZmZ1c2UiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0U3BlY3VsYXIiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0R3JvdW5kIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInNoYWRvd3NJbmZvIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oImRlcHRoVmFsdWVzIiwyKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfWdldENsYXNzTmFtZSgpe3JldHVybiJIZW1pc3BoZXJpY0xpZ2h0In1zZXREaXJlY3Rpb25Ub1RhcmdldChlKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb249cC5Ob3JtYWxpemUoZS5zdWJ0cmFjdChwLlplcm8oKSkpLHRoaXMuZGlyZWN0aW9ufWdldFNoYWRvd0dlbmVyYXRvcigpe3JldHVybiBudWxsfXRyYW5zZmVyVG9FZmZlY3QoZSx0KXtjb25zdCBpPXAuTm9ybWFsaXplKHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLGkueCxpLnksaS56LDAsdCksdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVDb2xvcjMoInZMaWdodEdyb3VuZCIsdGhpcy5ncm91bmRDb2xvci5zY2FsZSh0aGlzLmludGVuc2l0eSksdCksdGhpc310cmFuc2ZlclRvTm9kZU1hdGVyaWFsRWZmZWN0KGUsdCl7Y29uc3QgaT1wLk5vcm1hbGl6ZSh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIGUuc2V0RmxvYXQzKHQsaS54LGkueSxpLnopLHRoaXN9Y29tcHV0ZVdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9TS5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeH1nZXRUeXBlSUQoKXtyZXR1cm4gaGUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVH1wcmVwYXJlTGlnaHRTcGVjaWZpY0RlZmluZXMoZSx0KXtlWyJIRU1JTElHSFQiK3RdPSEwfX1UKFtkaSgpXSxscy5wcm90b3R5cGUsImdyb3VuZENvbG9yIix2b2lkIDApLFQoW1V0KCldLGxzLnByb3RvdHlwZSwiZGlyZWN0aW9uIix2b2lkIDApO2NsYXNzIEh0e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXR9dG9TdHJpbmcoKXtyZXR1cm5ge1c6ICR7dGhpcy53aWR0aH0sIEg6ICR7dGhpcy5oZWlnaHR9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlNpemUifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy53aWR0aHwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmhlaWdodHwwKSxlfWNvcHlGcm9tKGUpe3RoaXMud2lkdGg9ZS53aWR0aCx0aGlzLmhlaWdodD1lLmhlaWdodH1jb3B5RnJvbUZsb2F0cyhlLHQpe3JldHVybiB0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzfXNldChlLHQpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCl9bXVsdGlwbHlCeUZsb2F0cyhlLHQpe3JldHVybiBuZXcgSHQodGhpcy53aWR0aCplLHRoaXMuaGVpZ2h0KnQpfWNsb25lKCl7cmV0dXJuIG5ldyBIdCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX1lcXVhbHMoZSl7cmV0dXJuIGU/dGhpcy53aWR0aD09PWUud2lkdGgmJnRoaXMuaGVpZ2h0PT09ZS5oZWlnaHQ6ITF9Z2V0IHN1cmZhY2UoKXtyZXR1cm4gdGhpcy53aWR0aCp0aGlzLmhlaWdodH1zdGF0aWMgWmVybygpe3JldHVybiBuZXcgSHQoMCwwKX1hZGQoZSl7cmV0dXJuIG5ldyBIdCh0aGlzLndpZHRoK2Uud2lkdGgsdGhpcy5oZWlnaHQrZS5oZWlnaHQpfXN1YnRyYWN0KGUpe3JldHVybiBuZXcgSHQodGhpcy53aWR0aC1lLndpZHRoLHRoaXMuaGVpZ2h0LWUuaGVpZ2h0KX1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1lLndpZHRoKyh0LndpZHRoLWUud2lkdGgpKmkscj1lLmhlaWdodCsodC5oZWlnaHQtZS5oZWlnaHQpKmk7cmV0dXJuIG5ldyBIdChzLHIpfX1jbGFzcyBIc3tnZXQgd3JhcFUoKXtyZXR1cm4gdGhpcy5fd3JhcFV9c2V0IHdyYXBVKGUpe3RoaXMuX3dyYXBVPWV9Z2V0IHdyYXBWKCl7cmV0dXJuIHRoaXMuX3dyYXBWfXNldCB3cmFwVihlKXt0aGlzLl93cmFwVj1lfWdldCBjb29yZGluYXRlc01vZGUoKXtyZXR1cm4gMH1nZXQgaXNDdWJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU6ITF9c2V0IGlzQ3ViZShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5pc0N1YmU9ZSl9Z2V0IGlzM0QoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9c2V0IGlzM0QoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMzRD1lKX1nZXQgaXMyREFycmF5KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczJEQXJyYXk6ITF9c2V0IGlzMkRBcnJheShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5pczJEQXJyYXk9ZSl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRoaW5UZXh0dXJlIn1zdGF0aWMgX0lzUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtyZXR1cm4oZT09bnVsbD92b2lkIDA6ZS5fc2hhcmVEZXB0aCkhPT12b2lkIDB9Y29uc3RydWN0b3IoZSl7dGhpcy5fd3JhcFU9MSx0aGlzLl93cmFwVj0xLHRoaXMud3JhcFI9MSx0aGlzLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9NCx0aGlzLmRlbGF5TG9hZFN0YXRlPTAsdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuX2VuZ2luZT1udWxsLHRoaXMuX2NhY2hlZFNpemU9SHQuWmVybygpLHRoaXMuX2NhY2hlZEJhc2VTaXplPUh0Llplcm8oKSx0aGlzLl9pbml0aWFsU2FtcGxpbmdNb2RlPTIsdGhpcy5fdGV4dHVyZT1Icy5fSXNSZW5kZXJUYXJnZXRXcmFwcGVyKGUpP2UudGV4dHVyZTplLHRoaXMuX3RleHR1cmUmJih0aGlzLl9lbmdpbmU9dGhpcy5fdGV4dHVyZS5nZXRFbmdpbmUoKSl9aXNSZWFkeSgpe3JldHVybiB0aGlzLmRlbGF5TG9hZFN0YXRlPT09ND8odGhpcy5kZWxheUxvYWQoKSwhMSk6dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzUmVhZHk6ITF9ZGVsYXlMb2FkKCl7fWdldEludGVybmFsVGV4dHVyZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlfWdldFNpemUoKXtpZih0aGlzLl90ZXh0dXJlKXtpZih0aGlzLl90ZXh0dXJlLndpZHRoKXJldHVybiB0aGlzLl9jYWNoZWRTaXplLndpZHRoPXRoaXMuX3RleHR1cmUud2lkdGgsdGhpcy5fY2FjaGVkU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5oZWlnaHQsdGhpcy5fY2FjaGVkU2l6ZTtpZih0aGlzLl90ZXh0dXJlLl9zaXplKXJldHVybiB0aGlzLl9jYWNoZWRTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRTaXplfXJldHVybiB0aGlzLl9jYWNoZWRTaXplfWdldEJhc2VTaXplKCl7cmV0dXJuIXRoaXMuaXNSZWFkeSgpfHwhdGhpcy5fdGV4dHVyZT8odGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9MCx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9MCx0aGlzLl9jYWNoZWRCYXNlU2l6ZSk6dGhpcy5fdGV4dHVyZS5fc2l6ZT8odGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRCYXNlU2l6ZSk6KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuYmFzZVdpZHRoLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLmJhc2VIZWlnaHQsdGhpcy5fY2FjaGVkQmFzZVNpemUpfWdldCBzYW1wbGluZ01vZGUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLnNhbXBsaW5nTW9kZTp0aGlzLl9pbml0aWFsU2FtcGxpbmdNb2RlfXVwZGF0ZVNhbXBsaW5nTW9kZShlKXt0aGlzLl90ZXh0dXJlJiZ0aGlzLl9lbmdpbmUmJnRoaXMuX2VuZ2luZS51cGRhdGVUZXh0dXJlU2FtcGxpbmdNb2RlKGUsdGhpcy5fdGV4dHVyZSl9cmVsZWFzZUludGVybmFsVGV4dHVyZSgpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl90ZXh0dXJlPW51bGwpfWRpc3Bvc2UoKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCksdGhpcy5fZW5naW5lPW51bGwpfX1jbGFzcyBSZSBleHRlbmRzIEhze3NldCBoYXNBbHBoYShlKXt0aGlzLl9oYXNBbHBoYSE9PWUmJih0aGlzLl9oYXNBbHBoYT1lLHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLHQ9PnQuaGFzVGV4dHVyZSh0aGlzKSkpfWdldCBoYXNBbHBoYSgpe3JldHVybiB0aGlzLl9oYXNBbHBoYX1zZXQgZ2V0QWxwaGFGcm9tUkdCKGUpe3RoaXMuX2dldEFscGhhRnJvbVJHQiE9PWUmJih0aGlzLl9nZXRBbHBoYUZyb21SR0I9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgZ2V0QWxwaGFGcm9tUkdCKCl7cmV0dXJuIHRoaXMuX2dldEFscGhhRnJvbVJHQn1zZXQgY29vcmRpbmF0ZXNJbmRleChlKXt0aGlzLl9jb29yZGluYXRlc0luZGV4IT09ZSYmKHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXg9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgY29vcmRpbmF0ZXNJbmRleCgpe3JldHVybiB0aGlzLl9jb29yZGluYXRlc0luZGV4fXNldCBjb29yZGluYXRlc01vZGUoZSl7dGhpcy5fY29vcmRpbmF0ZXNNb2RlIT09ZSYmKHRoaXMuX2Nvb3JkaW5hdGVzTW9kZT1lLHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLHQ9PnQuaGFzVGV4dHVyZSh0aGlzKSkpfWdldCBjb29yZGluYXRlc01vZGUoKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNNb2RlfWdldCB3cmFwVSgpe3JldHVybiB0aGlzLl93cmFwVX1zZXQgd3JhcFUoZSl7dGhpcy5fd3JhcFU9ZX1nZXQgd3JhcFYoKXtyZXR1cm4gdGhpcy5fd3JhcFZ9c2V0IHdyYXBWKGUpe3RoaXMuX3dyYXBWPWV9Z2V0IGlzQ3ViZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlOnRoaXMuX2lzQ3ViZX1zZXQgaXNDdWJlKGUpe3RoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU9ZTp0aGlzLl9pc0N1YmU9ZX1nZXQgaXMzRCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMzRDohMX1zZXQgaXMzRChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5pczNEPWUpfWdldCBpczJEQXJyYXkoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzMkRBcnJheTohMX1zZXQgaXMyREFycmF5KGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmlzMkRBcnJheT1lKX1nZXQgZ2FtbWFTcGFjZSgpe2lmKHRoaXMuX3RleHR1cmUpdGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT09PW51bGwmJih0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPXRoaXMuX2dhbW1hU3BhY2UpO2Vsc2UgcmV0dXJuIHRoaXMuX2dhbW1hU3BhY2U7cmV0dXJuIHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2UmJiF0aGlzLl90ZXh0dXJlLl91c2VTUkdCQnVmZmVyfXNldCBnYW1tYVNwYWNlKGUpe2lmKHRoaXMuX3RleHR1cmUpe2lmKHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9PT1lKXJldHVybjt0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPWV9ZWxzZXtpZih0aGlzLl9nYW1tYVNwYWNlPT09ZSlyZXR1cm47dGhpcy5fZ2FtbWFTcGFjZT1lfXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX1nZXQgaXNSR0JEKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUhPW51bGwmJnRoaXMuX3RleHR1cmUuX2lzUkdCRH1zZXQgaXNSR0JEKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pc1JHQkQ9ZSl9Z2V0IG5vTWlwbWFwKCl7cmV0dXJuITF9Z2V0IGxvZEdlbmVyYXRpb25PZmZzZXQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uT2Zmc2V0OjB9c2V0IGxvZEdlbmVyYXRpb25PZmZzZXQoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25PZmZzZXQ9ZSl9Z2V0IGxvZEdlbmVyYXRpb25TY2FsZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25TY2FsZTowfXNldCBsb2RHZW5lcmF0aW9uU2NhbGUoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25TY2FsZT1lKX1nZXQgbGluZWFyU3BlY3VsYXJMT0QoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9saW5lYXJTcGVjdWxhckxPRDohMX1zZXQgbGluZWFyU3BlY3VsYXJMT0QoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2xpbmVhclNwZWN1bGFyTE9EPWUpfWdldCBpcnJhZGlhbmNlVGV4dHVyZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2lycmFkaWFuY2VUZXh0dXJlOm51bGx9c2V0IGlycmFkaWFuY2VUZXh0dXJlKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pcnJhZGlhbmNlVGV4dHVyZT1lKX1nZXQgdWlkKCl7cmV0dXJuIHRoaXMuX3VpZHx8KHRoaXMuX3VpZD1mcigpKSx0aGlzLl91aWR9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lfWdldENsYXNzTmFtZSgpe3JldHVybiJCYXNlVGV4dHVyZSJ9c2V0IG9uRGlzcG9zZShlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgaXNCbG9ja2luZygpe3JldHVybiEwfWdldCBsb2FkaW5nRXJyb3IoKXtyZXR1cm4gdGhpcy5fbG9hZGluZ0Vycm9yfWdldCBlcnJvck9iamVjdCgpe3JldHVybiB0aGlzLl9lcnJvck9iamVjdH1jb25zdHJ1Y3RvcihlLHQ9bnVsbCl7c3VwZXIobnVsbCksdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLl9oYXNBbHBoYT0hMSx0aGlzLl9nZXRBbHBoYUZyb21SR0I9ITEsdGhpcy5sZXZlbD0xLHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXg9MCx0aGlzLm9wdGltaXplVVZBbGxvY2F0aW9uPSEwLHRoaXMuX2Nvb3JkaW5hdGVzTW9kZT0wLHRoaXMud3JhcFI9MSx0aGlzLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9UmUuREVGQVVMVF9BTklTT1RST1BJQ19GSUxURVJJTkdfTEVWRUwsdGhpcy5faXNDdWJlPSExLHRoaXMuX2dhbW1hU3BhY2U9ITAsdGhpcy5pbnZlcnRaPSExLHRoaXMubG9kTGV2ZWxJbkFscGhhPSExLHRoaXMuaXNSZW5kZXJUYXJnZXQ9ITEsdGhpcy5fcHJlZmlsdGVyZWQ9ITEsdGhpcy5fZm9yY2VTZXJpYWxpemU9ITEsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IHcsdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9zY2VuZT1udWxsLHRoaXMuX3VpZD1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuX2xvYWRpbmdFcnJvcj0hMSxlP1JlLl9Jc1NjZW5lKGUpP3RoaXMuX3NjZW5lPWU6dGhpcy5fZW5naW5lPWU6dGhpcy5fc2NlbmU9Y2UuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZSYmKHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9zY2VuZS5hZGRUZXh0dXJlKHRoaXMpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSksdGhpcy5fdGV4dHVyZT10LHRoaXMuX3VpZD1udWxsfWdldFNjZW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lfV9nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbChlKXtyZXR1cm4gZSE9PW51bGx9Z2V0VGV4dHVyZU1hdHJpeCgpe3JldHVybiBNLklkZW50aXR5UmVhZE9ubHl9Z2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKXtyZXR1cm4gTS5JZGVudGl0eVJlYWRPbmx5fWlzUmVhZHlPck5vdEJsb2NraW5nKCl7cmV0dXJuIXRoaXMuaXNCbG9ja2luZ3x8dGhpcy5pc1JlYWR5KCl8fHRoaXMubG9hZGluZ0Vycm9yfXNjYWxlKGUpe31nZXQgY2FuUmVzY2FsZSgpe3JldHVybiExfV9nZXRGcm9tQ2FjaGUoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3Qgbz1hLl9nZXRVc2VTUkdCQnVmZmVyKCEhcix0KSxoPWEuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCsrKXtjb25zdCB1PWhbbF07aWYoKHI9PT12b2lkIDB8fG89PT11Ll91c2VTUkdCQnVmZmVyKSYmKHM9PT12b2lkIDB8fHM9PT11LmludmVydFkpJiZ1LnVybD09PWUmJnUuZ2VuZXJhdGVNaXBNYXBzPT09IXQmJighaXx8aT09PXUuc2FtcGxpbmdNb2RlKSYmKG49PT12b2lkIDB8fG49PT11LmlzQ3ViZSkpcmV0dXJuIHUuaW5jcmVtZW50UmVmZXJlbmNlcygpLHV9cmV0dXJuIG51bGx9X3JlYnVpbGQoKXt9Y2xvbmUoKXtyZXR1cm4gbnVsbH1nZXQgdGV4dHVyZVR5cGUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS50eXBlIT09dm9pZCAwP3RoaXMuX3RleHR1cmUudHlwZTowfWdldCB0ZXh0dXJlRm9ybWF0KCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuZm9ybWF0IT09dm9pZCAwP3RoaXMuX3RleHR1cmUuZm9ybWF0OjV9X21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtlJiZlLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfXJlYWRQaXhlbHMoZT0wLHQ9MCxpPW51bGwscz0hMCxyPSExLG49MCxhPTAsbz1OdW1iZXIuTUFYX1ZBTFVFLGg9TnVtYmVyLk1BWF9WQUxVRSl7aWYoIXRoaXMuX3RleHR1cmUpcmV0dXJuIG51bGw7Y29uc3QgbD10aGlzLl9nZXRFbmdpbmUoKTtpZighbClyZXR1cm4gbnVsbDtjb25zdCB1PXRoaXMuZ2V0U2l6ZSgpO2xldCBkPXUud2lkdGgsXz11LmhlaWdodDt0IT09MCYmKGQ9ZC9NYXRoLnBvdygyLHQpLF89Xy9NYXRoLnBvdygyLHQpLGQ9TWF0aC5yb3VuZChkKSxfPU1hdGgucm91bmQoXykpLG89TWF0aC5taW4oZCxvKSxoPU1hdGgubWluKF8saCk7dHJ5e3JldHVybiB0aGlzLl90ZXh0dXJlLmlzQ3ViZT9sLl9yZWFkVGV4dHVyZVBpeGVscyh0aGlzLl90ZXh0dXJlLG8saCxlLHQsaSxzLHIsbixhKTpsLl9yZWFkVGV4dHVyZVBpeGVscyh0aGlzLl90ZXh0dXJlLG8saCwtMSx0LGkscyxyLG4sYSl9Y2F0Y2h7cmV0dXJuIG51bGx9fV9yZWFkUGl4ZWxzU3luYyhlPTAsdD0wLGk9bnVsbCxzPSEwLHI9ITEpe2lmKCF0aGlzLl90ZXh0dXJlKXJldHVybiBudWxsO2NvbnN0IG49dGhpcy5nZXRTaXplKCk7bGV0IGE9bi53aWR0aCxvPW4uaGVpZ2h0O2NvbnN0IGg9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWgpcmV0dXJuIG51bGw7dCE9MCYmKGE9YS9NYXRoLnBvdygyLHQpLG89by9NYXRoLnBvdygyLHQpLGE9TWF0aC5yb3VuZChhKSxvPU1hdGgucm91bmQobykpO3RyeXtyZXR1cm4gdGhpcy5fdGV4dHVyZS5pc0N1YmU/aC5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKHRoaXMuX3RleHR1cmUsYSxvLGUsdCxpLHMscik6aC5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKHRoaXMuX3RleHR1cmUsYSxvLC0xLHQsaSxzLHIpfWNhdGNoe3JldHVybiBudWxsfX1nZXQgX2xvZFRleHR1cmVIaWdoKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZUhpZ2g6bnVsbH1nZXQgX2xvZFRleHR1cmVNaWQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlTWlkOm51bGx9Z2V0IF9sb2RUZXh0dXJlTG93KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZUxvdzpudWxsfWRpc3Bvc2UoKXtpZih0aGlzLl9zY2VuZSl7dGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbiYmdGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLl9zY2VuZS5yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKTtjb25zdCBlPXRoaXMuX3NjZW5lLnRleHR1cmVzLmluZGV4T2YodGhpcyk7aWYoZT49MCYmdGhpcy5fc2NlbmUudGV4dHVyZXMuc3BsaWNlKGUsMSksdGhpcy5fc2NlbmUub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3NjZW5lPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCB0PXRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5pbmRleE9mKHRoaXMpO3Q+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5zcGxpY2UodCwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH19dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm1ldGFkYXRhPW51bGwsc3VwZXIuZGlzcG9zZSgpfXNlcmlhbGl6ZShlPSExKXtpZighdGhpcy5uYW1lJiYhZSlyZXR1cm4gbnVsbDtjb25zdCB0PW5lLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gbmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyx0KSx0fXN0YXRpYyBXaGVuQWxsUmVhZHkoZSx0KXtsZXQgaT1lLmxlbmd0aDtpZihpPT09MCl7dCgpO3JldHVybn1mb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3Qgcj1lW3NdO2lmKHIuaXNSZWFkeSgpKS0taT09PTAmJnQoKTtlbHNle2NvbnN0IG49ci5vbkxvYWRPYnNlcnZhYmxlO24/bi5hZGRPbmNlKCgpPT57LS1pPT09MCYmdCgpfSk6LS1pPT09MCYmdCgpfX19c3RhdGljIF9Jc1NjZW5lKGUpe3JldHVybiBlLmdldENsYXNzTmFtZSgpPT09IlNjZW5lIn19UmUuREVGQVVMVF9BTklTT1RST1BJQ19GSUxURVJJTkdfTEVWRUw9NCxUKFt5KCldLFJlLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbeSgpXSxSZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbeSgpXSxSZS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFQoW3koImhhc0FscGhhIildLFJlLnByb3RvdHlwZSwiX2hhc0FscGhhIix2b2lkIDApLFQoW3koImdldEFscGhhRnJvbVJHQiIpXSxSZS5wcm90b3R5cGUsIl9nZXRBbHBoYUZyb21SR0IiLHZvaWQgMCksVChbeSgpXSxSZS5wcm90b3R5cGUsImxldmVsIix2b2lkIDApLFQoW3koImNvb3JkaW5hdGVzSW5kZXgiKV0sUmUucHJvdG90eXBlLCJfY29vcmRpbmF0ZXNJbmRleCIsdm9pZCAwKSxUKFt5KCldLFJlLnByb3RvdHlwZSwib3B0aW1pemVVVkFsbG9jYXRpb24iLHZvaWQgMCksVChbeSgiY29vcmRpbmF0ZXNNb2RlIildLFJlLnByb3RvdHlwZSwiX2Nvb3JkaW5hdGVzTW9kZSIsdm9pZCAwKSxUKFt5KCldLFJlLnByb3RvdHlwZSwid3JhcFUiLG51bGwpLFQoW3koKV0sUmUucHJvdG90eXBlLCJ3cmFwViIsbnVsbCksVChbeSgpXSxSZS5wcm90b3R5cGUsIndyYXBSIix2b2lkIDApLFQoW3koKV0sUmUucHJvdG90eXBlLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIix2b2lkIDApLFQoW3koKV0sUmUucHJvdG90eXBlLCJpc0N1YmUiLG51bGwpLFQoW3koKV0sUmUucHJvdG90eXBlLCJpczNEIixudWxsKSxUKFt5KCldLFJlLnByb3RvdHlwZSwiaXMyREFycmF5IixudWxsKSxUKFt5KCldLFJlLnByb3RvdHlwZSwiZ2FtbWFTcGFjZSIsbnVsbCksVChbeSgpXSxSZS5wcm90b3R5cGUsImludmVydFoiLHZvaWQgMCksVChbeSgpXSxSZS5wcm90b3R5cGUsImxvZExldmVsSW5BbHBoYSIsdm9pZCAwKSxUKFt5KCldLFJlLnByb3RvdHlwZSwibG9kR2VuZXJhdGlvbk9mZnNldCIsbnVsbCksVChbeSgpXSxSZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25TY2FsZSIsbnVsbCksVChbeSgpXSxSZS5wcm90b3R5cGUsImxpbmVhclNwZWN1bGFyTE9EIixudWxsKSxUKFt2dCgpXSxSZS5wcm90b3R5cGUsImlycmFkaWFuY2VUZXh0dXJlIixudWxsKSxUKFt5KCldLFJlLnByb3RvdHlwZSwiaXNSZW5kZXJUYXJnZXQiLHZvaWQgMCk7ZnVuY3Rpb24gQnIoYyxlLHQ9ITEpe2NvbnN0IGk9ZS53aWR0aCxzPWUuaGVpZ2h0O2lmKGMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2xldCBoPWMuYnl0ZUxlbmd0aC9jLkJZVEVTX1BFUl9FTEVNRU5UO2NvbnN0IGw9bmV3IFVpbnQ4QXJyYXkoaCk7Zm9yKDstLWg+PTA7KXtsZXQgdT1jW2hdO3U8MD91PTA6dT4xJiYodT0xKSxsW2hdPXUqMjU1fWM9bH1jb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3Iud2lkdGg9aSxyLmhlaWdodD1zO2NvbnN0IG49ci5nZXRDb250ZXh0KCIyZCIpO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGE9bi5jcmVhdGVJbWFnZURhdGEoaSxzKTtpZihhLmRhdGEuc2V0KGMpLG4ucHV0SW1hZ2VEYXRhKGEsMCwwKSx0KXtjb25zdCBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2gud2lkdGg9aSxoLmhlaWdodD1zO2NvbnN0IGw9aC5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBsPyhsLnRyYW5zbGF0ZSgwLHMpLGwuc2NhbGUoMSwtMSksbC5kcmF3SW1hZ2UociwwLDApLGgudG9EYXRhVVJMKCJpbWFnZS9wbmciKSk6bnVsbH1yZXR1cm4gci50b0RhdGFVUkwoImltYWdlL3BuZyIpfWZ1bmN0aW9uIEpuKGMsZT0wLHQ9MCl7Y29uc3QgaT1jLmdldEludGVybmFsVGV4dHVyZSgpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9Yy5fcmVhZFBpeGVsc1N5bmMoZSx0KTtyZXR1cm4gcz9CcihzLGMuZ2V0U2l6ZSgpLGkuaW52ZXJ0WSk6bnVsbH1hc3luYyBmdW5jdGlvbiBlYShjLGU9MCx0PTApe2NvbnN0IGk9Yy5nZXRJbnRlcm5hbFRleHR1cmUoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPWF3YWl0IGMucmVhZFBpeGVscyhlLHQpO3JldHVybiBzP0JyKHMsYy5nZXRTaXplKCksaS5pbnZlcnRZKTpudWxsfWNsYXNzIE4gZXh0ZW5kcyBSZXtnZXQgbm9NaXBtYXAoKXtyZXR1cm4gdGhpcy5fbm9NaXBtYXB9Z2V0IG1pbWVUeXBlKCl7cmV0dXJuIHRoaXMuX21pbWVUeXBlfXNldCBpc0Jsb2NraW5nKGUpe3RoaXMuX2lzQmxvY2tpbmc9ZX1nZXQgaXNCbG9ja2luZygpe3JldHVybiB0aGlzLl9pc0Jsb2NraW5nfWdldCBpbnZlcnRZKCl7cmV0dXJuIHRoaXMuX2ludmVydFl9Y29uc3RydWN0b3IoZSx0LGkscyxyPU4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxuPW51bGwsYT1udWxsLG89bnVsbCxoPSExLGwsdSxkLF8sZil7dmFyIG0sdixFLFMsUixBLEMsYix4O3N1cGVyKHQpLHRoaXMudXJsPW51bGwsdGhpcy51T2Zmc2V0PTAsdGhpcy52T2Zmc2V0PTAsdGhpcy51U2NhbGU9MSx0aGlzLnZTY2FsZT0xLHRoaXMudUFuZz0wLHRoaXMudkFuZz0wLHRoaXMud0FuZz0wLHRoaXMudVJvdGF0aW9uQ2VudGVyPS41LHRoaXMudlJvdGF0aW9uQ2VudGVyPS41LHRoaXMud1JvdGF0aW9uQ2VudGVyPS41LHRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEsdGhpcy5pbnNwZWN0YWJsZUN1c3RvbVByb3BlcnRpZXM9bnVsbCx0aGlzLl9ub01pcG1hcD0hMSx0aGlzLl9pbnZlcnRZPSExLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXg9bnVsbCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4PW51bGwsdGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9bnVsbCx0aGlzLl90MD1udWxsLHRoaXMuX3QxPW51bGwsdGhpcy5fdDI9bnVsbCx0aGlzLl9jYWNoZWRVT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFZPZmZzZXQ9LTEsdGhpcy5fY2FjaGVkVVNjYWxlPTAsdGhpcy5fY2FjaGVkVlNjYWxlPTAsdGhpcy5fY2FjaGVkVUFuZz0tMSx0aGlzLl9jYWNoZWRWQW5nPS0xLHRoaXMuX2NhY2hlZFdBbmc9LTEsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblByb2plY3Rpb25NYXRyaXhJZD0tMSx0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXI9LTEsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyPS0xLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcj0tMSx0aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT0hMSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeD1udWxsLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VU2NhbGU9MCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVlNjYWxlPTAsdGhpcy5fY2FjaGVkUmVmbGVjdGlvbkNvb3JkaW5hdGVzTW9kZT0tMSx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLl9kZWxldGVCdWZmZXI9ITEsdGhpcy5fZm9ybWF0PW51bGwsdGhpcy5fZGVsYXllZE9uTG9hZD1udWxsLHRoaXMuX2RlbGF5ZWRPbkVycm9yPW51bGwsdGhpcy5vbkxvYWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2lzQmxvY2tpbmc9ITAsdGhpcy5uYW1lPWV8fCIiLHRoaXMudXJsPWU7bGV0IEksVT0hMSxrPW51bGw7dHlwZW9mIGk9PSJvYmplY3QiJiZpIT09bnVsbD8oST0obT1pLm5vTWlwbWFwKSE9PW51bGwmJm0hPT12b2lkIDA/bTohMSxzPSh2PWkuaW52ZXJ0WSkhPT1udWxsJiZ2IT09dm9pZCAwP3Y6IV90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYscj0oRT1pLnNhbXBsaW5nTW9kZSkhPT1udWxsJiZFIT09dm9pZCAwP0U6Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG49KFM9aS5vbkxvYWQpIT09bnVsbCYmUyE9PXZvaWQgMD9TOm51bGwsYT0oUj1pLm9uRXJyb3IpIT09bnVsbCYmUiE9PXZvaWQgMD9SOm51bGwsbz0oQT1pLmJ1ZmZlcikhPT1udWxsJiZBIT09dm9pZCAwP0E6bnVsbCxoPShDPWkuZGVsZXRlQnVmZmVyKSE9PW51bGwmJkMhPT12b2lkIDA/QzohMSxsPWkuZm9ybWF0LHU9aS5taW1lVHlwZSxkPWkubG9hZGVyT3B0aW9ucyxfPWkuY3JlYXRpb25GbGFncyxVPShiPWkudXNlU1JHQkJ1ZmZlcikhPT1udWxsJiZiIT09dm9pZCAwP2I6ITEsaz0oeD1pLmludGVybmFsVGV4dHVyZSkhPT1udWxsJiZ4IT09dm9pZCAwP3g6bnVsbCk6ST0hIWksdGhpcy5fbm9NaXBtYXA9SSx0aGlzLl9pbnZlcnRZPXM9PT12b2lkIDA/IV90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY6cyx0aGlzLl9pbml0aWFsU2FtcGxpbmdNb2RlPXIsdGhpcy5fYnVmZmVyPW8sdGhpcy5fZGVsZXRlQnVmZmVyPWgsdGhpcy5fbWltZVR5cGU9dSx0aGlzLl9sb2FkZXJPcHRpb25zPWQsdGhpcy5fY3JlYXRpb25GbGFncz1fLHRoaXMuX3VzZVNSR0JCdWZmZXI9VSx0aGlzLl9mb3JjZWRFeHRlbnNpb249ZixsJiYodGhpcy5fZm9ybWF0PWwpO2NvbnN0IG1lPXRoaXMuZ2V0U2NlbmUoKSxxPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFxKXJldHVybjtxLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBkZT0oKT0+e3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pbnZlcnRWU2NhbGUmJih0aGlzLnZTY2FsZSo9LTEsdGhpcy52T2Zmc2V0Kz0xKSx0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVSE9PW51bGwmJih0aGlzLndyYXBVPXRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBVLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBVPW51bGwpLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBWIT09bnVsbCYmKHRoaXMud3JhcFY9dGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFYsdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFY9bnVsbCksdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFIhPT1udWxsJiYodGhpcy53cmFwUj10aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwUix0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwUj1udWxsKSksdGhpcy5vbkxvYWRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uTG9hZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLG4mJm4oKSwhdGhpcy5pc0Jsb2NraW5nJiZtZSYmbWUucmVzZXRDYWNoZWRNYXRlcmlhbCgpfSxpZT0oYmUsTWUpPT57dGhpcy5fbG9hZGluZ0Vycm9yPSEwLHRoaXMuX2Vycm9yT2JqZWN0PXttZXNzYWdlOmJlLGV4Y2VwdGlvbjpNZX0sYSYmYShiZSxNZSksTi5PblRleHR1cmVMb2FkRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX07aWYoIXRoaXMudXJsJiYhayl7dGhpcy5fZGVsYXllZE9uTG9hZD1kZSx0aGlzLl9kZWxheWVkT25FcnJvcj1pZTtyZXR1cm59aWYodGhpcy5fdGV4dHVyZT1rPz90aGlzLl9nZXRGcm9tQ2FjaGUodGhpcy51cmwsSSxyLHRoaXMuX2ludmVydFksVSksdGhpcy5fdGV4dHVyZSlpZih0aGlzLl90ZXh0dXJlLmlzUmVhZHkpWmkuU2V0SW1tZWRpYXRlKCgpPT5kZSgpKTtlbHNle2NvbnN0IGJlPXRoaXMuX3RleHR1cmUub25Mb2FkZWRPYnNlcnZhYmxlLmFkZChkZSk7dGhpcy5fdGV4dHVyZS5vbkVycm9yT2JzZXJ2YWJsZS5hZGQoTWU9Pnt2YXIgSGU7aWUoTWUubWVzc2FnZSxNZS5leGNlcHRpb24pLChIZT10aGlzLl90ZXh0dXJlKT09PW51bGx8fEhlPT09dm9pZCAwfHxIZS5vbkxvYWRlZE9ic2VydmFibGUucmVtb3ZlKGJlKX0pfWVsc2UgaWYoIW1lfHwhbWUudXNlRGVsYXllZFRleHR1cmVMb2FkaW5nKXt0cnl7dGhpcy5fdGV4dHVyZT1xLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsSSx0aGlzLl9pbnZlcnRZLG1lLHIsZGUsaWUsdGhpcy5fYnVmZmVyLHZvaWQgMCx0aGlzLl9mb3JtYXQsdGhpcy5fZm9yY2VkRXh0ZW5zaW9uLHUsZCxfLFUpfWNhdGNoKGJlKXt0aHJvdyBpZSgiZXJyb3IgbG9hZGluZyIsYmUpLGJlfWgmJih0aGlzLl9idWZmZXI9bnVsbCl9ZWxzZSB0aGlzLmRlbGF5TG9hZFN0YXRlPTQsdGhpcy5fZGVsYXllZE9uTG9hZD1kZSx0aGlzLl9kZWxheWVkT25FcnJvcj1pZX11cGRhdGVVUkwoZSx0PW51bGwsaSxzKXt0aGlzLnVybCYmKHRoaXMucmVsZWFzZUludGVybmFsVGV4dHVyZSgpLHRoaXMuZ2V0U2NlbmUoKS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSksKCF0aGlzLm5hbWV8fHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpKSYmKHRoaXMubmFtZT1lKSx0aGlzLnVybD1lLHRoaXMuX2J1ZmZlcj10LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbj1zLHRoaXMuZGVsYXlMb2FkU3RhdGU9NCxpJiYodGhpcy5fZGVsYXllZE9uTG9hZD1pKSx0aGlzLmRlbGF5TG9hZCgpfWRlbGF5TG9hZCgpe2lmKHRoaXMuZGVsYXlMb2FkU3RhdGUhPT00KXJldHVybjtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtlJiYodGhpcy5kZWxheUxvYWRTdGF0ZT0xLHRoaXMuX3RleHR1cmU9dGhpcy5fZ2V0RnJvbUNhY2hlKHRoaXMudXJsLHRoaXMuX25vTWlwbWFwLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2ludmVydFksdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fdGV4dHVyZT90aGlzLl9kZWxheWVkT25Mb2FkJiYodGhpcy5fdGV4dHVyZS5pc1JlYWR5P1ppLlNldEltbWVkaWF0ZSh0aGlzLl9kZWxheWVkT25Mb2FkKTp0aGlzLl90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQodGhpcy5fZGVsYXllZE9uTG9hZCkpOih0aGlzLl90ZXh0dXJlPWUuZ2V0RW5naW5lKCkuY3JlYXRlVGV4dHVyZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLl9pbnZlcnRZLGUsdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fZGVsYXllZE9uTG9hZCx0aGlzLl9kZWxheWVkT25FcnJvcix0aGlzLl9idWZmZXIsbnVsbCx0aGlzLl9mb3JtYXQsdGhpcy5fZm9yY2VkRXh0ZW5zaW9uLHRoaXMuX21pbWVUeXBlLHRoaXMuX2xvYWRlck9wdGlvbnMsdGhpcy5fY3JlYXRpb25GbGFncyx0aGlzLl91c2VTUkdCQnVmZmVyKSx0aGlzLl9kZWxldGVCdWZmZXImJih0aGlzLl9idWZmZXI9bnVsbCkpLHRoaXMuX2RlbGF5ZWRPbkxvYWQ9bnVsbCx0aGlzLl9kZWxheWVkT25FcnJvcj1udWxsKX1fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKGUsdCxpLHMpe2UqPXRoaXMuX2NhY2hlZFVTY2FsZSx0Kj10aGlzLl9jYWNoZWRWU2NhbGUsZS09dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlLHQtPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSxpLT10aGlzLndSb3RhdGlvbkNlbnRlcixwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgscykscy54Kz10aGlzLnVSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRVU2NhbGUrdGhpcy5fY2FjaGVkVU9mZnNldCxzLnkrPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSt0aGlzLl9jYWNoZWRWT2Zmc2V0LHMueis9dGhpcy53Um90YXRpb25DZW50ZXJ9Y2hlY2tUcmFuc2Zvcm1zQXJlSWRlbnRpY2FsKGUpe3JldHVybiBlIT09bnVsbCYmdGhpcy51T2Zmc2V0PT09ZS51T2Zmc2V0JiZ0aGlzLnZPZmZzZXQ9PT1lLnZPZmZzZXQmJnRoaXMudVNjYWxlPT09ZS51U2NhbGUmJnRoaXMudlNjYWxlPT09ZS52U2NhbGUmJnRoaXMudUFuZz09PWUudUFuZyYmdGhpcy52QW5nPT09ZS52QW5nJiZ0aGlzLndBbmc9PT1lLndBbmd9Z2V0VGV4dHVyZU1hdHJpeChlPTEpe2lmKHRoaXMudU9mZnNldD09PXRoaXMuX2NhY2hlZFVPZmZzZXQmJnRoaXMudk9mZnNldD09PXRoaXMuX2NhY2hlZFZPZmZzZXQmJnRoaXMudVNjYWxlKmU9PT10aGlzLl9jYWNoZWRVU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkVlNjYWxlJiZ0aGlzLnVBbmc9PT10aGlzLl9jYWNoZWRVQW5nJiZ0aGlzLnZBbmc9PT10aGlzLl9jYWNoZWRWQW5nJiZ0aGlzLndBbmc9PT10aGlzLl9jYWNoZWRXQW5nJiZ0aGlzLnVSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlciYmdGhpcy52Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXImJnRoaXMud1JvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyJiZ0aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPT09dGhpcy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0pcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7dGhpcy5fY2FjaGVkVU9mZnNldD10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkVk9mZnNldD10aGlzLnZPZmZzZXQsdGhpcy5fY2FjaGVkVVNjYWxlPXRoaXMudVNjYWxlKmUsdGhpcy5fY2FjaGVkVlNjYWxlPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZFVBbmc9dGhpcy51QW5nLHRoaXMuX2NhY2hlZFZBbmc9dGhpcy52QW5nLHRoaXMuX2NhY2hlZFdBbmc9dGhpcy53QW5nLHRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlcj10aGlzLnVSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXI9dGhpcy52Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyPXRoaXMud1JvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPXRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0sKCF0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fHwhdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCkmJih0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4PU0uWmVybygpLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXg9bmV3IE0sdGhpcy5fdDA9cC5aZXJvKCksdGhpcy5fdDE9cC5aZXJvKCksdGhpcy5fdDI9cC5aZXJvKCkpLE0uUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnZBbmcsdGhpcy51QW5nLHRoaXMud0FuZyx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4KSx0aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPyhNLlRyYW5zbGF0aW9uVG9SZWYoLXRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlciwtdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyLC10aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXIsRi5NYXRyaXhbMF0pLE0uVHJhbnNsYXRpb25Ub1JlZih0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcixGLk1hdHJpeFsxXSksTS5TY2FsaW5nVG9SZWYodGhpcy5fY2FjaGVkVVNjYWxlLHRoaXMuX2NhY2hlZFZTY2FsZSwwLEYuTWF0cml4WzJdKSxNLlRyYW5zbGF0aW9uVG9SZWYodGhpcy5fY2FjaGVkVU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0LDAsRi5NYXRyaXhbM10pLEYuTWF0cml4WzBdLm11bHRpcGx5VG9SZWYodGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoRi5NYXRyaXhbMV0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKEYuTWF0cml4WzJdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihGLk1hdHJpeFszXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4LnNldFJvd0Zyb21GbG9hdHMoMix0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTJdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxM10sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzE0XSwxKSk6KHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigwLDAsMCx0aGlzLl90MCksdGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDEsMCwwLHRoaXMuX3QxKSx0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMCwxLDAsdGhpcy5fdDIpLHRoaXMuX3QxLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl90MCksdGhpcy5fdDIuc3VidHJhY3RJblBsYWNlKHRoaXMuX3QwKSxNLkZyb21WYWx1ZXNUb1JlZih0aGlzLl90MS54LHRoaXMuX3QxLnksdGhpcy5fdDEueiwwLHRoaXMuX3QyLngsdGhpcy5fdDIueSx0aGlzLl90Mi56LDAsdGhpcy5fdDAueCx0aGlzLl90MC55LHRoaXMuX3QwLnosMCwwLDAsMCwxLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpKTtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gdD8odGhpcy5vcHRpbWl6ZVVWQWxsb2NhdGlvbiYmdC5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGk9PmkuaGFzVGV4dHVyZSh0aGlzKSksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCk6dGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeH1nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO2lmKCFlKXJldHVybiB0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeDtpZih0aGlzLnVPZmZzZXQ9PT10aGlzLl9jYWNoZWRSZWZsZWN0aW9uVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblZPZmZzZXQmJnRoaXMudVNjYWxlPT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblVTY2FsZSYmdGhpcy52U2NhbGU9PT10aGlzLl9jYWNoZWRSZWZsZWN0aW9uVlNjYWxlJiZ0aGlzLmNvb3JkaW5hdGVzTW9kZT09PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Db29yZGluYXRlc01vZGUpaWYodGhpcy5jb29yZGluYXRlc01vZGU9PT1OLlBST0pFQ1RJT05fTU9ERSl7aWYodGhpcy5fY2FjaGVkUmVmbGVjdGlvblByb2plY3Rpb25NYXRyaXhJZD09PWUuZ2V0UHJvamVjdGlvbk1hdHJpeCgpLnVwZGF0ZUZsYWcpcmV0dXJuIHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4fWVsc2UgcmV0dXJuIHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4O3RoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4fHwodGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXg9TS5aZXJvKCkpLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4fHwodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9TS5aZXJvKCkpO2NvbnN0IHQ9dGhpcy5fY2FjaGVkUmVmbGVjdGlvbkNvb3JkaW5hdGVzTW9kZSE9PXRoaXMuY29vcmRpbmF0ZXNNb2RlO3N3aXRjaCh0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVU9mZnNldD10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblZPZmZzZXQ9dGhpcy52T2Zmc2V0LHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VU2NhbGU9dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblZTY2FsZT10aGlzLnZTY2FsZSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uQ29vcmRpbmF0ZXNNb2RlPXRoaXMuY29vcmRpbmF0ZXNNb2RlLHRoaXMuY29vcmRpbmF0ZXNNb2RlKXtjYXNlIE4uUExBTkFSX01PREU6e00uSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbMF09dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbNV09dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbMTJdPXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeFsxM109dGhpcy52T2Zmc2V0O2JyZWFrfWNhc2UgTi5QUk9KRUNUSU9OX01PREU6e00uRnJvbVZhbHVlc1RvUmVmKC41LDAsMCwwLDAsLS41LDAsMCwwLDAsMCwwLC41LC41LDEsMSx0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeCk7Y29uc3QgaT1lLmdldFByb2plY3Rpb25NYXRyaXgoKTt0aGlzLl9jYWNoZWRSZWZsZWN0aW9uUHJvamVjdGlvbk1hdHJpeElkPWkudXBkYXRlRmxhZyxpLm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXgsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXgpO2JyZWFrfWRlZmF1bHQ6TS5JZGVudGl0eVRvUmVmKHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KTticmVha31yZXR1cm4gdCYmZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGk9PmkuZ2V0QWN0aXZlVGV4dHVyZXMoKS5pbmRleE9mKHRoaXMpIT09LTEpLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4fWNsb25lKCl7Y29uc3QgZT17bm9NaXBtYXA6dGhpcy5fbm9NaXBtYXAsaW52ZXJ0WTp0aGlzLl9pbnZlcnRZLHNhbXBsaW5nTW9kZTp0aGlzLnNhbXBsaW5nTW9kZSxvbkxvYWQ6dm9pZCAwLG9uRXJyb3I6dm9pZCAwLGJ1ZmZlcjp0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2J1ZmZlcjp2b2lkIDAsZGVsZXRlQnVmZmVyOnRoaXMuX2RlbGV0ZUJ1ZmZlcixmb3JtYXQ6dGhpcy50ZXh0dXJlRm9ybWF0LG1pbWVUeXBlOnRoaXMubWltZVR5cGUsbG9hZGVyT3B0aW9uczp0aGlzLl9sb2FkZXJPcHRpb25zLGNyZWF0aW9uRmxhZ3M6dGhpcy5fY3JlYXRpb25GbGFncyx1c2VTUkdCQnVmZmVyOnRoaXMuX3VzZVNSR0JCdWZmZXJ9O3JldHVybiBuZS5DbG9uZSgoKT0+bmV3IE4odGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLnVybDpudWxsLHRoaXMuZ2V0U2NlbmUoKSxlKSx0aGlzKX1zZXJpYWxpemUoKXt2YXIgZSx0O2NvbnN0IGk9dGhpcy5uYW1lO04uU2VyaWFsaXplQnVmZmVyc3x8dGhpcy5uYW1lLnN0YXJ0c1dpdGgoImRhdGE6IikmJih0aGlzLm5hbWU9IiIpLHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiZ0aGlzLnVybD09PXRoaXMubmFtZSYmKHRoaXMudXJsPSIiKTtjb25zdCBzPXN1cGVyLnNlcmlhbGl6ZShOLl9TZXJpYWxpemVJbnRlcm5hbFRleHR1cmVVbmlxdWVJZCk7cmV0dXJuIHM/KChOLlNlcmlhbGl6ZUJ1ZmZlcnN8fE4uRm9yY2VTZXJpYWxpemVCdWZmZXJzKSYmKHR5cGVvZiB0aGlzLl9idWZmZXI9PSJzdHJpbmciJiZ0aGlzLl9idWZmZXIuc3Vic3RyKDAsNSk9PT0iZGF0YToiPyhzLmJhc2U2NFN0cmluZz10aGlzLl9idWZmZXIscy5uYW1lPXMubmFtZS5yZXBsYWNlKCJkYXRhOiIsIiIpKTp0aGlzLnVybCYmdGhpcy51cmwuc3RhcnRzV2l0aCgiZGF0YToiKSYmdGhpcy5fYnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheT9zLmJhc2U2NFN0cmluZz0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIrb3IodGhpcy5fYnVmZmVyKTooTi5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnN8fHRoaXMudXJsJiZ0aGlzLnVybC5zdGFydHNXaXRoKCJibG9iOiIpfHx0aGlzLl9mb3JjZVNlcmlhbGl6ZSkmJihzLmJhc2U2NFN0cmluZz0hdGhpcy5fZW5naW5lfHx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnN1cHBvcnRTeW5jVGV4dHVyZVJlYWQ/Sm4odGhpcyk6ZWEodGhpcykpKSxzLmludmVydFk9dGhpcy5faW52ZXJ0WSxzLnNhbXBsaW5nTW9kZT10aGlzLnNhbXBsaW5nTW9kZSxzLl9jcmVhdGlvbkZsYWdzPXRoaXMuX2NyZWF0aW9uRmxhZ3Mscy5fdXNlU1JHQkJ1ZmZlcj10aGlzLl91c2VTUkdCQnVmZmVyLE4uX1NlcmlhbGl6ZUludGVybmFsVGV4dHVyZVVuaXF1ZUlkJiYocy5pbnRlcm5hbFRleHR1cmVVbmlxdWVJZD0odD0oZT10aGlzLl90ZXh0dXJlKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUudW5pcXVlSWQpIT09bnVsbCYmdCE9PXZvaWQgMD90OnZvaWQgMCksdGhpcy5uYW1lPWkscyk6bnVsbH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGV4dHVyZSJ9ZGlzcG9zZSgpe3N1cGVyLmRpc3Bvc2UoKSx0aGlzLm9uTG9hZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCx0aGlzLl9idWZmZXI9bnVsbH1zdGF0aWMgUGFyc2UoZSx0LGkpe2lmKGUuY3VzdG9tVHlwZSl7Y29uc3QgaD1raS5JbnN0YW50aWF0ZShlLmN1c3RvbVR5cGUpLlBhcnNlKGUsdCxpKTtyZXR1cm4gZS5zYW1wbGluZ01vZGUmJmgudXBkYXRlU2FtcGxpbmdNb2RlJiZoLl9zYW1wbGluZ01vZGUmJmguX3NhbXBsaW5nTW9kZSE9PWUuc2FtcGxpbmdNb2RlJiZoLnVwZGF0ZVNhbXBsaW5nTW9kZShlLnNhbXBsaW5nTW9kZSksaH1pZihlLmlzQ3ViZSYmIWUuaXNSZW5kZXJUYXJnZXQpcmV0dXJuIE4uX0N1YmVUZXh0dXJlUGFyc2VyKGUsdCxpKTtjb25zdCBzPWUuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQhPT12b2lkIDA7aWYoIWUubmFtZSYmIWUuaXNSZW5kZXJUYXJnZXQmJiFzKXJldHVybiBudWxsO2xldCByO2lmKHMpe2NvbnN0IG89dC5nZXRFbmdpbmUoKS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCk7Zm9yKGNvbnN0IGggb2YgbylpZihoLnVuaXF1ZUlkPT09ZS5pbnRlcm5hbFRleHR1cmVVbmlxdWVJZCl7cj1oO2JyZWFrfX1jb25zdCBuPW89Pnt2YXIgaDtpZihvJiZvLl90ZXh0dXJlJiYoby5fdGV4dHVyZS5fY2FjaGVkV3JhcFU9bnVsbCxvLl90ZXh0dXJlLl9jYWNoZWRXcmFwVj1udWxsLG8uX3RleHR1cmUuX2NhY2hlZFdyYXBSPW51bGwpLGUuc2FtcGxpbmdNb2RlKXtjb25zdCBsPWUuc2FtcGxpbmdNb2RlO28mJm8uc2FtcGxpbmdNb2RlIT09bCYmby51cGRhdGVTYW1wbGluZ01vZGUobCl9aWYobyYmZS5hbmltYXRpb25zKWZvcihsZXQgbD0wO2w8ZS5hbmltYXRpb25zLmxlbmd0aDtsKyspe2NvbnN0IHU9ZS5hbmltYXRpb25zW2xdLGQ9YWkoIkJBQllMT04uQW5pbWF0aW9uIik7ZCYmby5hbmltYXRpb25zLnB1c2goZC5QYXJzZSh1KSl9cyYmIXImJigoaD1vPT1udWxsP3ZvaWQgMDpvLl90ZXh0dXJlKT09PW51bGx8fGg9PT12b2lkIDB8fGguX3NldFVuaXF1ZUlkKGUuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQpKX07cmV0dXJuIG5lLlBhcnNlKCgpPT57dmFyIG8saCxsO2xldCB1PSEwO2lmKGUubm9NaXBtYXAmJih1PSExKSxlLm1pcnJvclBsYW5lKXtjb25zdCBkPU4uX0NyZWF0ZU1pcnJvcihlLm5hbWUsZS5yZW5kZXJUYXJnZXRTaXplLHQsdSk7cmV0dXJuIGQuX3dhaXRpbmdSZW5kZXJMaXN0PWUucmVuZGVyTGlzdCxkLm1pcnJvclBsYW5lPU10LkZyb21BcnJheShlLm1pcnJvclBsYW5lKSxuKGQpLGR9ZWxzZSBpZihlLmlzUmVuZGVyVGFyZ2V0KXtsZXQgZD1udWxsO2lmKGUuaXNDdWJlKXtpZih0LnJlZmxlY3Rpb25Qcm9iZXMpZm9yKGxldCBfPTA7Xzx0LnJlZmxlY3Rpb25Qcm9iZXMubGVuZ3RoO18rKyl7Y29uc3QgZj10LnJlZmxlY3Rpb25Qcm9iZXNbX107aWYoZi5uYW1lPT09ZS5uYW1lKXJldHVybiBmLmN1YmVUZXh0dXJlfX1lbHNlIGQ9Ti5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShlLm5hbWUsZS5yZW5kZXJUYXJnZXRTaXplLHQsdSwobz1lLl9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJm8hPT12b2lkIDA/bzowKSxkLl93YWl0aW5nUmVuZGVyTGlzdD1lLnJlbmRlckxpc3Q7cmV0dXJuIG4oZCksZH1lbHNle2xldCBkO2lmKGUuYmFzZTY0U3RyaW5nJiYhcilkPU4uQ3JlYXRlRnJvbUJhc2U2NFN0cmluZyhlLmJhc2U2NFN0cmluZyxlLmJhc2U2NFN0cmluZyx0LCF1LGUuaW52ZXJ0WSxlLnNhbXBsaW5nTW9kZSwoKT0+e24oZCl9LChoPWUuX2NyZWF0aW9uRmxhZ3MpIT09bnVsbCYmaCE9PXZvaWQgMD9oOjAsKGw9ZS5fdXNlU1JHQkJ1ZmZlcikhPT1udWxsJiZsIT09dm9pZCAwP2w6ITEpLGQubmFtZT1lLm5hbWU7ZWxzZXtsZXQgXztlLm5hbWUmJmUubmFtZS5pbmRleE9mKCI6Ly8iKT4wP189ZS5uYW1lOl89aStlLm5hbWUsZS51cmwmJihlLnVybC5zdGFydHNXaXRoKCJkYXRhOiIpfHxOLlVzZVNlcmlhbGl6ZWRVcmxJZkFueSkmJihfPWUudXJsKTtjb25zdCBmPXtub01pcG1hcDohdSxpbnZlcnRZOmUuaW52ZXJ0WSxzYW1wbGluZ01vZGU6ZS5zYW1wbGluZ01vZGUsb25Mb2FkOigpPT57bihkKX0saW50ZXJuYWxUZXh0dXJlOnJ9O2Q9bmV3IE4oXyx0LGYpfXJldHVybiBkfX0sZSx0KX1zdGF0aWMgQ3JlYXRlRnJvbUJhc2U2NFN0cmluZyhlLHQsaSxzLHIsbj1OLlRSSUxJTkVBUl9TQU1QTElOR01PREUsYT1udWxsLG89bnVsbCxoPTUsbCl7cmV0dXJuIG5ldyBOKCJkYXRhOiIrdCxpLHMscixuLGEsbyxlLCExLGgsdm9pZCAwLHZvaWQgMCxsKX1zdGF0aWMgTG9hZEZyb21EYXRhU3RyaW5nKGUsdCxpLHM9ITEscixuPSEwLGE9Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG89bnVsbCxoPW51bGwsbD01LHUpe3JldHVybiBlLnN1YnN0cigwLDUpIT09ImRhdGE6IiYmKGU9ImRhdGE6IitlKSxuZXcgTihlLGkscixuLGEsbyxoLHQscyxsLHZvaWQgMCx2b2lkIDAsdSl9fU4uU2VyaWFsaXplQnVmZmVycz0hMCxOLkZvcmNlU2VyaWFsaXplQnVmZmVycz0hMSxOLk9uVGV4dHVyZUxvYWRFcnJvck9ic2VydmFibGU9bmV3IHcsTi5fU2VyaWFsaXplSW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQ9ITEsTi5fQ3ViZVRleHR1cmVQYXJzZXI9KGMsZSx0KT0+e3Rocm93IFEoIkN1YmVUZXh0dXJlIil9LE4uX0NyZWF0ZU1pcnJvcj0oYyxlLHQsaSk9Pnt0aHJvdyBRKCJNaXJyb3JUZXh0dXJlIil9LE4uX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9KGMsZSx0LGkscyk9Pnt0aHJvdyBRKCJSZW5kZXJUYXJnZXRUZXh0dXJlIil9LE4uTkVBUkVTVF9TQU1QTElOR01PREU9MSxOLk5FQVJFU1RfTkVBUkVTVF9NSVBMSU5FQVI9OCxOLkJJTElORUFSX1NBTVBMSU5HTU9ERT0yLE4uTElORUFSX0xJTkVBUl9NSVBORUFSRVNUPTExLE4uVFJJTElORUFSX1NBTVBMSU5HTU9ERT0zLE4uTElORUFSX0xJTkVBUl9NSVBMSU5FQVI9MyxOLk5FQVJFU1RfTkVBUkVTVF9NSVBORUFSRVNUPTQsTi5ORUFSRVNUX0xJTkVBUl9NSVBORUFSRVNUPTUsTi5ORUFSRVNUX0xJTkVBUl9NSVBMSU5FQVI9NixOLk5FQVJFU1RfTElORUFSPTcsTi5ORUFSRVNUX05FQVJFU1Q9MSxOLkxJTkVBUl9ORUFSRVNUX01JUE5FQVJFU1Q9OSxOLkxJTkVBUl9ORUFSRVNUX01JUExJTkVBUj0xMCxOLkxJTkVBUl9MSU5FQVI9MixOLkxJTkVBUl9ORUFSRVNUPTEyLE4uRVhQTElDSVRfTU9ERT0wLE4uU1BIRVJJQ0FMX01PREU9MSxOLlBMQU5BUl9NT0RFPTIsTi5DVUJJQ19NT0RFPTMsTi5QUk9KRUNUSU9OX01PREU9NCxOLlNLWUJPWF9NT0RFPTUsTi5JTlZDVUJJQ19NT0RFPTYsTi5FUVVJUkVDVEFOR1VMQVJfTU9ERT03LE4uRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU9OCxOLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFPTksTi5DTEFNUF9BRERSRVNTTU9ERT0wLE4uV1JBUF9BRERSRVNTTU9ERT0xLE4uTUlSUk9SX0FERFJFU1NNT0RFPTIsTi5Vc2VTZXJpYWxpemVkVXJsSWZBbnk9ITEsVChbeSgpXSxOLnByb3RvdHlwZSwidXJsIix2b2lkIDApLFQoW3koKV0sTi5wcm90b3R5cGUsInVPZmZzZXQiLHZvaWQgMCksVChbeSgpXSxOLnByb3RvdHlwZSwidk9mZnNldCIsdm9pZCAwKSxUKFt5KCldLE4ucHJvdG90eXBlLCJ1U2NhbGUiLHZvaWQgMCksVChbeSgpXSxOLnByb3RvdHlwZSwidlNjYWxlIix2b2lkIDApLFQoW3koKV0sTi5wcm90b3R5cGUsInVBbmciLHZvaWQgMCksVChbeSgpXSxOLnByb3RvdHlwZSwidkFuZyIsdm9pZCAwKSxUKFt5KCldLE4ucHJvdG90eXBlLCJ3QW5nIix2b2lkIDApLFQoW3koKV0sTi5wcm90b3R5cGUsInVSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFt5KCldLE4ucHJvdG90eXBlLCJ2Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbeSgpXSxOLnByb3RvdHlwZSwid1JvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW3koKV0sTi5wcm90b3R5cGUsImhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtIix2b2lkIDApLFQoW3koKV0sTi5wcm90b3R5cGUsImlzQmxvY2tpbmciLG51bGwpLHN0KCJCQUJZTE9OLlRleHR1cmUiLE4pLG5lLl9UZXh0dXJlUGFyc2VyPU4uUGFyc2U7Y2xhc3MgdGF7Z2V0IGRlcHRoU3RlbmNpbFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZX1nZXQgZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbH1nZXQgaXNDdWJlKCl7cmV0dXJuIHRoaXMuX2lzQ3ViZX1nZXQgaXNNdWx0aSgpe3JldHVybiB0aGlzLl9pc011bHRpfWdldCBpczJEQXJyYXkoKXtyZXR1cm4gdGhpcy5sYXllcnM+MH1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLndpZHRofWdldCB3aWR0aCgpe3JldHVybiB0aGlzLl9zaXplLndpZHRofHx0aGlzLl9zaXplfWdldCBoZWlnaHQoKXtyZXR1cm4gdGhpcy5fc2l6ZS5oZWlnaHR8fHRoaXMuX3NpemV9Z2V0IGxheWVycygpe3JldHVybiB0aGlzLl9zaXplLmxheWVyc3x8MH1nZXQgdGV4dHVyZSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fdGV4dHVyZXMpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZVswXSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1nZXQgdGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXN9Z2V0IGZhY2VJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX2ZhY2VJbmRpY2VzfWdldCBsYXllckluZGljZXMoKXtyZXR1cm4gdGhpcy5fbGF5ZXJJbmRpY2VzfWdldCBzYW1wbGVzKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXN9c2V0U2FtcGxlcyhlLHQ9ITAsaT0hMSl7aWYodGhpcy5zYW1wbGVzPT09ZSYmIWkpcmV0dXJuIGU7Y29uc3Qgcz10aGlzLl9pc011bHRpP3RoaXMuX2VuZ2luZS51cGRhdGVNdWx0aXBsZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUsdCk6dGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUpO3JldHVybiB0aGlzLl9zYW1wbGVzPWUsc31jb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLl90ZXh0dXJlcz1udWxsLHRoaXMuX2ZhY2VJbmRpY2VzPW51bGwsdGhpcy5fbGF5ZXJJbmRpY2VzPW51bGwsdGhpcy5fc2FtcGxlcz0xLHRoaXMuX2F0dGFjaG1lbnRzPW51bGwsdGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSExLHRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXI9ITEsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPSExLHRoaXMuX2lzTXVsdGk9ZSx0aGlzLl9pc0N1YmU9dCx0aGlzLl9zaXplPWksdGhpcy5fZW5naW5lPXMsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfXNldFRleHR1cmVzKGUpe0FycmF5LmlzQXJyYXkoZSk/dGhpcy5fdGV4dHVyZXM9ZTplP3RoaXMuX3RleHR1cmVzPVtlXTp0aGlzLl90ZXh0dXJlcz1udWxsfXNldFRleHR1cmUoZSx0PTAsaT0hMCl7dGhpcy5fdGV4dHVyZXN8fCh0aGlzLl90ZXh0dXJlcz1bXSksdGhpcy5fdGV4dHVyZXNbdF0mJmkmJnRoaXMuX3RleHR1cmVzW3RdLmRpc3Bvc2UoKSx0aGlzLl90ZXh0dXJlc1t0XT1lfXNldExheWVyQW5kRmFjZUluZGljZXMoZSx0KXt0aGlzLl9sYXllckluZGljZXM9ZSx0aGlzLl9mYWNlSW5kaWNlcz10fXNldExheWVyQW5kRmFjZUluZGV4KGU9MCx0LGkpe3RoaXMuX2xheWVySW5kaWNlc3x8KHRoaXMuX2xheWVySW5kaWNlcz1bXSksdGhpcy5fZmFjZUluZGljZXN8fCh0aGlzLl9mYWNlSW5kaWNlcz1bXSksdCE9PXZvaWQgMCYmdD49MCYmKHRoaXMuX2xheWVySW5kaWNlc1tlXT10KSxpIT09dm9pZCAwJiZpPj0wJiYodGhpcy5fZmFjZUluZGljZXNbZV09aSl9Y3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlPTAsdD0hMCxpPSExLHM9MSxyPTE0LG4pe3ZhciBhO3JldHVybihhPXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5kaXNwb3NlKCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPWksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT10aGlzLl9lbmdpbmUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9zaXplLHtiaWxpbmVhckZpbHRlcmluZzp0LGNvbXBhcmlzb25GdW5jdGlvbjplLGdlbmVyYXRlU3RlbmNpbDppLGlzQ3ViZTp0aGlzLl9pc0N1YmUsc2FtcGxlczpzLGRlcHRoVGV4dHVyZUZvcm1hdDpyLGxhYmVsOm59LHRoaXMpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9X3NoYXJlRGVwdGgoZSl7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUuZGlzcG9zZSgpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmluY3JlbWVudFJlZmVyZW5jZXMoKSl9X3N3YXBBbmREaWUoZSl7dGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUuX3N3YXBBbmREaWUoZSksdGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLmRpc3Bvc2UoITApfV9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKXt2YXIgZSx0LGkscyxyLG4sYSxvO2xldCBoPW51bGw7aWYodGhpcy5faXNNdWx0aSl7Y29uc3QgbD10aGlzLnRleHR1cmVzO2lmKGwmJmwubGVuZ3RoPjApe2xldCB1PSExLGQ9bC5sZW5ndGg7Y29uc3QgXz1sW2wubGVuZ3RoLTFdLl9zb3VyY2U7KF89PT1MZS5EZXB0aHx8Xz09PUxlLkRlcHRoU3RlbmNpbCkmJih1PSEwLGQtLSk7Y29uc3QgZj1bXSxtPVtdLHY9W10sRT1bXSxTPVtdLFI9W10sQT1bXSxDPXt9O2ZvcihsZXQgST0wO0k8ZDsrK0kpe2NvbnN0IFU9bFtJXTtmLnB1c2goVS5zYW1wbGluZ01vZGUpLG0ucHVzaChVLnR5cGUpLHYucHVzaChVLmZvcm1hdCksQ1tVLnVuaXF1ZUlkXSE9PXZvaWQgMD8oRS5wdXNoKC0xKSxBLnB1c2goMCkpOihDW1UudW5pcXVlSWRdPUksVS5pczJEQXJyYXk/KEUucHVzaCgzNTg2NiksQS5wdXNoKFUuZGVwdGgpKTpVLmlzQ3ViZT8oRS5wdXNoKDM0MDY3KSxBLnB1c2goMCkpOlUuaXMzRD8oRS5wdXNoKDMyODc5KSxBLnB1c2goVS5kZXB0aCkpOihFLnB1c2goMzU1MyksQS5wdXNoKDApKSksdGhpcy5fZmFjZUluZGljZXMmJlMucHVzaCgoZT10aGlzLl9mYWNlSW5kaWNlc1tJXSkhPT1udWxsJiZlIT09dm9pZCAwP2U6MCksdGhpcy5fbGF5ZXJJbmRpY2VzJiZSLnB1c2goKHQ9dGhpcy5fbGF5ZXJJbmRpY2VzW0ldKSE9PW51bGwmJnQhPT12b2lkIDA/dDowKX1jb25zdCBiPXtzYW1wbGluZ01vZGVzOmYsZ2VuZXJhdGVNaXBNYXBzOmxbMF0uZ2VuZXJhdGVNaXBNYXBzLGdlbmVyYXRlRGVwdGhCdWZmZXI6dGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcixnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6dGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGdlbmVyYXRlRGVwdGhUZXh0dXJlOnUsdHlwZXM6bSxmb3JtYXRzOnYsdGV4dHVyZUNvdW50OmQsdGFyZ2V0VHlwZXM6RSxmYWNlSW5kZXg6UyxsYXllckluZGV4OlIsbGF5ZXJDb3VudHM6QX0seD17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9O2g9dGhpcy5fZW5naW5lLmNyZWF0ZU11bHRpcGxlUmVuZGVyVGFyZ2V0KHgsYik7Zm9yKGxldCBJPTA7STxkOysrSSl7aWYoRVtJXSE9PS0xKWNvbnRpbnVlO2NvbnN0IFU9Q1tsW0ldLnVuaXF1ZUlkXTtoLnNldFRleHR1cmUoaC50ZXh0dXJlc1tVXSxJKX19fWVsc2V7Y29uc3QgbD17fTtpZihsLmdlbmVyYXRlRGVwdGhCdWZmZXI9dGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcixsLmdlbmVyYXRlTWlwTWFwcz0ocz0oaT10aGlzLnRleHR1cmUpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5nZW5lcmF0ZU1pcE1hcHMpIT09bnVsbCYmcyE9PXZvaWQgMD9zOiExLGwuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPXRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcixsLnNhbXBsaW5nTW9kZT0ocj10aGlzLnRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zYW1wbGluZ01vZGUsbC50eXBlPShuPXRoaXMudGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnR5cGUsbC5mb3JtYXQ9KGE9dGhpcy50ZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZm9ybWF0LHRoaXMuaXNDdWJlKWg9dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMud2lkdGgsbCk7ZWxzZXtjb25zdCB1PXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxsYXllcnM6dGhpcy5pczJEQXJyYXk/KG89dGhpcy50ZXh0dXJlKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uZGVwdGg6dm9pZCAwfTtoPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHUsbCl9aC50ZXh0dXJlLmlzUmVhZHk9ITB9cmV0dXJuIGh9X3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKGUpe2lmKHRoaXMuX3RleHR1cmVzJiZlLl90ZXh0dXJlcylmb3IobGV0IHQ9MDt0PHRoaXMuX3RleHR1cmVzLmxlbmd0aDsrK3QpdGhpcy5fdGV4dHVyZXNbdF0uX3N3YXBBbmREaWUoZS5fdGV4dHVyZXNbdF0sITEpLGUuX3RleHR1cmVzW3RdLmlzUmVhZHk9ITA7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmZS5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuX3N3YXBBbmREaWUoZS5fZGVwdGhTdGVuY2lsVGV4dHVyZSksZS5fZGVwdGhTdGVuY2lsVGV4dHVyZS5pc1JlYWR5PSEwKSx0aGlzLl90ZXh0dXJlcz1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbH1fcmVidWlsZCgpe2NvbnN0IGU9dGhpcy5fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCk7aWYoZSl7aWYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSl7Y29uc3QgdD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLnNhbXBsaW5nTW9kZSxpPXQ9PT0yfHx0PT09M3x8dD09PTExO2UuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLl9jb21wYXJpc29uRnVuY3Rpb24saSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5zYW1wbGVzKX10aGlzLnNhbXBsZXM+MSYmZS5zZXRTYW1wbGVzKHRoaXMuc2FtcGxlcyksZS5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIodGhpcyksZS5kaXNwb3NlKCl9fXJlbGVhc2VUZXh0dXJlcygpe3ZhciBlLHQ7aWYodGhpcy5fdGV4dHVyZXMpZm9yKGxldCBpPTA7KHQ9aTwoKGU9dGhpcy5fdGV4dHVyZXMpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5sZW5ndGgpKSE9PW51bGwmJnQhPT12b2lkIDAmJnQ7KytpKXRoaXMuX3RleHR1cmVzW2ldLmRpc3Bvc2UoKTt0aGlzLl90ZXh0dXJlcz1udWxsfWRpc3Bvc2UoZT0hMSl7dmFyIHQ7ZXx8KCh0PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsLHRoaXMucmVsZWFzZVRleHR1cmVzKCkpLHRoaXMuX2VuZ2luZS5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIodGhpcyl9fWNsYXNzIGlhIGV4dGVuZHMgdGF7Y29uc3RydWN0b3IoZSx0LGkscyxyKXtzdXBlcihlLHQsaSxzKSx0aGlzLl9mcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsLHRoaXMuX01TQUFGcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PW51bGwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGwsdGhpcy5fY29udGV4dD1yfV9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKXtsZXQgZT1udWxsO3JldHVybiB0aGlzLl9jb2xvclRleHR1cmVBcnJheSYmdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PyhlPXRoaXMuX2VuZ2luZS5jcmVhdGVNdWx0aXZpZXdSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGUudGV4dHVyZS5pc1JlYWR5PSEwKTplPXN1cGVyLl9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKSxlfV9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtzdXBlci5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIoZSksZS5fZnJhbWVidWZmZXI9dGhpcy5fZnJhbWVidWZmZXIsZS5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcixlLl9NU0FBRnJhbWVidWZmZXI9dGhpcy5fTVNBQUZyYW1lYnVmZmVyLGUuX2NvbG9yVGV4dHVyZUFycmF5PXRoaXMuX2NvbG9yVGV4dHVyZUFycmF5LGUuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXksdGhpcy5fZnJhbWVidWZmZXI9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX01TQUFGcmFtZWJ1ZmZlcj10aGlzLl9jb2xvclRleHR1cmVBcnJheT10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbH1fc2hhcmVEZXB0aChlKXtzdXBlci5fc2hhcmVEZXB0aChlKTtjb25zdCB0PXRoaXMuX2NvbnRleHQsaT10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIscz1lLl9NU0FBRnJhbWVidWZmZXJ8fGUuX2ZyYW1lYnVmZmVyO2UuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmdC5kZWxldGVSZW5kZXJidWZmZXIoZS5fZGVwdGhTdGVuY2lsQnVmZmVyKSxlLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLHRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihzKSx0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHQuRlJBTUVCVUZGRVIsdC5ERVBUSF9BVFRBQ0hNRU5ULHQuUkVOREVSQlVGRkVSLGkpLHRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKX1fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoZSx0PTAsaSxzPTApe3ZhciByLG4sYSxvO2lmKCFlLl9oYXJkd2FyZVRleHR1cmUpcmV0dXJuO2NvbnN0IGg9dGhpcy5fZnJhbWVidWZmZXIsbD10aGlzLl9lbmdpbmUuX2N1cnJlbnRGcmFtZWJ1ZmZlcjtpZih0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoaCksdGhpcy5fZW5naW5lLndlYkdMVmVyc2lvbj4xKXtjb25zdCB1PXRoaXMuX2NvbnRleHQsZD11WyJDT0xPUl9BVFRBQ0hNRU5UIit0XTtlLmlzMkRBcnJheXx8ZS5pczNEPyhpPShuPWk/Pygocj10aGlzLmxheWVySW5kaWNlcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW3RdKSkhPT1udWxsJiZuIT09dm9pZCAwP246MCx1LmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKHUuRlJBTUVCVUZGRVIsZCxlLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLHMsaSkpOmUuaXNDdWJlPyhpPShvPWk/PygoYT10aGlzLmZhY2VJbmRpY2VzKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmFbdF0pKSE9PW51bGwmJm8hPT12b2lkIDA/bzowLHUuZnJhbWVidWZmZXJUZXh0dXJlMkQodS5GUkFNRUJVRkZFUixkLHUuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2ksZS5faGFyZHdhcmVUZXh0dXJlLnVuZGVybHlpbmdSZXNvdXJjZSxzKSk6dS5mcmFtZWJ1ZmZlclRleHR1cmUyRCh1LkZSQU1FQlVGRkVSLGQsdS5URVhUVVJFXzJELGUuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2Uscyl9ZWxzZXtjb25zdCB1PXRoaXMuX2NvbnRleHQsZD11WyJDT0xPUl9BVFRBQ0hNRU5UIit0KyJfV0VCR0wiXSxfPWkhPT12b2lkIDA/dS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graTp1LlRFWFRVUkVfMkQ7dS5mcmFtZWJ1ZmZlclRleHR1cmUyRCh1LkZSQU1FQlVGRkVSLGQsXyxlLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLHMpfXRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihsKX1zZXRUZXh0dXJlKGUsdD0wLGk9ITApe3N1cGVyLnNldFRleHR1cmUoZSx0LGkpLHRoaXMuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KGUsdCl9c2V0TGF5ZXJBbmRGYWNlSW5kaWNlcyhlLHQpe3ZhciBpLHM7aWYoc3VwZXIuc2V0TGF5ZXJBbmRGYWNlSW5kaWNlcyhlLHQpLCF0aGlzLnRleHR1cmVzfHwhdGhpcy5sYXllckluZGljZXN8fCF0aGlzLmZhY2VJbmRpY2VzKXJldHVybjtjb25zdCByPShzPShpPXRoaXMuX2F0dGFjaG1lbnRzKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkubGVuZ3RoKSE9PW51bGwmJnMhPT12b2lkIDA/czp0aGlzLnRleHR1cmVzLmxlbmd0aDtmb3IobGV0IG49MDtuPHI7bisrKXtjb25zdCBhPXRoaXMudGV4dHVyZXNbbl07YSYmKGEuaXMyREFycmF5fHxhLmlzM0Q/dGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoYSxuLHRoaXMubGF5ZXJJbmRpY2VzW25dKTphLmlzQ3ViZT90aGlzLl9iaW5kVGV4dHVyZVJlbmRlclRhcmdldChhLG4sdGhpcy5mYWNlSW5kaWNlc1tuXSk6dGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoYSxuKSl9fXNldExheWVyQW5kRmFjZUluZGV4KGU9MCx0LGkpe2lmKHN1cGVyLnNldExheWVyQW5kRmFjZUluZGV4KGUsdCxpKSwhdGhpcy50ZXh0dXJlc3x8IXRoaXMubGF5ZXJJbmRpY2VzfHwhdGhpcy5mYWNlSW5kaWNlcylyZXR1cm47Y29uc3Qgcz10aGlzLnRleHR1cmVzW2VdO3MuaXMyREFycmF5fHxzLmlzM0Q/dGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQodGhpcy50ZXh0dXJlc1tlXSxlLHRoaXMubGF5ZXJJbmRpY2VzW2VdKTpzLmlzQ3ViZSYmdGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQodGhpcy50ZXh0dXJlc1tlXSxlLHRoaXMuZmFjZUluZGljZXNbZV0pfWRpc3Bvc2UoZT0hMSl7Y29uc3QgdD10aGlzLl9jb250ZXh0O2V8fCh0aGlzLl9jb2xvclRleHR1cmVBcnJheSYmKHRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl9jb2xvclRleHR1cmVBcnJheSksdGhpcy5fY29sb3JUZXh0dXJlQXJyYXk9bnVsbCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5JiYodGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGwpKSx0aGlzLl9mcmFtZWJ1ZmZlciYmKHQuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZnJhbWVidWZmZXIpLHRoaXMuX2ZyYW1lYnVmZmVyPW51bGwpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmKHQuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlciksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwpLHRoaXMuX01TQUFGcmFtZWJ1ZmZlciYmKHQuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fTVNBQUZyYW1lYnVmZmVyKSx0aGlzLl9NU0FBRnJhbWVidWZmZXI9bnVsbCksc3VwZXIuZGlzcG9zZShlKX19b2UucHJvdG90eXBlLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9bmV3IGlhKGMsZSx0LHRoaXMsdGhpcy5fZ2wpO3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUucHVzaChpKSxpfSxvZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT1mdW5jdGlvbihjLGUpe3ZhciB0LGk7Y29uc3Qgcz10aGlzLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXIoITEsITEsYyk7bGV0IHI9ITAsbj0hMSxhPSExLG8saD0xO2UhPT12b2lkIDAmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKHI9KHQ9ZS5nZW5lcmF0ZURlcHRoQnVmZmVyKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMCxuPSEhZS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsYT0hIWUubm9Db2xvckF0dGFjaG1lbnQsbz1lLmNvbG9yQXR0YWNobWVudCxoPShpPWUuc2FtcGxlcykhPT1udWxsJiZpIT09dm9pZCAwP2k6MSk7Y29uc3QgbD1vfHwoYT9udWxsOnRoaXMuX2NyZWF0ZUludGVybmFsVGV4dHVyZShjLGUsITAsTGUuUmVuZGVyVGFyZ2V0KSksdT1jLndpZHRofHxjLGQ9Yy5oZWlnaHR8fGMsXz10aGlzLl9jdXJyZW50RnJhbWVidWZmZXIsZj10aGlzLl9nbCxtPWYuY3JlYXRlRnJhbWVidWZmZXIoKTtyZXR1cm4gdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihtKSxzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMobixyLHUsZCksbCYmIWwuaXMyREFycmF5JiZmLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGYuRlJBTUVCVUZGRVIsZi5DT0xPUl9BVFRBQ0hNRU5UMCxmLlRFWFRVUkVfMkQsbC5faGFyZHdhcmVUZXh0dXJlLnVuZGVybHlpbmdSZXNvdXJjZSwwKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKF8pLHMuX2ZyYW1lYnVmZmVyPW0scy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcj1yLHMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1uLHMuc2V0VGV4dHVyZXMobCksdGhpcy51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQocyxoKSxzfSxvZS5wcm90b3R5cGUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihjLGUsdCl7aWYoZS5pc0N1YmUpe2NvbnN0IGk9Yy53aWR0aHx8YztyZXR1cm4gdGhpcy5fY3JlYXRlRGVwdGhTdGVuY2lsQ3ViZVRleHR1cmUoaSxlLHQpfWVsc2UgcmV0dXJuIHRoaXMuX2NyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoYyxlLHQpfSxvZS5wcm90b3R5cGUuX2NyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9dGhpcy5fZ2wscz1jLmxheWVyc3x8MCxyPXMhPT0wP2kuVEVYVFVSRV8yRF9BUlJBWTppLlRFWFRVUkVfMkQsbj1uZXcgTHQodGhpcyxMZS5EZXB0aFN0ZW5jaWwpO2lmKCF0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbilyZXR1cm4gTy5FcnJvcigiRGVwdGggdGV4dHVyZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3NlciBvciBoYXJkd2FyZS4iKSxuO2NvbnN0IGE9e2JpbGluZWFyRmlsdGVyaW5nOiExLGNvbXBhcmlzb25GdW5jdGlvbjowLGdlbmVyYXRlU3RlbmNpbDohMSwuLi5lfTtpZih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbiwhMCksdGhpcy5fc2V0dXBEZXB0aFN0ZW5jaWxUZXh0dXJlKG4sYyxhLmdlbmVyYXRlU3RlbmNpbCxhLmNvbXBhcmlzb25GdW5jdGlvbj09PTA/ITE6YS5iaWxpbmVhckZpbHRlcmluZyxhLmNvbXBhcmlzb25GdW5jdGlvbixhLnNhbXBsZXMpLGEuZGVwdGhUZXh0dXJlRm9ybWF0IT09dm9pZCAwKXtpZihhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE1JiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE2JiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE3JiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTEzJiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE0JiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE4KXJldHVybiBPLkVycm9yKCJEZXB0aCB0ZXh0dXJlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLiIpLG47bi5mb3JtYXQ9YS5kZXB0aFRleHR1cmVGb3JtYXR9ZWxzZSBuLmZvcm1hdD1hLmdlbmVyYXRlU3RlbmNpbD8xMzoxNjtjb25zdCBvPW4uZm9ybWF0PT09MTd8fG4uZm9ybWF0PT09MTN8fG4uZm9ybWF0PT09MTg7dC5fZGVwdGhTdGVuY2lsVGV4dHVyZT1uLHQuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD1vO2xldCBoPWkuVU5TSUdORURfSU5UO24uZm9ybWF0PT09MTU/aD1pLlVOU0lHTkVEX1NIT1JUOm4uZm9ybWF0PT09MTd8fG4uZm9ybWF0PT09MTM/aD1pLlVOU0lHTkVEX0lOVF8yNF84Om4uZm9ybWF0PT09MTQ/aD1pLkZMT0FUOm4uZm9ybWF0PT09MTgmJihoPWkuRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWKTtjb25zdCBsPW8/aS5ERVBUSF9TVEVOQ0lMOmkuREVQVEhfQ09NUE9ORU5UO2xldCB1PWw7dGhpcy53ZWJHTFZlcnNpb24+MSYmKG4uZm9ybWF0PT09MTU/dT1pLkRFUFRIX0NPTVBPTkVOVDE2Om4uZm9ybWF0PT09MTY/dT1pLkRFUFRIX0NPTVBPTkVOVDI0Om4uZm9ybWF0PT09MTd8fG4uZm9ybWF0PT09MTM/dT1pLkRFUFRIMjRfU1RFTkNJTDg6bi5mb3JtYXQ9PT0xND91PWkuREVQVEhfQ09NUE9ORU5UMzJGOm4uZm9ybWF0PT09MTgmJih1PWkuREVQVEgzMkZfU1RFTkNJTDgpKSxuLmlzMkRBcnJheT9pLnRleEltYWdlM0QociwwLHUsbi53aWR0aCxuLmhlaWdodCxzLDAsbCxoLG51bGwpOmkudGV4SW1hZ2UyRChyLDAsdSxuLndpZHRoLG4uaGVpZ2h0LDAsbCxoLG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocixudWxsKSx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChuKTtjb25zdCBkPXQ7aWYoZC5fZGVwdGhTdGVuY2lsQnVmZmVyKXtjb25zdCBfPXRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcjt0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGQuX2ZyYW1lYnVmZmVyKSxpLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGkuRlJBTUVCVUZGRVIsaS5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsaS5SRU5ERVJCVUZGRVIsbnVsbCksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuREVQVEhfQVRUQUNITUVOVCxpLlJFTkRFUkJVRkZFUixudWxsKSxpLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGkuRlJBTUVCVUZGRVIsaS5TVEVOQ0lMX0FUVEFDSE1FTlQsaS5SRU5ERVJCVUZGRVIsbnVsbCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihfKSxpLmRlbGV0ZVJlbmRlcmJ1ZmZlcihkLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLGQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsfXJldHVybiBufSxvZS5wcm90b3R5cGUudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50PWZ1bmN0aW9uKGMsZSl7aWYodGhpcy53ZWJHTFZlcnNpb248Mnx8IWN8fCFjLnRleHR1cmUpcmV0dXJuIDE7aWYoYy5zYW1wbGVzPT09ZSlyZXR1cm4gZTtjb25zdCB0PXRoaXMuX2dsO2U9TWF0aC5taW4oZSx0aGlzLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksYy5fZGVwdGhTdGVuY2lsQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIoYy5fZGVwdGhTdGVuY2lsQnVmZmVyKSxjLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCksYy5fTVNBQUZyYW1lYnVmZmVyJiYodC5kZWxldGVGcmFtZWJ1ZmZlcihjLl9NU0FBRnJhbWVidWZmZXIpLGMuX01TQUFGcmFtZWJ1ZmZlcj1udWxsKTtjb25zdCBpPWMudGV4dHVyZS5faGFyZHdhcmVUZXh0dXJlO2lmKGkucmVsZWFzZU1TQUFSZW5kZXJCdWZmZXJzKCksZT4xJiZ0eXBlb2YgdC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU9PSJmdW5jdGlvbiIpe2NvbnN0IHM9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO2lmKCFzKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBtdWx0aSBzYW1wbGVkIGZyYW1lYnVmZmVyIik7Yy5fTVNBQUZyYW1lYnVmZmVyPXMsdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihjLl9NU0FBRnJhbWVidWZmZXIpO2NvbnN0IHI9dGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGMudGV4dHVyZS53aWR0aCxjLnRleHR1cmUuaGVpZ2h0LGUsLTEsdGhpcy5fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0KGMudGV4dHVyZS50eXBlKSx0LkNPTE9SX0FUVEFDSE1FTlQwLCExKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgbXVsdGkgc2FtcGxlZCBmcmFtZWJ1ZmZlciIpO2kuYWRkTVNBQVJlbmRlckJ1ZmZlcihyKX1lbHNlIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYy5fZnJhbWVidWZmZXIpO3JldHVybiBjLnRleHR1cmUuc2FtcGxlcz1lLGMuX3NhbXBsZXM9ZSxjLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoYy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsYy50ZXh0dXJlLndpZHRoLGMudGV4dHVyZS5oZWlnaHQsZSksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSxlfSxvZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmU9ZnVuY3Rpb24oYyxlKXtjb25zdCB0PXRoaXMuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcighMSwhMCxjKSxpPXtnZW5lcmF0ZU1pcE1hcHM6ITAsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjohMCxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6ITEsdHlwZTowLHNhbXBsaW5nTW9kZTozLGZvcm1hdDo1LC4uLmV9O2kuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPWkuZ2VuZXJhdGVEZXB0aEJ1ZmZlciYmaS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsKGkudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8aS50eXBlPT09MiYmIXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZykmJihpLnNhbXBsaW5nTW9kZT0xKTtjb25zdCBzPXRoaXMuX2dsLHI9bmV3IEx0KHRoaXMsTGUuUmVuZGVyVGFyZ2V0KTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMuVEVYVFVSRV9DVUJFX01BUCxyLCEwKTtjb25zdCBuPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhpLnNhbXBsaW5nTW9kZSxpLmdlbmVyYXRlTWlwTWFwcyk7aS50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiYoaS50eXBlPTAsTy5XYXJuKCJGbG9hdCB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZC4gQ3ViZSByZW5kZXIgdGFyZ2V0IGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTkVTSUdORURfQllURSB0eXBlIikpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX01BR19GSUxURVIsbi5tYWcpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX01JTl9GSUxURVIsbi5taW4pLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX1dSQVBfUyxzLkNMQU1QX1RPX0VER0UpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX1dSQVBfVCxzLkNMQU1QX1RPX0VER0UpO2ZvcihsZXQgbz0wO288NjtvKyspcy50ZXhJbWFnZTJEKHMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK28sMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChpLnR5cGUsaS5mb3JtYXQpLGMsYywwLHRoaXMuX2dldEludGVybmFsRm9ybWF0KGkuZm9ybWF0KSx0aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGkudHlwZSksbnVsbCk7Y29uc3QgYT1zLmNyZWF0ZUZyYW1lYnVmZmVyKCk7cmV0dXJuIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYSksdC5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKGkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGkuZ2VuZXJhdGVEZXB0aEJ1ZmZlcixjLGMpLGkuZ2VuZXJhdGVNaXBNYXBzJiZzLmdlbmVyYXRlTWlwbWFwKHMuVEVYVFVSRV9DVUJFX01BUCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSx0Ll9mcmFtZWJ1ZmZlcj1hLHQuX2dlbmVyYXRlRGVwdGhCdWZmZXI9aS5nZW5lcmF0ZURlcHRoQnVmZmVyLHQuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1pLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLndpZHRoPWMsci5oZWlnaHQ9YyxyLmlzUmVhZHk9ITAsci5pc0N1YmU9ITAsci5zYW1wbGVzPTEsci5nZW5lcmF0ZU1pcE1hcHM9aS5nZW5lcmF0ZU1pcE1hcHMsci5zYW1wbGluZ01vZGU9aS5zYW1wbGluZ01vZGUsci50eXBlPWkudHlwZSxyLmZvcm1hdD1pLmZvcm1hdCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChyKSx0LnNldFRleHR1cmVzKHIpLHR9O2NvbnN0IHNhPSJwb3N0cHJvY2Vzc1ZlcnRleFNoYWRlciIscmE9YGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwp1bmlmb3JtIHZlYzIgc2NhbGU7CnZhcnlpbmcgdmVjMiB2VVY7CmNvbnN0IHZlYzIgbWFkZD12ZWMyKDAuNSwwLjUpOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KdlVWPShwb3NpdGlvbiptYWRkK21hZGQpKnNjYWxlOwpnbF9Qb3NpdGlvbj12ZWM0KHBvc2l0aW9uLDAuMCwxLjApOwojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfWA7TC5TaGFkZXJzU3RvcmVbc2FdPXJhO2NvbnN0IEtzPXtwb3NpdGlvbnM6WzEsMSwtMSwxLC0xLC0xLDEsLTFdLGluZGljZXM6WzAsMSwyLDAsMiwzXX07Y2xhc3MgbmF7Y29uc3RydWN0b3IoZSx0PUtzKXt2YXIgaSxzO3RoaXMuX2Z1bGxzY3JlZW5WaWV3cG9ydD1uZXcgV2koMCwwLDEsMSk7Y29uc3Qgcj0oaT10LnBvc2l0aW9ucykhPT1udWxsJiZpIT09dm9pZCAwP2k6S3MucG9zaXRpb25zLG49KHM9dC5pbmRpY2VzKSE9PW51bGwmJnMhPT12b2lkIDA/czpLcy5pbmRpY2VzO3RoaXMuZW5naW5lPWUsdGhpcy5fdmVydGV4QnVmZmVycz17W2cuUG9zaXRpb25LaW5kXTpuZXcgZyhlLHIsZy5Qb3NpdGlvbktpbmQsITEsITEsMil9LHRoaXMuX2luZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIobiksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1lLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLl9pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pO2Zvcihjb25zdCBhIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdGhpcy5fdmVydGV4QnVmZmVyc1thXS5fcmVidWlsZCgpfSl9c2V0Vmlld3BvcnQoZT10aGlzLl9mdWxsc2NyZWVuVmlld3BvcnQpe3RoaXMuZW5naW5lLnNldFZpZXdwb3J0KGUpfWJpbmRCdWZmZXJzKGUpe3RoaXMuZW5naW5lLmJpbmRCdWZmZXJzKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsdGhpcy5faW5kZXhCdWZmZXIsZSl9YXBwbHlFZmZlY3RXcmFwcGVyKGUpe3RoaXMuZW5naW5lLnNldFN0YXRlKCEwKSx0aGlzLmVuZ2luZS5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9ITEsdGhpcy5lbmdpbmUuc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0PSExLHRoaXMuZW5naW5lLmVuYWJsZUVmZmVjdChlLl9kcmF3V3JhcHBlciksdGhpcy5iaW5kQnVmZmVycyhlLmVmZmVjdCksZS5vbkFwcGx5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe30pfXJlc3RvcmVTdGF0ZXMoKXt0aGlzLmVuZ2luZS5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9ITAsdGhpcy5lbmdpbmUuc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0PSEwfWRyYXcoKXt0aGlzLmVuZ2luZS5kcmF3RWxlbWVudHNUeXBlKDAsMCw2KX1faXNSZW5kZXJUYXJnZXRUZXh0dXJlKGUpe3JldHVybiBlLnJlbmRlclRhcmdldCE9PXZvaWQgMH1yZW5kZXIoZSx0PW51bGwpe2lmKCFlLmVmZmVjdC5pc1JlYWR5KCkpcmV0dXJuO3RoaXMuc2V0Vmlld3BvcnQoKTtjb25zdCBpPXQ9PT1udWxsP251bGw6dGhpcy5faXNSZW5kZXJUYXJnZXRUZXh0dXJlKHQpP3QucmVuZGVyVGFyZ2V0OnQ7aSYmdGhpcy5lbmdpbmUuYmluZEZyYW1lYnVmZmVyKGkpLHRoaXMuYXBwbHlFZmZlY3RXcmFwcGVyKGUpLHRoaXMuZHJhdygpLGkmJnRoaXMuZW5naW5lLnVuQmluZEZyYW1lYnVmZmVyKGkpLHRoaXMucmVzdG9yZVN0YXRlcygpfWRpc3Bvc2UoKXtjb25zdCBlPXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdO2UmJihlLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF0pLHRoaXMuX2luZGV4QnVmZmVyJiZ0aGlzLmVuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciYmKHRoaXMuZW5naW5lLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKX19Y2xhc3MgYWF7Z2V0IGVmZmVjdCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9c2V0IGVmZmVjdChlKXt0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9ZX1jb25zdHJ1Y3RvcihlKXt0aGlzLm9uQXBwbHlPYnNlcnZhYmxlPW5ldyB3O2xldCB0O2NvbnN0IGk9ZS51bmlmb3JtTmFtZXN8fFtdO2UudmVydGV4U2hhZGVyP3Q9e2ZyYWdtZW50U291cmNlOmUuZnJhZ21lbnRTaGFkZXIsdmVydGV4U291cmNlOmUudmVydGV4U2hhZGVyLHNwZWN0b3JOYW1lOmUubmFtZXx8ImVmZmVjdFdyYXBwZXIifTooaS5wdXNoKCJzY2FsZSIpLHQ9e2ZyYWdtZW50U291cmNlOmUuZnJhZ21lbnRTaGFkZXIsdmVydGV4OiJwb3N0cHJvY2VzcyIsc3BlY3Rvck5hbWU6ZS5uYW1lfHwiZWZmZWN0V3JhcHBlciJ9LHRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5lZmZlY3Quc2V0RmxvYXQyKCJzY2FsZSIsMSwxKX0pKTtjb25zdCBzPWUuZGVmaW5lcz9lLmRlZmluZXMuam9pbihgCmApOiIiO3RoaXMuX2RyYXdXcmFwcGVyPW5ldyB2aShlLmVuZ2luZSksZS51c2VTaGFkZXJTdG9yZT8odC5mcmFnbWVudD10LmZyYWdtZW50U291cmNlLHQudmVydGV4fHwodC52ZXJ0ZXg9dC52ZXJ0ZXhTb3VyY2UpLGRlbGV0ZSB0LmZyYWdtZW50U291cmNlLGRlbGV0ZSB0LnZlcnRleFNvdXJjZSx0aGlzLmVmZmVjdD1lLmVuZ2luZS5jcmVhdGVFZmZlY3QodCxlLmF0dHJpYnV0ZU5hbWVzfHxbInBvc2l0aW9uIl0saSxlLnNhbXBsZXJOYW1lcyxzLHZvaWQgMCxlLm9uQ29tcGlsZWQsdm9pZCAwLHZvaWQgMCxlLnNoYWRlckxhbmd1YWdlKSk6KHRoaXMuZWZmZWN0PW5ldyBEZSh0LGUuYXR0cmlidXRlTmFtZXN8fFsicG9zaXRpb24iXSxpLGUuc2FtcGxlck5hbWVzLGUuZW5naW5lLHMsdm9pZCAwLGUub25Db21waWxlZCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxlLnNoYWRlckxhbmd1YWdlKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPWUuZW5naW5lLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmVmZmVjdC5fcGlwZWxpbmVDb250ZXh0PW51bGwsdGhpcy5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSx0aGlzLmVmZmVjdC5fcHJlcGFyZUVmZmVjdCgpfSkpfWRpc3Bvc2UoKXt0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyJiYodGhpcy5lZmZlY3QuZ2V0RW5naW5lKCkub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPW51bGwpLHRoaXMuZWZmZWN0LmRpc3Bvc2UoKX19Y29uc3QgVXI9InBhc3NQaXhlbFNoYWRlciIsa3I9YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgCnsKZ2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcix2VVYpOwp9YDtMLlNoYWRlcnNTdG9yZVtVcl09a3I7Y29uc3QgVnI9e25hbWU6VXIsc2hhZGVyOmtyfTtjbGFzcyBpdHtzdGF0aWMgX0NyZWF0ZUR1bXBSZW5kZXJlcigpe2lmKCFpdC5fRHVtcFRvb2xzRW5naW5lKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLHQ9bmV3IG9lKGUsITEse3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMCxkZXB0aDohMSxzdGVuY2lsOiExLGFscGhhOiEwLHByZW11bHRpcGxpZWRBbHBoYTohMSxhbnRpYWxpYXM6ITEsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMX0pO3QuZ2V0Q2FwcygpLnBhcmFsbGVsU2hhZGVyQ29tcGlsZT12b2lkIDA7Y29uc3QgaT1uZXcgbmEodCkscz1uZXcgYWEoe2VuZ2luZTp0LG5hbWU6VnIubmFtZSxmcmFnbWVudFNoYWRlcjpWci5zaGFkZXIsc2FtcGxlck5hbWVzOlsidGV4dHVyZVNhbXBsZXIiXX0pO2l0Ll9EdW1wVG9vbHNFbmdpbmU9e2NhbnZhczplLGVuZ2luZTp0LHJlbmRlcmVyOmksd3JhcHBlcjpzfX1yZXR1cm4gaXQuX0R1bXBUb29sc0VuZ2luZX1zdGF0aWMgYXN5bmMgRHVtcEZyYW1lYnVmZmVyKGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuKXtjb25zdCBhPWF3YWl0IGkucmVhZFBpeGVscygwLDAsZSx0KSxvPW5ldyBVaW50OEFycmF5KGEuYnVmZmVyKTtpdC5EdW1wRGF0YShlLHQsbyxzLHIsbiwhMCl9c3RhdGljIER1bXBEYXRhQXN5bmMoZSx0LGkscz0iaW1hZ2UvcG5nIixyLG49ITEsYT0hMSxvKXtyZXR1cm4gbmV3IFByb21pc2UoaD0+e2l0LkR1bXBEYXRhKGUsdCxpLGw9PmgobCkscyxyLG4sYSxvKX0pfXN0YXRpYyBEdW1wRGF0YShlLHQsaSxzLHI9ImltYWdlL3BuZyIsbixhPSExLG89ITEsaCl7Y29uc3QgbD1pdC5fQ3JlYXRlRHVtcFJlbmRlcmVyKCk7aWYobC5lbmdpbmUuc2V0U2l6ZShlLHQsITApLGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2NvbnN0IGQ9bmV3IFVpbnQ4QXJyYXkoaS5sZW5ndGgpO2xldCBfPWkubGVuZ3RoO2Zvcig7Xy0tOyl7Y29uc3QgZj1pW19dO2RbX109ZjwwPzA6Zj4xPzE6TWF0aC5yb3VuZChmKjI1NSl9aT1kfWNvbnN0IHU9bC5lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZShpLGUsdCw1LCExLCFhLDEpO2wucmVuZGVyZXIuc2V0Vmlld3BvcnQoKSxsLnJlbmRlcmVyLmFwcGx5RWZmZWN0V3JhcHBlcihsLndyYXBwZXIpLGwud3JhcHBlci5lZmZlY3QuX2JpbmRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsdSksbC5yZW5kZXJlci5kcmF3KCksbz9YLlRvQmxvYihsLmNhbnZhcyxkPT57Y29uc3QgXz1uZXcgRmlsZVJlYWRlcjtfLm9ubG9hZD1mPT57Y29uc3QgbT1mLnRhcmdldC5yZXN1bHQ7cyYmcyhtKX0sXy5yZWFkQXNBcnJheUJ1ZmZlcihkKX0scixoKTpYLkVuY29kZVNjcmVlbnNob3RDYW52YXNEYXRhKGwuY2FudmFzLHMscixuLGgpLHUuZGlzcG9zZSgpfXN0YXRpYyBEaXNwb3NlKCl7aXQuX0R1bXBUb29sc0VuZ2luZSYmKGl0Ll9EdW1wVG9vbHNFbmdpbmUud3JhcHBlci5kaXNwb3NlKCksaXQuX0R1bXBUb29sc0VuZ2luZS5yZW5kZXJlci5kaXNwb3NlKCksaXQuX0R1bXBUb29sc0VuZ2luZS5lbmdpbmUuZGlzcG9zZSgpKSxpdC5fRHVtcFRvb2xzRW5naW5lPW51bGx9fSgoKT0+e1guRHVtcERhdGE9aXQuRHVtcERhdGEsWC5EdW1wRGF0YUFzeW5jPWl0LkR1bXBEYXRhQXN5bmMsWC5EdW1wRnJhbWVidWZmZXI9aXQuRHVtcEZyYW1lYnVmZmVyfSkoKTtjbGFzcyBndCBleHRlbmRzIE57Z2V0IHJlbmRlckxpc3QoKXtyZXR1cm4gdGhpcy5fcmVuZGVyTGlzdH1zZXQgcmVuZGVyTGlzdChlKXt0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0JiYodGhpcy5fdW5PYnNlcnZlUmVuZGVyTGlzdCgpLHRoaXMuX3VuT2JzZXJ2ZVJlbmRlckxpc3Q9bnVsbCksZSYmKHRoaXMuX3VuT2JzZXJ2ZVJlbmRlckxpc3Q9aXIoZSx0aGlzLl9yZW5kZXJMaXN0SGFzQ2hhbmdlZCkpLHRoaXMuX3JlbmRlckxpc3Q9ZX1nZXQgcG9zdFByb2Nlc3Nlcygpe3JldHVybiB0aGlzLl9wb3N0UHJvY2Vzc2VzfWdldCBfcHJlUGFzc0VuYWJsZWQoKXtyZXR1cm4hIXRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQmJnRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQuZW5hYmxlZH1zZXQgb25BZnRlclVuYmluZChlKXt0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXImJnRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlciksdGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPXRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKGUpfXNldCBvbkJlZm9yZVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQWZ0ZXJSZW5kZXIoZSl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25DbGVhcihlKXt0aGlzLl9vbkNsZWFyT2JzZXJ2ZXImJnRoaXMub25DbGVhck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ2xlYXJPYnNlcnZlciksdGhpcy5fb25DbGVhck9ic2VydmVyPXRoaXMub25DbGVhck9ic2VydmFibGUuYWRkKGUpfWdldCByZW5kZXJQYXNzSWRzKCl7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NJZHN9Z2V0IGN1cnJlbnRSZWZyZXNoSWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlZnJlc2hJZH1zZXRNYXRlcmlhbEZvclJlbmRlcmluZyhlLHQpe2xldCBpO0FycmF5LmlzQXJyYXkoZSk/aT1lOmk9W2VdO2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7KytzKWZvcihsZXQgcj0wO3I8dGhpcy5fcmVuZGVyUGFzc0lkcy5sZW5ndGg7KytyKWlbc10uc2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKHRoaXMuX3JlbmRlclBhc3NJZHNbcl0sdCE9PXZvaWQgMD9BcnJheS5pc0FycmF5KHQpP3Rbcl06dDp2b2lkIDApfWdldCBpc011bHRpKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5pc011bHRpKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMX1nZXQgcmVuZGVyVGFyZ2V0T3B0aW9ucygpe3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zfWdldCByZW5kZXJUYXJnZXQoKXtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0fV9vblJhdGlvUmVzY2FsZSgpe3RoaXMuX3NpemVSYXRpbyYmdGhpcy5yZXNpemUodGhpcy5faW5pdGlhbFNpemVQYXJhbWV0ZXIpfXNldCBib3VuZGluZ0JveFNpemUoZSl7aWYodGhpcy5fYm91bmRpbmdCb3hTaXplJiZ0aGlzLl9ib3VuZGluZ0JveFNpemUuZXF1YWxzKGUpKXJldHVybjt0aGlzLl9ib3VuZGluZ0JveFNpemU9ZTtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTt0JiZ0Lm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfWdldCBib3VuZGluZ0JveFNpemUoKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdCb3hTaXplfWdldCBkZXB0aFN0ZW5jaWxUZXh0dXJlKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1jb25zdHJ1Y3RvcihlLHQsaSxzPSExLHI9ITAsbj0wLGE9ITEsbz1OLlRSSUxJTkVBUl9TQU1QTElOR01PREUsaD0hMCxsPSExLHU9ITEsZD01LF89ITEsZixtLHY9ITEsRT0hMSl7dmFyIFMsUixBLEMsYix4O2xldCBJO2lmKHR5cGVvZiBzPT0ib2JqZWN0Iil7Y29uc3Qgaz1zO3M9ISFrLmdlbmVyYXRlTWlwTWFwcyxyPShTPWsuZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbykhPT1udWxsJiZTIT09dm9pZCAwP1M6ITAsbj0oUj1rLnR5cGUpIT09bnVsbCYmUiE9PXZvaWQgMD9SOjAsYT0hIWsuaXNDdWJlLG89KEE9ay5zYW1wbGluZ01vZGUpIT09bnVsbCYmQSE9PXZvaWQgMD9BOk4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxoPShDPWsuZ2VuZXJhdGVEZXB0aEJ1ZmZlcikhPT1udWxsJiZDIT09dm9pZCAwP0M6ITAsbD0hIWsuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHU9ISFrLmlzTXVsdGksZD0oYj1rLmZvcm1hdCkhPT1udWxsJiZiIT09dm9pZCAwP2I6NSxfPSEhay5kZWxheUFsbG9jYXRpb24sZj1rLnNhbXBsZXMsbT1rLmNyZWF0aW9uRmxhZ3Msdj0hIWsubm9Db2xvckF0dGFjaG1lbnQsRT0hIWsudXNlU1JHQkJ1ZmZlcixJPWsuY29sb3JBdHRhY2htZW50fWlmKHN1cGVyKG51bGwsaSwhcyx2b2lkIDAsbyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZCksdGhpcy5fdW5PYnNlcnZlUmVuZGVyTGlzdD1udWxsLHRoaXMuX3JlbmRlckxpc3RIYXNDaGFuZ2VkPShrLG1lKT0+e3ZhciBxO2NvbnN0IGRlPXRoaXMuX3JlbmRlckxpc3Q/dGhpcy5fcmVuZGVyTGlzdC5sZW5ndGg6MDsobWU9PT0wJiZkZT4wfHxkZT09PTApJiYoKHE9dGhpcy5nZXRTY2VuZSgpKT09PW51bGx8fHE9PT12b2lkIDB8fHEubWVzaGVzLmZvckVhY2goaWU9PntpZS5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfSkpfSx0aGlzLnJlbmRlclBhcnRpY2xlcz0hMCx0aGlzLnJlbmRlclNwcml0ZXM9ITEsdGhpcy5mb3JjZUxheWVyTWFza0NoZWNrPSExLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITEsdGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25SZXNpemVPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2NsZWFyZWQ9ITEsdGhpcy5za2lwSW5pdGlhbENsZWFyPSExLHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9LTEsdGhpcy5fcmVmcmVzaFJhdGU9MSx0aGlzLl9zYW1wbGVzPTEsdGhpcy5fY2FuUmVzY2FsZT0hMCx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLmJvdW5kaW5nQm94UG9zaXRpb249cC5aZXJvKCksaT10aGlzLmdldFNjZW5lKCksIWkpcmV0dXJuO2NvbnN0IFU9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3RoaXMuX2Nvb3JkaW5hdGVzTW9kZT1OLlBST0pFQ1RJT05fTU9ERSx0aGlzLnJlbmRlckxpc3Q9bmV3IEFycmF5LHRoaXMubmFtZT1lLHRoaXMuaXNSZW5kZXJUYXJnZXQ9ITAsdGhpcy5faW5pdGlhbFNpemVQYXJhbWV0ZXI9dCx0aGlzLl9yZW5kZXJQYXNzSWRzPVtdLHRoaXMuX2lzQ3ViZURhdGE9YSx0aGlzLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcih0KSx0aGlzLnJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzWzBdLHRoaXMuX3Jlc2l6ZU9ic2VydmVyPVUub25SZXNpemVPYnNlcnZhYmxlLmFkZCgoKT0+e30pLHRoaXMuX2dlbmVyYXRlTWlwTWFwcz0hIXMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbz1yLHRoaXMuX3JlbmRlcmluZ01hbmFnZXI9bmV3IFdlKGkpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITAsIXUmJih0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zPXtnZW5lcmF0ZU1pcE1hcHM6cyx0eXBlOm4sZm9ybWF0Oih4PXRoaXMuX2Zvcm1hdCkhPT1udWxsJiZ4IT09dm9pZCAwP3g6dm9pZCAwLHNhbXBsaW5nTW9kZTp0aGlzLnNhbXBsaW5nTW9kZSxnZW5lcmF0ZURlcHRoQnVmZmVyOmgsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOmwsc2FtcGxlczpmLGNyZWF0aW9uRmxhZ3M6bSxub0NvbG9yQXR0YWNobWVudDp2LHVzZVNSR0JCdWZmZXI6RSxjb2xvckF0dGFjaG1lbnQ6SSxsYWJlbDp0aGlzLm5hbWV9LHRoaXMuc2FtcGxpbmdNb2RlPT09Ti5ORUFSRVNUX1NBTVBMSU5HTU9ERSYmKHRoaXMud3JhcFU9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLndyYXBWPU4uQ0xBTVBfQUREUkVTU01PREUpLF98fChhPyh0aGlzLl9yZW5kZXJUYXJnZXQ9aS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZSh0aGlzLmdldFJlbmRlclNpemUoKSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLmNvb3JkaW5hdGVzTW9kZT1OLklOVkNVQklDX01PREUsdGhpcy5fdGV4dHVyZU1hdHJpeD1NLklkZW50aXR5KCkpOnRoaXMuX3JlbmRlclRhcmdldD1pLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodGhpcy5fc2l6ZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLl90ZXh0dXJlPXRoaXMuX3JlbmRlclRhcmdldC50ZXh0dXJlLGYhPT12b2lkIDAmJih0aGlzLnNhbXBsZXM9ZikpKX1jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGU9MCx0PSEwLGk9ITEscz0xLHI9MTQpe3ZhciBuOyhuPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZSx0LGkscyxyKX1fcmVsZWFzZVJlbmRlclBhc3NJZCgpe2lmKHRoaXMuX3NjZW5lKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmVuZGVyUGFzc0lkcy5sZW5ndGg7Kyt0KWUucmVsZWFzZVJlbmRlclBhc3NJZCh0aGlzLl9yZW5kZXJQYXNzSWRzW3RdKX10aGlzLl9yZW5kZXJQYXNzSWRzPVtdfV9jcmVhdGVSZW5kZXJQYXNzSWQoKXt0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCk7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0PXRoaXMuX2lzQ3ViZURhdGE/Njp0aGlzLmdldFJlbmRlckxheWVycygpfHwxO2ZvcihsZXQgaT0wO2k8dDsrK2kpdGhpcy5fcmVuZGVyUGFzc0lkc1tpXT1lLmNyZWF0ZVJlbmRlclBhc3NJZChgUmVuZGVyVGFyZ2V0VGV4dHVyZSAtICR7dGhpcy5uYW1lfSMke2l9YCl9X3Byb2Nlc3NTaXplUGFyYW1ldGVyKGUpe2lmKGUucmF0aW8pe3RoaXMuX3NpemVSYXRpbz1lLnJhdGlvO2NvbnN0IHQ9dGhpcy5fZ2V0RW5naW5lKCk7dGhpcy5fc2l6ZT17d2lkdGg6dGhpcy5fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24odC5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX3NpemVSYXRpbyksaGVpZ2h0OnRoaXMuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKHQuZ2V0UmVuZGVySGVpZ2h0KCksdGhpcy5fc2l6ZVJhdGlvKX19ZWxzZSB0aGlzLl9zaXplPWU7dGhpcy5fY3JlYXRlUmVuZGVyUGFzc0lkKCl9Z2V0IHNhbXBsZXMoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnNhbXBsZXMpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX3NhbXBsZXN9c2V0IHNhbXBsZXMoZSl7dGhpcy5fcmVuZGVyVGFyZ2V0JiYodGhpcy5fc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXQuc2V0U2FtcGxlcyhlKSl9cmVzZXRSZWZyZXNoQ291bnRlcigpe3RoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9LTF9Z2V0IHJlZnJlc2hSYXRlKCl7cmV0dXJuIHRoaXMuX3JlZnJlc2hSYXRlfXNldCByZWZyZXNoUmF0ZShlKXt0aGlzLl9yZWZyZXNoUmF0ZT1lLHRoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpfWFkZFBvc3RQcm9jZXNzKGUpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIpe2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpO2lmKCF0KXJldHVybjt0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IGlzKHQpLHRoaXMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5fXRoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaChlKSx0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMX1jbGVhclBvc3RQcm9jZXNzZXMoZT0hMSl7aWYodGhpcy5fcG9zdFByb2Nlc3Nlcyl7aWYoZSlmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3N0UHJvY2Vzc2VzKXQuZGlzcG9zZSgpO3RoaXMuX3Bvc3RQcm9jZXNzZXM9W119fXJlbW92ZVBvc3RQcm9jZXNzKGUpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc2VzKXJldHVybjtjb25zdCB0PXRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKTt0IT09LTEmJih0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjAmJih0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMSkpfV9zaG91bGRSZW5kZXIoKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlZnJlc2hJZD09PS0xPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOnRoaXMucmVmcmVzaFJhdGU9PT10aGlzLl9jdXJyZW50UmVmcmVzaElkPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOih0aGlzLl9jdXJyZW50UmVmcmVzaElkKyssITEpfWdldFJlbmRlclNpemUoKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCgpfWdldFJlbmRlcldpZHRoKCl7cmV0dXJuIHRoaXMuX3NpemUud2lkdGg/dGhpcy5fc2l6ZS53aWR0aDp0aGlzLl9zaXplfWdldFJlbmRlckhlaWdodCgpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUuaGVpZ2h0OnRoaXMuX3NpemV9Z2V0UmVuZGVyTGF5ZXJzKCl7Y29uc3QgZT10aGlzLl9zaXplLmxheWVycztyZXR1cm4gZXx8MH1kaXNhYmxlUmVzY2FsaW5nKCl7dGhpcy5fY2FuUmVzY2FsZT0hMX1nZXQgY2FuUmVzY2FsZSgpe3JldHVybiB0aGlzLl9jYW5SZXNjYWxlfXNjYWxlKGUpe2NvbnN0IHQ9TWF0aC5tYXgoMSx0aGlzLmdldFJlbmRlclNpemUoKSplKTt0aGlzLnJlc2l6ZSh0KX1nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpe3JldHVybiB0aGlzLmlzQ3ViZT90aGlzLl90ZXh0dXJlTWF0cml4OnN1cGVyLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCl9cmVzaXplKGUpe3ZhciB0O2NvbnN0IGk9dGhpcy5pc0N1YmU7KHQ9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpLHRoaXMuX3JlbmRlclRhcmdldD1udWxsO2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO3MmJih0aGlzLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcihlKSxpP3RoaXMuX3JlbmRlclRhcmdldD1zLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpOnRoaXMuX3JlbmRlclRhcmdldD1zLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodGhpcy5fc2l6ZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLl90ZXh0dXJlPXRoaXMuX3JlbmRlclRhcmdldC50ZXh0dXJlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyE9PXZvaWQgMCYmKHRoaXMuc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpfXJlbmRlcihlPSExLHQ9ITEpe3RoaXMuX3JlbmRlcihlLHQpfWlzUmVhZHlGb3JSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5fcmVuZGVyKCExLCExLCEwKX1fcmVuZGVyKGU9ITEsdD0hMSxpPSExKXt2YXIgcztjb25zdCByPXRoaXMuZ2V0U2NlbmUoKTtpZighcilyZXR1cm4gaTtjb25zdCBuPXIuZ2V0RW5naW5lKCk7aWYodGhpcy51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzIT09dm9pZCAwJiYoZT10aGlzLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXMpLHRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0KXt0aGlzLnJlbmRlckxpc3Q9W107Zm9yKGxldCB1PTA7dTx0aGlzLl93YWl0aW5nUmVuZGVyTGlzdC5sZW5ndGg7dSsrKXtjb25zdCBkPXRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0W3VdLF89ci5nZXRNZXNoQnlJZChkKTtfJiZ0aGlzLnJlbmRlckxpc3QucHVzaChfKX10aGlzLl93YWl0aW5nUmVuZGVyTGlzdD12b2lkIDB9aWYodGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKXt0aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aD0wOnRoaXMucmVuZGVyTGlzdD1bXTtjb25zdCB1PXRoaXMuZ2V0U2NlbmUoKTtpZighdSlyZXR1cm4gaTtjb25zdCBkPXUubWVzaGVzO2ZvcihsZXQgXz0wO188ZC5sZW5ndGg7XysrKXtjb25zdCBmPWRbX107dGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKGYpJiZ0aGlzLnJlbmRlckxpc3QucHVzaChmKX19Y29uc3QgYT1uLmN1cnJlbnRSZW5kZXJQYXNzSWQ7dGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBvPShzPXRoaXMuYWN0aXZlQ2FtZXJhKSE9PW51bGwmJnMhPT12b2lkIDA/czpyLmFjdGl2ZUNhbWVyYSxoPXIuYWN0aXZlQ2FtZXJhO28mJihvIT09ci5hY3RpdmVDYW1lcmEmJihyLnNldFRyYW5zZm9ybU1hdHJpeChvLmdldFZpZXdNYXRyaXgoKSxvLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxyLmFjdGl2ZUNhbWVyYT1vKSxuLnNldFZpZXdwb3J0KG8udmlld3BvcnQsdGhpcy5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCkpKSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSExO2xldCBsPWk7aWYoaSl7ci5nZXRWaWV3TWF0cml4KCl8fHIudXBkYXRlVHJhbnNmb3JtTWF0cml4KCk7Y29uc3QgdT10aGlzLmlzMkRBcnJheT90aGlzLmdldFJlbmRlckxheWVycygpOnRoaXMuaXNDdWJlPzY6MTtmb3IobGV0IGQ9MDtkPHUmJmw7ZCsrKXtsZXQgXz1udWxsO2NvbnN0IGY9dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdDpyLmdldEFjdGl2ZU1lc2hlcygpLmRhdGEsbT10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDpyLmdldEFjdGl2ZU1lc2hlcygpLmxlbmd0aDtuLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tkXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZCksdGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0JiYoXz10aGlzLmdldEN1c3RvbVJlbmRlckxpc3QoZCxmLG0pKSxffHwoXz1mKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxyLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCk7Zm9yKGxldCB2PTA7djxfLmxlbmd0aCYmbDsrK3Ype2NvbnN0IEU9X1t2XTtpZighKCFFLmlzRW5hYmxlZCgpfHxFLmlzQmxvY2tlZHx8IUUuaXNWaXNpYmxlfHwhRS5zdWJNZXNoZXMpKXtpZih0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbil7aWYoIXRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKEUsdGhpcy5yZWZyZXNoUmF0ZSxpKSl7bD0hMTtjb250aW51ZX19ZWxzZSBpZighRS5pc1JlYWR5KCEwKSl7bD0hMTtjb250aW51ZX19fXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpLCh0aGlzLmlzMkRBcnJheXx8dGhpcy5pc0N1YmUpJiYoci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpKX19ZWxzZSBpZih0aGlzLmlzMkRBcnJheSYmIXRoaXMuaXNNdWx0aSlmb3IobGV0IHU9MDt1PHRoaXMuZ2V0UmVuZGVyTGF5ZXJzKCk7dSsrKXRoaXMuX3JlbmRlclRvVGFyZ2V0KDAsZSx0LHUsbyksci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgaWYodGhpcy5pc0N1YmUmJiF0aGlzLmlzTXVsdGkpZm9yKGxldCB1PTA7dTw2O3UrKyl0aGlzLl9yZW5kZXJUb1RhcmdldCh1LGUsdCx2b2lkIDAsbyksci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgdGhpcy5fcmVuZGVyVG9UYXJnZXQoMCxlLHQsdm9pZCAwLG8pO3JldHVybiB0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxuLmN1cnJlbnRSZW5kZXJQYXNzSWQ9YSxoJiYoci5hY3RpdmVDYW1lcmE9aCwoci5nZXRFbmdpbmUoKS5zY2VuZXMubGVuZ3RoPjF8fHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYSE9PXIuYWN0aXZlQ2FtZXJhKSYmci5zZXRUcmFuc2Zvcm1NYXRyaXgoci5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHIuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxuLnNldFZpZXdwb3J0KHIuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSksci5yZXNldENhY2hlZE1hdGVyaWFsKCksbH1fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24oZSx0KXtjb25zdCBzPWUqdCxyPVAuTmVhcmVzdFBPVChzKzEyOCoxMjgvKDEyOCtzKSk7cmV0dXJuIE1hdGgubWluKFAuRmxvb3JQT1QoZSkscil9X3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpO2lmKCFyKXJldHVybjt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCk7Y29uc3Qgbj1yLmdldFJlbmRlcklkKCk7Zm9yKGxldCBhPTA7YTx0O2ErKyl7Y29uc3Qgbz1lW2FdO2lmKG8mJiFvLmlzQmxvY2tlZCl7aWYodGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24pe2lmKCF0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbihvLHRoaXMucmVmcmVzaFJhdGUsITEpKXt0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKTtjb250aW51ZX19ZWxzZSBpZighby5pc1JlYWR5KHRoaXMucmVmcmVzaFJhdGU9PT0wKSl7dGhpcy5yZXNldFJlZnJlc2hDb3VudGVyKCk7Y29udGludWV9aWYoIW8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlJiZyLmFjdGl2ZUNhbWVyYSYmKG8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9ci5jdXN0b21MT0RTZWxlY3Rvcj9yLmN1c3RvbUxPRFNlbGVjdG9yKG8sdGhpcy5hY3RpdmVDYW1lcmF8fHIuYWN0aXZlQ2FtZXJhKTpvLmdldExPRCh0aGlzLmFjdGl2ZUNhbWVyYXx8ci5hY3RpdmVDYW1lcmEpLG8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSEwKSwhby5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRCljb250aW51ZTtsZXQgaD1vLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EO2guX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKG4pO2xldCBsO2lmKHMmJmk/bD0oby5sYXllck1hc2smaS5sYXllck1hc2spPT09MDpsPSExLG8uaXNFbmFibGVkKCkmJm8uaXNWaXNpYmxlJiZvLnN1Yk1lc2hlcyYmIWwmJihoIT09byYmaC5fYWN0aXZhdGUobiwhMCksby5fYWN0aXZhdGUobiwhMCkmJm8uc3ViTWVzaGVzLmxlbmd0aCkpe28uaXNBbkluc3RhbmNlP28uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihoPW8pOmguX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU9ITEsaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITA7Zm9yKGxldCB1PTA7dTxoLnN1Yk1lc2hlcy5sZW5ndGg7dSsrKXtjb25zdCBkPWguc3ViTWVzaGVzW3VdO3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2goZCxoKX19fX1mb3IobGV0IGE9MDthPHIucGFydGljbGVTeXN0ZW1zLmxlbmd0aDthKyspe2NvbnN0IG89ci5wYXJ0aWNsZVN5c3RlbXNbYV0saD1vLmVtaXR0ZXI7IW8uaXNTdGFydGVkKCl8fCFofHxoLnBvc2l0aW9uJiYhaC5pc0VuYWJsZWQoKXx8dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhvKX19X2JpbmRGcmFtZUJ1ZmZlcihlPTAsdD0wKXtjb25zdCBpPXRoaXMuZ2V0U2NlbmUoKTtpZighaSlyZXR1cm47Y29uc3Qgcz1pLmdldEVuZ2luZSgpO3RoaXMuX3JlbmRlclRhcmdldCYmcy5iaW5kRnJhbWVidWZmZXIodGhpcy5fcmVuZGVyVGFyZ2V0LHRoaXMuaXNDdWJlP2U6dm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5pZ25vcmVDYW1lcmFWaWV3cG9ydCwwLHQpfV91bmJpbmRGcmFtZUJ1ZmZlcihlLHQpe3RoaXMuX3JlbmRlclRhcmdldCYmZS51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZW5kZXJUYXJnZXQsdGhpcy5pc0N1YmUsKCk9Pnt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KX0pfV9wcmVwYXJlRnJhbWUoZSx0LGkscyl7dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyP3RoaXMuX3ByZVBhc3NFbmFibGVkfHx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSh0aGlzLl90ZXh0dXJlLHRoaXMuX3Bvc3RQcm9jZXNzZXMpOighc3x8IWUucG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSkpJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodCxpKX1fcmVuZGVyVG9UYXJnZXQoZSx0LGkscz0wLHI9bnVsbCl7dmFyIG4sYSxvLGgsbCx1O2NvbnN0IGQ9dGhpcy5nZXRTY2VuZSgpO2lmKCFkKXJldHVybjtjb25zdCBfPWQuZ2V0RW5naW5lKCk7aWYoKG49Xy5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKF8sYHJlbmRlciB0byBmYWNlICMke2V9IGxheWVyICMke3N9YCwxKSx0aGlzLl9wcmVwYXJlRnJhbWUoZCxlLHMsdCksdGhpcy5pczJEQXJyYXk/KF8uY3VycmVudFJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzW3NdLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzKSk6KF8uY3VycmVudFJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzW2VdLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSksXy5zbmFwc2hvdFJlbmRlcmluZyYmXy5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xKXRoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoXyk6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxfLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8ZC5jbGVhckNvbG9yLCEwLCEwLCEwKTtlbHNle2xldCBtPW51bGw7Y29uc3Qgdj10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0OmQuZ2V0QWN0aXZlTWVzaGVzKCkuZGF0YSxFPXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3QubGVuZ3RoOmQuZ2V0QWN0aXZlTWVzaGVzKCkubGVuZ3RoO3RoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKG09dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KHRoaXMuaXMyREFycmF5P3M6ZSx2LEUpKSxtP3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKG0sbS5sZW5ndGgscix0aGlzLmZvcmNlTGF5ZXJNYXNrQ2hlY2spOih0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkfHwodGhpcy5fcHJlcGFyZVJlbmRlcmluZ01hbmFnZXIodixFLHIsIXRoaXMucmVuZGVyTGlzdHx8dGhpcy5mb3JjZUxheWVyTWFza0NoZWNrKSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSEwKSxtPXYpO2Zvcihjb25zdCBSIG9mIGQuX2JlZm9yZVJlbmRlclRhcmdldENsZWFyU3RhZ2UpUi5hY3Rpb24odGhpcyxlLHMpO3RoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoXyk6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxfLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8ZC5jbGVhckNvbG9yLCEwLCEwLCEwKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxkLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCk7Zm9yKGNvbnN0IFIgb2YgZC5fYmVmb3JlUmVuZGVyVGFyZ2V0RHJhd1N0YWdlKVIuYWN0aW9uKHRoaXMsZSxzKTt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcih0aGlzLmN1c3RvbVJlbmRlckZ1bmN0aW9uLG0sdGhpcy5yZW5kZXJQYXJ0aWNsZXMsdGhpcy5yZW5kZXJTcHJpdGVzKTtmb3IoY29uc3QgUiBvZiBkLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZSlSLmFjdGlvbih0aGlzLGUscyk7Y29uc3QgUz0obz0oYT10aGlzLl90ZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZ2VuZXJhdGVNaXBNYXBzKSE9PW51bGwmJm8hPT12b2lkIDA/bzohMTt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcE1hcHM9ITEpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX2ZpbmFsaXplRnJhbWUoITEsKGg9dGhpcy5fcmVuZGVyVGFyZ2V0KSE9PW51bGwmJmghPT12b2lkIDA/aDp2b2lkIDAsZSx0aGlzLl9wb3N0UHJvY2Vzc2VzLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQpOnQmJmQucG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChsPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZsIT09dm9pZCAwP2w6dm9pZCAwLGUpO2Zvcihjb25zdCBSIG9mIGQuX2FmdGVyUmVuZGVyVGFyZ2V0UG9zdFByb2Nlc3NTdGFnZSlSLmFjdGlvbih0aGlzLGUscyk7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPVMpLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW98fGQudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSxpJiZpdC5EdW1wRnJhbWVidWZmZXIodGhpcy5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCksXyl9dGhpcy5fdW5iaW5kRnJhbWVCdWZmZXIoXyxlKSx0aGlzLl90ZXh0dXJlJiZ0aGlzLmlzQ3ViZSYmZT09PTUmJl8uZ2VuZXJhdGVNaXBNYXBzRm9yQ3ViZW1hcCh0aGlzLl90ZXh0dXJlKSwodT1fLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHU9PT12b2lkIDB8fHUuY2FsbChfLDEpfXNldFJlbmRlcmluZ09yZGVyKGUsdD1udWxsLGk9bnVsbCxzPW51bGwpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nT3JkZXIoZSx0LGkscyl9c2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0KSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLl91c2VTY2VuZUF1dG9DbGVhclNldHVwPSExfWNsb25lKCl7Y29uc3QgZT10aGlzLmdldFNpemUoKSx0PW5ldyBndCh0aGlzLm5hbWUsZSx0aGlzLmdldFNjZW5lKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbyx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnR5cGUsdGhpcy5pc0N1YmUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGluZ01vZGUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZURlcHRoQnVmZmVyLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHZvaWQgMCx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmZvcm1hdCx2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKTtyZXR1cm4gdC5oYXNBbHBoYT10aGlzLmhhc0FscGhhLHQubGV2ZWw9dGhpcy5sZXZlbCx0LmNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLnJlbmRlckxpc3QmJih0LnJlbmRlckxpc3Q9dGhpcy5yZW5kZXJMaXN0LnNsaWNlKDApKSx0fXNlcmlhbGl6ZSgpe2lmKCF0aGlzLm5hbWUpcmV0dXJuIG51bGw7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKTtpZihlLnJlbmRlclRhcmdldFNpemU9dGhpcy5nZXRSZW5kZXJTaXplKCksZS5yZW5kZXJMaXN0PVtdLHRoaXMucmVuZGVyTGlzdClmb3IobGV0IHQ9MDt0PHRoaXMucmVuZGVyTGlzdC5sZW5ndGg7dCsrKWUucmVuZGVyTGlzdC5wdXNoKHRoaXMucmVuZGVyTGlzdFt0XS5pZCk7cmV0dXJuIGV9ZGlzcG9zZUZyYW1lYnVmZmVyT2JqZWN0cygpe3ZhciBlOyhlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoITApfXJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKXt2YXIgZTsoZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5yZWxlYXNlVGV4dHVyZXMoKSx0aGlzLl90ZXh0dXJlPW51bGx9ZGlzcG9zZSgpe3ZhciBlO3RoaXMub25SZXNpemVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJih0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj1udWxsKSx0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmRpc3Bvc2UoKSx0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCksdGhpcy5jbGVhclBvc3RQcm9jZXNzZXMoITApLHRoaXMuX3Jlc2l6ZU9ic2VydmVyJiYodGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLm9uUmVzaXplT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcmVzaXplT2JzZXJ2ZXIpLHRoaXMuX3Jlc2l6ZU9ic2VydmVyPW51bGwpLHRoaXMucmVuZGVyTGlzdD1udWxsO2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpO2lmKCF0KXJldHVybjtsZXQgaT10LmN1c3RvbVJlbmRlclRhcmdldHMuaW5kZXhPZih0aGlzKTtpPj0wJiZ0LmN1c3RvbVJlbmRlclRhcmdldHMuc3BsaWNlKGksMSk7Zm9yKGNvbnN0IHMgb2YgdC5jYW1lcmFzKWk9cy5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyksaT49MCYmcy5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShpLDEpOyhlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl90ZXh0dXJlPW51bGwsc3VwZXIuZGlzcG9zZSgpfV9yZWJ1aWxkKCl7dGhpcy5yZWZyZXNoUmF0ZT09PWd0LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkNFJiYodGhpcy5yZWZyZXNoUmF0ZT1ndC5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiZ0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX1mcmVlUmVuZGVyaW5nR3JvdXBzKCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlciYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5mcmVlUmVuZGVyaW5nR3JvdXBzKCl9Z2V0Vmlld0NvdW50KCl7cmV0dXJuIDF9fWd0LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkNFPTAsZ3QuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllGUkFNRT0xLGd0LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkVWRVJZVFdPRlJBTUVTPTIsTi5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT0oYyxlLHQsaSxzKT0+bmV3IGd0KGMsZSx0LGkpO2NsYXNzIHhle3N0YXRpYyBSZWdpc3RlclNoYWRlckNvZGVQcm9jZXNzaW5nKGUsdCl7aWYoIXQpe2RlbGV0ZSB4ZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZT8/IiJdO3JldHVybn14ZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZT8/IiJdPXR9c3RhdGljIF9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyhlKXt2YXIgdDtyZXR1cm4odD14ZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZV0pIT09bnVsbCYmdCE9PXZvaWQgMD90OnhlLl9DdXN0b21TaGFkZXJDb2RlUHJvY2Vzc2luZ1siIl19Z2V0IHNhbXBsZXMoKXtyZXR1cm4gdGhpcy5fc2FtcGxlc31zZXQgc2FtcGxlcyhlKXt0aGlzLl9zYW1wbGVzPU1hdGgubWluKGUsdGhpcy5fZW5naW5lLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaCh0PT57dC5zZXRTYW1wbGVzKHRoaXMuX3NhbXBsZXMpfSl9Z2V0RWZmZWN0TmFtZSgpe3JldHVybiB0aGlzLl9mcmFnbWVudFVybH1zZXQgb25BY3RpdmF0ZShlKXt0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXImJnRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlciksZSYmKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlcj10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmFkZChlKSl9c2V0IG9uU2l6ZUNoYW5nZWQoZSl7dGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyJiZ0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXIpLHRoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlcj10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25BcHBseShlKXt0aGlzLl9vbkFwcGx5T2JzZXJ2ZXImJnRoaXMub25BcHBseU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQXBwbHlPYnNlcnZlciksdGhpcy5fb25BcHBseU9ic2VydmVyPXRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKGUpfXNldCBvbkJlZm9yZVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQWZ0ZXJSZW5kZXIoZSl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgaW5wdXRUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzLmRhdGFbdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdfXNldCBpbnB1dFRleHR1cmUoZSl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT1lfXJlc3RvcmVEZWZhdWx0SW5wdXRUZXh0dXJlKCl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmKHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU9bnVsbCx0aGlzLm1hcmtUZXh0dXJlRGlydHkoKSl9Z2V0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX2NhbWVyYX1nZXQgdGV4ZWxTaXplKCl7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3RoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLnRleGVsU2l6ZToodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmdGhpcy5fdGV4ZWxTaXplLmNvcHlGcm9tRmxvYXRzKDEvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aCwxL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0KSx0aGlzLl90ZXhlbFNpemUpfWNvbnN0cnVjdG9yKGUsdCxpLHMscixuLGE9MSxvLGgsbD1udWxsLHU9MCxkPSJwb3N0cHJvY2VzcyIsXyxmPSExLG09NSx2PVplLkdMU0wpe3RoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMud2lkdGg9LTEsdGhpcy5oZWlnaHQ9LTEsdGhpcy5ub2RlTWF0ZXJpYWxTb3VyY2U9bnVsbCx0aGlzLl9vdXRwdXRUZXh0dXJlPW51bGwsdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5mb3JjZUF1dG9DbGVhckluQWxwaGFNb2RlPSExLHRoaXMuYWxwaGFNb2RlPTAsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGU9ITEsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD0hMCx0aGlzLnNjYWxlTW9kZT0xLHRoaXMuYWx3YXlzRm9yY2VQT1Q9ITEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0PSExLHRoaXMuX3JldXNhYmxlPSExLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMSx0aGlzLl90ZXh0dXJlcz1uZXcgSmUoMiksdGhpcy5fdGV4dHVyZUNhY2hlPVtdLHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kPTAsdGhpcy5fc2NhbGVSYXRpbz1uZXcgdmUoMSwxKSx0aGlzLl90ZXhlbFNpemU9dmUuWmVybygpLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGU9bmV3IHcsdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5uYW1lPWUsbiE9bnVsbD8odGhpcy5fY2FtZXJhPW4sdGhpcy5fc2NlbmU9bi5nZXRTY2VuZSgpLG4uYXR0YWNoUG9zdFByb2Nlc3ModGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMucHVzaCh0aGlzKSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCkpOm8mJih0aGlzLl9lbmdpbmU9byx0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpKSx0aGlzLl9vcHRpb25zPXIsdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGU9YXx8MSx0aGlzLl9yZXVzYWJsZT1ofHwhMSx0aGlzLl90ZXh0dXJlVHlwZT11LHRoaXMuX3RleHR1cmVGb3JtYXQ9bSx0aGlzLl9zaGFkZXJMYW5ndWFnZT12LHRoaXMuX3NhbXBsZXJzPXN8fFtdLHRoaXMuX3NhbXBsZXJzLnB1c2goInRleHR1cmVTYW1wbGVyIiksdGhpcy5fZnJhZ21lbnRVcmw9dCx0aGlzLl92ZXJ0ZXhVcmw9ZCx0aGlzLl9wYXJhbWV0ZXJzPWl8fFtdLHRoaXMuX3BhcmFtZXRlcnMucHVzaCgic2NhbGUiKSx0aGlzLl9pbmRleFBhcmFtZXRlcnM9Xyx0aGlzLl9kcmF3V3JhcHBlcj1uZXcgdmkodGhpcy5fZW5naW5lKSxmfHx0aGlzLnVwZGF0ZUVmZmVjdChsKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iUG9zdFByb2Nlc3MifWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0RWZmZWN0KCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH1zaGFyZU91dHB1dFdpdGgoZSl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpLHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzPWUsdGhpc311c2VPd25PdXRwdXQoKXt0aGlzLl90ZXh0dXJlcy5sZW5ndGg9PTAmJih0aGlzLl90ZXh0dXJlcz1uZXcgSmUoMikpLHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzPW51bGx9dXBkYXRlRWZmZWN0KGU9bnVsbCx0PW51bGwsaT1udWxsLHMscixuLGEsbyl7dmFyIGgsbDtjb25zdCB1PXhlLl9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyh0aGlzLm5hbWUpO2lmKHUhPW51bGwmJnUuZGVmaW5lQ3VzdG9tQmluZGluZ3Mpe2NvbnN0IGQ9KGg9dD09bnVsbD92b2lkIDA6dC5zbGljZSgpKSE9PW51bGwmJmghPT12b2lkIDA/aDpbXTtkLnB1c2goLi4udGhpcy5fcGFyYW1ldGVycyk7Y29uc3QgXz0obD1pPT1udWxsP3ZvaWQgMDppLnNsaWNlKCkpIT09bnVsbCYmbCE9PXZvaWQgMD9sOltdO18ucHVzaCguLi50aGlzLl9zYW1wbGVycyksZT11LmRlZmluZUN1c3RvbUJpbmRpbmdzKHRoaXMubmFtZSxlLGQsXyksdD1kLGk9X310aGlzLl9wb3N0UHJvY2Vzc0RlZmluZXM9ZSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9dGhpcy5fZW5naW5lLmNyZWF0ZUVmZmVjdCh7dmVydGV4OmE/P3RoaXMuX3ZlcnRleFVybCxmcmFnbWVudDpvPz90aGlzLl9mcmFnbWVudFVybH0se2F0dHJpYnV0ZXM6WyJwb3NpdGlvbiJdLHVuaWZvcm1zTmFtZXM6dHx8dGhpcy5fcGFyYW1ldGVycyx1bmlmb3JtQnVmZmVyc05hbWVzOltdLHNhbXBsZXJzOml8fHRoaXMuX3NhbXBsZXJzLGRlZmluZXM6ZSE9PW51bGw/ZToiIixmYWxsYmFja3M6bnVsbCxvbkNvbXBpbGVkOnI/P251bGwsb25FcnJvcjpuPz9udWxsLGluZGV4UGFyYW1ldGVyczpzfHx0aGlzLl9pbmRleFBhcmFtZXRlcnMscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnUhPW51bGwmJnUucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzPyhkLF8pPT51LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0aGlzLm5hbWUsZCxfKTpudWxsLHByb2Nlc3NGaW5hbENvZGU6dSE9bnVsbCYmdS5wcm9jZXNzRmluYWxDb2RlPyhkLF8pPT51LnByb2Nlc3NGaW5hbENvZGUodGhpcy5uYW1lLGQsXyk6bnVsbCxzaGFkZXJMYW5ndWFnZTp0aGlzLl9zaGFkZXJMYW5ndWFnZX0sdGhpcy5fZW5naW5lKX1pc1JldXNhYmxlKCl7cmV0dXJuIHRoaXMuX3JldXNhYmxlfW1hcmtUZXh0dXJlRGlydHkoKXt0aGlzLndpZHRoPS0xfV9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCxpPTApe2ZvcihsZXQgcj0wO3I8dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aDtyKyspaWYodGhpcy5fdGV4dHVyZUNhY2hlW3JdLnRleHR1cmUud2lkdGg9PT1lLndpZHRoJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5oZWlnaHQ9PT1lLmhlaWdodCYmdGhpcy5fdGV4dHVyZUNhY2hlW3JdLnBvc3RQcm9jZXNzQ2hhbm5lbD09PWkmJnRoaXMuX3RleHR1cmVDYWNoZVtyXS50ZXh0dXJlLl9nZW5lcmF0ZURlcHRoQnVmZmVyPT09dC5nZW5lcmF0ZURlcHRoQnVmZmVyJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5zYW1wbGVzPT09dC5zYW1wbGVzKXJldHVybiB0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZTtjb25zdCBzPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCk7cmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZS5wdXNoKHt0ZXh0dXJlOnMscG9zdFByb2Nlc3NDaGFubmVsOmksbGFzdFVzZWRSZW5kZXJJZDotMX0pLHN9X2ZsdXNoVGV4dHVyZUNhY2hlKCl7Y29uc3QgZT10aGlzLl9yZW5kZXJJZDtmb3IobGV0IHQ9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKGUtdGhpcy5fdGV4dHVyZUNhY2hlW3RdLmxhc3RVc2VkUmVuZGVySWQ+MTAwKXtsZXQgaT0hMTtmb3IobGV0IHM9MDtzPHRoaXMuX3RleHR1cmVzLmxlbmd0aDtzKyspaWYodGhpcy5fdGV4dHVyZXMuZGF0YVtzXT09PXRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlKXtpPSEwO2JyZWFrfWl8fCh0aGlzLl90ZXh0dXJlQ2FjaGVbdF0udGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZUNhY2hlLnNwbGljZSh0LDEpKX19X3Jlc2l6ZShlLHQsaSxzLHIpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD4wJiZ0aGlzLl90ZXh0dXJlcy5yZXNldCgpLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10O2xldCBuPW51bGw7Zm9yKGxldCBoPTA7aDxpLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtoKyspaWYoaS5fcG9zdFByb2Nlc3Nlc1toXSE9PW51bGwpe249aS5fcG9zdFByb2Nlc3Nlc1toXTticmVha31jb25zdCBhPXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbz17Z2VuZXJhdGVNaXBNYXBzOnMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpyfHxuPT09dGhpcyxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6KHJ8fG49PT10aGlzKSYmdGhpcy5fZW5naW5lLmlzU3RlbmNpbEVuYWJsZSxzYW1wbGluZ01vZGU6dGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsdHlwZTp0aGlzLl90ZXh0dXJlVHlwZSxmb3JtYXQ6dGhpcy5fdGV4dHVyZUZvcm1hdCxzYW1wbGVzOnRoaXMuX3NhbXBsZXMsbGFiZWw6IlBvc3RQcm9jZXNzUlRULSIrdGhpcy5uYW1lfTt0aGlzLl90ZXh0dXJlcy5wdXNoKHRoaXMuX2NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoYSxvLDApKSx0aGlzLl9yZXVzYWJsZSYmdGhpcy5fdGV4dHVyZXMucHVzaCh0aGlzLl9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGEsbywxKSksdGhpcy5fdGV4ZWxTaXplLmNvcHlGcm9tRmxvYXRzKDEvdGhpcy53aWR0aCwxL3RoaXMuaGVpZ2h0KSx0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1hY3RpdmF0ZShlLHQ9bnVsbCxpKXt2YXIgcyxyO2U9ZXx8dGhpcy5fY2FtZXJhO2NvbnN0IG49ZS5nZXRTY2VuZSgpLGE9bi5nZXRFbmdpbmUoKSxvPWEuZ2V0Q2FwcygpLm1heFRleHR1cmVTaXplO2xldCBoPSh0P3Qud2lkdGg6dGhpcy5fZW5naW5lLmdldFJlbmRlcldpZHRoKCEwKSkqdGhpcy5fb3B0aW9uc3wwO2NvbnN0IGw9KHQ/dC5oZWlnaHQ6dGhpcy5fZW5naW5lLmdldFJlbmRlckhlaWdodCghMCkpKnRoaXMuX29wdGlvbnN8MCx1PWUucGFyZW50O3UmJih1LmxlZnRDYW1lcmE9PWV8fHUucmlnaHRDYW1lcmE9PWUpJiYoaC89Mik7bGV0IGQ9dGhpcy5fb3B0aW9ucy53aWR0aHx8aCxfPXRoaXMuX29wdGlvbnMuaGVpZ2h0fHxsO2NvbnN0IGY9dGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT03JiZ0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTEmJnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09MjtpZighdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MmJiF0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXtpZih0aGlzLmFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydCl7Y29uc3Qgdj1hLmN1cnJlbnRWaWV3cG9ydDt2JiYoZCo9di53aWR0aCxfKj12LmhlaWdodCl9KGZ8fHRoaXMuYWx3YXlzRm9yY2VQT1QpJiYodGhpcy5fb3B0aW9ucy53aWR0aHx8KGQ9YS5uZWVkUE9UVGV4dHVyZXM/UC5HZXRFeHBvbmVudE9mVHdvKGQsbyx0aGlzLnNjYWxlTW9kZSk6ZCksdGhpcy5fb3B0aW9ucy5oZWlnaHR8fChfPWEubmVlZFBPVFRleHR1cmVzP1AuR2V0RXhwb25lbnRPZlR3byhfLG8sdGhpcy5zY2FsZU1vZGUpOl8pKSwodGhpcy53aWR0aCE9PWR8fHRoaXMuaGVpZ2h0IT09XykmJnRoaXMuX3Jlc2l6ZShkLF8sZSxmLGkpLHRoaXMuX3RleHR1cmVzLmZvckVhY2godj0+e3Yuc2FtcGxlcyE9PXRoaXMuc2FtcGxlcyYmdGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh2LHRoaXMuc2FtcGxlcyl9KSx0aGlzLl9mbHVzaFRleHR1cmVDYWNoZSgpLHRoaXMuX3JlbmRlcklkKyt9bGV0IG07aWYodGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MpbT10aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcy5pbnB1dFRleHR1cmU7ZWxzZSBpZih0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKW09dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSx0aGlzLndpZHRoPXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS5oZWlnaHQ7ZWxzZXttPXRoaXMuaW5wdXRUZXh0dXJlO2xldCB2O2ZvcihsZXQgRT0wO0U8dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aDtFKyspaWYodGhpcy5fdGV4dHVyZUNhY2hlW0VdLnRleHR1cmU9PT1tKXt2PXRoaXMuX3RleHR1cmVDYWNoZVtFXTticmVha312JiYodi5sYXN0VXNlZFJlbmRlcklkPXRoaXMuX3JlbmRlcklkKX1yZXR1cm4gdGhpcy5lbmFibGVQaXhlbFBlcmZlY3RNb2RlPyh0aGlzLl9zY2FsZVJhdGlvLmNvcHlGcm9tRmxvYXRzKGgvZCxsL18pLHRoaXMuX2VuZ2luZS5iaW5kRnJhbWVidWZmZXIobSwwLGgsbCx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSk6KHRoaXMuX3NjYWxlUmF0aW8uY29weUZyb21GbG9hdHMoMSwxKSx0aGlzLl9lbmdpbmUuYmluZEZyYW1lYnVmZmVyKG0sMCx2b2lkIDAsdm9pZCAwLHRoaXMuZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQpKSwocj0ocz10aGlzLl9lbmdpbmUpLl9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxyPT09dm9pZCAwfHxyLmNhbGwocyxgcG9zdCBwcm9jZXNzICR7dGhpcy5uYW1lfSBpbnB1dGApLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuYXV0b0NsZWFyJiYodGhpcy5hbHBoYU1vZGU9PT0wfHx0aGlzLmZvcmNlQXV0b0NsZWFySW5BbHBoYU1vZGUpJiZ0aGlzLl9lbmdpbmUuY2xlYXIodGhpcy5jbGVhckNvbG9yP3RoaXMuY2xlYXJDb2xvcjpuLmNsZWFyQ29sb3Isbi5fYWxsb3dQb3N0UHJvY2Vzc0NsZWFyQ29sb3IsITAsITApLHRoaXMuX3JldXNhYmxlJiYodGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9KHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kKzEpJTIpLG19Z2V0IGlzU3VwcG9ydGVkKCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5pc1N1cHBvcnRlZH1nZXQgYXNwZWN0UmF0aW8oKXtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuYXNwZWN0UmF0aW86dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0OnRoaXMud2lkdGgvdGhpcy5oZWlnaHR9aXNSZWFkeSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaXNSZWFkeSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMX1hcHBseSgpe3ZhciBlLHQsaTtpZighKCEoKGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDApJiZlLmlzUmVhZHkoKSkpcmV0dXJuIG51bGw7dGhpcy5fZW5naW5lLmVuYWJsZUVmZmVjdCh0aGlzLl9kcmF3V3JhcHBlciksdGhpcy5fZW5naW5lLnNldFN0YXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhCdWZmZXIoITEpLHRoaXMuX2VuZ2luZS5zZXREZXB0aFdyaXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0QWxwaGFNb2RlKHRoaXMuYWxwaGFNb2RlKSx0aGlzLmFscGhhQ29uc3RhbnRzJiZ0aGlzLmdldEVuZ2luZSgpLnNldEFscGhhQ29uc3RhbnRzKHRoaXMuYWxwaGFDb25zdGFudHMucix0aGlzLmFscGhhQ29uc3RhbnRzLmcsdGhpcy5hbHBoYUNvbnN0YW50cy5iLHRoaXMuYWxwaGFDb25zdGFudHMuYSk7bGV0IHM7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3M9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlOnRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU/cz10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlOnM9dGhpcy5pbnB1dFRleHR1cmUsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZ3x8dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHM9PW51bGw/dm9pZCAwOnMudGV4dHVyZSksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LnNldFZlY3RvcjIoInNjYWxlIix0aGlzLl9zY2FsZVJhdGlvKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpLChpPSh0PXhlLl9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyh0aGlzLm5hbWUpKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuYmluZEN1c3RvbUJpbmRpbmdzKT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2FsbCh0LHRoaXMubmFtZSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH1fZGlzcG9zZVRleHR1cmVzKCl7aWYodGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3N8fHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpe3RoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKTtyZXR1cm59dGhpcy5fZGlzcG9zZVRleHR1cmVDYWNoZSgpLHRoaXMuX3RleHR1cmVzLmRpc3Bvc2UoKX1fZGlzcG9zZVRleHR1cmVDYWNoZSgpe2ZvcihsZXQgZT10aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoLTE7ZT49MDtlLS0pdGhpcy5fdGV4dHVyZUNhY2hlW2VdLnRleHR1cmUuZGlzcG9zZSgpO3RoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg9MH1zZXRQcmVQYXNzUmVuZGVyZXIoZSl7cmV0dXJuIHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPyh0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj1lLmFkZEVmZmVjdENvbmZpZ3VyYXRpb24odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb24pLHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLmVuYWJsZWQ9ITAsITApOiExfWRpc3Bvc2UoZSl7ZT1lfHx0aGlzLl9jYW1lcmEsdGhpcy5fZGlzcG9zZVRleHR1cmVzKCk7bGV0IHQ7aWYodGhpcy5fc2NlbmUmJih0PXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0IT09LTEmJnRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHQsMSkpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIucG9zdFByb2Nlc3Nlcy5pbmRleE9mKHRoaXMpO2k+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5wb3N0UHJvY2Vzc2VzLnNwbGljZShpLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHQ9dGhpcy5fZW5naW5lLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0IT09LTEmJnRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpLCEhZSl7aWYoZS5kZXRhY2hQb3N0UHJvY2Vzcyh0aGlzKSx0PWUuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0PT09MCYmZS5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg+MCl7Y29uc3QgaT10aGlzLl9jYW1lcmEuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtpJiZpLm1hcmtUZXh0dXJlRGlydHkoKX10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BcHBseU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKX19c2VyaWFsaXplKCl7Y29uc3QgZT1uZS5TZXJpYWxpemUodGhpcyksdD10aGlzLmdldENhbWVyYSgpfHx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3JldHVybiBlLmN1c3RvbVR5cGU9IkJBQllMT04uIit0aGlzLmdldENsYXNzTmFtZSgpLGUuY2FtZXJhSWQ9dD90LmlkOm51bGwsZS5yZXVzYWJsZT10aGlzLl9yZXVzYWJsZSxlLnRleHR1cmVUeXBlPXRoaXMuX3RleHR1cmVUeXBlLGUuZnJhZ21lbnRVcmw9dGhpcy5fZnJhZ21lbnRVcmwsZS5wYXJhbWV0ZXJzPXRoaXMuX3BhcmFtZXRlcnMsZS5zYW1wbGVycz10aGlzLl9zYW1wbGVycyxlLm9wdGlvbnM9dGhpcy5fb3B0aW9ucyxlLmRlZmluZXM9dGhpcy5fcG9zdFByb2Nlc3NEZWZpbmVzLGUudGV4dHVyZUZvcm1hdD10aGlzLl90ZXh0dXJlRm9ybWF0LGUudmVydGV4VXJsPXRoaXMuX3ZlcnRleFVybCxlLmluZGV4UGFyYW1ldGVycz10aGlzLl9pbmRleFBhcmFtZXRlcnMsZX1jbG9uZSgpe2NvbnN0IGU9dGhpcy5zZXJpYWxpemUoKTtlLl9lbmdpbmU9dGhpcy5fZW5naW5lLGUuY2FtZXJhSWQ9bnVsbDtjb25zdCB0PXhlLlBhcnNlKGUsdGhpcy5fc2NlbmUsIiIpO3JldHVybiB0Pyh0Lm9uQWN0aXZhdGVPYnNlcnZhYmxlPXRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlPXRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQXBwbHlPYnNlcnZhYmxlPXRoaXMub25BcHBseU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQub25BZnRlclJlbmRlck9ic2VydmFibGU9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPXRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLHQpOm51bGx9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPWFpKGUuY3VzdG9tVHlwZSk7aWYoIXN8fCFzLl9QYXJzZSlyZXR1cm4gbnVsbDtjb25zdCByPXQ/dC5nZXRDYW1lcmFCeUlkKGUuY2FtZXJhSWQpOm51bGw7cmV0dXJuIHMuX1BhcnNlKGUscix0LGkpfXN0YXRpYyBfUGFyc2UoZSx0LGkscyl7cmV0dXJuIG5lLlBhcnNlKCgpPT5uZXcgeGUoZS5uYW1lLGUuZnJhZ21lbnRVcmwsZS5wYXJhbWV0ZXJzLGUuc2FtcGxlcnMsZS5vcHRpb25zLHQsZS5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsZS5fZW5naW5lLGUucmV1c2FibGUsZS5kZWZpbmVzLGUudGV4dHVyZVR5cGUsZS52ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnMsITEsZS50ZXh0dXJlRm9ybWF0KSxlLGkscyl9fXhlLl9DdXN0b21TaGFkZXJDb2RlUHJvY2Vzc2luZz17fSxUKFt5KCldLHhlLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsIndpZHRoIix2b2lkIDApLFQoW3koKV0seGUucHJvdG90eXBlLCJoZWlnaHQiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsInJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSIsdm9pZCAwKSxUKFtwcigpXSx4ZS5wcm90b3R5cGUsImNsZWFyQ29sb3IiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsImF1dG9DbGVhciIsdm9pZCAwKSxUKFt5KCldLHhlLnByb3RvdHlwZSwiZm9yY2VBdXRvQ2xlYXJJbkFscGhhTW9kZSIsdm9pZCAwKSxUKFt5KCldLHhlLnByb3RvdHlwZSwiYWxwaGFNb2RlIix2b2lkIDApLFQoW3koKV0seGUucHJvdG90eXBlLCJhbHBoYUNvbnN0YW50cyIsdm9pZCAwKSxUKFt5KCldLHhlLnByb3RvdHlwZSwiZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZSIsdm9pZCAwKSxUKFt5KCldLHhlLnByb3RvdHlwZSwiZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsInNjYWxlTW9kZSIsdm9pZCAwKSxUKFt5KCldLHhlLnByb3RvdHlwZSwiYWx3YXlzRm9yY2VQT1QiLHZvaWQgMCksVChbeSgic2FtcGxlcyIpXSx4ZS5wcm90b3R5cGUsIl9zYW1wbGVzIix2b2lkIDApLFQoW3koKV0seGUucHJvdG90eXBlLCJhZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQiLHZvaWQgMCksc3QoIkJBQllMT04uUG9zdFByb2Nlc3MiLHhlKTtjb25zdCBvYT0ia2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbiIsaGE9InZhcnlpbmcgdmVjMiBzYW1wbGVDb29yZHtYfTsiO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbb2FdPWhhO2NvbnN0IGxhPSJwYWNraW5nRnVuY3Rpb25zIixjYT1gdmVjNCBwYWNrKGZsb2F0IGRlcHRoKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMjU1LjAqMjU1LjAqMjU1LjAsMjU1LjAqMjU1LjAsMjU1LjAsMS4wKTsKY29uc3QgdmVjNCBiaXRfbWFzaz12ZWM0KDAuMCwxLjAvMjU1LjAsMS4wLzI1NS4wLDEuMC8yNTUuMCk7CnZlYzQgcmVzPWZyYWN0KGRlcHRoKmJpdF9zaGlmdCk7CnJlcy09cmVzLnh4eXoqYml0X21hc2s7CnJldHVybiByZXM7Cn0KZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xhXT1jYTtjb25zdCB1YT0ia2VybmVsQmx1ckZyYWdtZW50IixkYT1gI2lmZGVmIERPRgpmYWN0b3I9c2FtcGxlQ29DKHNhbXBsZUNvb3Jke1h9KTsgCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9XRUlHSFR7WH0qZmFjdG9yOwpzdW1PZldlaWdodHMrPWNvbXB1dGVkV2VpZ2h0OwojZWxzZQpjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9OwojZW5kaWYKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSkqY29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ29vcmR7WH0pKmNvbXB1dGVkV2VpZ2h0OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3VhXT1kYTtjb25zdCBmYT0ia2VybmVsQmx1ckZyYWdtZW50MiIsX2E9YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pOwpjb21wdXRlZFdlaWdodD1LRVJORUxfREVQX1dFSUdIVHtYfSpmYWN0b3I7CnN1bU9mV2VpZ2h0cys9Y29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9ERVBfV0VJR0hUe1h9OwojZW5kaWYKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkqY29tcHV0ZWRXZWlnaHQ7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZmFdPV9hO2NvbnN0IGdhPSJrZXJuZWxCbHVyUGl4ZWxTaGFkZXIiLHBhPWB1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGRlbHRhOwp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaWZkZWYgRE9GCnVuaWZvcm0gc2FtcGxlcjJEIGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcjsKZmxvYXQgc2FtcGxlQ29DKGluIHZlYzIgb2Zmc2V0KSB7CmZsb2F0IGNvYz10ZXh0dXJlMkQoY2lyY2xlT2ZDb25mdXNpb25TYW1wbGVyLG9mZnNldCkucjsKcmV0dXJuIGNvYzsgCn0KI2VuZGlmCiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KI2lmZGVmIFBBQ0tFREZMT0FUCiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewpmbG9hdCBjb21wdXRlZFdlaWdodD0wLjA7CiNpZmRlZiBQQUNLRURGTE9BVApmbG9hdCBibGVuZD0wLjsKI2Vsc2UKdmVjNCBibGVuZD12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBET0YKZmxvYXQgc3VtT2ZXZWlnaHRzPUNFTlRFUl9XRUlHSFQ7IApmbG9hdCBmYWN0b3I9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKYmxlbmQrPXVucGFjayh0ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSkqQ0VOVEVSX1dFSUdIVDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIpKkNFTlRFUl9XRUlHSFQ7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8a2VybmVsQmx1ckZyYWdtZW50PlswLi52YXJ5aW5nQ291bnRdCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudDI+WzAuLmRlcENvdW50XQojaWZkZWYgUEFDS0VERkxPQVQKZ2xfRnJhZ0NvbG9yPXBhY2soYmxlbmQpOwojZWxzZQpnbF9GcmFnQ29sb3I9YmxlbmQ7CiNlbmRpZgojaWZkZWYgRE9GCmdsX0ZyYWdDb2xvci89c3VtT2ZXZWlnaHRzOwojZW5kaWYKfWA7TC5TaGFkZXJzU3RvcmVbZ2FdPXBhO2NvbnN0IG1hPSJrZXJuZWxCbHVyVmVydGV4Iix2YT0ic2FtcGxlQ29vcmR7WH09c2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9PRkZTRVR7WH07IjtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW21hXT12YTtjb25zdCBFYT0ia2VybmVsQmx1clZlcnRleFNoYWRlciIsVGE9YGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwp1bmlmb3JtIHZlYzIgZGVsdGE7CnZhcnlpbmcgdmVjMiBzYW1wbGVDZW50ZXI7CiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgpzYW1wbGVDZW50ZXI9KHBvc2l0aW9uKm1hZGQrbWFkZCk7CiNpbmNsdWRlPGtlcm5lbEJsdXJWZXJ0ZXg+WzAuLnZhcnlpbmdDb3VudF0KZ2xfUG9zaXRpb249dmVjNChwb3NpdGlvbiwwLjAsMS4wKTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn1gO0wuU2hhZGVyc1N0b3JlW0VhXT1UYTtjbGFzcyBlaSBleHRlbmRzIHhle3NldCBrZXJuZWwoZSl7dGhpcy5faWRlYWxLZXJuZWwhPT1lJiYoZT1NYXRoLm1heChlLDEpLHRoaXMuX2lkZWFsS2VybmVsPWUsdGhpcy5fa2VybmVsPXRoaXMuX25lYXJlc3RCZXN0S2VybmVsKGUpLHRoaXMuX2Jsb2NrQ29tcGlsYXRpb258fHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGtlcm5lbCgpe3JldHVybiB0aGlzLl9pZGVhbEtlcm5lbH1zZXQgcGFja2VkRmxvYXQoZSl7dGhpcy5fcGFja2VkRmxvYXQhPT1lJiYodGhpcy5fcGFja2VkRmxvYXQ9ZSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBwYWNrZWRGbG9hdCgpe3JldHVybiB0aGlzLl9wYWNrZWRGbG9hdH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQmx1clBvc3RQcm9jZXNzIn1jb25zdHJ1Y3RvcihlLHQsaSxzLHIsbj1OLkJJTElORUFSX1NBTVBMSU5HTU9ERSxhLG8saD0wLGw9IiIsdT0hMSxkPTUpe3N1cGVyKGUsImtlcm5lbEJsdXIiLFsiZGVsdGEiLCJkaXJlY3Rpb24iXSxbImNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlciJdLHMscixuLGEsbyxudWxsLGgsImtlcm5lbEJsdXIiLHt2YXJ5aW5nQ291bnQ6MCxkZXBDb3VudDowfSwhMCxkKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9uPXUsdGhpcy5fcGFja2VkRmxvYXQ9ITEsdGhpcy5fc3RhdGljRGVmaW5lcz0iIix0aGlzLl9zdGF0aWNEZWZpbmVzPWwsdGhpcy5kaXJlY3Rpb249dCx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChfPT57dGhpcy5fb3V0cHV0VGV4dHVyZT9fLnNldEZsb2F0MigiZGVsdGEiLDEvdGhpcy5fb3V0cHV0VGV4dHVyZS53aWR0aCp0aGlzLmRpcmVjdGlvbi54LDEvdGhpcy5fb3V0cHV0VGV4dHVyZS5oZWlnaHQqdGhpcy5kaXJlY3Rpb24ueSk6Xy5zZXRGbG9hdDIoImRlbHRhIiwxL3RoaXMud2lkdGgqdGhpcy5kaXJlY3Rpb24ueCwxL3RoaXMuaGVpZ2h0KnRoaXMuZGlyZWN0aW9uLnkpfSksdGhpcy5rZXJuZWw9aX11cGRhdGVFZmZlY3QoZT1udWxsLHQ9bnVsbCxpPW51bGwscyxyLG4pe3RoaXMuX3VwZGF0ZVBhcmFtZXRlcnMocixuKX1fdXBkYXRlUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5fa2VybmVsLHM9KGktMSkvMjtsZXQgcj1bXSxuPVtdLGE9MDtmb3IobGV0IHY9MDt2PGk7disrKXtjb25zdCBFPXYvKGktMSksUz10aGlzLl9nYXVzc2lhbldlaWdodChFKjItMSk7clt2XT12LXMsblt2XT1TLGErPVN9Zm9yKGxldCB2PTA7djxuLmxlbmd0aDt2Kyspblt2XS89YTtjb25zdCBvPVtdLGg9W10sbD1bXTtmb3IobGV0IHY9MDt2PD1zO3YrPTIpe2NvbnN0IEU9TWF0aC5taW4odisxLE1hdGguZmxvb3IocykpO2lmKHY9PT1FKWwucHVzaCh7bzpyW3ZdLHc6blt2XX0pO2Vsc2V7Y29uc3QgUj1FPT09cyxBPW5bdl0rbltFXSooUj8uNToxKSxDPXJbdl0rMS8oMStuW3ZdL25bRV0pO0M9PT0wPyhsLnB1c2goe286clt2XSx3Om5bdl19KSxsLnB1c2goe286clt2KzFdLHc6blt2KzFdfSkpOihsLnB1c2goe286Qyx3OkF9KSxsLnB1c2goe286LUMsdzpBfSkpfX1mb3IobGV0IHY9MDt2PGwubGVuZ3RoO3YrKyloW3ZdPWxbdl0ubyxvW3ZdPWxbdl0udztyPWgsbj1vO2NvbnN0IHU9dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkubWF4VmFyeWluZ1ZlY3RvcnMsZD1NYXRoLm1heCh1LDApLTE7bGV0IF89TWF0aC5taW4oci5sZW5ndGgsZCksZj0iIjtmKz10aGlzLl9zdGF0aWNEZWZpbmVzLHRoaXMuX3N0YXRpY0RlZmluZXMuaW5kZXhPZigiRE9GIikhPS0xJiYoZis9YCNkZWZpbmUgQ0VOVEVSX1dFSUdIVCAke3RoaXMuX2dsc2xGbG9hdChuW18tMV0pfVxyCmAsXy0tKTtmb3IobGV0IHY9MDt2PF87disrKWYrPWAjZGVmaW5lIEtFUk5FTF9PRkZTRVQke3Z9ICR7dGhpcy5fZ2xzbEZsb2F0KHJbdl0pfVxyCmAsZis9YCNkZWZpbmUgS0VSTkVMX1dFSUdIVCR7dn0gJHt0aGlzLl9nbHNsRmxvYXQoblt2XSl9XHIKYDtsZXQgbT0wO2ZvcihsZXQgdj1kO3Y8ci5sZW5ndGg7disrKWYrPWAjZGVmaW5lIEtFUk5FTF9ERVBfT0ZGU0VUJHttfSAke3RoaXMuX2dsc2xGbG9hdChyW3ZdKX1ccgpgLGYrPWAjZGVmaW5lIEtFUk5FTF9ERVBfV0VJR0hUJHttfSAke3RoaXMuX2dsc2xGbG9hdChuW3ZdKX1ccgpgLG0rKzt0aGlzLnBhY2tlZEZsb2F0JiYoZis9IiNkZWZpbmUgUEFDS0VERkxPQVQgMSIpLHRoaXMuX2Jsb2NrQ29tcGlsYXRpb249ITEsc3VwZXIudXBkYXRlRWZmZWN0KGYsbnVsbCxudWxsLHt2YXJ5aW5nQ291bnQ6XyxkZXBDb3VudDptfSxlLHQpfV9uZWFyZXN0QmVzdEtlcm5lbChlKXtjb25zdCB0PU1hdGgucm91bmQoZSk7Zm9yKGNvbnN0IGkgb2ZbdCx0LTEsdCsxLHQtMix0KzJdKWlmKGklMiE9PTAmJk1hdGguZmxvb3IoaS8yKSUyPT09MCYmaT4wKXJldHVybiBNYXRoLm1heChpLDMpO3JldHVybiBNYXRoLm1heCh0LDMpfV9nYXVzc2lhbldlaWdodChlKXtjb25zdCB0PS4zMzMzMzMzMzMzMzMzMzMzLGk9TWF0aC5zcXJ0KDIqTWF0aC5QSSkqdCxzPS0oZSplLygyKnQqdCkpO3JldHVybiAxL2kqTWF0aC5leHAocyl9X2dsc2xGbG9hdChlLHQ9OCl7cmV0dXJuIGUudG9GaXhlZCh0KS5yZXBsYWNlKC8wKyQvLCIiKX1zdGF0aWMgX1BhcnNlKGUsdCxpLHMpe3JldHVybiBuZS5QYXJzZSgoKT0+bmV3IGVpKGUubmFtZSxlLmRpcmVjdGlvbixlLmtlcm5lbCxlLm9wdGlvbnMsdCxlLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSxpLmdldEVuZ2luZSgpLGUucmV1c2FibGUsZS50ZXh0dXJlVHlwZSx2b2lkIDAsITEpLGUsaSxzKX19VChbeSgia2VybmVsIildLGVpLnByb3RvdHlwZSwiX2tlcm5lbCIsdm9pZCAwKSxUKFt5KCJwYWNrZWRGbG9hdCIpXSxlaS5wcm90b3R5cGUsIl9wYWNrZWRGbG9hdCIsdm9pZCAwKSxUKFt5bigpXSxlaS5wcm90b3R5cGUsImRpcmVjdGlvbiIsdm9pZCAwKSxzdCgiQkFCWUxPTi5CbHVyUG9zdFByb2Nlc3MiLGVpKTtjbGFzcyBZc3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2RlZmluZXM9e30sdGhpcy5fY3VycmVudFJhbms9MzIsdGhpcy5fbWF4UmFuaz0tMSx0aGlzLl9tZXNoPW51bGx9dW5CaW5kTWVzaCgpe3RoaXMuX21lc2g9bnVsbH1hZGRGYWxsYmFjayhlLHQpe3RoaXMuX2RlZmluZXNbZV18fChlPHRoaXMuX2N1cnJlbnRSYW5rJiYodGhpcy5fY3VycmVudFJhbms9ZSksZT50aGlzLl9tYXhSYW5rJiYodGhpcy5fbWF4UmFuaz1lKSx0aGlzLl9kZWZpbmVzW2VdPW5ldyBBcnJheSksdGhpcy5fZGVmaW5lc1tlXS5wdXNoKHQpfWFkZENQVVNraW5uaW5nRmFsbGJhY2soZSx0KXt0aGlzLl9tZXNoPXQsZTx0aGlzLl9jdXJyZW50UmFuayYmKHRoaXMuX2N1cnJlbnRSYW5rPWUpLGU+dGhpcy5fbWF4UmFuayYmKHRoaXMuX21heFJhbms9ZSl9Z2V0IGhhc01vcmVGYWxsYmFja3MoKXtyZXR1cm4gdGhpcy5fY3VycmVudFJhbms8PXRoaXMuX21heFJhbmt9cmVkdWNlKGUsdCl7aWYodGhpcy5fbWVzaCYmdGhpcy5fbWVzaC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnRoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzPjApe3RoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExLGU9ZS5yZXBsYWNlKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrdGhpcy5fbWVzaC5udW1Cb25lSW5mbHVlbmNlcnMsIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpLHQuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMDtjb25zdCBpPXRoaXMuX21lc2guZ2V0U2NlbmUoKTtmb3IobGV0IHM9MDtzPGkubWVzaGVzLmxlbmd0aDtzKyspe2NvbnN0IHI9aS5tZXNoZXNbc107aWYoIXIubWF0ZXJpYWwpeyF0aGlzLl9tZXNoLm1hdGVyaWFsJiZyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmci5udW1Cb25lSW5mbHVlbmNlcnM+MCYmKHIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExKTtjb250aW51ZX1pZighKCFyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVyc3x8ci5udW1Cb25lSW5mbHVlbmNlcnM9PT0wKSl7aWYoci5tYXRlcmlhbC5nZXRFZmZlY3QoKT09PXQpci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITE7ZWxzZSBpZihyLnN1Yk1lc2hlcyl7Zm9yKGNvbnN0IG4gb2Ygci5zdWJNZXNoZXMpaWYobi5lZmZlY3Q9PT10KXtyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMTticmVha319fX19ZWxzZXtjb25zdCBpPXRoaXMuX2RlZmluZXNbdGhpcy5fY3VycmVudFJhbmtdO2lmKGkpZm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspZT1lLnJlcGxhY2UoIiNkZWZpbmUgIitpW3NdLCIiKTt0aGlzLl9jdXJyZW50UmFuaysrfXJldHVybiBlfX1jb25zdCBiYT0iYmF5ZXJEaXRoZXJGdW5jdGlvbnMiLFNhPWBmbG9hdCBiYXllckRpdGhlcjIodmVjMiBfUCkgewpyZXR1cm4gbW9kKDIuMCpfUC55K19QLngrMS4wLDQuMCk7Cn0KZmxvYXQgYmF5ZXJEaXRoZXI0KHZlYzIgX1ApIHsKdmVjMiBQMT1tb2QoX1AsMi4wKTsgCnZlYzIgUDI9Zmxvb3IoMC41Km1vZChfUCw0LjApKTsgCnJldHVybiA0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpOwp9CmZsb2F0IGJheWVyRGl0aGVyOCh2ZWMyIF9QKSB7CnZlYzIgUDE9bW9kKF9QLDIuMCk7IAp2ZWMyIFAyPWZsb29yKDAuNSAqbW9kKF9QLDQuMCkpOyAKdmVjMiBQND1mbG9vcigwLjI1Km1vZChfUCw4LjApKTsgCnJldHVybiA0LjAqKDQuMCpiYXllckRpdGhlcjIoUDEpK2JheWVyRGl0aGVyMihQMikpK2JheWVyRGl0aGVyMihQNCk7Cn0KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2JhXT1TYTtjb25zdCB4YT0ic2hhZG93TWFwRnJhZ21lbnRFeHRyYURlY2xhcmF0aW9uIixNYT1gI2lmIFNNX0ZMT0FUPT0wCiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCiNpbmNsdWRlPGJheWVyRGl0aGVyRnVuY3Rpb25zPgp1bmlmb3JtIGZsb2F0IHNvZnRUcmFuc3BhcmVudFNoYWRvd1NNOwojZW5kaWYKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWNTTTsKI2lmIFNNX1VTRURJU1RBTkNFPT0xCnVuaWZvcm0gdmVjMyBsaWdodERhdGFTTTsKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCnVuaWZvcm0gdmVjMyBiaWFzQW5kU2NhbGVTTTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbeGFdPU1hO2NvbnN0IEFhPSJjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uIixSYT1gI2lmZGVmIENMSVBQTEFORQp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2UyOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMzsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTQ7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U1OwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtBYV09UmE7Y29uc3QgeWE9ImNsaXBQbGFuZUZyYWdtZW50IixDYT1gI2lmIGRlZmluZWQoQ0xJUFBMQU5FKSB8fCBkZWZpbmVkKENMSVBQTEFORTIpIHx8IGRlZmluZWQoQ0xJUFBMQU5FMykgfHwgZGVmaW5lZChDTElQUExBTkU0KSB8fCBkZWZpbmVkKENMSVBQTEFORTUpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNikKaWYgKGZhbHNlKSB7fQojZW5kaWYKI2lmZGVmIENMSVBQTEFORQplbHNlIGlmIChmQ2xpcERpc3RhbmNlPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgplbHNlIGlmIChmQ2xpcERpc3RhbmNlMj4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTM+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U0PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQplbHNlIGlmIChmQ2xpcERpc3RhbmNlNT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTY+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt5YV09Q2E7Y29uc3QgSWE9InNoYWRvd01hcEZyYWdtZW50IixQYT1gZmxvYXQgZGVwdGhTTT12RGVwdGhNZXRyaWNTTTsKI2lmIGRlZmluZWQoU01fREVQVEhDTEFNUCkgJiYgU01fREVQVEhDTEFNUD09MQojaWYgU01fVVNFRElTVEFOQ0U9PTEKZGVwdGhTTT0obGVuZ3RoKHZQb3NpdGlvbldTTS1saWdodERhdGFTTSkrZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmRlcHRoU009KC16U00rZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKZGVwdGhTTT0oelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmdsX0ZyYWdEZXB0aD1jbGFtcCgxLjAtZGVwdGhTTSwwLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0RlcHRoPWNsYW1wKGRlcHRoU00sMC4wLDEuMCk7IAojZW5kaWYKI2VsaWYgU01fVVNFRElTVEFOQ0U9PTEKZGVwdGhTTT0obGVuZ3RoKHZQb3NpdGlvbldTTS1saWdodERhdGFTTSkrZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNpZiBTTV9FU009PTEKZGVwdGhTTT1jbGFtcChleHAoLW1pbig4Ny4sYmlhc0FuZFNjYWxlU00ueipkZXB0aFNNKSksMC4sMS4pOwojZW5kaWYKI2lmIFNNX0ZMT0FUPT0xCmdsX0ZyYWdDb2xvcj12ZWM0KGRlcHRoU00sMS4wLDEuMCwxLjApOwojZWxzZQpnbF9GcmFnQ29sb3I9cGFjayhkZXB0aFNNKTsKI2VuZGlmCnJldHVybjtgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSWFdPVBhO2NvbnN0IERhPSJzaGFkb3dNYXBQaXhlbFNoYWRlciIsRmE9YCNpbmNsdWRlPHNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbj4KI2lmZGVmIEFMUEhBVEVYVFVSRQp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCBkaWZmdXNlU2FtcGxlcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50PgojaWZkZWYgQUxQSEFURVhUVVJFCmZsb2F0IGFscGhhRnJvbUFscGhhVGV4dHVyZT10ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdlVWKS5hOwojaWZkZWYgQUxQSEFURVNUVkFMVUUKaWYgKGFscGhhRnJvbUFscGhhVGV4dHVyZTxBTFBIQVRFU1RWQUxVRSkKZGlzY2FyZDsKI2VuZGlmCiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCiNpZmRlZiBBTFBIQVRFWFRVUkUKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKmFscGhhRnJvbUFscGhhVGV4dHVyZSkgZGlzY2FyZDsKI2Vsc2UKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKSBkaXNjYXJkOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHNoYWRvd01hcEZyYWdtZW50Pgp9YDtMLlNoYWRlcnNTdG9yZVtEYV09RmE7Y29uc3Qgd2E9ImJvbmVzRGVjbGFyYXRpb24iLE9hPWAjaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc0luZGljZXM7CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzV2VpZ2h0czsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzRXh0cmE7CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzV2VpZ2h0c0V4dHJhOwojZW5kaWYKI2lmbmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKI2lmZGVmIEJPTkVURVhUVVJFCnVuaWZvcm0gc2FtcGxlcjJEIGJvbmVTYW1wbGVyOwp1bmlmb3JtIGZsb2F0IGJvbmVUZXh0dXJlV2lkdGg7CiNlbHNlCnVuaWZvcm0gbWF0NCBtQm9uZXNbQm9uZXNQZXJNZXNoXTsKI2lmZGVmIEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQKdW5pZm9ybSBtYXQ0IG1QcmV2aW91c0JvbmVzW0JvbmVzUGVyTWVzaF07CiNlbmRpZgojZW5kaWYKI2lmZGVmIEJPTkVURVhUVVJFCiNkZWZpbmUgaW5saW5lCm1hdDQgcmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKHNhbXBsZXIyRCBzbXAsZmxvYXQgaW5kZXgpCnsKZmxvYXQgb2Zmc2V0PWluZGV4ICo0LjA7CmZsb2F0IGR4PTEuMC9ib25lVGV4dHVyZVdpZHRoOwp2ZWM0IG0wPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzAuNSksMC4pKTsKdmVjNCBtMT10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsxLjUpLDAuKSk7CnZlYzQgbTI9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMi41KSwwLikpOwp2ZWM0IG0zPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzMuNSksMC4pKTsKcmV0dXJuIG1hdDQobTAsbTEsbTIsbTMpOwp9CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt3YV09T2E7Y29uc3QgTGE9ImJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24iLE5hPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnVuaWZvcm0gZmxvYXQgYmFrZWRWZXJ0ZXhBbmltYXRpb25UaW1lOwp1bmlmb3JtIHZlYzIgYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkOwp1bmlmb3JtIHZlYzQgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nczsKdW5pZm9ybSBzYW1wbGVyMkQgYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlOwojaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQ7CiNlbmRpZgojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4LGZsb2F0IGZyYW1lKQp7CmZsb2F0IG9mZnNldD1pbmRleCo0LjA7CmZsb2F0IGZyYW1lVVY9KGZyYW1lKzAuNSkqYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkLnk7CmZsb2F0IGR4PWJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZC54Owp2ZWM0IG0wPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzAuNSksZnJhbWVVVikpOwp2ZWM0IG0xPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzEuNSksZnJhbWVVVikpOwp2ZWM0IG0yPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzIuNSksZnJhbWVVVikpOwp2ZWM0IG0zPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzMuNSksZnJhbWVVVikpOwpyZXR1cm4gbWF0NChtMCxtMSxtMixtMyk7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtMYV09TmE7Y29uc3QgQmE9Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uIixVYT1gI2lmZGVmIE1PUlBIVEFSR0VUUwp1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwojaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUgCnByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyREFycmF5OyAKdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzW05VTV9NT1JQSF9JTkZMVUVOQ0VSU107CnVuaWZvcm0gdmVjMyBtb3JwaFRhcmdldFRleHR1cmVJbmZvOwp1bmlmb3JtIHNhbXBsZXIyREFycmF5IG1vcnBoVGFyZ2V0czsKdmVjMyByZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKGludCB0YXJnZXRJbmRleCxmbG9hdCB2ZXJ0ZXhJbmRleCkKeyAKZmxvYXQgeT1mbG9vcih2ZXJ0ZXhJbmRleC9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnkpOwpmbG9hdCB4PXZlcnRleEluZGV4LXkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55Owp2ZWMzIHRleHR1cmVVVj12ZWMzKCh4KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55LCh5KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby56LG1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXNbdGFyZ2V0SW5kZXhdKTsKcmV0dXJuIHRleHR1cmUobW9ycGhUYXJnZXRzLHRleHR1cmVVVikueHl6Owp9CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0JhXT1VYTtjb25zdCBrYT0ibW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24iLFZhPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZm5kZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKYXR0cmlidXRlIHZlYzMgcG9zaXRpb257WH07CiNpZmRlZiBNT1JQSFRBUkdFVFNfTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEFOR0VOVAphdHRyaWJ1dGUgdmVjMyB0YW5nZW50e1h9OwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgphdHRyaWJ1dGUgdmVjMiB1dl97WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtrYV09VmE7Y29uc3QgV2E9ImhlbHBlckZ1bmN0aW9ucyIsemE9YGNvbnN0IGZsb2F0IFBJPTMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NTsKY29uc3QgZmxvYXQgSEFMRl9NSU49NS45NjA0NjQ0OGUtMDg7IApjb25zdCBmbG9hdCBMaW5lYXJFbmNvZGVQb3dlckFwcHJveD0yLjI7CmNvbnN0IGZsb2F0IEdhbW1hRW5jb2RlUG93ZXJBcHByb3g9MS4wL0xpbmVhckVuY29kZVBvd2VyQXBwcm94Owpjb25zdCB2ZWMzIEx1bWluYW5jZUVuY29kZUFwcHJveD12ZWMzKDAuMjEyNiwwLjcxNTIsMC4wNzIyKTsKY29uc3QgZmxvYXQgRXBzaWxvbj0wLjAwMDAwMDE7CiNkZWZpbmUgc2F0dXJhdGUoeCkgY2xhbXAoeCwwLjAsMS4wKQojZGVmaW5lIGFic0Vwcyh4KSBhYnMoeCkrRXBzaWxvbgojZGVmaW5lIG1heEVwcyh4KSBtYXgoeCxFcHNpbG9uKQojZGVmaW5lIHNhdHVyYXRlRXBzKHgpIGNsYW1wKHgsRXBzaWxvbiwxLjApCm1hdDMgdHJhbnNwb3NlTWF0MyhtYXQzIGluTWF0cml4KSB7CnZlYzMgaTA9aW5NYXRyaXhbMF07CnZlYzMgaTE9aW5NYXRyaXhbMV07CnZlYzMgaTI9aW5NYXRyaXhbMl07Cm1hdDMgb3V0TWF0cml4PW1hdDMoCnZlYzMoaTAueCxpMS54LGkyLngpLAp2ZWMzKGkwLnksaTEueSxpMi55KSwKdmVjMyhpMC56LGkxLnosaTIueikKKTsKcmV0dXJuIG91dE1hdHJpeDsKfQptYXQzIGludmVyc2VNYXQzKG1hdDMgaW5NYXRyaXgpIHsKZmxvYXQgYTAwPWluTWF0cml4WzBdWzBdLGEwMT1pbk1hdHJpeFswXVsxXSxhMDI9aW5NYXRyaXhbMF1bMl07CmZsb2F0IGExMD1pbk1hdHJpeFsxXVswXSxhMTE9aW5NYXRyaXhbMV1bMV0sYTEyPWluTWF0cml4WzFdWzJdOwpmbG9hdCBhMjA9aW5NYXRyaXhbMl1bMF0sYTIxPWluTWF0cml4WzJdWzFdLGEyMj1pbk1hdHJpeFsyXVsyXTsKZmxvYXQgYjAxPWEyMiphMTEtYTEyKmEyMTsKZmxvYXQgYjExPS1hMjIqYTEwK2ExMiphMjA7CmZsb2F0IGIyMT1hMjEqYTEwLWExMSphMjA7CmZsb2F0IGRldD1hMDAqYjAxK2EwMSpiMTErYTAyKmIyMTsKcmV0dXJuIG1hdDMoYjAxLCgtYTIyKmEwMSthMDIqYTIxKSwoYTEyKmEwMS1hMDIqYTExKSwKYjExLChhMjIqYTAwLWEwMiphMjApLCgtYTEyKmEwMCthMDIqYTEwKSwKYjIxLCgtYTIxKmEwMCthMDEqYTIwKSwoYTExKmEwMC1hMDEqYTEwKSkvZGV0Owp9CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwp2ZWMzIHRvTGluZWFyU3BhY2VFeGFjdCh2ZWMzIGNvbG9yKQp7CnZlYzMgbmVhclplcm9TZWN0aW9uPTAuMDc3Mzk5MzgwOCpjb2xvcjsKdmVjMyByZW1haW5pbmdTZWN0aW9uPXBvdygwLjk0Nzg2NzI5OSooY29sb3IrdmVjMygwLjA1NSkpLHZlYzMoMi40KSk7CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQpyZXR1cm4gbWl4KHJlbWFpbmluZ1NlY3Rpb24sbmVhclplcm9TZWN0aW9uLGxlc3NUaGFuRXF1YWwoY29sb3IsdmVjMygwLjA0MDQ1KSkpOwojZWxzZQpyZXR1cm4KdmVjMygKY29sb3Iucjw9MC4wNDA0NSA/IG5lYXJaZXJvU2VjdGlvbi5yIDogcmVtYWluaW5nU2VjdGlvbi5yLApjb2xvci5nPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uLmcgOiByZW1haW5pbmdTZWN0aW9uLmcsCmNvbG9yLmI8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24uYiA6IHJlbWFpbmluZ1NlY3Rpb24uYik7CiNlbmRpZgp9CnZlYzMgdG9HYW1tYVNwYWNlRXhhY3QodmVjMyBjb2xvcikKewp2ZWMzIG5lYXJaZXJvU2VjdGlvbj0xMi45Mipjb2xvcjsKdmVjMyByZW1haW5pbmdTZWN0aW9uPTEuMDU1KnBvdyhjb2xvcix2ZWMzKDAuNDE2NjYpKS12ZWMzKDAuMDU1KTsKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkgfHwgZGVmaW5lZChOQVRJVkUpCnJldHVybiBtaXgocmVtYWluaW5nU2VjdGlvbixuZWFyWmVyb1NlY3Rpb24sbGVzc1RoYW5FcXVhbChjb2xvcix2ZWMzKDAuMDAzMTMwOCkpKTsKI2Vsc2UKcmV0dXJuCnZlYzMoCmNvbG9yLnI8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbi5yIDogcmVtYWluaW5nU2VjdGlvbi5yLApjb2xvci5nPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24uZyA6IHJlbWFpbmluZ1NlY3Rpb24uZywKY29sb3IuYjw9MC4wMDMxMzA4ID8gbmVhclplcm9TZWN0aW9uLmIgOiByZW1haW5pbmdTZWN0aW9uLmIpOwojZW5kaWYKfQojZW5kaWYKZmxvYXQgdG9MaW5lYXJTcGFjZShmbG9hdCBjb2xvcikKewojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKZmxvYXQgbmVhclplcm9TZWN0aW9uPTAuMDc3Mzk5MzgwOCpjb2xvcjsKZmxvYXQgcmVtYWluaW5nU2VjdGlvbj1wb3coMC45NDc4NjcyOTkqKGNvbG9yKzAuMDU1KSwyLjQpOwpyZXR1cm4gY29sb3I8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24gOiByZW1haW5pbmdTZWN0aW9uOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLExpbmVhckVuY29kZVBvd2VyQXBwcm94KTsKI2VuZGlmCn0KdmVjMyB0b0xpbmVhclNwYWNlKHZlYzMgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB0b0xpbmVhclNwYWNlRXhhY3QoY29sb3IpOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKTsKI2VuZGlmCn0KdmVjNCB0b0xpbmVhclNwYWNlKHZlYzQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB2ZWM0KHRvTGluZWFyU3BhY2VFeGFjdChjb2xvci5yZ2IpLGNvbG9yLmEpOwojZWxzZQpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKSxjb2xvci5hKTsKI2VuZGlmCn0KZmxvYXQgdG9HYW1tYVNwYWNlKGZsb2F0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpmbG9hdCBuZWFyWmVyb1NlY3Rpb249MTIuOTIqY29sb3I7CmZsb2F0IHJlbWFpbmluZ1NlY3Rpb249MS4wNTUqcG93KGNvbG9yLDAuNDE2NjYpLTAuMDU1OwpyZXR1cm4gY29sb3I8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbiA6IHJlbWFpbmluZ1NlY3Rpb247CiNlbHNlCnJldHVybiBwb3coY29sb3IsR2FtbWFFbmNvZGVQb3dlckFwcHJveCk7CiNlbmRpZgp9CnZlYzMgdG9HYW1tYVNwYWNlKHZlYzMgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB0b0dhbW1hU3BhY2VFeGFjdChjb2xvcik7CiNlbHNlCnJldHVybiBwb3coY29sb3IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSk7CiNlbmRpZgp9CnZlYzQgdG9HYW1tYVNwYWNlKHZlYzQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB2ZWM0KHRvR2FtbWFTcGFjZUV4YWN0KGNvbG9yLnJnYiksY29sb3IuYSk7CiNlbHNlCnJldHVybiB2ZWM0KHBvdyhjb2xvci5yZ2IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSksY29sb3IuYSk7CiNlbmRpZgp9CmZsb2F0IHNxdWFyZShmbG9hdCB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KdmVjMyBzcXVhcmUodmVjMyB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KZmxvYXQgcG93NShmbG9hdCB2YWx1ZSkgewpmbG9hdCBzcT12YWx1ZSp2YWx1ZTsKcmV0dXJuIHNxKnNxKnZhbHVlOwp9CmZsb2F0IGdldEx1bWluYW5jZSh2ZWMzIGNvbG9yKQp7CnJldHVybiBjbGFtcChkb3QoY29sb3IsTHVtaW5hbmNlRW5jb2RlQXBwcm94KSwwLiwxLik7Cn0KZmxvYXQgZ2V0UmFuZCh2ZWMyIHNlZWQpIHsKcmV0dXJuIGZyYWN0KHNpbihkb3Qoc2VlZC54eSAsdmVjMigxMi45ODk4LDc4LjIzMykpKSo0Mzc1OC41NDUzKTsKfQpmbG9hdCBkaXRoZXIodmVjMiBzZWVkLGZsb2F0IHZhcmlhbmNlQW1vdW50KSB7CmZsb2F0IHJhbmQ9Z2V0UmFuZChzZWVkKTsKZmxvYXQgbm9ybVZhcmlhbmNlPXZhcmlhbmNlQW1vdW50LzI1NS4wOwpmbG9hdCBkaXRoZXI9bWl4KC1ub3JtVmFyaWFuY2Usbm9ybVZhcmlhbmNlLHJhbmQpOwpyZXR1cm4gZGl0aGVyOwp9CmNvbnN0IGZsb2F0IHJnYmRNYXhSYW5nZT0yNTUuMDsKdmVjNCB0b1JHQkQodmVjMyBjb2xvcikgewpmbG9hdCBtYXhSR0I9bWF4RXBzKG1heChjb2xvci5yLG1heChjb2xvci5nLGNvbG9yLmIpKSk7CmZsb2F0IEQgPW1heChyZ2JkTWF4UmFuZ2UvbWF4UkdCLDEuKTsKRCA9Y2xhbXAoZmxvb3IoRCkvMjU1LjAsMC4sMS4pOwp2ZWMzIHJnYj1jb2xvci5yZ2IqRDsKcmdiPXRvR2FtbWFTcGFjZShyZ2IpOwpyZXR1cm4gdmVjNChjbGFtcChyZ2IsMC4sMS4pLEQpOyAKfQp2ZWMzIGZyb21SR0JEKHZlYzQgcmdiZCkgewpyZ2JkLnJnYj10b0xpbmVhclNwYWNlKHJnYmQucmdiKTsKcmV0dXJuIHJnYmQucmdiL3JnYmQuYTsKfQp2ZWMzIHBhcmFsbGF4Q29ycmVjdE5vcm1hbCggdmVjMyB2ZXJ0ZXhQb3MsdmVjMyBvcmlnVmVjLHZlYzMgY3ViZVNpemUsdmVjMyBjdWJlUG9zICkgewp2ZWMzIGludk9yaWdWZWM9dmVjMygxLjAsMS4wLDEuMCkvb3JpZ1ZlYzsKdmVjMyBoYWxmU2l6ZT1jdWJlU2l6ZSowLjU7CnZlYzMgaW50ZXJzZWNBdE1heFBsYW5lPShjdWJlUG9zK2hhbGZTaXplLXZlcnRleFBvcykqaW52T3JpZ1ZlYzsKdmVjMyBpbnRlcnNlY0F0TWluUGxhbmU9KGN1YmVQb3MtaGFsZlNpemUtdmVydGV4UG9zKSppbnZPcmlnVmVjOwp2ZWMzIGxhcmdlc3RJbnRlcnNlYz1tYXgoaW50ZXJzZWNBdE1heFBsYW5lLGludGVyc2VjQXRNaW5QbGFuZSk7CmZsb2F0IGRpc3RhbmNlPW1pbihtaW4obGFyZ2VzdEludGVyc2VjLngsbGFyZ2VzdEludGVyc2VjLnkpLGxhcmdlc3RJbnRlcnNlYy56KTsKdmVjMyBpbnRlcnNlY3RQb3NpdGlvbldTPXZlcnRleFBvcytvcmlnVmVjKmRpc3RhbmNlOwpyZXR1cm4gaW50ZXJzZWN0UG9zaXRpb25XUy1jdWJlUG9zOwp9CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtXYV09emE7Y29uc3QgR2E9InNjZW5lVmVydGV4RGVjbGFyYXRpb24iLFhhPWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBNVUxUSVZJRVcKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmCnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbjsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0dhXT1YYTtjb25zdCBIYT0ibWVzaFZlcnRleERlY2xhcmF0aW9uIixLYT1gdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIYV09S2E7Y29uc3QgWWE9InNoYWRvd01hcFZlcnRleERlY2xhcmF0aW9uIixaYT1gI2luY2x1ZGU8c2NlbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFZlcnRleERlY2xhcmF0aW9uPgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWWFdPVphO2NvbnN0IHFhPSJzY2VuZVVib0RlY2xhcmF0aW9uIixqYT1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gU2NlbmUgewptYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCm1hdDQgdmlld1Byb2plY3Rpb25SOwojZW5kaWYgCm1hdDQgdmlldzsKbWF0NCBwcm9qZWN0aW9uOwp2ZWM0IHZFeWVQb3NpdGlvbjsKfTsKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3FhXT1qYTtjb25zdCAkYT0ibWVzaFVib0RlY2xhcmF0aW9uIixRYT1gI2lmZGVmIFdFQkdMMgp1bmlmb3JtIG1hdDQgd29ybGQ7CnVuaWZvcm0gZmxvYXQgdmlzaWJpbGl0eTsKI2Vsc2UKbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gTWVzaAp7Cm1hdDQgd29ybGQ7CmZsb2F0IHZpc2liaWxpdHk7Cn07CiNlbmRpZgojZGVmaW5lIFdPUkxEX1VCTwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbJGFdPVFhO2NvbnN0IEphPSJzaGFkb3dNYXBVYm9EZWNsYXJhdGlvbiIsZW89YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwojaW5jbHVkZTxzY2VuZVVib0RlY2xhcmF0aW9uPgojaW5jbHVkZTxtZXNoVWJvRGVjbGFyYXRpb24+CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtKYV09ZW87Y29uc3QgdG89InNoYWRvd01hcFZlcnRleEV4dHJhRGVjbGFyYXRpb24iLGlvPWAjaWYgU01fTk9STUFMQklBUz09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY1NNOwojaWYgU01fVVNFRElTVEFOQ0U9PTEKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdG9dPWlvO2NvbnN0IHNvPSJjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbiIscm89YCNpZmRlZiBDTElQUExBTkUKdW5pZm9ybSB2ZWM0IHZDbGlwUGxhbmU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMzsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMzsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNDsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNDsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNTsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtzb109cm87Y29uc3Qgbm89Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbCIsYW89YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCmZsb2F0IHZlcnRleElEOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtub109YW87Y29uc3Qgb289Im1vcnBoVGFyZ2V0c1ZlcnRleCIsaG89YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFIAp2ZXJ0ZXhJRD1mbG9hdChnbF9WZXJ0ZXhJRCkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby54Owpwb3NpdGlvblVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCktcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpIC1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkueHktdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKSAtdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2Vsc2UKcG9zaXRpb25VcGRhdGVkKz0ocG9zaXRpb257WH0tcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0obm9ybWFse1h9LW5vcm1hbCkqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKdGFuZ2VudFVwZGF0ZWQueHl6Kz0odGFuZ2VudHtYfS10YW5nZW50Lnh5eikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1VWCnV2VXBkYXRlZCs9KHV2X3tYfS11dikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtvb109aG87Y29uc3QgbG89Imluc3RhbmNlc1ZlcnRleCIsY289YCNpZmRlZiBJTlNUQU5DRVMKbWF0NCBmaW5hbFdvcmxkPW1hdDQod29ybGQwLHdvcmxkMSx3b3JsZDIsd29ybGQzKTsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9bWF0NChwcmV2aW91c1dvcmxkMCxwcmV2aW91c1dvcmxkMSxwcmV2aW91c1dvcmxkMixwcmV2aW91c1dvcmxkMyk7CiNlbmRpZgojaWZkZWYgVEhJTl9JTlNUQU5DRVMKZmluYWxXb3JsZD13b3JsZCpmaW5hbFdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQpmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZCpmaW5hbFByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKI2Vsc2UKbWF0NCBmaW5hbFdvcmxkPXdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQptYXQ0IGZpbmFsUHJldmlvdXNXb3JsZD1wcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsb109Y287Y29uc3QgdW89ImJvbmVzVmVydGV4Iixmbz1gI2lmbmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKbWF0NCBpbmZsdWVuY2U7CiNpZmRlZiBCT05FVEVYVFVSRQppbmZsdWVuY2U9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1swXSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMV0pKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1syXSkqbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzNdKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVswXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMF07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVsxXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVsyXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVszXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbM107CiNlbmRpZgojZWxzZQppbmZsdWVuY2U9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMF0pXSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMV0pXSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzJdKV0qbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1szXSldKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVswXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsyXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVszXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKI2VuZGlmCmZpbmFsV29ybGQ9ZmluYWxXb3JsZCppbmZsdWVuY2U7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3VvXT1mbztjb25zdCBfbz0iYmFrZWRWZXJ0ZXhBbmltYXRpb24iLGdvPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnsKI2lmZGVmIElOU1RBTkNFUwojZGVmaW5lIEJWQVNOQU1FIGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQKI2Vsc2UKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzCiNlbmRpZgpmbG9hdCBWQVRTdGFydEZyYW1lPUJWQVNOQU1FLng7CmZsb2F0IFZBVEVuZEZyYW1lPUJWQVNOQU1FLnk7CmZsb2F0IFZBVE9mZnNldEZyYW1lPUJWQVNOQU1FLno7CmZsb2F0IFZBVFNwZWVkPUJWQVNOQU1FLnc7CmZsb2F0IHRvdGFsRnJhbWVzPVZBVEVuZEZyYW1lLVZBVFN0YXJ0RnJhbWUrMS4wOwpmbG9hdCB0aW1lPWJha2VkVmVydGV4QW5pbWF0aW9uVGltZSpWQVRTcGVlZC90b3RhbEZyYW1lczsKZmxvYXQgZnJhbWVDb3JyZWN0aW9uPXRpbWU8MS4wID8gMC4wIDogMS4wOwpmbG9hdCBudW1PZkZyYW1lcz10b3RhbEZyYW1lcy1mcmFtZUNvcnJlY3Rpb247CmZsb2F0IFZBVEZyYW1lTnVtPWZyYWN0KHRpbWUpKm51bU9mRnJhbWVzOwpWQVRGcmFtZU51bT1tb2QoVkFURnJhbWVOdW0rVkFUT2Zmc2V0RnJhbWUsbnVtT2ZGcmFtZXMpOwpWQVRGcmFtZU51bT1mbG9vcihWQVRGcmFtZU51bSk7ClZBVEZyYW1lTnVtKz1WQVRTdGFydEZyYW1lK2ZyYW1lQ29ycmVjdGlvbjsKbWF0NCBWQVRJbmZsdWVuY2U7ClZBVEluZmx1ZW5jZT1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1swXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzJdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NApWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsyXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKZmluYWxXb3JsZD1maW5hbFdvcmxkKlZBVEluZmx1ZW5jZTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW19vXT1nbztjb25zdCBwbz0ic2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcyIsbW89YCNpZiBTTV9OT1JNQUxCSUFTPT0xCiNpZiBTTV9ESVJFQ1RJT05JTkxJR0hUREFUQT09MQp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoLWxpZ2h0RGF0YVNNLnh5eik7CiNlbHNlCnZlYzMgZGlyZWN0aW9uVG9MaWdodFNNPWxpZ2h0RGF0YVNNLnh5ei13b3JsZFBvcy54eXo7CnZlYzMgd29ybGRMaWdodERpclNNPW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0U00pOwojZW5kaWYKZmxvYXQgbmRsU009ZG90KHZOb3JtYWxXLHdvcmxkTGlnaHREaXJTTSk7CmZsb2F0IHNpbk5MU009c3FydCgxLjAtbmRsU00qbmRsU00pOwpmbG9hdCBub3JtYWxCaWFzU009Ymlhc0FuZFNjYWxlU00ueSpzaW5OTFNNOwp3b3JsZFBvcy54eXotPXZOb3JtYWxXKm5vcm1hbEJpYXNTTTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtwb109bW87Y29uc3Qgdm89InNoYWRvd01hcFZlcnRleE1ldHJpYyIsRW89YCNpZiBTTV9VU0VESVNUQU5DRT09MQp2UG9zaXRpb25XU009d29ybGRQb3MueHl6OwojZW5kaWYKI2lmIFNNX0RFUFRIVEVYVFVSRT09MQojaWZkZWYgSVNfTkRDX0hBTEZfWlJBTkdFCiNkZWZpbmUgQklBU0ZBQ1RPUiAwLjUKI2Vsc2UKI2RlZmluZSBCSUFTRkFDVE9SIDEuMAojZW5kaWYKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmdsX1Bvc2l0aW9uLnotPWJpYXNBbmRTY2FsZVNNLngqZ2xfUG9zaXRpb24udypCSUFTRkFDVE9SOwojZWxzZQpnbF9Qb3NpdGlvbi56Kz1iaWFzQW5kU2NhbGVTTS54KmdsX1Bvc2l0aW9uLncqQklBU0ZBQ1RPUjsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnpTTT1nbF9Qb3NpdGlvbi56OwpnbF9Qb3NpdGlvbi56PTAuMDsKI2VsaWYgU01fVVNFRElTVEFOQ0U9PTAKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY1NNPSgtZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZWxzZQp2RGVwdGhNZXRyaWNTTT0oZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt2b109RW87Y29uc3QgVG89ImNsaXBQbGFuZVZlcnRleCIsYm89YCNpZmRlZiBDTElQUExBTkUKZkNsaXBEaXN0YW5jZT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZSk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgpmQ2xpcERpc3RhbmNlMj1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTIpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZkNsaXBEaXN0YW5jZTM9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUzKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmZDbGlwRGlzdGFuY2U0PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNCk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQpmQ2xpcERpc3RhbmNlNT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTUpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZkNsaXBEaXN0YW5jZTY9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU2KTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtUb109Ym87Y29uc3QgU289InNoYWRvd01hcFZlcnRleFNoYWRlciIseG89YGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMDsKYXR0cmlidXRlIHZlYzQgd29ybGQxOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMzsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19zaGFkb3dNYXBWZXJ0ZXg+CiNpZmRlZiBBTFBIQVRFWFRVUkUKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaWZkZWYgVVYyCmF0dHJpYnV0ZSB2ZWMyIHV2MjsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhFeHRyYURlY2xhcmF0aW9uPgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFVwZGF0ZWQ9bm9ybWFsOwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgTk9STUFMCm1hdDMgbm9ybVdvcmxkU009bWF0MyhmaW5hbFdvcmxkKTsKI2lmIGRlZmluZWQoSU5TVEFOQ0VTKSAmJiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKQp2ZWMzIHZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybVdvcmxkU01bMF0sbm9ybVdvcmxkU01bMF0pLGRvdChub3JtV29ybGRTTVsxXSxub3JtV29ybGRTTVsxXSksZG90KG5vcm1Xb3JsZFNNWzJdLG5vcm1Xb3JsZFNNWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtV29ybGRTTT10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1Xb3JsZFNNKSk7CiNlbmRpZgp2ZWMzIHZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSpub3JtYWxVcGRhdGVkKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhOb3JtYWxCaWFzPgpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4TWV0cmljPgojaWZkZWYgQUxQSEFURVhUVVJFCiNpZmRlZiBVVjEKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7CiNlbmRpZgojaWZkZWYgVVYyCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KfWA7TC5TaGFkZXJzU3RvcmVbU29dPXhvO2NvbnN0IE1vPSJkZXB0aEJveEJsdXJQaXhlbFNoYWRlciIsQW89YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZTsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjNCBjb2xvckRlcHRoPXZlYzQoMC4wKTsKZm9yIChpbnQgeD0tT0ZGU0VUOyB4PD1PRkZTRVQ7IHgrKykKZm9yIChpbnQgeT0tT0ZGU0VUOyB5PD1PRkZTRVQ7IHkrKykKY29sb3JEZXB0aCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHZVVit2ZWMyKHgseSkvc2NyZWVuU2l6ZSk7CmdsX0ZyYWdDb2xvcj0oY29sb3JEZXB0aC9mbG9hdCgoT0ZGU0VUKjIrMSkqKE9GRlNFVCoyKzEpKSk7Cn1gO0wuU2hhZGVyc1N0b3JlW01vXT1Bbztjb25zdCBSbz0ic2hhZG93TWFwRnJhZ21lbnRTb2Z0VHJhbnNwYXJlbnRTaGFkb3ciLHlvPWAjaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYSkgZGlzY2FyZDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtSb109eW87Y2xhc3MgSHtnZXQgYmlhcygpe3JldHVybiB0aGlzLl9iaWFzfXNldCBiaWFzKGUpe3RoaXMuX2JpYXM9ZX1nZXQgbm9ybWFsQmlhcygpe3JldHVybiB0aGlzLl9ub3JtYWxCaWFzfXNldCBub3JtYWxCaWFzKGUpe3RoaXMuX25vcm1hbEJpYXM9ZX1nZXQgYmx1ckJveE9mZnNldCgpe3JldHVybiB0aGlzLl9ibHVyQm94T2Zmc2V0fXNldCBibHVyQm94T2Zmc2V0KGUpe3RoaXMuX2JsdXJCb3hPZmZzZXQhPT1lJiYodGhpcy5fYmx1ckJveE9mZnNldD1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX1nZXQgYmx1clNjYWxlKCl7cmV0dXJuIHRoaXMuX2JsdXJTY2FsZX1zZXQgYmx1clNjYWxlKGUpe3RoaXMuX2JsdXJTY2FsZSE9PWUmJih0aGlzLl9ibHVyU2NhbGU9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IGJsdXJLZXJuZWwoKXtyZXR1cm4gdGhpcy5fYmx1cktlcm5lbH1zZXQgYmx1cktlcm5lbChlKXt0aGlzLl9ibHVyS2VybmVsIT09ZSYmKHRoaXMuX2JsdXJLZXJuZWw9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IHVzZUtlcm5lbEJsdXIoKXtyZXR1cm4gdGhpcy5fdXNlS2VybmVsQmx1cn1zZXQgdXNlS2VybmVsQmx1cihlKXt0aGlzLl91c2VLZXJuZWxCbHVyIT09ZSYmKHRoaXMuX3VzZUtlcm5lbEJsdXI9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IGRlcHRoU2NhbGUoKXtyZXR1cm4gdGhpcy5fZGVwdGhTY2FsZSE9PXZvaWQgMD90aGlzLl9kZXB0aFNjYWxlOnRoaXMuX2xpZ2h0LmdldERlcHRoU2NhbGUoKX1zZXQgZGVwdGhTY2FsZShlKXt0aGlzLl9kZXB0aFNjYWxlPWV9X3ZhbGlkYXRlRmlsdGVyKGUpe3JldHVybiBlfWdldCBmaWx0ZXIoKXtyZXR1cm4gdGhpcy5fZmlsdGVyfXNldCBmaWx0ZXIoZSl7aWYoZT10aGlzLl92YWxpZGF0ZUZpbHRlcihlKSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKXtpZihlPT09SC5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQKXt0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1ILkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCl7dGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1ILkZJTFRFUl9QQ0Z8fGU9PT1ILkZJTFRFUl9QQ1NTKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59fWlmKChlPT09SC5GSUxURVJfUENGfHxlPT09SC5GSUxURVJfUENTUykmJiF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5fZmVhdHVyZXMuc3VwcG9ydFNoYWRvd1NhbXBsZXJzKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59dGhpcy5fZmlsdGVyIT09ZSYmKHRoaXMuX2ZpbHRlcj1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9Z2V0IHVzZVBvaXNzb25TYW1wbGluZygpe3JldHVybiB0aGlzLmZpbHRlcj09PUguRklMVEVSX1BPSVNTT05TQU1QTElOR31zZXQgdXNlUG9pc3NvblNhbXBsaW5nKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoSC5GSUxURVJfUE9JU1NPTlNBTVBMSU5HKTshZSYmdGhpcy5maWx0ZXIhPT1ILkZJTFRFUl9QT0lTU09OU0FNUExJTkd8fCh0aGlzLmZpbHRlcj1lP3Q6SC5GSUxURVJfTk9ORSl9Z2V0IHVzZUV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoSC5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUguRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCB1c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1ILkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09SC5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCB1c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUH1zZXQgdXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUguRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6SC5GSUxURVJfTk9ORSl9Z2V0IHVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoSC5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUguRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCB1c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfUENGfXNldCB1c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoSC5GSUxURVJfUENGKTshZSYmdGhpcy5maWx0ZXIhPT1ILkZJTFRFUl9QQ0Z8fCh0aGlzLmZpbHRlcj1lP3Q6SC5GSUxURVJfTk9ORSl9Z2V0IGZpbHRlcmluZ1F1YWxpdHkoKXtyZXR1cm4gdGhpcy5fZmlsdGVyaW5nUXVhbGl0eX1zZXQgZmlsdGVyaW5nUXVhbGl0eShlKXt0aGlzLl9maWx0ZXJpbmdRdWFsaXR5IT09ZSYmKHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCB1c2VDb250YWN0SGFyZGVuaW5nU2hhZG93KCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfUENTU31zZXQgdXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdyhlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX1BDU1MpOyFlJiZ0aGlzLmZpbHRlciE9PUguRklMVEVSX1BDU1N8fCh0aGlzLmZpbHRlcj1lP3Q6SC5GSUxURVJfTk9ORSl9Z2V0IGNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKCl7cmV0dXJuIHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvfXNldCBjb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyhlKXt0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz1lfWdldCBkYXJrbmVzcygpe3JldHVybiB0aGlzLl9kYXJrbmVzc31zZXQgZGFya25lc3MoZSl7dGhpcy5zZXREYXJrbmVzcyhlKX1nZXREYXJrbmVzcygpe3JldHVybiB0aGlzLl9kYXJrbmVzc31zZXREYXJrbmVzcyhlKXtyZXR1cm4gZT49MT90aGlzLl9kYXJrbmVzcz0xOmU8PTA/dGhpcy5fZGFya25lc3M9MDp0aGlzLl9kYXJrbmVzcz1lLHRoaXN9Z2V0IHRyYW5zcGFyZW5jeVNoYWRvdygpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3d9c2V0IHRyYW5zcGFyZW5jeVNoYWRvdyhlKXt0aGlzLnNldFRyYW5zcGFyZW5jeVNoYWRvdyhlKX1zZXRUcmFuc3BhcmVuY3lTaGFkb3coZSl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz1lLHRoaXN9Z2V0U2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01hcH1nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5fc2hhZG93TWFwMj90aGlzLl9zaGFkb3dNYXAyOnRoaXMuX3NoYWRvd01hcH1nZXRDbGFzc05hbWUoKXtyZXR1cm4gSC5DTEFTU05BTUV9YWRkU2hhZG93Q2FzdGVyKGUsdD0hMCl7aWYoIXRoaXMuX3NoYWRvd01hcClyZXR1cm4gdGhpcztpZih0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdHx8KHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PVtdKSx0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5pbmRleE9mKGUpPT09LTEmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnB1c2goZSksdClmb3IoY29uc3QgaSBvZiBlLmdldENoaWxkTWVzaGVzKCkpdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihpKT09PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGkpO3JldHVybiB0aGlzfXJlbW92ZVNoYWRvd0Nhc3RlcihlLHQ9ITApe2lmKCF0aGlzLl9zaGFkb3dNYXB8fCF0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdClyZXR1cm4gdGhpcztjb25zdCBpPXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoZSk7aWYoaSE9PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5zcGxpY2UoaSwxKSx0KWZvcihjb25zdCBzIG9mIGUuZ2V0Q2hpbGRyZW4oKSl0aGlzLnJlbW92ZVNoYWRvd0Nhc3RlcihzKTtyZXR1cm4gdGhpc31nZXRMaWdodCgpe3JldHVybiB0aGlzLl9saWdodH1fZ2V0Q2FtZXJhKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5fY2FtZXJhKSE9PW51bGwmJmUhPT12b2lkIDA/ZTp0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmF9Z2V0IG1hcFNpemUoKXtyZXR1cm4gdGhpcy5fbWFwU2l6ZX1zZXQgbWFwU2l6ZShlKXt0aGlzLl9tYXBTaXplPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLnJlY3JlYXRlU2hhZG93TWFwKCl9Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IHcsdGhpcy5fYmlhcz01ZS01LHRoaXMuX25vcm1hbEJpYXM9MCx0aGlzLl9ibHVyQm94T2Zmc2V0PTEsdGhpcy5fYmx1clNjYWxlPTIsdGhpcy5fYmx1cktlcm5lbD0xLHRoaXMuX3VzZUtlcm5lbEJsdXI9ITEsdGhpcy5fZmlsdGVyPUguRklMVEVSX05PTkUsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1ILlFVQUxJVFlfSElHSCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz0uMSx0aGlzLl9kYXJrbmVzcz0wLHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz0hMSx0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3c9ITEsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmY9MCx0aGlzLmZvcmNlQmFja0ZhY2VzT25seT0hMSx0aGlzLl9saWdodERpcmVjdGlvbj1wLlplcm8oKSx0aGlzLl92aWV3TWF0cml4PU0uWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9TS5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4PU0uWmVybygpLHRoaXMuX2NhY2hlZFBvc2l0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZWREaXJlY3Rpb249bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9MCx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9MCx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeD1NLklkZW50aXR5KCksdGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0PXQsdGhpcy5fc2NlbmU9dC5nZXRTY2VuZSgpLHRoaXMuX2NhbWVyYT1zPz9udWxsO2xldCByPXQuX3NoYWRvd0dlbmVyYXRvcnM7cnx8KHI9dC5fc2hhZG93R2VuZXJhdG9ycz1uZXcgTWFwKSxyLnNldCh0aGlzLl9jYW1lcmEsdGhpcyksdGhpcy5pZD10LmlkLHRoaXMuX3VzZVVCTz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLHRoaXMuX3VzZVVCTyYmKHRoaXMuX3NjZW5lVUJPcz1bXSx0aGlzLl9zY2VuZVVCT3MucHVzaCh0aGlzLl9zY2VuZS5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoYFNjZW5lIGZvciBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJHt0aGlzLl9saWdodC5uYW1lfSIpYCkpKSxILl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uKHRoaXMuX3NjZW5lKTtjb25zdCBuPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmdldENhcHMoKTtpP24udGV4dHVyZUZsb2F0UmVuZGVyJiZuLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0xOm4udGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmbi50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTI6dGhpcy5fdGV4dHVyZVR5cGU9MDpuLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJm4udGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0yOm4udGV4dHVyZUZsb2F0UmVuZGVyJiZuLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0xOnRoaXMuX3RleHR1cmVUeXBlPTAsdGhpcy5faW5pdGlhbGl6ZUdlbmVyYXRvcigpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCl9X2luaXRpYWxpemVHZW5lcmF0b3IoKXt0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMuX2luaXRpYWxpemVTaGFkb3dNYXAoKX1fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpe2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5fZmVhdHVyZXMuc3VwcG9ydERlcHRoU3RlbmNpbFRleHR1cmU/KHRoaXMuX3NoYWRvd01hcD1uZXcgZ3QodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpLHZvaWQgMCwhMSwhMSksdGhpcy5fc2hhZG93TWFwLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZS51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NTE2OjUxMywhMCkpOnRoaXMuX3NoYWRvd01hcD1uZXcgZ3QodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKX1faW5pdGlhbGl6ZVNoYWRvd01hcCgpe2lmKHRoaXMuX2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmUoKSx0aGlzLl9zaGFkb3dNYXA9PT1udWxsKXJldHVybjt0aGlzLl9zaGFkb3dNYXAud3JhcFU9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAud3JhcFY9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD0xLHRoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUoTi5CSUxJTkVBUl9TQU1QTElOR01PREUpLHRoaXMuX3NoYWRvd01hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fc2hhZG93TWFwLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSEwLHRoaXMuX3N0b3JlZFVuaXF1ZUlkJiYodGhpcy5fc2hhZG93TWFwLnVuaXF1ZUlkPXRoaXMuX3N0b3JlZFVuaXF1ZUlkKSx0aGlzLl9zaGFkb3dNYXAuY3VzdG9tUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyRm9yU2hhZG93TWFwLmJpbmQodGhpcyksdGhpcy5fc2hhZG93TWFwLmN1c3RvbUlzUmVhZHlGdW5jdGlvbj0oKT0+ITA7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgczt0aGlzLl9jdXJyZW50U2NlbmVVQk89dGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCksKHM9ZS5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKGUsYHNoYWRvdyBtYXAgZ2VuZXJhdGlvbiBmb3IgcGFzcyBpZCAke2UuY3VycmVudFJlbmRlclBhc3NJZH1gLDEpfSksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQocz0+e3RoaXMuX3NjZW5lVUJPcyYmdGhpcy5fc2NlbmUuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKHRoaXMuX3NjZW5lVUJPc1swXSksdGhpcy5fY3VycmVudEZhY2VJbmRleD1zLHRoaXMuX2ZpbHRlcj09PUguRklMVEVSX1BDRiYmZS5zZXRDb2xvcldyaXRlKCExKSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpLHRoaXMuX3NjZW5lLnNldFRyYW5zZm9ybU1hdHJpeCh0aGlzLl92aWV3TWF0cml4LHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpLHRoaXMuX3VzZVVCTyYmKHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLnVuYmluZEVmZmVjdCgpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSl9KSx0aGlzLl9zaGFkb3dNYXAub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHMscjtpZih0aGlzLl9zY2VuZVVCT3MmJnRoaXMuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLl9jdXJyZW50U2NlbmVVQk8pLHRoaXMuX3NjZW5lLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMuX2ZpbHRlcj09PUguRklMVEVSX1BDRiYmZS5zZXRDb2xvcldyaXRlKCEwKSwhdGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAmJiF0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKXsocz1lLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHM9PT12b2lkIDB8fHMuY2FsbChlLDEpO3JldHVybn1jb25zdCBuPXRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCk7biYmKHRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzTWFuYWdlci5kaXJlY3RSZW5kZXIodGhpcy5fYmx1clBvc3RQcm9jZXNzZXMsbi5yZW5kZXJUYXJnZXQsITApLGUudW5CaW5kRnJhbWVidWZmZXIobi5yZW5kZXJUYXJnZXQsITApLChyPWUuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8cj09PXZvaWQgMHx8ci5jYWxsKGUsMSkpfSk7Y29uc3QgdD1uZXcgTmUoMCwwLDAsMCksaT1uZXcgTmUoMSwxLDEsMSk7dGhpcy5fc2hhZG93TWFwLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChzPT57dGhpcy5fZmlsdGVyPT09SC5GSUxURVJfUENGP3MuY2xlYXIoaSwhMSwhMCwhMSk6dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/cy5jbGVhcih0LCEwLCEwLCExKTpzLmNsZWFyKGksITAsITAsITEpfSksdGhpcy5fc2hhZG93TWFwLm9uUmVzaXplT2JzZXJ2YWJsZS5hZGQocz0+e3RoaXMuX3N0b3JlZFVuaXF1ZUlkPXRoaXMuX3NoYWRvd01hcC51bmlxdWVJZCx0aGlzLl9tYXBTaXplPXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpfSk7Zm9yKGxldCBzPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7czxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO3MrKyl0aGlzLl9zaGFkb3dNYXAuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKHMsITEpfV9pbml0aWFsaXplQmx1clJUVEFuZFBvc3RQcm9jZXNzZXMoKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHQ9dGhpcy5fbWFwU2l6ZS90aGlzLmJsdXJTY2FsZTsoIXRoaXMudXNlS2VybmVsQmx1cnx8dGhpcy5ibHVyU2NhbGUhPT0xKSYmKHRoaXMuX3NoYWRvd01hcDI9bmV3IGd0KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAyIix0LHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHZvaWQgMCx2b2lkIDAsITEpLHRoaXMuX3NoYWRvd01hcDIud3JhcFU9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAyLndyYXBWPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwMi51cGRhdGVTYW1wbGluZ01vZGUoTi5CSUxJTkVBUl9TQU1QTElOR01PREUpKSx0aGlzLnVzZUtlcm5lbEJsdXI/KHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3M9bmV3IGVpKHRoaXMuX2xpZ2h0Lm5hbWUrIktlcm5lbEJsdXJYIixuZXcgdmUoMSwwKSx0aGlzLmJsdXJLZXJuZWwsMSxudWxsLE4uQklMSU5FQVJfU0FNUExJTkdNT0RFLGUsITEsdGhpcy5fdGV4dHVyZVR5cGUpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3Mud2lkdGg9dCx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmhlaWdodD10LHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoaT0+e2kuc2V0VGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHRoaXMuX3NoYWRvd01hcCl9KSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzPW5ldyBlaSh0aGlzLl9saWdodC5uYW1lKyJLZXJuZWxCbHVyWSIsbmV3IHZlKDAsMSksdGhpcy5ibHVyS2VybmVsLDEsbnVsbCxOLkJJTElORUFSX1NBTVBMSU5HTU9ERSxlLCExLHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl90ZXh0dXJlVHlwZT09PTAmJih0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MucGFja2VkRmxvYXQ9ITApLHRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzPVt0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3NdKToodGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzPW5ldyB4ZSh0aGlzLl9saWdodC5uYW1lKyJEZXB0aEJveEJsdXIiLCJkZXB0aEJveEJsdXIiLFsic2NyZWVuU2l6ZSIsImJveE9mZnNldCJdLFtdLDEsbnVsbCxOLkJJTElORUFSX1NBTVBMSU5HTU9ERSxlLCExLCIjZGVmaW5lIE9GRlNFVCAiK3RoaXMuX2JsdXJCb3hPZmZzZXQsdGhpcy5fdGV4dHVyZVR5cGUpLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMCx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3Mub25BcHBseU9ic2VydmFibGUuYWRkKGk9PntpLnNldEZsb2F0Migic2NyZWVuU2l6ZSIsdCx0KSxpLnNldFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix0aGlzLl9zaGFkb3dNYXApfSksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzXSl9X3JlbmRlckZvclNoYWRvd01hcChlLHQsaSxzKXtsZXQgcjtpZihzLmxlbmd0aClmb3Iocj0wO3I8cy5sZW5ndGg7cisrKXRoaXMuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAocy5kYXRhW3JdKTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXRoaXMuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZS5kYXRhW3JdKTtmb3Iocj0wO3I8dC5sZW5ndGg7cisrKXRoaXMuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAodC5kYXRhW3JdKTtpZih0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3cpZm9yKHI9MDtyPGkubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGkuZGF0YVtyXSwhMCk7ZWxzZSBmb3Iocj0wO3I8aS5sZW5ndGg7cisrKWkuZGF0YVtyXS5nZXRFZmZlY3RpdmVNZXNoKCkuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExfV9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLHQsaSl7dC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpKX1fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLHQ9ITEpe3ZhciBpLHM7Y29uc3Qgcj1lLmdldFJlbmRlcmluZ01lc2goKSxuPWUuZ2V0RWZmZWN0aXZlTWVzaCgpLGE9dGhpcy5fc2NlbmUsbz1hLmdldEVuZ2luZSgpLGg9ZS5nZXRNYXRlcmlhbCgpO2lmKG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExLCFofHxlLnZlcnRpY2VzQ291bnQ9PT0wfHxlLl9yZW5kZXJJZD09PWEuZ2V0UmVuZGVySWQoKSlyZXR1cm47Y29uc3QgbD1uLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk8MDtsZXQgdT0oaT1yLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pIT09bnVsbCYmaSE9PXZvaWQgMD9pOmguc2lkZU9yaWVudGF0aW9uO2wmJih1PXU9PT0wPzE6MCk7Y29uc3QgZD11PT09MDtvLnNldFN0YXRlKGguYmFja0ZhY2VDdWxsaW5nLHZvaWQgMCx2b2lkIDAsZCxoLmN1bGxCYWNrRmFjZXMpO2NvbnN0IF89ci5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlLl9pZCwhIWUuZ2V0UmVwbGFjZW1lbnRNZXNoKCkpO2lmKF8ubXVzdFJldHVybilyZXR1cm47Y29uc3QgZj1vLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJihfLnZpc2libGVJbnN0YW5jZXNbZS5faWRdIT09bnVsbCYmXy52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PXZvaWQgMHx8ci5oYXNUaGluSW5zdGFuY2VzKTtpZighKHRoaXMuY3VzdG9tQWxsb3dSZW5kZXJpbmcmJiF0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nKGUpKSlpZih0aGlzLmlzUmVhZHkoZSxmLHQpKXtlLl9yZW5kZXJJZD1hLmdldFJlbmRlcklkKCk7Y29uc3QgbT1oLnNoYWRvd0RlcHRoV3JhcHBlcix2PShzPW09PW51bGw/dm9pZCAwOm0uZ2V0RWZmZWN0KGUsdGhpcyxvLmN1cnJlbnRSZW5kZXJQYXNzSWQpKSE9PW51bGwmJnMhPT12b2lkIDA/czplLl9nZXREcmF3V3JhcHBlcigpLEU9dmkuR2V0RWZmZWN0KHYpO28uZW5hYmxlRWZmZWN0KHYpLGZ8fHIuX2JpbmQoZSxFLGguZmlsbE1vZGUpLHRoaXMuZ2V0VHJhbnNmb3JtTWF0cml4KCksRS5zZXRGbG9hdDMoImJpYXNBbmRTY2FsZVNNIix0aGlzLmJpYXMsdGhpcy5ub3JtYWxCaWFzLHRoaXMuZGVwdGhTY2FsZSksdGhpcy5nZXRMaWdodCgpLmdldFR5cGVJRCgpPT09aGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD9FLnNldFZlY3RvcjMoImxpZ2h0RGF0YVNNIix0aGlzLl9jYWNoZWREaXJlY3Rpb24pOkUuc2V0VmVjdG9yMygibGlnaHREYXRhU00iLHRoaXMuX2NhY2hlZFBvc2l0aW9uKTtjb25zdCBTPXRoaXMuX2dldENhbWVyYSgpO2lmKFMmJkUuc2V0RmxvYXQyKCJkZXB0aFZhbHVlc1NNIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKFMpLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pblooUykrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihTKSksdCYmdGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJkUuc2V0RmxvYXQoInNvZnRUcmFuc3BhcmVudFNoYWRvd1NNIixuLnZpc2liaWxpdHkqaC5hbHBoYSksbSllLl9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZSh2KSxtLnN0YW5kYWxvbmU/bS5iYXNlTWF0ZXJpYWwuYmluZEZvclN1Yk1lc2gobi5nZXRXb3JsZE1hdHJpeCgpLHIsZSk6aC5iaW5kRm9yU3ViTWVzaChuLmdldFdvcmxkTWF0cml4KCkscixlKSxlLl9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShudWxsKTtlbHNle2lmKHRoaXMuX29wYWNpdHlUZXh0dXJlJiYoRS5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsdGhpcy5fb3BhY2l0eVRleHR1cmUpLEUuc2V0TWF0cml4KCJkaWZmdXNlTWF0cml4Iix0aGlzLl9vcGFjaXR5VGV4dHVyZS5nZXRUZXh0dXJlTWF0cml4KCl8fHRoaXMuX2RlZmF1bHRUZXh0dXJlTWF0cml4KSksci51c2VCb25lcyYmci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnIuc2tlbGV0b24pe2NvbnN0IEE9ci5za2VsZXRvbjtpZihBLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMpe2NvbnN0IEM9QS5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKHIpO2lmKCFDKXJldHVybjtFLnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixDKSxFLnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihBLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSBFLnNldE1hdHJpY2VzKCJtQm9uZXMiLEEuZ2V0VHJhbnNmb3JtTWF0cmljZXMocikpfXNlLkJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnMocixFKSxyLm1vcnBoVGFyZ2V0TWFuYWdlciYmci5tb3JwaFRhcmdldE1hbmFnZXIuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZyLm1vcnBoVGFyZ2V0TWFuYWdlci5fYmluZChFKSxocyhFLGgsYSl9IXRoaXMuX3VzZVVCTyYmIW0mJnRoaXMuX2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUsRSxuKSxzZS5CaW5kU2NlbmVVbmlmb3JtQnVmZmVyKEUsdGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLmJpbmRVbmlmb3JtQnVmZmVyKCk7Y29uc3QgUj1uLmdldFdvcmxkTWF0cml4KCk7ZiYmKG4uZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QoRSwiTWVzaCIpLG4udHJhbnNmZXJUb0VmZmVjdChSKSksdGhpcy5mb3JjZUJhY2tGYWNlc09ubHkmJm8uc2V0U3RhdGUoITAsMCwhMSwhMCxoLmN1bGxCYWNrRmFjZXMpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMociksdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKEUpLHIuX3Byb2Nlc3NSZW5kZXJpbmcobixlLEUsaC5maWxsTW9kZSxfLGYsKEEsQyk9PntuIT09ciYmIUE/KHIuZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QoRSwiTWVzaCIpLHIudHJhbnNmZXJUb0VmZmVjdChDKSk6KG4uZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QoRSwiTWVzaCIpLG4udHJhbnNmZXJUb0VmZmVjdChBP0M6UikpfSksdGhpcy5mb3JjZUJhY2tGYWNlc09ubHkmJm8uc2V0U3RhdGUoITAsMCwhMSwhMSxoLmN1bGxCYWNrRmFjZXMpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKEUpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKX1lbHNlIHRoaXMuX3NoYWRvd01hcCYmdGhpcy5fc2hhZG93TWFwLnJlc2V0UmVmcmVzaENvdW50ZXIoKX1fYXBwbHlGaWx0ZXJWYWx1ZXMoKXt0aGlzLl9zaGFkb3dNYXAmJih0aGlzLmZpbHRlcj09PUguRklMVEVSX05PTkV8fHRoaXMuZmlsdGVyPT09SC5GSUxURVJfUENTUz90aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKE4uTkVBUkVTVF9TQU1QTElOR01PREUpOnRoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUoTi5CSUxJTkVBUl9TQU1QTElOR01PREUpKX1mb3JjZUNvbXBpbGF0aW9uKGUsdCl7Y29uc3QgaT17dXNlSW5zdGFuY2VzOiExLC4uLnR9LHM9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighcyl7ZSYmZSh0aGlzKTtyZXR1cm59Y29uc3Qgcj1zLnJlbmRlckxpc3Q7aWYoIXIpe2UmJmUodGhpcyk7cmV0dXJufWNvbnN0IG49bmV3IEFycmF5O2Zvcihjb25zdCBoIG9mIHIpbi5wdXNoKC4uLmguc3ViTWVzaGVzKTtpZihuLmxlbmd0aD09PTApe2UmJmUodGhpcyk7cmV0dXJufWxldCBhPTA7Y29uc3Qgbz0oKT0+e3ZhciBoLGw7aWYoISghdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSkpe2Zvcig7dGhpcy5pc1JlYWR5KG5bYV0saS51c2VJbnN0YW5jZXMsKGw9KGg9blthXS5nZXRNYXRlcmlhbCgpKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmgubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKG5bYV0uZ2V0TWVzaCgpKSkhPT1udWxsJiZsIT09dm9pZCAwP2w6ITEpOylpZihhKyssYT49bi5sZW5ndGgpe2UmJmUodGhpcyk7cmV0dXJufXNldFRpbWVvdXQobywxNil9fTtvKCl9Zm9yY2VDb21waWxhdGlvbkFzeW5jKGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57dGhpcy5mb3JjZUNvbXBpbGF0aW9uKCgpPT57dCgpfSxlKX0pfV9pc1JlYWR5Q3VzdG9tRGVmaW5lcyhlLHQsaSl7fV9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsaSxzKXtpLnB1c2goIiNkZWZpbmUgU01fTElHSFRUWVBFXyIrdGhpcy5fbGlnaHQuZ2V0Q2xhc3NOYW1lKCkudG9VcHBlckNhc2UoKSksaS5wdXNoKCIjZGVmaW5lIFNNX0ZMT0FUICIrKHRoaXMuX3RleHR1cmVUeXBlIT09MD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0VTTSAiKyh0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0RFUFRIVEVYVFVSRSAiKyh0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmd8fHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8iMSI6IjAiKSk7Y29uc3Qgcj1lLmdldE1lc2goKTtyZXR1cm4gaS5wdXNoKCIjZGVmaW5lIFNNX05PUk1BTEJJQVMgIisodGhpcy5ub3JtYWxCaWFzJiZyLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpPyIxIjoiMCIpKSxpLnB1c2goIiNkZWZpbmUgU01fRElSRUNUSU9OSU5MSUdIVERBVEEgIisodGhpcy5nZXRMaWdodCgpLmdldFR5cGVJRCgpPT09aGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX1VTRURJU1RBTkNFICIrKHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCk/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9TT0ZUVFJBTlNQQVJFTlRTSEFET1cgIisodGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJnM/IjEiOiIwIikpLHRoaXMuX2lzUmVhZHlDdXN0b21EZWZpbmVzKGksZSx0KSxpfWlzUmVhZHkoZSx0LGkpe3ZhciBzO2NvbnN0IHI9ZS5nZXRNYXRlcmlhbCgpLG49cj09bnVsbD92b2lkIDA6ci5zaGFkb3dEZXB0aFdyYXBwZXI7aWYodGhpcy5fb3BhY2l0eVRleHR1cmU9bnVsbCwhcilyZXR1cm4hMTtjb25zdCBhPVtdO2lmKHRoaXMuX3ByZXBhcmVTaGFkb3dEZWZpbmVzKGUsdCxhLGkpLG4pe2lmKCFuLmlzUmVhZHlGb3JTdWJNZXNoKGUsYSx0aGlzLHQsdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3VycmVudFJlbmRlclBhc3NJZCkpcmV0dXJuITF9ZWxzZXtjb25zdCBvPWUuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCk7bGV0IGg9by5lZmZlY3QsbD1vLmRlZmluZXM7Y29uc3QgdT1bZy5Qb3NpdGlvbktpbmRdLGQ9ZS5nZXRNZXNoKCk7dGhpcy5ub3JtYWxCaWFzJiZkLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpJiYodS5wdXNoKGcuTm9ybWFsS2luZCksYS5wdXNoKCIjZGVmaW5lIE5PUk1BTCIpLGQubm9uVW5pZm9ybVNjYWxpbmcmJmEucHVzaCgiI2RlZmluZSBOT05VTklGT1JNU0NBTElORyIpKTtjb25zdCBfPXIubmVlZEFscGhhVGVzdGluZygpO2lmKChffHxyLm5lZWRBbHBoYUJsZW5kaW5nKCkpJiYodGhpcy51c2VPcGFjaXR5VGV4dHVyZUZvclRyYW5zcGFyZW50U2hhZG93P3RoaXMuX29wYWNpdHlUZXh0dXJlPXIub3BhY2l0eVRleHR1cmU6dGhpcy5fb3BhY2l0eVRleHR1cmU9ci5nZXRBbHBoYVRlc3RUZXh0dXJlKCksdGhpcy5fb3BhY2l0eVRleHR1cmUpKXtpZighdGhpcy5fb3BhY2l0eVRleHR1cmUuaXNSZWFkeSgpKXJldHVybiExO2NvbnN0IFM9KHM9ci5hbHBoYUN1dE9mZikhPT1udWxsJiZzIT09dm9pZCAwP3M6SC5ERUZBVUxUX0FMUEhBX0NVVE9GRjthLnB1c2goIiNkZWZpbmUgQUxQSEFURVhUVVJFIiksXyYmYS5wdXNoKGAjZGVmaW5lIEFMUEhBVEVTVFZBTFVFICR7U30ke1MlMT09PTA/Ii4iOiIifWApLGQuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKHUucHVzaChnLlVWS2luZCksYS5wdXNoKCIjZGVmaW5lIFVWMSIpKSxkLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWMktpbmQpJiZ0aGlzLl9vcGFjaXR5VGV4dHVyZS5jb29yZGluYXRlc0luZGV4PT09MSYmKHUucHVzaChnLlVWMktpbmQpLGEucHVzaCgiI2RlZmluZSBVVjIiKSl9Y29uc3QgZj1uZXcgWXM7aWYoZC51c2VCb25lcyYmZC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmQuc2tlbGV0b24pe3UucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLHUucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGQubnVtQm9uZUluZmx1ZW5jZXJzPjQmJih1LnB1c2goZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLHUucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpO2NvbnN0IFM9ZC5za2VsZXRvbjthLnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgIitkLm51bUJvbmVJbmZsdWVuY2VycyksZC5udW1Cb25lSW5mbHVlbmNlcnM+MCYmZi5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsZCksUy5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzP2EucHVzaCgiI2RlZmluZSBCT05FVEVYVFVSRSIpOmEucHVzaCgiI2RlZmluZSBCb25lc1Blck1lc2ggIisoUy5ib25lcy5sZW5ndGgrMSkpfWVsc2UgYS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKTtjb25zdCBtPWQubW9ycGhUYXJnZXRNYW5hZ2VyO2xldCB2PTA7aWYobSYmbS5udW1JbmZsdWVuY2Vycz4wJiYoYS5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUUyIpLHY9bS5udW1JbmZsdWVuY2VycyxhLnB1c2goIiNkZWZpbmUgTlVNX01PUlBIX0lORkxVRU5DRVJTICIrdiksbS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmEucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFNfVEVYVFVSRSIpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnModSxkLHYpKSx3cihyLHRoaXMuX3NjZW5lLGEpLHQmJihhLnB1c2goIiNkZWZpbmUgSU5TVEFOQ0VTIiksc2UuUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXModSksZS5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcyYmYS5wdXNoKCIjZGVmaW5lIFRISU5fSU5TVEFOQ0VTIikpLHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucyYmdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmRlZmluZXMpZm9yKGNvbnN0IFMgb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmRlZmluZXMpYS5pbmRleE9mKFMpPT09LTEmJmEucHVzaChTKTtjb25zdCBFPWEuam9pbihgCmApO2lmKGwhPT1FKXtsPUU7bGV0IFM9InNoYWRvd01hcCI7Y29uc3QgUj1bIndvcmxkIiwibUJvbmVzIiwidmlld1Byb2plY3Rpb24iLCJkaWZmdXNlTWF0cml4IiwibGlnaHREYXRhU00iLCJkZXB0aFZhbHVlc1NNIiwiYmlhc0FuZFNjYWxlU00iLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLCJib25lVGV4dHVyZVdpZHRoIiwic29mdFRyYW5zcGFyZW50U2hhZG93U00iLCJtb3JwaFRhcmdldFRleHR1cmVJbmZvIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlcyJdLEE9WyJkaWZmdXNlU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIl0sQz1bIlNjZW5lIiwiTWVzaCJdO2lmKG9zKFIpLHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucyl7aWYoUz10aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuc2hhZGVyTmFtZSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuYXR0cmlidXRlcylmb3IoY29uc3QgeCBvZiB0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuYXR0cmlidXRlcyl1LmluZGV4T2YoeCk9PT0tMSYmdS5wdXNoKHgpO2lmKHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy51bmlmb3Jtcylmb3IoY29uc3QgeCBvZiB0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMudW5pZm9ybXMpUi5pbmRleE9mKHgpPT09LTEmJlIucHVzaCh4KTtpZih0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuc2FtcGxlcnMpZm9yKGNvbnN0IHggb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzKUEuaW5kZXhPZih4KT09PS0xJiZBLnB1c2goeCl9Y29uc3QgYj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtoPWIuY3JlYXRlRWZmZWN0KFMse2F0dHJpYnV0ZXM6dSx1bmlmb3Jtc05hbWVzOlIsdW5pZm9ybUJ1ZmZlcnNOYW1lczpDLHNhbXBsZXJzOkEsZGVmaW5lczpFLGZhbGxiYWNrczpmLG9uQ29tcGlsZWQ6bnVsbCxvbkVycm9yOm51bGwsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHM6dn19LGIpLG8uc2V0RWZmZWN0KGgsbCl9aWYoIWguaXNSZWFkeSgpKXJldHVybiExfXJldHVybih0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCkmJighdGhpcy5fYmx1clBvc3RQcm9jZXNzZXN8fCF0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcy5sZW5ndGgpJiZ0aGlzLl9pbml0aWFsaXplQmx1clJUVEFuZFBvc3RQcm9jZXNzZXMoKSwhKHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MmJiF0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmlzUmVhZHkoKXx8dGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2VzcyYmIXRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MuaXNSZWFkeSgpfHx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MmJiF0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuaXNSZWFkeSgpKX1wcmVwYXJlRGVmaW5lcyhlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmUscz10aGlzLl9saWdodDshaS5zaGFkb3dzRW5hYmxlZHx8IXMuc2hhZG93RW5hYmxlZHx8KGVbIlNIQURPVyIrdF09ITAsdGhpcy51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PyhlWyJTSEFET1dQQ1NTIit0XT0hMCx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09SC5RVUFMSVRZX0xPVz9lWyJTSEFET1dMT1dRVUFMSVRZIit0XT0hMDp0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09SC5RVUFMSVRZX01FRElVTSYmKGVbIlNIQURPV01FRElVTVFVQUxJVFkiK3RdPSEwKSk6dGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPyhlWyJTSEFET1dQQ0YiK3RdPSEwLHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1ILlFVQUxJVFlfTE9XP2VbIlNIQURPV0xPV1FVQUxJVFkiK3RdPSEwOnRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1ILlFVQUxJVFlfTUVESVVNJiYoZVsiU0hBRE9XTUVESVVNUVVBTElUWSIrdF09ITApKTp0aGlzLnVzZVBvaXNzb25TYW1wbGluZz9lWyJTSEFET1dQT0lTU09OIit0XT0hMDp0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9lWyJTSEFET1dFU00iK3RdPSEwOih0aGlzLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApJiYoZVsiU0hBRE9XQ0xPU0VFU00iK3RdPSEwKSxzLm5lZWRDdWJlKCkmJihlWyJTSEFET1dDVUJFIit0XT0hMCkpfWJpbmRTaGFkb3dMaWdodChlLHQpe2NvbnN0IGk9dGhpcy5fbGlnaHQ7aWYoIXRoaXMuX3NjZW5lLnNoYWRvd3NFbmFibGVkfHwhaS5zaGFkb3dFbmFibGVkKXJldHVybjtjb25zdCByPXRoaXMuX2dldENhbWVyYSgpO2lmKCFyKXJldHVybjtjb25zdCBuPXRoaXMuZ2V0U2hhZG93TWFwKCk7biYmKGkubmVlZEN1YmUoKXx8dC5zZXRNYXRyaXgoImxpZ2h0TWF0cml4IitlLHRoaXMuZ2V0VHJhbnNmb3JtTWF0cml4KCkpLHRoaXMuX2ZpbHRlcj09PUguRklMVEVSX1BDRj8odC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLG4uZ2V0U2l6ZSgpLndpZHRoLDEvbi5nZXRTaXplKCkud2lkdGgsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpOnRoaXMuX2ZpbHRlcj09PUguRklMVEVSX1BDU1M/KHQuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSx0LnNldFRleHR1cmUoImRlcHRoU2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSwxL24uZ2V0U2l6ZSgpLndpZHRoLHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKm4uZ2V0U2l6ZSgpLndpZHRoLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKToodC5zZXRUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLHRoaXMuYmx1clNjYWxlL24uZ2V0U2l6ZSgpLndpZHRoLHRoaXMuZGVwdGhTY2FsZSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDIoImRlcHRoVmFsdWVzIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloocikrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihyKSxlKSl9Z2V0VHJhbnNmb3JtTWF0cml4KCl7Y29uc3QgZT10aGlzLl9zY2VuZTtpZih0aGlzLl9jdXJyZW50UmVuZGVySWQ9PT1lLmdldFJlbmRlcklkKCkmJnRoaXMuX2N1cnJlbnRGYWNlSW5kZXhDYWNoZT09PXRoaXMuX2N1cnJlbnRGYWNlSW5kZXgpcmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeDt0aGlzLl9jdXJyZW50UmVuZGVySWQ9ZS5nZXRSZW5kZXJJZCgpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXhDYWNoZT10aGlzLl9jdXJyZW50RmFjZUluZGV4O2xldCB0PXRoaXMuX2xpZ2h0LnBvc2l0aW9uO2lmKHRoaXMuX2xpZ2h0LmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCkmJih0PXRoaXMuX2xpZ2h0LnRyYW5zZm9ybWVkUG9zaXRpb24pLHAuTm9ybWFsaXplVG9SZWYodGhpcy5fbGlnaHQuZ2V0U2hhZG93RGlyZWN0aW9uKHRoaXMuX2N1cnJlbnRGYWNlSW5kZXgpLHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxNYXRoLmFicyhwLkRvdCh0aGlzLl9saWdodERpcmVjdGlvbixwLlVwKCkpKT09PTEmJih0aGlzLl9saWdodERpcmVjdGlvbi56PTFlLTEzKSx0aGlzLl9saWdodC5uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKXx8IXRoaXMuX2NhY2hlZFBvc2l0aW9ufHwhdGhpcy5fY2FjaGVkRGlyZWN0aW9ufHwhdC5lcXVhbHModGhpcy5fY2FjaGVkUG9zaXRpb24pfHwhdGhpcy5fbGlnaHREaXJlY3Rpb24uZXF1YWxzKHRoaXMuX2NhY2hlZERpcmVjdGlvbikpe3RoaXMuX2NhY2hlZFBvc2l0aW9uLmNvcHlGcm9tKHQpLHRoaXMuX2NhY2hlZERpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLl9saWdodERpcmVjdGlvbiksTS5Mb29rQXRMSFRvUmVmKHQsdC5hZGQodGhpcy5fbGlnaHREaXJlY3Rpb24pLHAuVXAoKSx0aGlzLl92aWV3TWF0cml4KTtjb25zdCBpPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoaSl7Y29uc3Qgcz1pLnJlbmRlckxpc3Q7cyYmdGhpcy5fbGlnaHQuc2V0U2hhZG93UHJvamVjdGlvbk1hdHJpeCh0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3ZpZXdNYXRyaXgscyl9dGhpcy5fdmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtTWF0cml4KX1yZXR1cm4gdGhpcy5fdHJhbnNmb3JtTWF0cml4fXJlY3JlYXRlU2hhZG93TWFwKCl7Y29uc3QgZT10aGlzLl9zaGFkb3dNYXA7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9ZS5yZW5kZXJMaXN0O2lmKHRoaXMuX2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCksdGhpcy5faW5pdGlhbGl6ZUdlbmVyYXRvcigpLHRoaXMuZmlsdGVyPXRoaXMuX2ZpbHRlcix0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHQpe3RoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0fHwodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9W10pO2Zvcihjb25zdCBpIG9mIHQpdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChpKX1lbHNlIHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PW51bGx9X2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3Nlcygpe3RoaXMuX3NoYWRvd01hcDImJih0aGlzLl9zaGFkb3dNYXAyLmRpc3Bvc2UoKSx0aGlzLl9zaGFkb3dNYXAyPW51bGwpLHRoaXMuX2JveEJsdXJQb3N0cHJvY2VzcyYmKHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzPW51bGwpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MmJih0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmRpc3Bvc2UoKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzPW51bGwpLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MmJih0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmRpc3Bvc2UoKSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzPW51bGwpLHRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzPVtdfV9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3Nlcygpe3RoaXMuX3NoYWRvd01hcCYmKHRoaXMuX3NoYWRvd01hcC5kaXNwb3NlKCksdGhpcy5fc2hhZG93TWFwPW51bGwpLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpfV9kaXNwb3NlU2NlbmVVQk9zKCl7aWYodGhpcy5fc2NlbmVVQk9zKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9zY2VuZVVCT3MpZS5kaXNwb3NlKCk7dGhpcy5fc2NlbmVVQk9zPVtdfX1kaXNwb3NlKCl7aWYodGhpcy5fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKSx0aGlzLl9kaXNwb3NlU2NlbmVVQk9zKCksdGhpcy5fbGlnaHQpe2lmKHRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3JzKXtjb25zdCBlPXRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3JzLmVudHJpZXMoKTtmb3IobGV0IHQ9ZS5uZXh0KCk7dC5kb25lIT09ITA7dD1lLm5leHQoKSl7Y29uc3RbaSxzXT10LnZhbHVlO3M9PT10aGlzJiZ0aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycy5kZWxldGUoaSl9dGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnMuc2l6ZT09PTAmJih0aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycz1udWxsKX10aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpfXRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCl9c2VyaWFsaXplKCl7dmFyIGU7Y29uc3QgdD17fSxpPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIWkpcmV0dXJuIHQ7aWYodC5jbGFzc05hbWU9dGhpcy5nZXRDbGFzc05hbWUoKSx0LmxpZ2h0SWQ9dGhpcy5fbGlnaHQuaWQsdC5jYW1lcmFJZD0oZT10aGlzLl9jYW1lcmEpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5pZCx0LmlkPXRoaXMuaWQsdC5tYXBTaXplPWkuZ2V0UmVuZGVyU2l6ZSgpLHQuZm9yY2VCYWNrRmFjZXNPbmx5PXRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5LHQuZGFya25lc3M9dGhpcy5nZXREYXJrbmVzcygpLHQudHJhbnNwYXJlbmN5U2hhZG93PXRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdyx0LmZydXN0dW1FZGdlRmFsbG9mZj10aGlzLmZydXN0dW1FZGdlRmFsbG9mZix0LmJpYXM9dGhpcy5iaWFzLHQubm9ybWFsQmlhcz10aGlzLm5vcm1hbEJpYXMsdC51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPXRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZyx0LnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c9dGhpcy51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93LHQuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89dGhpcy5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyx0LmZpbHRlcmluZ1F1YWxpdHk9dGhpcy5maWx0ZXJpbmdRdWFsaXR5LHQudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcCx0LnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCx0LnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCx0LnVzZVBvaXNzb25TYW1wbGluZz10aGlzLnVzZVBvaXNzb25TYW1wbGluZyx0LmRlcHRoU2NhbGU9dGhpcy5kZXB0aFNjYWxlLHQuYmx1ckJveE9mZnNldD10aGlzLmJsdXJCb3hPZmZzZXQsdC5ibHVyS2VybmVsPXRoaXMuYmx1cktlcm5lbCx0LmJsdXJTY2FsZT10aGlzLmJsdXJTY2FsZSx0LnVzZUtlcm5lbEJsdXI9dGhpcy51c2VLZXJuZWxCbHVyLHQucmVuZGVyTGlzdD1bXSxpLnJlbmRlckxpc3QpZm9yKGxldCBzPTA7czxpLnJlbmRlckxpc3QubGVuZ3RoO3MrKyl7Y29uc3Qgcj1pLnJlbmRlckxpc3Rbc107dC5yZW5kZXJMaXN0LnB1c2goci5pZCl9cmV0dXJuIHR9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPXQuZ2V0TGlnaHRCeUlkKGUubGlnaHRJZCkscj1lLmNhbWVyYUlkIT09dm9pZCAwP3QuZ2V0Q2FtZXJhQnlJZChlLmNhbWVyYUlkKTpudWxsLG49aT9pKGUubWFwU2l6ZSxzLHIpOm5ldyBIKGUubWFwU2l6ZSxzLHZvaWQgMCxyKSxhPW4uZ2V0U2hhZG93TWFwKCk7Zm9yKGxldCBvPTA7bzxlLnJlbmRlckxpc3QubGVuZ3RoO28rKyl0LmdldE1lc2hlc0J5SWQoZS5yZW5kZXJMaXN0W29dKS5mb3JFYWNoKGZ1bmN0aW9uKGwpe2EmJihhLnJlbmRlckxpc3R8fChhLnJlbmRlckxpc3Q9W10pLGEucmVuZGVyTGlzdC5wdXNoKGwpKX0pO3JldHVybiBlLmlkIT09dm9pZCAwJiYobi5pZD1lLmlkKSxuLmZvcmNlQmFja0ZhY2VzT25seT0hIWUuZm9yY2VCYWNrRmFjZXNPbmx5LGUuZGFya25lc3MhPT12b2lkIDAmJm4uc2V0RGFya25lc3MoZS5kYXJrbmVzcyksZS50cmFuc3BhcmVuY3lTaGFkb3cmJm4uc2V0VHJhbnNwYXJlbmN5U2hhZG93KCEwKSxlLmZydXN0dW1FZGdlRmFsbG9mZiE9PXZvaWQgMCYmKG4uZnJ1c3R1bUVkZ2VGYWxsb2ZmPWUuZnJ1c3R1bUVkZ2VGYWxsb2ZmKSxlLmJpYXMhPT12b2lkIDAmJihuLmJpYXM9ZS5iaWFzKSxlLm5vcm1hbEJpYXMhPT12b2lkIDAmJihuLm5vcm1hbEJpYXM9ZS5ub3JtYWxCaWFzKSxlLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc/bi51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPSEwOmUudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz9uLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c9ITA6ZS51c2VQb2lzc29uU2FtcGxpbmc/bi51c2VQb2lzc29uU2FtcGxpbmc9ITA6ZS51c2VFeHBvbmVudGlhbFNoYWRvd01hcD9uLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwP24udXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD9uLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD9uLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlVmFyaWFuY2VTaGFkb3dNYXA/bi51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJWYXJpYW5jZVNoYWRvd01hcCYmKG4udXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPSEwKSxlLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvIT09dm9pZCAwJiYobi5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz1lLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKSxlLmZpbHRlcmluZ1F1YWxpdHkhPT12b2lkIDAmJihuLmZpbHRlcmluZ1F1YWxpdHk9ZS5maWx0ZXJpbmdRdWFsaXR5KSxlLmRlcHRoU2NhbGUmJihuLmRlcHRoU2NhbGU9ZS5kZXB0aFNjYWxlKSxlLmJsdXJTY2FsZSYmKG4uYmx1clNjYWxlPWUuYmx1clNjYWxlKSxlLmJsdXJCb3hPZmZzZXQmJihuLmJsdXJCb3hPZmZzZXQ9ZS5ibHVyQm94T2Zmc2V0KSxlLnVzZUtlcm5lbEJsdXImJihuLnVzZUtlcm5lbEJsdXI9ZS51c2VLZXJuZWxCbHVyKSxlLmJsdXJLZXJuZWwmJihuLmJsdXJLZXJuZWw9ZS5ibHVyS2VybmVsKSxufX1ILkNMQVNTTkFNRT0iU2hhZG93R2VuZXJhdG9yIixILkZJTFRFUl9OT05FPTAsSC5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVA9MSxILkZJTFRFUl9QT0lTU09OU0FNUExJTkc9MixILkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVA9MyxILkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQPTQsSC5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVA9NSxILkZJTFRFUl9QQ0Y9NixILkZJTFRFUl9QQ1NTPTcsSC5RVUFMSVRZX0hJR0g9MCxILlFVQUxJVFlfTUVESVVNPTEsSC5RVUFMSVRZX0xPVz0yLEguREVGQVVMVF9BTFBIQV9DVVRPRkY9LjUsSC5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1jPT57dGhyb3cgUSgiU2hhZG93R2VuZXJhdG9yU2NlbmVDb21wb25lbnQiKX07Y29uc3QgQ289ImRlcHRoUGl4ZWxTaGFkZXIiLElvPWAjaWZkZWYgQUxQSEFURVNUCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIGRpZmZ1c2VTYW1wbGVyOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWM7CiNpZmRlZiBQQUNLRUQKI2luY2x1ZGU8cGFja2luZ0Z1bmN0aW9ucz4KI2VuZGlmCiNpZmRlZiBTVE9SRV9DQU1FUkFTUEFDRV9aCnZhcnlpbmcgdmVjNCB2Vmlld1BvczsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50PgojaWZkZWYgQUxQSEFURVNUCmlmICh0ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdlVWKS5hPDAuNCkKZGlzY2FyZDsKI2VuZGlmCiNpZmRlZiBTVE9SRV9DQU1FUkFTUEFDRV9aCiNpZmRlZiBQQUNLRUQKZ2xfRnJhZ0NvbG9yPXBhY2sodlZpZXdQb3Mueik7CiNlbHNlCmdsX0ZyYWdDb2xvcj12ZWM0KHZWaWV3UG9zLnosMC4wLDAuMCwxLjApOwojZW5kaWYKI2Vsc2UKI2lmZGVmIE5PTkxJTkVBUkRFUFRICiNpZmRlZiBQQUNLRUQKZ2xfRnJhZ0NvbG9yPXBhY2soZ2xfRnJhZ0Nvb3JkLnopOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNChnbF9GcmFnQ29vcmQueiwwLjAsMC4wLDAuMCk7CiNlbmRpZgojZWxzZQojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKHZEZXB0aE1ldHJpYyk7CiNlbHNlCmdsX0ZyYWdDb2xvcj12ZWM0KHZEZXB0aE1ldHJpYywwLjAsMC4wLDEuMCk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCn1gO0wuU2hhZGVyc1N0b3JlW0NvXT1Jbztjb25zdCBQbz0iaW5zdGFuY2VzRGVjbGFyYXRpb24iLERvPWAjaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMDsKYXR0cmlidXRlIHZlYzQgd29ybGQxOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMzsKI2lmZGVmIElOU1RBTkNFU0NPTE9SCmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ29sb3I7CiNlbmRpZgojaWYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykgJiYgIWRlZmluZWQoV09STERfVUJPKQp1bmlmb3JtIG1hdDQgd29ybGQ7CiNlbmRpZgojaWYgZGVmaW5lZChWRUxPQ0lUWSkgfHwgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKQphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMDsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDE7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQyOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMzsKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCnVuaWZvcm0gbWF0NCBwcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZiAhZGVmaW5lZChXT1JMRF9VQk8pCnVuaWZvcm0gbWF0NCB3b3JsZDsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFTE9DSVRZKSB8fCBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpCnVuaWZvcm0gbWF0NCBwcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtQb109RG87Y29uc3QgRm89ImRlcHRoVmVydGV4U2hhZGVyIix3bz1gYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzOwojaWYgZGVmaW5lZChBTFBIQVRFU1QpIHx8IGRlZmluZWQoTkVFRF9VVikKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaWZkZWYgVVYyCmF0dHJpYnV0ZSB2ZWMyIHV2MjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU1RPUkVfQ0FNRVJBU1BBQ0VfWgp1bmlmb3JtIG1hdDQgdmlldzsKdmFyeWluZyB2ZWM0IHZWaWV3UG9zOwojZW5kaWYKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWM7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewp2ZWMzIHBvc2l0aW9uVXBkYXRlZD1wb3NpdGlvbjsKI2lmZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD11djsKI2VuZGlmCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbD4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4PgpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2lmZGVmIFNUT1JFX0NBTUVSQVNQQUNFX1oKdlZpZXdQb3M9dmlldyp3b3JsZFBvczsKI2Vsc2UKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpYz0oKC1nbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KSk7CiNlbHNlCnZEZXB0aE1ldHJpYz0oKGdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpKTsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChBTFBIQVRFU1QpIHx8IGRlZmluZWQoQkFTSUNfUkVOREVSKQojaWZkZWYgVVYxCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwojZW5kaWYKI2lmZGVmIFVWMgp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXYyLDEuMCwwLjApKTsKI2VuZGlmCiNlbmRpZgp9CmA7TC5TaGFkZXJzU3RvcmVbRm9dPXdvO2NsYXNzIGNze3NldE1hdGVyaWFsRm9yUmVuZGVyaW5nKGUsdCl7dGhpcy5fZGVwdGhNYXAuc2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KX1jb25zdHJ1Y3RvcihlLHQ9MSxpPW51bGwscz0hMSxyPU4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxuPSExLGEpe3RoaXMuZW5hYmxlZD0hMCx0aGlzLmZvcmNlRGVwdGhXcml0ZVRyYW5zcGFyZW50TWVzaGVzPSExLHRoaXMudXNlT25seUluQWN0aXZlQ2FtZXJhPSExLHRoaXMucmV2ZXJzZUN1bGxpbmc9ITEsdGhpcy5fc2NlbmU9ZSx0aGlzLl9zdG9yZU5vbkxpbmVhckRlcHRoPXMsdGhpcy5fc3RvcmVDYW1lcmFTcGFjZVo9bix0aGlzLmlzUGFja2VkPXQ9PT0wLHRoaXMuaXNQYWNrZWQ/dGhpcy5jbGVhckNvbG9yPW5ldyBOZSgxLDEsMSwxKTp0aGlzLmNsZWFyQ29sb3I9bmV3IE5lKG4/MWU4OjEsMCwwLDEpLGNzLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uKHRoaXMuX3NjZW5lKTtjb25zdCBvPWUuZ2V0RW5naW5lKCk7dGhpcy5fY2FtZXJhPWksciE9PU4uTkVBUkVTVF9TQU1QTElOR01PREUmJih0PT09MSYmIW8uX2NhcHMudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nJiYocj1OLk5FQVJFU1RfU0FNUExJTkdNT0RFKSx0PT09MiYmIW8uX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZyYmKHI9Ti5ORUFSRVNUX1NBTVBMSU5HTU9ERSkpO2NvbnN0IGg9dGhpcy5pc1BhY2tlZHx8IW8uX2ZlYXR1cmVzLnN1cHBvcnRFeHRlbmRlZFRleHR1cmVGb3JtYXRzPzU6Njt0aGlzLl9kZXB0aE1hcD1uZXcgZ3QoYT8/IkRlcHRoUmVuZGVyZXIiLHt3aWR0aDpvLmdldFJlbmRlcldpZHRoKCksaGVpZ2h0Om8uZ2V0UmVuZGVySGVpZ2h0KCl9LHRoaXMuX3NjZW5lLCExLCEwLHQsITEscix2b2lkIDAsdm9pZCAwLHZvaWQgMCxoKSx0aGlzLl9kZXB0aE1hcC53cmFwVT1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX2RlcHRoTWFwLndyYXBWPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fZGVwdGhNYXAucmVmcmVzaFJhdGU9MSx0aGlzLl9kZXB0aE1hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fZGVwdGhNYXAucmVuZGVyTGlzdD1udWxsLHRoaXMuX2RlcHRoTWFwLmFjdGl2ZUNhbWVyYT10aGlzLl9jYW1lcmEsdGhpcy5fZGVwdGhNYXAuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITAsdGhpcy5fZGVwdGhNYXAudXNlQ2FtZXJhUG9zdFByb2Nlc3Nlcz0hMSx0aGlzLl9kZXB0aE1hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQodT0+e3UuY2xlYXIodGhpcy5jbGVhckNvbG9yLCEwLCEwLCEwKX0pLHRoaXMuX2RlcHRoTWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHU7KHU9by5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8dT09PXZvaWQgMHx8dS5jYWxsKG8sImRlcHRoIHJlbmRlcmVyIiwxKX0pLHRoaXMuX2RlcHRoTWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciB1Oyh1PW8uX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8dT09PXZvaWQgMHx8dS5jYWxsKG8sMSl9KSx0aGlzLl9kZXB0aE1hcC5jdXN0b21Jc1JlYWR5RnVuY3Rpb249KHUsZCxfKT0+e2lmKChffHxkPT09MCkmJnUuc3ViTWVzaGVzKWZvcihsZXQgZj0wO2Y8dS5zdWJNZXNoZXMubGVuZ3RoOysrZil7Y29uc3QgbT11LnN1Yk1lc2hlc1tmXSx2PW0uZ2V0UmVuZGVyaW5nTWVzaCgpLEU9di5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChtLl9pZCwhIW0uZ2V0UmVwbGFjZW1lbnRNZXNoKCkpLFM9by5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoRS52aXNpYmxlSW5zdGFuY2VzW20uX2lkXSE9PW51bGwmJkUudmlzaWJsZUluc3RhbmNlc1ttLl9pZF0hPT12b2lkIDB8fHYuaGFzVGhpbkluc3RhbmNlcyk7aWYoIXRoaXMuaXNSZWFkeShtLFMpKXJldHVybiExfXJldHVybiEwfTtjb25zdCBsPXU9Pnt2YXIgZCxfO2NvbnN0IGY9dS5nZXRSZW5kZXJpbmdNZXNoKCksbT11LmdldEVmZmVjdGl2ZU1lc2goKSx2PXRoaXMuX3NjZW5lLEU9di5nZXRFbmdpbmUoKSxTPXUuZ2V0TWF0ZXJpYWwoKTtpZihtLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSwhU3x8bS5pbmZpbml0ZURpc3RhbmNlfHxTLmRpc2FibGVEZXB0aFdyaXRlfHx1LnZlcnRpY2VzQ291bnQ9PT0wfHx1Ll9yZW5kZXJJZD09PXYuZ2V0UmVuZGVySWQoKSlyZXR1cm47Y29uc3QgUj1tLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk8MDtsZXQgQT0oZD1mLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pIT09bnVsbCYmZCE9PXZvaWQgMD9kOlMuc2lkZU9yaWVudGF0aW9uO1ImJihBPUE9PT0wPzE6MCk7Y29uc3QgQz1BPT09MDtFLnNldFN0YXRlKFMuYmFja0ZhY2VDdWxsaW5nLDAsITEsQyx0aGlzLnJldmVyc2VDdWxsaW5nPyFTLmN1bGxCYWNrRmFjZXM6Uy5jdWxsQmFja0ZhY2VzKTtjb25zdCBiPWYuX2dldEluc3RhbmNlc1JlbmRlckxpc3QodS5faWQsISF1LmdldFJlcGxhY2VtZW50TWVzaCgpKTtpZihiLm11c3RSZXR1cm4pcmV0dXJuO2NvbnN0IHg9RS5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoYi52aXNpYmxlSW5zdGFuY2VzW3UuX2lkXSE9PW51bGwmJmIudmlzaWJsZUluc3RhbmNlc1t1Ll9pZF0hPT12b2lkIDB8fGYuaGFzVGhpbkluc3RhbmNlcyksST10aGlzLl9jYW1lcmF8fHYuYWN0aXZlQ2FtZXJhO2lmKHRoaXMuaXNSZWFkeSh1LHgpJiZJKXt1Ll9yZW5kZXJJZD12LmdldFJlbmRlcklkKCk7Y29uc3QgVT0oXz1tLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3MpPT09bnVsbHx8Xz09PXZvaWQgMD92b2lkIDA6X1tFLmN1cnJlbnRSZW5kZXJQYXNzSWRdO2xldCBrPXUuX2dldERyYXdXcmFwcGVyKCk7IWsmJlUmJihrPVUuX2dldERyYXdXcmFwcGVyKCkpO2NvbnN0IG1lPUkubW9kZT09PSQuT1JUSE9HUkFQSElDX0NBTUVSQTtpZighaylyZXR1cm47Y29uc3QgcT1rLmVmZmVjdDtFLmVuYWJsZUVmZmVjdChrKSx4fHxmLl9iaW5kKHUscSxTLmZpbGxNb2RlKSxVP1UuYmluZEZvclN1Yk1lc2gobS5nZXRXb3JsZE1hdHJpeCgpLG0sdSk6KHEuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdi5nZXRUcmFuc2Zvcm1NYXRyaXgoKSkscS5zZXRNYXRyaXgoIndvcmxkIixtLmdldFdvcmxkTWF0cml4KCkpLHRoaXMuX3N0b3JlQ2FtZXJhU3BhY2VaJiZxLnNldE1hdHJpeCgidmlldyIsdi5nZXRWaWV3TWF0cml4KCkpKTtsZXQgZGUsaWU7aWYobWU/KGRlPSFFLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/MDoxLGllPUUudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZFLmlzTkRDSGFsZlpSYW5nZT8wOjEpOihkZT1FLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/SS5taW5aOkUuaXNORENIYWxmWlJhbmdlPzA6SS5taW5aLGllPUUudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZFLmlzTkRDSGFsZlpSYW5nZT8wOkkubWF4WikscS5zZXRGbG9hdDIoImRlcHRoVmFsdWVzIixkZSxkZStpZSksIVUpe2lmKFMubmVlZEFscGhhVGVzdGluZygpKXtjb25zdCBiZT1TLmdldEFscGhhVGVzdFRleHR1cmUoKTtiZSYmKHEuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLGJlKSxxLnNldE1hdHJpeCgiZGlmZnVzZU1hdHJpeCIsYmUuZ2V0VGV4dHVyZU1hdHJpeCgpKSl9aWYoZi51c2VCb25lcyYmZi5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmYuc2tlbGV0b24pe2NvbnN0IGJlPWYuc2tlbGV0b247aWYoYmUuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyl7Y29uc3QgTWU9YmUuZ2V0VHJhbnNmb3JtTWF0cml4VGV4dHVyZShmKTtpZighTWUpcmV0dXJuO3Euc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLE1lKSxxLnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihiZS5ib25lcy5sZW5ndGgrMSkpfWVsc2UgcS5zZXRNYXRyaWNlcygibUJvbmVzIixiZS5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhmKSl9aHMocSxTLHYpLHNlLkJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnMoZixxKSxmLm1vcnBoVGFyZ2V0TWFuYWdlciYmZi5tb3JwaFRhcmdldE1hbmFnZXIuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZmLm1vcnBoVGFyZ2V0TWFuYWdlci5fYmluZChxKX1mLl9wcm9jZXNzUmVuZGVyaW5nKG0sdSxxLFMuZmlsbE1vZGUsYix4LChiZSxNZSk9PnEuc2V0TWF0cml4KCJ3b3JsZCIsTWUpKX19O3RoaXMuX2RlcHRoTWFwLmN1c3RvbVJlbmRlckZ1bmN0aW9uPSh1LGQsXyxmKT0+e2xldCBtO2lmKGYubGVuZ3RoKWZvcihtPTA7bTxmLmxlbmd0aDttKyspbChmLmRhdGFbbV0pO2ZvcihtPTA7bTx1Lmxlbmd0aDttKyspbCh1LmRhdGFbbV0pO2ZvcihtPTA7bTxkLmxlbmd0aDttKyspbChkLmRhdGFbbV0pO2lmKHRoaXMuZm9yY2VEZXB0aFdyaXRlVHJhbnNwYXJlbnRNZXNoZXMpZm9yKG09MDttPF8ubGVuZ3RoO20rKylsKF8uZGF0YVttXSk7ZWxzZSBmb3IobT0wO208Xy5sZW5ndGg7bSsrKV8uZGF0YVttXS5nZXRFZmZlY3RpdmVNZXNoKCkuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExfX1pc1JlYWR5KGUsdCl7dmFyIGk7Y29uc3Qgcz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxyPWUuZ2V0TWVzaCgpLG49ci5nZXRTY2VuZSgpLGE9KGk9ci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmlbcy5jdXJyZW50UmVuZGVyUGFzc0lkXTtpZihhKXJldHVybiBhLmlzUmVhZHlGb3JTdWJNZXNoKHIsZSx0KTtjb25zdCBvPWUuZ2V0TWF0ZXJpYWwoKTtpZighb3x8by5kaXNhYmxlRGVwdGhXcml0ZSlyZXR1cm4hMTtjb25zdCBoPVtdLGw9W2cuUG9zaXRpb25LaW5kXTtpZihvJiZvLm5lZWRBbHBoYVRlc3RpbmcoKSYmby5nZXRBbHBoYVRlc3RUZXh0dXJlKCkmJihoLnB1c2goIiNkZWZpbmUgQUxQSEFURVNUIiksci5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpJiYobC5wdXNoKGcuVVZLaW5kKSxoLnB1c2goIiNkZWZpbmUgVVYxIikpLHIuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVYyS2luZCkmJihsLnB1c2goZy5VVjJLaW5kKSxoLnB1c2goIiNkZWZpbmUgVVYyIikpKSxyLnVzZUJvbmVzJiZyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyl7bC5wdXNoKGcuTWF0cmljZXNJbmRpY2VzS2luZCksbC5wdXNoKGcuTWF0cmljZXNXZWlnaHRzS2luZCksci5udW1Cb25lSW5mbHVlbmNlcnM+NCYmKGwucHVzaChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksbC5wdXNoKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSksaC5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrci5udW1Cb25lSW5mbHVlbmNlcnMpLGgucHVzaCgiI2RlZmluZSBCb25lc1Blck1lc2ggIisoci5za2VsZXRvbj9yLnNrZWxldG9uLmJvbmVzLmxlbmd0aCsxOjApKTtjb25zdCB2PWUuZ2V0UmVuZGVyaW5nTWVzaCgpLnNrZWxldG9uO3YhPW51bGwmJnYuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmaC5wdXNoKCIjZGVmaW5lIEJPTkVURVhUVVJFIil9ZWxzZSBoLnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpO2NvbnN0IHU9ci5tb3JwaFRhcmdldE1hbmFnZXI7bGV0IGQ9MDt1JiZ1Lm51bUluZmx1ZW5jZXJzPjAmJihkPXUubnVtSW5mbHVlbmNlcnMsaC5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUUyIpLGgucHVzaCgiI2RlZmluZSBOVU1fTU9SUEhfSU5GTFVFTkNFUlMgIitkKSx1LmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmaC5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUU19URVhUVVJFIiksc2UuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2VycyhsLHIsZCkpLHQmJihoLnB1c2goIiNkZWZpbmUgSU5TVEFOQ0VTIiksc2UuUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMobCksZS5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcyYmaC5wdXNoKCIjZGVmaW5lIFRISU5fSU5TVEFOQ0VTIikpLHRoaXMuX3N0b3JlTm9uTGluZWFyRGVwdGgmJmgucHVzaCgiI2RlZmluZSBOT05MSU5FQVJERVBUSCIpLHRoaXMuX3N0b3JlQ2FtZXJhU3BhY2VaJiZoLnB1c2goIiNkZWZpbmUgU1RPUkVfQ0FNRVJBU1BBQ0VfWiIpLHRoaXMuaXNQYWNrZWQmJmgucHVzaCgiI2RlZmluZSBQQUNLRUQiKSx3cihvLG4saCk7Y29uc3QgXz1lLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApLGY9Xy5kZWZpbmVzLG09aC5qb2luKGAKYCk7aWYoZiE9PW0pe2NvbnN0IHY9WyJ3b3JsZCIsIm1Cb25lcyIsImJvbmVUZXh0dXJlV2lkdGgiLCJ2aWV3UHJvamVjdGlvbiIsInZpZXciLCJkaWZmdXNlTWF0cml4IiwiZGVwdGhWYWx1ZXMiLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLCJtb3JwaFRhcmdldFRleHR1cmVJbmZvIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlcyJdO29zKHYpLF8uc2V0RWZmZWN0KHMuY3JlYXRlRWZmZWN0KCJkZXB0aCIsbCx2LFsiZGlmZnVzZVNhbXBsZXIiLCJtb3JwaFRhcmdldHMiLCJib25lU2FtcGxlciJdLG0sdm9pZCAwLHZvaWQgMCx2b2lkIDAse21heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czpkfSksbSl9cmV0dXJuIF8uZWZmZWN0LmlzUmVhZHkoKX1nZXREZXB0aE1hcCgpe3JldHVybiB0aGlzLl9kZXB0aE1hcH1kaXNwb3NlKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLl9zY2VuZS5fZGVwdGhSZW5kZXJlcil0aGlzLl9zY2VuZS5fZGVwdGhSZW5kZXJlclt0XT09PXRoaXMmJmUucHVzaCh0KTtpZihlLmxlbmd0aD4wKXt0aGlzLl9kZXB0aE1hcC5kaXNwb3NlKCk7Zm9yKGNvbnN0IHQgb2YgZSlkZWxldGUgdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXJbdF19fX1jcy5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1jPT57dGhyb3cgUSgiRGVwdGhSZW5kZXJlclNjZW5lQ29tcG9uZW50Iil9O2NvbnN0IE9vPSJtaW5tYXhSZWR1eFBpeGVsU2hhZGVyIixMbz1gdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CiNpZiBkZWZpbmVkKElOSVRJQUwpCnVuaWZvcm0gc2FtcGxlcjJEIHNvdXJjZVRleHR1cmU7CnVuaWZvcm0gdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqKHRleFNpemUtMS4wKSk7CmZsb2F0IGYxPXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCwwKS5yOwpmbG9hdCBmMj10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQraXZlYzIoMSwwKSwwKS5yOwpmbG9hdCBmMz10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQraXZlYzIoMSwxKSwwKS5yOwpmbG9hdCBmND10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQraXZlYzIoMCwxKSwwKS5yOwpmbG9hdCBtaW56PW1pbihtaW4obWluKGYxLGYyKSxmMyksZjQpOwojaWZkZWYgREVQVEhfUkVEVVgKZmxvYXQgbWF4ej1tYXgobWF4KG1heChzaWduKDEuMC1mMSkqZjEsc2lnbigxLjAtZjIpKmYyKSxzaWduKDEuMC1mMykqZjMpLHNpZ24oMS4wLWY0KSpmNCk7CiNlbHNlCmZsb2F0IG1heHo9bWF4KG1heChtYXgoZjEsZjIpLGYzKSxmNCk7CiNlbmRpZgpnbEZyYWdDb2xvcj12ZWM0KG1pbnosbWF4eiwwLiwwLik7Cn0KI2VsaWYgZGVmaW5lZChNQUlOKQp1bmlmb3JtIHZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKih0ZXhTaXplLTEuMCkpOwp2ZWMyIGYxPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQsMCkucmc7CnZlYzIgZjI9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigxLDApLDApLnJnOwp2ZWMyIGYzPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMSwxKSwwKS5yZzsKdmVjMiBmND10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDAsMSksMCkucmc7CmZsb2F0IG1pbno9bWluKG1pbihtaW4oZjEueCxmMi54KSxmMy54KSxmNC54KTsKZmxvYXQgbWF4ej1tYXgobWF4KG1heChmMS55LGYyLnkpLGYzLnkpLGY0LnkpOwpnbEZyYWdDb2xvcj12ZWM0KG1pbnosbWF4eiwwLiwwLik7Cn0KI2VsaWYgZGVmaW5lZChPTkVCRUZPUkVMQVNUKQp1bmlmb3JtIGl2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVip2ZWMyKHRleFNpemUtMSkpOwp2ZWMyIGYxPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGYyPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDEsMCkpICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmMz10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigxLDEpKSAlIHRleFNpemUsMCkucmc7CnZlYzIgZjQ9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMCwxKSkgJSB0ZXhTaXplLDApLnJnOwpmbG9hdCBtaW56PW1pbihmMS54LGYyLngpOwpmbG9hdCBtYXh6PW1heChmMS55LGYyLnkpOwpnbEZyYWdDb2xvcj12ZWM0KG1pbnosbWF4eiwwLiwwLik7Cn0KI2VsaWYgZGVmaW5lZChMQVNUKQp2b2lkIG1haW4odm9pZCkKewpnbEZyYWdDb2xvcj12ZWM0KDAuKTsKaWYgKHRydWUpIHsgCmRpc2NhcmQ7Cn0KfQojZW5kaWYKYDtMLlNoYWRlcnNTdG9yZVtPb109TG87Y2xhc3MgTm97Y29uc3RydWN0b3IoZSl7dGhpcy5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkPW5ldyB3LHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PSEwLHRoaXMuX2FjdGl2YXRlZD0hMSx0aGlzLl9jYW1lcmE9ZSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IGlzKGUuZ2V0U2NlbmUoKSksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1lLmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX0pfWdldCBzb3VyY2VUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVRleHR1cmV9c2V0U291cmNlVGV4dHVyZShlLHQsaT0yLHM9ITApe2lmKGU9PT10aGlzLl9zb3VyY2VUZXh0dXJlKXJldHVybjt0aGlzLmRpc3Bvc2UoITEpLHRoaXMuX3NvdXJjZVRleHR1cmU9ZSx0aGlzLl9yZWR1Y3Rpb25TdGVwcz1bXSx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1zO2NvbnN0IHI9dGhpcy5fY2FtZXJhLmdldFNjZW5lKCksbj1uZXcgeGUoIkluaXRpYWwgcmVkdWN0aW9uIHBoYXNlIiwibWlubWF4UmVkdXgiLFsidGV4U2l6ZSJdLFsic291cmNlVGV4dHVyZSJdLDEsbnVsbCwxLHIuZ2V0RW5naW5lKCksITEsIiNkZWZpbmUgSU5JVElBTCIrKHQ/YAojZGVmaW5lIERFUFRIX1JFRFVYYDoiIiksaSx2b2lkIDAsdm9pZCAwLHZvaWQgMCw3KTtuLmF1dG9DbGVhcj0hMSxuLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PXM7bGV0IGE9dGhpcy5fc291cmNlVGV4dHVyZS5nZXRSZW5kZXJXaWR0aCgpLG89dGhpcy5fc291cmNlVGV4dHVyZS5nZXRSZW5kZXJIZWlnaHQoKTtuLm9uQXBwbHk9KChsLHUpPT5kPT57ZC5zZXRUZXh0dXJlKCJzb3VyY2VUZXh0dXJlIix0aGlzLl9zb3VyY2VUZXh0dXJlKSxkLnNldEZsb2F0MigidGV4U2l6ZSIsbCx1KX0pKGEsbyksdGhpcy5fcmVkdWN0aW9uU3RlcHMucHVzaChuKTtsZXQgaD0xO2Zvcig7YT4xfHxvPjE7KXthPU1hdGgubWF4KE1hdGgucm91bmQoYS8yKSwxKSxvPU1hdGgubWF4KE1hdGgucm91bmQoby8yKSwxKTtjb25zdCBsPW5ldyB4ZSgiUmVkdWN0aW9uIHBoYXNlICIraCwibWlubWF4UmVkdXgiLFsidGV4U2l6ZSJdLG51bGwse3dpZHRoOmEsaGVpZ2h0Om99LG51bGwsMSxyLmdldEVuZ2luZSgpLCExLCIjZGVmaW5lICIrKGE9PTEmJm89PTE/IkxBU1QiOmE9PTF8fG89PTE/Ik9ORUJFRk9SRUxBU1QiOiJNQUlOIiksaSx2b2lkIDAsdm9pZCAwLHZvaWQgMCw3KTtpZihsLmF1dG9DbGVhcj0hMSxsLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PXMsbC5vbkFwcGx5PSgodSxkKT0+Xz0+e3U9PTF8fGQ9PTE/Xy5zZXRJbnQyKCJ0ZXhTaXplIix1LGQpOl8uc2V0RmxvYXQyKCJ0ZXhTaXplIix1LGQpfSkoYSxvKSx0aGlzLl9yZWR1Y3Rpb25TdGVwcy5wdXNoKGwpLGgrKyxhPT0xJiZvPT0xKXtjb25zdCB1PShkLF8sZik9Pntjb25zdCBtPW5ldyBGbG9hdDMyQXJyYXkoNCpkKl8pLHY9e21pbjowLG1heDowfTtyZXR1cm4oKT0+e3IuZ2V0RW5naW5lKCkuX3JlYWRUZXh0dXJlUGl4ZWxzKGYuaW5wdXRUZXh0dXJlLnRleHR1cmUsZCxfLC0xLDAsbSwhMSksdi5taW49bVswXSx2Lm1heD1tWzFdLHRoaXMub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5ub3RpZnlPYnNlcnZlcnModil9fTtsLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZCh1KGEsbyxsKSl9fX1nZXQgcmVmcmVzaFJhdGUoKXtyZXR1cm4gdGhpcy5fc291cmNlVGV4dHVyZT90aGlzLl9zb3VyY2VUZXh0dXJlLnJlZnJlc2hSYXRlOi0xfXNldCByZWZyZXNoUmF0ZShlKXt0aGlzLl9zb3VyY2VUZXh0dXJlJiYodGhpcy5fc291cmNlVGV4dHVyZS5yZWZyZXNoUmF0ZT1lKX1nZXQgYWN0aXZhdGVkKCl7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZH1hY3RpdmF0ZSgpe3RoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcnx8IXRoaXMuX3NvdXJjZVRleHR1cmV8fCh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXI9dGhpcy5fc291cmNlVGV4dHVyZS5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgZSx0O2NvbnN0IGk9dGhpcy5fY2FtZXJhLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7KGU9aS5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKGksIm1pbiBtYXggcmVkdWN0aW9uIiwxKSx0aGlzLl9yZWR1Y3Rpb25TdGVwc1swXS5hY3RpdmF0ZSh0aGlzLl9jYW1lcmEpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXJlY3RSZW5kZXIodGhpcy5fcmVkdWN0aW9uU3RlcHMsdGhpcy5fcmVkdWN0aW9uU3RlcHNbMF0uaW5wdXRUZXh0dXJlLHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSxpLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX3JlZHVjdGlvblN0ZXBzWzBdLmlucHV0VGV4dHVyZSwhMSksKHQ9aS5fZGVidWdQb3BHcm91cCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmNhbGwoaSwxKX0pLHRoaXMuX2FjdGl2YXRlZD0hMCl9ZGVhY3RpdmF0ZSgpeyF0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fc291cmNlVGV4dHVyZS5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyKSx0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXI9bnVsbCx0aGlzLl9hY3RpdmF0ZWQ9ITEpfWRpc3Bvc2UoZT0hMCl7aWYoZSYmKHRoaXMub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5jbGVhcigpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXImJih0aGlzLl9jYW1lcmEuZ2V0RW5naW5lKCkub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPW51bGwpKSx0aGlzLmRlYWN0aXZhdGUoKSx0aGlzLl9yZWR1Y3Rpb25TdGVwcyl7Zm9yKGxldCB0PTA7dDx0aGlzLl9yZWR1Y3Rpb25TdGVwcy5sZW5ndGg7Kyt0KXRoaXMuX3JlZHVjdGlvblN0ZXBzW3RdLmRpc3Bvc2UoKTt0aGlzLl9yZWR1Y3Rpb25TdGVwcz1udWxsfXRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmZSYmdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9zb3VyY2VUZXh0dXJlPW51bGx9fWNsYXNzIEJvIGV4dGVuZHMgTm97Z2V0IGRlcHRoUmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5fZGVwdGhSZW5kZXJlcn1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1zZXREZXB0aFJlbmRlcmVyKGU9bnVsbCx0PTIsaT0hMCl7Y29uc3Qgcz10aGlzLl9jYW1lcmEuZ2V0U2NlbmUoKTt0aGlzLl9kZXB0aFJlbmRlcmVyJiYoZGVsZXRlIHMuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGwpLGU9PT1udWxsJiYocy5fZGVwdGhSZW5kZXJlcnx8KHMuX2RlcHRoUmVuZGVyZXI9e30pLGU9dGhpcy5fZGVwdGhSZW5kZXJlcj1uZXcgY3Mocyx0LHRoaXMuX2NhbWVyYSwhMSwxKSxlLmVuYWJsZWQ9ITEsdGhpcy5fZGVwdGhSZW5kZXJlcklkPSJtaW5tYXgiK3RoaXMuX2NhbWVyYS5pZCxzLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF09ZSksc3VwZXIuc2V0U291cmNlVGV4dHVyZShlLmdldERlcHRoTWFwKCksITAsdCxpKX1zZXRTb3VyY2VUZXh0dXJlKGUsdCxpPTIscz0hMCl7c3VwZXIuc2V0U291cmNlVGV4dHVyZShlLHQsaSxzKX1hY3RpdmF0ZSgpe3RoaXMuX2RlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlbmRlcmVyLmVuYWJsZWQ9ITApLHN1cGVyLmFjdGl2YXRlKCl9ZGVhY3RpdmF0ZSgpe3N1cGVyLmRlYWN0aXZhdGUoKSx0aGlzLl9kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZW5kZXJlci5lbmFibGVkPSExKX1kaXNwb3NlKGU9ITApe2lmKHN1cGVyLmRpc3Bvc2UoZSksdGhpcy5fZGVwdGhSZW5kZXJlciYmZSl7Y29uc3QgdD10aGlzLl9kZXB0aFJlbmRlcmVyLmdldERlcHRoTWFwKCkuZ2V0U2NlbmUoKTt0JiZkZWxldGUgdC5fZGVwdGhSZW5kZXJlclt0aGlzLl9kZXB0aFJlbmRlcmVySWRdLHRoaXMuX2RlcHRoUmVuZGVyZXIuZGlzcG9zZSgpLHRoaXMuX2RlcHRoUmVuZGVyZXI9bnVsbH19fWNvbnN0IFdyPXAuVXAoKSxVbz1wLlplcm8oKSx3ZT1uZXcgcCx5aT1uZXcgcCx1cz1uZXcgTTtjbGFzcyBrZSBleHRlbmRzIEh7X3ZhbGlkYXRlRmlsdGVyKGUpe3JldHVybiBlPT09SC5GSUxURVJfTk9ORXx8ZT09PUguRklMVEVSX1BDRnx8ZT09PUguRklMVEVSX1BDU1M/ZTooY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgZmlsdGVyICInK2UrJyIhJyksSC5GSUxURVJfTk9ORSl9Z2V0IG51bUNhc2NhZGVzKCl7cmV0dXJuIHRoaXMuX251bUNhc2NhZGVzfXNldCBudW1DYXNjYWRlcyhlKXtlPU1hdGgubWluKE1hdGgubWF4KGUsa2UuTUlOX0NBU0NBREVTX0NPVU5UKSxrZS5NQVhfQ0FTQ0FERVNfQ09VTlQpLGUhPT10aGlzLl9udW1DYXNjYWRlcyYmKHRoaXMuX251bUNhc2NhZGVzPWUsdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpLHRoaXMuX3JlY3JlYXRlU2NlbmVVQk9zKCkpfWdldCBmcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm99c2V0IGZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oZSl7dGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUmJmUmJih0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT1udWxsKSwhdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUmJiFlJiYodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9dGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0aGlzLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mby5iaW5kKHRoaXMpKSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1lLGUmJnRoaXMuX2NvbXB1dGVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl9X2NvbXB1dGVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl7aWYodGhpcy5fc2NiaU1pbi5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fc2NiaU1heC5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fc2hhZG93TWFwJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdCl7Y29uc3QgZT10aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcz1lW2ldO2lmKCFzKWNvbnRpbnVlO2NvbnN0IHI9cy5nZXRCb3VuZGluZ0luZm8oKSxuPXIuYm91bmRpbmdCb3g7dGhpcy5fc2NiaU1pbi5taW5pbWl6ZUluUGxhY2Uobi5taW5pbXVtV29ybGQpLHRoaXMuX3NjYmlNYXgubWF4aW1pemVJblBsYWNlKG4ubWF4aW11bVdvcmxkKX1jb25zdCB0PXRoaXMuX3NjZW5lLm1lc2hlcztmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO2lmKCFzfHwhcy5pc1Zpc2libGV8fCFzLmlzRW5hYmxlZHx8IXMucmVjZWl2ZVNoYWRvd3MpY29udGludWU7Y29uc3Qgcj1zLmdldEJvdW5kaW5nSW5mbygpLG49ci5ib3VuZGluZ0JveDt0aGlzLl9zY2JpTWluLm1pbmltaXplSW5QbGFjZShuLm1pbmltdW1Xb3JsZCksdGhpcy5fc2NiaU1heC5tYXhpbWl6ZUluUGxhY2Uobi5tYXhpbXVtV29ybGQpfX10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvLnJlQ29uc3RydWN0KHRoaXMuX3NjYmlNaW4sdGhpcy5fc2NiaU1heCl9Z2V0IHNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb31zZXQgc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyhlKXt0aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPWV9c2V0TWluTWF4RGlzdGFuY2UoZSx0KXt0aGlzLl9taW5EaXN0YW5jZT09PWUmJnRoaXMuX21heERpc3RhbmNlPT09dHx8KGU+dCYmKGU9MCx0PTEpLGU8MCYmKGU9MCksdD4xJiYodD0xKSx0aGlzLl9taW5EaXN0YW5jZT1lLHRoaXMuX21heERpc3RhbmNlPXQsdGhpcy5fYnJlYWtzQXJlRGlydHk9ITApfWdldCBtaW5EaXN0YW5jZSgpe3JldHVybiB0aGlzLl9taW5EaXN0YW5jZX1nZXQgbWF4RGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5fbWF4RGlzdGFuY2V9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIGtlLkNMQVNTTkFNRX1nZXRDYXNjYWRlTWluRXh0ZW50cyhlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tlXTpudWxsfWdldENhc2NhZGVNYXhFeHRlbnRzKGUpe3JldHVybiBlPj0wJiZlPHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdOm51bGx9Z2V0IHNoYWRvd01heFooKXtyZXR1cm4gdGhpcy5fZ2V0Q2FtZXJhKCk/dGhpcy5fc2hhZG93TWF4WjowfXNldCBzaGFkb3dNYXhaKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIXQpe3RoaXMuX3NoYWRvd01heFo9ZTtyZXR1cm59dGhpcy5fc2hhZG93TWF4Wj09PWV8fGU8dC5taW5afHxlPnQubWF4Wnx8KHRoaXMuX3NoYWRvd01heFo9ZSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX1nZXQgZGVidWcoKXtyZXR1cm4gdGhpcy5fZGVidWd9c2V0IGRlYnVnKGUpe3RoaXMuX2RlYnVnPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX1nZXQgZGVwdGhDbGFtcCgpe3JldHVybiB0aGlzLl9kZXB0aENsYW1wfXNldCBkZXB0aENsYW1wKGUpe3RoaXMuX2RlcHRoQ2xhbXA9ZX1nZXQgY2FzY2FkZUJsZW5kUGVyY2VudGFnZSgpe3JldHVybiB0aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlfXNldCBjYXNjYWRlQmxlbmRQZXJjZW50YWdlKGUpe3RoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9ZSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpfWdldCBsYW1iZGEoKXtyZXR1cm4gdGhpcy5fbGFtYmRhfXNldCBsYW1iZGEoZSl7Y29uc3QgdD1NYXRoLm1pbihNYXRoLm1heChlLDApLDEpO3RoaXMuX2xhbWJkYSE9dCYmKHRoaXMuX2xhbWJkYT10LHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX1nZXRDYXNjYWRlVmlld01hdHJpeChlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl92aWV3TWF0cmljZXNbZV06bnVsbH1nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeChlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbZV06bnVsbH1nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4KGUpe3JldHVybiBlPj0wJiZlPHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW2VdOm51bGx9c2V0RGVwdGhSZW5kZXJlcihlKXt0aGlzLl9kZXB0aFJlbmRlcmVyPWUsdGhpcy5fZGVwdGhSZWR1Y2VyJiZ0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKX1nZXQgYXV0b0NhbGNEZXB0aEJvdW5kcygpe3JldHVybiB0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzfXNldCBhdXRvQ2FsY0RlcHRoQm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYodCl7aWYodGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcz1lLCFlKXt0aGlzLl9kZXB0aFJlZHVjZXImJnRoaXMuX2RlcHRoUmVkdWNlci5kZWFjdGl2YXRlKCksdGhpcy5zZXRNaW5NYXhEaXN0YW5jZSgwLDEpO3JldHVybn10aGlzLl9kZXB0aFJlZHVjZXJ8fCh0aGlzLl9kZXB0aFJlZHVjZXI9bmV3IEJvKHQpLHRoaXMuX2RlcHRoUmVkdWNlci5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkLmFkZChpPT57bGV0IHM9aS5taW4scj1pLm1heDtzPj1yJiYocz0wLHI9MSksKHMhPXRoaXMuX21pbkRpc3RhbmNlfHxyIT10aGlzLl9tYXhEaXN0YW5jZSkmJnRoaXMuc2V0TWluTWF4RGlzdGFuY2UocyxyKX0pLHRoaXMuX2RlcHRoUmVkdWNlci5zZXREZXB0aFJlbmRlcmVyKHRoaXMuX2RlcHRoUmVuZGVyZXIpKSx0aGlzLl9kZXB0aFJlZHVjZXIuYWN0aXZhdGUoKX19Z2V0IGF1dG9DYWxjRGVwdGhCb3VuZHNSZWZyZXNoUmF0ZSgpe3ZhciBlLHQsaTtyZXR1cm4oaT0odD0oZT10aGlzLl9kZXB0aFJlZHVjZXIpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5kZXB0aFJlbmRlcmVyKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuZ2V0RGVwdGhNYXAoKS5yZWZyZXNoUmF0ZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6LTF9c2V0IGF1dG9DYWxjRGVwdGhCb3VuZHNSZWZyZXNoUmF0ZShlKXt2YXIgdDshKCh0PXRoaXMuX2RlcHRoUmVkdWNlcik9PT1udWxsfHx0PT09dm9pZCAwKSYmdC5kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZWR1Y2VyLmRlcHRoUmVuZGVyZXIuZ2V0RGVwdGhNYXAoKS5yZWZyZXNoUmF0ZT1lKX1zcGxpdEZydXN0dW0oKXt0aGlzLl9icmVha3NBcmVEaXJ0eT0hMH1fc3BsaXRGcnVzdHVtKCl7Y29uc3QgZT10aGlzLl9nZXRDYW1lcmEoKTtpZighZSlyZXR1cm47Y29uc3QgdD1lLm1pblosaT1lLm1heFoscz1pLXQscj10aGlzLl9taW5EaXN0YW5jZSxuPXRoaXMuX3NoYWRvd01heFo8aSYmdGhpcy5fc2hhZG93TWF4Wj49dD9NYXRoLm1pbigodGhpcy5fc2hhZG93TWF4Wi10KS8oaS10KSx0aGlzLl9tYXhEaXN0YW5jZSk6dGhpcy5fbWF4RGlzdGFuY2UsYT10K3IqcyxvPXQrbipzLGg9by1hLGw9by9hO2ZvcihsZXQgdT0wO3U8dGhpcy5fY2FzY2FkZXMubGVuZ3RoOysrdSl7Y29uc3QgZD0odSsxKS90aGlzLl9udW1DYXNjYWRlcyxfPWEqbCoqZCxmPWEraCpkLG09dGhpcy5fbGFtYmRhKihfLWYpK2Y7dGhpcy5fY2FzY2FkZXNbdV0ucHJldkJyZWFrRGlzdGFuY2U9dT09PTA/cjp0aGlzLl9jYXNjYWRlc1t1LTFdLmJyZWFrRGlzdGFuY2UsdGhpcy5fY2FzY2FkZXNbdV0uYnJlYWtEaXN0YW5jZT0obS10KS9zLHRoaXMuX3ZpZXdTcGFjZUZydXN0dW1zWlt1XT1tLHRoaXMuX2ZydXN0dW1MZW5ndGhzW3VdPSh0aGlzLl9jYXNjYWRlc1t1XS5icmVha0Rpc3RhbmNlLXRoaXMuX2Nhc2NhZGVzW3VdLnByZXZCcmVha0Rpc3RhbmNlKSpzfXRoaXMuX2JyZWFrc0FyZURpcnR5PSExfV9jb21wdXRlTWF0cmljZXMoKXtjb25zdCBlPXRoaXMuX3NjZW5lO2lmKCF0aGlzLl9nZXRDYW1lcmEoKSlyZXR1cm47cC5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24oMCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKHAuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLHAuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2NhY2hlZERpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLl9saWdodERpcmVjdGlvbik7Y29uc3QgaT1lLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtmb3IobGV0IHM9MDtzPHRoaXMuX251bUNhc2NhZGVzOysrcyl7dGhpcy5fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UocyksdGhpcy5fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKHMpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLnN1YnRyYWN0VG9SZWYodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10sd2UpLHRoaXMuX2ZydXN0dW1DZW50ZXJbc10uYWRkVG9SZWYodGhpcy5fbGlnaHREaXJlY3Rpb24uc2NhbGUodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10ueiksdGhpcy5fc2hhZG93Q2FtZXJhUG9zW3NdKSxNLkxvb2tBdExIVG9SZWYodGhpcy5fc2hhZG93Q2FtZXJhUG9zW3NdLHRoaXMuX2ZydXN0dW1DZW50ZXJbc10sV3IsdGhpcy5fdmlld01hdHJpY2VzW3NdKTtsZXQgcj0wLG49d2Uuejtjb25zdCBhPXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm87YS51cGRhdGUodGhpcy5fdmlld01hdHJpY2VzW3NdKSxuPU1hdGgubWluKG4sYS5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQueiksIXRoaXMuX2RlcHRoQ2xhbXB8fHRoaXMuZmlsdGVyPT09SC5GSUxURVJfUENTUz9yPU1hdGgubWluKHIsYS5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQueik6cj1NYXRoLm1heChyLGEuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopLE0uT3J0aG9PZmZDZW50ZXJMSFRvUmVmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLngsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbc10ueCx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS55LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLnksaT9uOnIsaT9yOm4sdGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW3NdLGUuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS56PXIsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbc10uej1uLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKFVvLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW3NdLHdlKSx3ZS5zY2FsZUluUGxhY2UodGhpcy5fbWFwU2l6ZS8yKSx5aS5jb3B5RnJvbUZsb2F0cyhNYXRoLnJvdW5kKHdlLngpLE1hdGgucm91bmQod2UueSksTWF0aC5yb3VuZCh3ZS56KSkseWkuc3VidHJhY3RJblBsYWNlKHdlKS5zY2FsZUluUGxhY2UoMi90aGlzLl9tYXBTaXplKSxNLlRyYW5zbGF0aW9uVG9SZWYoeWkueCx5aS55LDAsdXMpLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKHVzLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSksdGhpcy5fdmlld01hdHJpY2VzW3NdLm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW3NdLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW3NdKSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXS5jb3B5VG9BcnJheSh0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkscyoxNil9fV9jb21wdXRlRnJ1c3R1bUluV29ybGRTcGFjZShlKXtjb25zdCB0PXRoaXMuX2dldENhbWVyYSgpO2lmKCF0KXJldHVybjtjb25zdCBpPXRoaXMuX2Nhc2NhZGVzW2VdLnByZXZCcmVha0Rpc3RhbmNlLHM9dGhpcy5fY2FzY2FkZXNbZV0uYnJlYWtEaXN0YW5jZSxyPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZTt0LmdldFZpZXdNYXRyaXgoKTtjb25zdCBuPU0uSW52ZXJ0KHQuZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKSksYT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NDowO2ZvcihsZXQgbz0wO288a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoOysrbyl3ZS5jb3B5RnJvbShrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZVsobythKSVrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGhdKSxyJiZ3ZS56PT09LTEmJih3ZS56PTApLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih3ZSxuLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvXSk7Zm9yKGxldCBvPTA7bzxrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGgvMjsrK28pd2UuY29weUZyb20odGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW28rNF0pLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bb10pLHlpLmNvcHlGcm9tKHdlKS5zY2FsZUluUGxhY2UoaSksd2Uuc2NhbGVJblBsYWNlKHMpLHdlLmFkZEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW29dKSx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bbys0XS5jb3B5RnJvbSh3ZSksdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW29dLmFkZEluUGxhY2UoeWkpfV9jb21wdXRlQ2FzY2FkZUZydXN0dW0oZSl7aWYodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZV0uY29weUZyb21GbG9hdHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFKSx0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSwhIXRoaXMuX2dldENhbWVyYSgpKXtmb3IobGV0IGk9MDtpPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGg7KytpKXRoaXMuX2ZydXN0dW1DZW50ZXJbZV0uYWRkSW5QbGFjZSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1baV0pO2lmKHRoaXMuX2ZydXN0dW1DZW50ZXJbZV0uc2NhbGVJblBsYWNlKDEvdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdLmxlbmd0aCksdGhpcy5zdGFiaWxpemVDYXNjYWRlcyl7bGV0IGk9MDtmb3IobGV0IHM9MDtzPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGg7KytzKXtjb25zdCByPXRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtzXS5zdWJ0cmFjdFRvUmVmKHRoaXMuX2ZydXN0dW1DZW50ZXJbZV0sd2UpLmxlbmd0aCgpO2k9TWF0aC5tYXgoaSxyKX1pPU1hdGguY2VpbChpKjE2KS8xNix0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXS5jb3B5RnJvbUZsb2F0cyhpLGksaSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZV0uY29weUZyb21GbG9hdHMoLWksLWksLWkpfWVsc2V7Y29uc3QgaT10aGlzLl9mcnVzdHVtQ2VudGVyW2VdO3RoaXMuX2ZydXN0dW1DZW50ZXJbZV0uYWRkVG9SZWYodGhpcy5fbGlnaHREaXJlY3Rpb24sd2UpLE0uTG9va0F0TEhUb1JlZihpLHdlLFdyLHVzKTtmb3IobGV0IHM9MDtzPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGg7KytzKXAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bc10sdXMsd2UpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLm1pbmltaXplSW5QbGFjZSh3ZSksdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZV0ubWF4aW1pemVJblBsYWNlKHdlKX19fV9yZWNyZWF0ZVNjZW5lVUJPcygpe2lmKHRoaXMuX2Rpc3Bvc2VTY2VuZVVCT3MoKSx0aGlzLl9zY2VuZVVCT3MpZm9yKGxldCBlPTA7ZTx0aGlzLl9udW1DYXNjYWRlczsrK2UpdGhpcy5fc2NlbmVVQk9zLnB1c2godGhpcy5fc2NlbmUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKGBTY2VuZSBmb3IgQ1NNIFNoYWRvdyBHZW5lcmF0b3IgKGxpZ2h0ICIke3RoaXMuX2xpZ2h0Lm5hbWV9IiBjYXNjYWRlICMke2V9KWApKX1zdGF0aWMgZ2V0IElzU3VwcG9ydGVkKCl7Y29uc3QgZT1jZS5MYXN0Q3JlYXRlZEVuZ2luZTtyZXR1cm4gZT9lLl9mZWF0dXJlcy5zdXBwb3J0Q1NNOiExfWNvbnN0cnVjdG9yKGUsdCxpLHMpe2lmKCFrZS5Jc1N1cHBvcnRlZCl7Ty5FcnJvcigiQ2FzY2FkZWRTaGFkb3dNYXAgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBlbmdpbmUuIik7cmV0dXJufXN1cGVyKGUsdCxpLHMpLHRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz0hMH1faW5pdGlhbGl6ZUdlbmVyYXRvcigpe3ZhciBlLHQsaSxzLHIsbixhLG8saCxsLHUsZCxfLGYsbSx2LEUsUyxSLEE7dGhpcy5wZW51bWJyYURhcmtuZXNzPShlPXRoaXMucGVudW1icmFEYXJrbmVzcykhPT1udWxsJiZlIT09dm9pZCAwP2U6MSx0aGlzLl9udW1DYXNjYWRlcz0odD10aGlzLl9udW1DYXNjYWRlcykhPT1udWxsJiZ0IT09dm9pZCAwP3Q6a2UuREVGQVVMVF9DQVNDQURFU19DT1VOVCx0aGlzLnN0YWJpbGl6ZUNhc2NhZGVzPShpPXRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpIT09bnVsbCYmaSE9PXZvaWQgMD9pOiExLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPShzPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsLHRoaXMuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz0ocj10aGlzLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pIT09bnVsbCYmciE9PXZvaWQgMD9yOiExLHRoaXMuX3NjYmlNaW49KG49dGhpcy5fc2NiaU1pbikhPT1udWxsJiZuIT09dm9pZCAwP246bmV3IHAoMCwwLDApLHRoaXMuX3NjYmlNYXg9KGE9dGhpcy5fc2NiaU1heCkhPT1udWxsJiZhIT09dm9pZCAwP2E6bmV3IHAoMCwwLDApLHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89KG89dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbykhPT1udWxsJiZvIT09dm9pZCAwP286bmV3IGZ0KG5ldyBwKDAsMCwwKSxuZXcgcCgwLDAsMCkpLHRoaXMuX2JyZWFrc0FyZURpcnR5PShoPXRoaXMuX2JyZWFrc0FyZURpcnR5KSE9PW51bGwmJmghPT12b2lkIDA/aDohMCx0aGlzLl9taW5EaXN0YW5jZT0obD10aGlzLl9taW5EaXN0YW5jZSkhPT1udWxsJiZsIT09dm9pZCAwP2w6MCx0aGlzLl9tYXhEaXN0YW5jZT0odT10aGlzLl9tYXhEaXN0YW5jZSkhPT1udWxsJiZ1IT09dm9pZCAwP3U6MSx0aGlzLl9jdXJyZW50TGF5ZXI9KGQ9dGhpcy5fY3VycmVudExheWVyKSE9PW51bGwmJmQhPT12b2lkIDA/ZDowLHRoaXMuX3NoYWRvd01heFo9KG09KF89dGhpcy5fc2hhZG93TWF4WikhPT1udWxsJiZfIT09dm9pZCAwP186KGY9dGhpcy5fZ2V0Q2FtZXJhKCkpPT09bnVsbHx8Zj09PXZvaWQgMD92b2lkIDA6Zi5tYXhaKSE9PW51bGwmJm0hPT12b2lkIDA/bToxZTQsdGhpcy5fZGVidWc9KHY9dGhpcy5fZGVidWcpIT09bnVsbCYmdiE9PXZvaWQgMD92OiExLHRoaXMuX2RlcHRoQ2xhbXA9KEU9dGhpcy5fZGVwdGhDbGFtcCkhPT1udWxsJiZFIT09dm9pZCAwP0U6ITAsdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZT0oUz10aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSE9PW51bGwmJlMhPT12b2lkIDA/UzouMSx0aGlzLl9sYW1iZGE9KFI9dGhpcy5fbGFtYmRhKSE9PW51bGwmJlIhPT12b2lkIDA/UjouNSx0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzPShBPXRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHMpIT09bnVsbCYmQSE9PXZvaWQgMD9BOiExLHRoaXMuX3JlY3JlYXRlU2NlbmVVQk9zKCksc3VwZXIuX2luaXRpYWxpemVHZW5lcmF0b3IoKX1fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpe2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdD17d2lkdGg6dGhpcy5fbWFwU2l6ZSxoZWlnaHQ6dGhpcy5fbWFwU2l6ZSxsYXllcnM6dGhpcy5udW1DYXNjYWRlc307dGhpcy5fc2hhZG93TWFwPW5ldyBndCh0aGlzLl9saWdodC5uYW1lKyJfQ1NNU2hhZG93TWFwIix0LHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLCExLHZvaWQgMCwhMSwhMSx2b2lkIDApLHRoaXMuX3NoYWRvd01hcC5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzUxNjo1MTMsITApfV9pbml0aWFsaXplU2hhZG93TWFwKCl7aWYoc3VwZXIuX2luaXRpYWxpemVTaGFkb3dNYXAoKSx0aGlzLl9zaGFkb3dNYXA9PT1udWxsKXJldHVybjt0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXk9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9udW1DYXNjYWRlcyoxNiksdGhpcy5fdmlld1NwYWNlRnJ1c3R1bXNaPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fZnJ1c3R1bUxlbmd0aHM9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb249bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKjIpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2Nhc2NhZGVzPVtdLHRoaXMuX3ZpZXdNYXRyaWNlcz1bXSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXM9W10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXM9W10sdGhpcy5fY2FzY2FkZU1pbkV4dGVudHM9W10sdGhpcy5fY2FzY2FkZU1heEV4dGVudHM9W10sdGhpcy5fZnJ1c3R1bUNlbnRlcj1bXSx0aGlzLl9zaGFkb3dDYW1lcmFQb3M9W10sdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5fbnVtQ2FzY2FkZXM7Kyt0KXt0aGlzLl9jYXNjYWRlc1t0XT17cHJldkJyZWFrRGlzdGFuY2U6MCxicmVha0Rpc3RhbmNlOjB9LHRoaXMuX3ZpZXdNYXRyaWNlc1t0XT1NLlplcm8oKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbdF09TS5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbdF09TS5aZXJvKCksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbdF09bmV3IHAsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbdF09bmV3IHAsdGhpcy5fZnJ1c3R1bUNlbnRlclt0XT1uZXcgcCx0aGlzLl9zaGFkb3dDYW1lcmFQb3NbdF09bmV3IHAsdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdPW5ldyBBcnJheShrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoOysraSl0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1baV09bmV3IHB9Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0PT57dGhpcy5fc2NlbmVVQk9zJiZ0aGlzLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5fc2NlbmVVQk9zW3RdKSx0aGlzLl9jdXJyZW50TGF5ZXI9dCx0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5fc2NlbmUuc2V0VHJhbnNmb3JtTWF0cml4KHRoaXMuZ2V0Q2FzY2FkZVZpZXdNYXRyaXgodCksdGhpcy5nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeCh0KSksdGhpcy5fdXNlVUJPJiYodGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkudW5iaW5kRWZmZWN0KCksdGhpcy5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKX0pLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciB0O3RoaXMuX2N1cnJlbnRTY2VuZVVCTz10aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSwodD1lLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmNhbGwoZSxgY2FzY2FkZWQgc2hhZG93IG1hcCBnZW5lcmF0aW9uIGZvciBwYXNzIGlkICR7ZS5jdXJyZW50UmVuZGVyUGFzc0lkfWAsMSksdGhpcy5fYnJlYWtzQXJlRGlydHkmJnRoaXMuX3NwbGl0RnJ1c3R1bSgpLHRoaXMuX2NvbXB1dGVNYXRyaWNlcygpfSksdGhpcy5fc3BsaXRGcnVzdHVtKCl9X2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUsdCl7dC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldENhc2NhZGVUcmFuc2Zvcm1NYXRyaXgodGhpcy5fY3VycmVudExheWVyKSl9X2lzUmVhZHlDdXN0b21EZWZpbmVzKGUpe2UucHVzaCgiI2RlZmluZSBTTV9ERVBUSENMQU1QICIrKHRoaXMuX2RlcHRoQ2xhbXAmJnRoaXMuX2ZpbHRlciE9PUguRklMVEVSX1BDU1M/IjEiOiIwIikpfXByZXBhcmVEZWZpbmVzKGUsdCl7c3VwZXIucHJlcGFyZURlZmluZXMoZSx0KTtjb25zdCBpPXRoaXMuX3NjZW5lLHM9dGhpcy5fbGlnaHQ7aWYoIWkuc2hhZG93c0VuYWJsZWR8fCFzLnNoYWRvd0VuYWJsZWQpcmV0dXJuO2VbIlNIQURPV0NTTSIrdF09ITAsZVsiU0hBRE9XQ1NNREVCVUciK3RdPXRoaXMuZGVidWcsZVsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIit0XT10aGlzLm51bUNhc2NhZGVzLGVbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrdF09aS51c2VSaWdodEhhbmRlZFN5c3RlbTtjb25zdCByPXRoaXMuX2dldENhbWVyYSgpO3ImJnRoaXMuX3NoYWRvd01heFo8ci5tYXhaJiYoZVsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrdF09ITApLHRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT09PTAmJihlWyJTSEFET1dDU01OT0JMRU5EIit0XT0hMCl9YmluZFNoYWRvd0xpZ2h0KGUsdCl7Y29uc3QgaT10aGlzLl9saWdodDtpZighdGhpcy5fc2NlbmUuc2hhZG93c0VuYWJsZWR8fCFpLnNoYWRvd0VuYWJsZWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIXIpcmV0dXJuO2NvbnN0IG49dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighbilyZXR1cm47Y29uc3QgYT1uLmdldFNpemUoKS53aWR0aDtpZih0LnNldE1hdHJpY2VzKCJsaWdodE1hdHJpeCIrZSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkpLHQuc2V0QXJyYXkoInZpZXdGcnVzdHVtWiIrZSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1opLHQuc2V0RmxvYXQoImNhc2NhZGVCbGVuZEZhY3RvciIrZSx0aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9PT0wPzFlNDoxL3RoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksdC5zZXRBcnJheSgiZnJ1c3R1bUxlbmd0aHMiK2UsdGhpcy5fZnJ1c3R1bUxlbmd0aHMpLHRoaXMuX2ZpbHRlcj09PUguRklMVEVSX1BDRil0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsbiksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksYSwxL2EsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSk7ZWxzZSBpZih0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ1NTKXtmb3IobGV0IG89MDtvPHRoaXMuX251bUNhc2NhZGVzOysrbyl0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb25bbyoyKzBdPW89PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLngtdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueCkvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW29dLngtdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbb10ueCksdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uW28qMisxXT1vPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS55LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLnkpLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tvXS55LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW29dLnkpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbltvXT1vPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tvXS56LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW29dLnopLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS56LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLnopO3Quc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSxuKSx0LnNldFRleHR1cmUoImRlcHRoU2FtcGxlciIrZSxuKSx0LnNldEFycmF5MigibGlnaHRTaXplVVZDb3JyZWN0aW9uIitlLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbiksdC5zZXRBcnJheSgiZGVwdGhDb3JyZWN0aW9uIitlLHRoaXMuX2RlcHRoQ29ycmVjdGlvbiksdC5zZXRGbG9hdCgicGVudW1icmFEYXJrbmVzcyIrZSx0aGlzLnBlbnVtYnJhRGFya25lc3MpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLDEvYSx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyphLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpfWVsc2UgdC5zZXRUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLG4pLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLGEsMS9hLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpO2kuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQyKCJkZXB0aFZhbHVlcyIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFoociksZSl9Z2V0VHJhbnNmb3JtTWF0cml4KCl7cmV0dXJuIHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCgwKX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksdGhpcy5fZGVwdGhSZWR1Y2VyJiYodGhpcy5fZGVwdGhSZWR1Y2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlZHVjZXI9bnVsbCl9c2VyaWFsaXplKCl7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKSx0PXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXQpcmV0dXJuIGU7aWYoZS5udW1DYXNjYWRlcz10aGlzLl9udW1DYXNjYWRlcyxlLmRlYnVnPXRoaXMuX2RlYnVnLGUuc3RhYmlsaXplQ2FzY2FkZXM9dGhpcy5zdGFiaWxpemVDYXNjYWRlcyxlLmxhbWJkYT10aGlzLl9sYW1iZGEsZS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPXRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSxlLmRlcHRoQ2xhbXA9dGhpcy5fZGVwdGhDbGFtcCxlLmF1dG9DYWxjRGVwdGhCb3VuZHM9dGhpcy5hdXRvQ2FsY0RlcHRoQm91bmRzLGUuc2hhZG93TWF4Wj10aGlzLl9zaGFkb3dNYXhaLGUucGVudW1icmFEYXJrbmVzcz10aGlzLnBlbnVtYnJhRGFya25lc3MsZS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8sZS5taW5EaXN0YW5jZT10aGlzLm1pbkRpc3RhbmNlLGUubWF4RGlzdGFuY2U9dGhpcy5tYXhEaXN0YW5jZSxlLnJlbmRlckxpc3Q9W10sdC5yZW5kZXJMaXN0KWZvcihsZXQgaT0wO2k8dC5yZW5kZXJMaXN0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dC5yZW5kZXJMaXN0W2ldO2UucmVuZGVyTGlzdC5wdXNoKHMuaWQpfXJldHVybiBlfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9SC5QYXJzZShlLHQsKHMscixuKT0+bmV3IGtlKHMscix2b2lkIDAsbikpO3JldHVybiBlLm51bUNhc2NhZGVzIT09dm9pZCAwJiYoaS5udW1DYXNjYWRlcz1lLm51bUNhc2NhZGVzKSxlLmRlYnVnIT09dm9pZCAwJiYoaS5kZWJ1Zz1lLmRlYnVnKSxlLnN0YWJpbGl6ZUNhc2NhZGVzIT09dm9pZCAwJiYoaS5zdGFiaWxpemVDYXNjYWRlcz1lLnN0YWJpbGl6ZUNhc2NhZGVzKSxlLmxhbWJkYSE9PXZvaWQgMCYmKGkubGFtYmRhPWUubGFtYmRhKSxlLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UhPT12b2lkIDAmJihpLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9ZS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSxlLmRlcHRoQ2xhbXAhPT12b2lkIDAmJihpLmRlcHRoQ2xhbXA9ZS5kZXB0aENsYW1wKSxlLmF1dG9DYWxjRGVwdGhCb3VuZHMhPT12b2lkIDAmJihpLmF1dG9DYWxjRGVwdGhCb3VuZHM9ZS5hdXRvQ2FsY0RlcHRoQm91bmRzKSxlLnNoYWRvd01heFohPT12b2lkIDAmJihpLnNoYWRvd01heFo9ZS5zaGFkb3dNYXhaKSxlLnBlbnVtYnJhRGFya25lc3MhPT12b2lkIDAmJihpLnBlbnVtYnJhRGFya25lc3M9ZS5wZW51bWJyYURhcmtuZXNzKSxlLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8hPT12b2lkIDAmJihpLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89ZS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKSxlLm1pbkRpc3RhbmNlIT09dm9pZCAwJiZlLm1heERpc3RhbmNlIT09dm9pZCAwJiZpLnNldE1pbk1heERpc3RhbmNlKGUubWluRGlzdGFuY2UsZS5tYXhEaXN0YW5jZSksaX19a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2U9W25ldyBwKC0xLDEsLTEpLG5ldyBwKDEsMSwtMSksbmV3IHAoMSwtMSwtMSksbmV3IHAoLTEsLTEsLTEpLG5ldyBwKC0xLDEsMSksbmV3IHAoMSwxLDEpLG5ldyBwKDEsLTEsMSksbmV3IHAoLTEsLTEsMSldLGtlLkNMQVNTTkFNRT0iQ2FzY2FkZWRTaGFkb3dHZW5lcmF0b3IiLGtlLkRFRkFVTFRfQ0FTQ0FERVNfQ09VTlQ9NCxrZS5NSU5fQ0FTQ0FERVNfQ09VTlQ9MixrZS5NQVhfQ0FTQ0FERVNfQ09VTlQ9NCxrZS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1jPT57dGhyb3cgUSgiU2hhZG93R2VuZXJhdG9yU2NlbmVDb21wb25lbnQiKX0sUWkuQWRkUGFyc2VyKGouTkFNRV9TSEFET1dHRU5FUkFUT1IsKGMsZSk9PntpZihjLnNoYWRvd0dlbmVyYXRvcnMhPT12b2lkIDAmJmMuc2hhZG93R2VuZXJhdG9ycyE9PW51bGwpZm9yKGxldCB0PTAsaT1jLnNoYWRvd0dlbmVyYXRvcnMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9Yy5zaGFkb3dHZW5lcmF0b3JzW3RdO3MuY2xhc3NOYW1lPT09a2UuQ0xBU1NOQU1FP2tlLlBhcnNlKHMsZSk6SC5QYXJzZShzLGUpfX0pO2NsYXNzIGtve2NvbnN0cnVjdG9yKGUpe3RoaXMubmFtZT1qLk5BTUVfU0hBRE9XR0VORVJBVE9SLHRoaXMuc2NlbmU9ZX1yZWdpc3Rlcigpe3RoaXMuc2NlbmUuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZS5yZWdpc3RlclN0ZXAoai5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfU0hBRE9XR0VORVJBVE9SLHRoaXMsdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0cyl9cmVidWlsZCgpe31zZXJpYWxpemUoZSl7ZS5zaGFkb3dHZW5lcmF0b3JzPVtdO2NvbnN0IHQ9dGhpcy5zY2VuZS5saWdodHM7Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3Qgcz1pLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZihzKXtjb25zdCByPXMudmFsdWVzKCk7Zm9yKGxldCBuPXIubmV4dCgpO24uZG9uZSE9PSEwO249ci5uZXh0KCkpe2NvbnN0IGE9bi52YWx1ZTtlLnNoYWRvd0dlbmVyYXRvcnMucHVzaChhLnNlcmlhbGl6ZSgpKX19fX1hZGRGcm9tQ29udGFpbmVyKGUpe31yZW1vdmVGcm9tQ29udGFpbmVyKGUsdCl7fWRpc3Bvc2UoKXt9X2dhdGhlclJlbmRlclRhcmdldHMoZSl7Y29uc3QgdD10aGlzLnNjZW5lO2lmKHRoaXMuc2NlbmUuc2hhZG93c0VuYWJsZWQpZm9yKGxldCBpPTA7aTx0LmxpZ2h0cy5sZW5ndGg7aSsrKXtjb25zdCBzPXQubGlnaHRzW2ldLHI9cy5nZXRTaGFkb3dHZW5lcmF0b3JzKCk7aWYocy5pc0VuYWJsZWQoKSYmcy5zaGFkb3dFbmFibGVkJiZyKXtjb25zdCBuPXIudmFsdWVzKCk7Zm9yKGxldCBhPW4ubmV4dCgpO2EuZG9uZSE9PSEwO2E9bi5uZXh0KCkpe2NvbnN0IGg9YS52YWx1ZS5nZXRTaGFkb3dNYXAoKTt0LnRleHR1cmVzLmluZGV4T2YoaCkhPT0tMSYmZS5wdXNoKGgpfX19fX1ILl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWM9PntsZXQgZT1jLl9nZXRDb21wb25lbnQoai5OQU1FX1NIQURPV0dFTkVSQVRPUik7ZXx8KGU9bmV3IGtvKGMpLGMuX2FkZENvbXBvbmVudChlKSl9O2NvbnN0IFZvPXtlbmFibGVTaGFkb3dzOiEwfTtmdW5jdGlvbiB6cihjPVZvKXtjb25zdHtlbmFibGVTaGFkb3dzOmUsc2hhZG93VHJhbnNwYXJlbmN5OnQsaW50ZW5zaXR5Omksc2NlbmU6c309YyxyPW5ldyBEdCgiRGlyZWN0aW9uYWxMaWdodCIsbmV3IHAoLS4zLC0xLC40KSxzKTtyLnBvc2l0aW9uPW5ldyBwKC01MCw2NSwtNTApLHIuaW50ZW5zaXR5PS42NSppO2NvbnN0IG49bmV3IGxzKCJIZW1pc3BoZXJpY0xpZ2h0IixuZXcgcCgxLDEsMCkscyk7cmV0dXJuIG4uaW50ZW5zaXR5PS40KmksZSYmKHIuc2hhZG93TWluWj0xLHIuc2hhZG93TWF4Wj03MCxyLnNoYWRvd0dlbmVyYXRvcj1uZXcgSCgyMDQ4LHIpLHIuc2hhZG93R2VuZXJhdG9yLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITAsci5zaGFkb3dHZW5lcmF0b3IuZGFya25lc3M9dCkse2RpcmVjdGlvbmFsOnIsaGVtaXNwaGVyaWM6bn19ZnVuY3Rpb24gR3IoYyl7bGV0IHQ9WzAsMSwyLDAsMiwzLDQsNSw2LDQsNiw3LDgsOSwxMCw4LDEwLDExLDEyLDEzLDE0LDEyLDE0LDE1LDE2LDE3LDE4LDE2LDE4LDE5LDIwLDIxLDIyLDIwLDIyLDIzXTtjb25zdCBpPVswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMF0scz1bXTtsZXQgcj1bXTtjb25zdCBuPWMud2lkdGh8fGMuc2l6ZXx8MSxhPWMuaGVpZ2h0fHxjLnNpemV8fDEsbz1jLmRlcHRofHxjLnNpemV8fDEsaD1jLndyYXB8fCExO2xldCBsPWMudG9wQmFzZUF0PT09dm9pZCAwPzE6Yy50b3BCYXNlQXQsdT1jLmJvdHRvbUJhc2VBdD09PXZvaWQgMD8wOmMuYm90dG9tQmFzZUF0O2w9KGwrNCklNCx1PSh1KzQpJTQ7Y29uc3QgZD1bMiwwLDMsMV0sXz1bMiwwLDEsM107bGV0IGY9ZFtsXSxtPV9bdV0sdj1bMSwtMSwxLC0xLC0xLDEsLTEsMSwxLDEsMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLC0xLDEsLTEsLTEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLC0xLDEsLTEsMSwxLC0xLDEsMSwxLDEsLTEsMSwxLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDFdO2lmKGgpe3Q9WzIsMywwLDIsMCwxLDQsNSw2LDQsNiw3LDksMTAsMTEsOSwxMSw4LDEyLDE0LDE1LDEyLDEzLDE0XSx2PVstMSwxLDEsMSwxLDEsMSwtMSwxLC0xLC0xLDEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsMSwxLDEsLTEsMSwtMSwtMSwxLC0xLDEsLTEsMSwtMSwtMSwxLDEsLTEsLTEsMSwtMSwtMSwtMV07bGV0IHg9W1sxLDEsMV0sWy0xLDEsMV0sWy0xLDEsLTFdLFsxLDEsLTFdXSxJPVtbLTEsLTEsMV0sWzEsLTEsMV0sWzEsLTEsLTFdLFstMSwtMSwtMV1dO2NvbnN0IFU9WzE3LDE4LDE5LDE2XSxrPVsyMiwyMywyMCwyMV07Zm9yKDtmPjA7KXgudW5zaGlmdCh4LnBvcCgpKSxVLnVuc2hpZnQoVS5wb3AoKSksZi0tO2Zvcig7bT4wOylJLnVuc2hpZnQoSS5wb3AoKSksay51bnNoaWZ0KGsucG9wKCkpLG0tLTt4PXguZmxhdCgpLEk9SS5mbGF0KCksdj12LmNvbmNhdCh4KS5jb25jYXQoSSksdC5wdXNoKFVbMF0sVVsyXSxVWzNdLFVbMF0sVVsxXSxVWzJdKSx0LnB1c2goa1swXSxrWzJdLGtbM10sa1swXSxrWzFdLGtbMl0pfWNvbnN0IEU9W24vMixhLzIsby8yXTtyPXYucmVkdWNlKCh4LEksVSk9PnguY29uY2F0KEkqRVtVJTNdKSxbXSk7Y29uc3QgUz1jLnNpZGVPcmllbnRhdGlvbj09PTA/MDpjLnNpZGVPcmllbnRhdGlvbnx8dGUuREVGQVVMVFNJREUsUj1jLmZhY2VVVnx8bmV3IEFycmF5KDYpLEE9Yy5mYWNlQ29sb3JzLEM9W107Zm9yKGxldCB4PTA7eDw2O3grKylSW3hdPT09dm9pZCAwJiYoUlt4XT1uZXcgeWUoMCwwLDEsMSkpLEEmJkFbeF09PT12b2lkIDAmJihBW3hdPW5ldyBOZSgxLDEsMSwxKSk7Zm9yKGxldCB4PTA7eDw2O3grKylpZihzLnB1c2goUlt4XS56LF90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1SW3hdLnc6Ult4XS53KSxzLnB1c2goUlt4XS54LF90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1SW3hdLnc6Ult4XS53KSxzLnB1c2goUlt4XS54LF90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1SW3hdLnk6Ult4XS55KSxzLnB1c2goUlt4XS56LF90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1SW3hdLnk6Ult4XS55KSxBKWZvcihsZXQgST0wO0k8NDtJKyspQy5wdXNoKEFbeF0ucixBW3hdLmcsQVt4XS5iLEFbeF0uYSk7dGUuX0NvbXB1dGVTaWRlcyhTLHIsdCxpLHMsYy5mcm9udFVWcyxjLmJhY2tVVnMpO2NvbnN0IGI9bmV3IHRlO2lmKGIuaW5kaWNlcz10LGIucG9zaXRpb25zPXIsYi5ub3JtYWxzPWksYi51dnM9cyxBKXtjb25zdCB4PVM9PT10ZS5ET1VCTEVTSURFP0MuY29uY2F0KEMpOkM7Yi5jb2xvcnM9eH1yZXR1cm4gYn1mdW5jdGlvbiBDaShjLGU9e30sdD1udWxsKXtjb25zdCBpPW5ldyB6KGMsdCk7cmV0dXJuIGUuc2lkZU9yaWVudGF0aW9uPXouX0dldERlZmF1bHRTaWRlT3JpZW50YXRpb24oZS5zaWRlT3JpZW50YXRpb24pLGkuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1lLnNpZGVPcmllbnRhdGlvbixHcihlKS5hcHBseVRvTWVzaChpLGUudXBkYXRhYmxlKSxpfXRlLkNyZWF0ZUJveD1Hcix6LkNyZWF0ZUJveD0oYyxlLHQ9bnVsbCxpLHMpPT5DaShjLHtzaXplOmUsc2lkZU9yaWVudGF0aW9uOnMsdXBkYXRhYmxlOml9LHQpO2NsYXNzIFhye2NvbnN0cnVjdG9yKCl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXM9e30sdGhpcy5wcmV2aW91c0JvbmVzPXt9fXN0YXRpYyBBZGRVbmlmb3JtcyhlKXtlLnB1c2goInByZXZpb3VzV29ybGQiLCJwcmV2aW91c1ZpZXdQcm9qZWN0aW9uIiwibVByZXZpb3VzQm9uZXMiKX1zdGF0aWMgQWRkU2FtcGxlcnMoZSl7fWJpbmRGb3JTdWJNZXNoKGUsdCxpLHMscil7aWYodC5wcmVQYXNzUmVuZGVyZXImJnQucHJlUGFzc1JlbmRlcmVyLmVuYWJsZWQmJnQucHJlUGFzc1JlbmRlcmVyLmN1cnJlbnRSVGlzU2NlbmVSVCYmdC5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgoMikhPT0tMSl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF18fCh0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXT1zLmNsb25lKCkpLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbnx8KHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbj10LmdldFRyYW5zZm9ybU1hdHJpeCgpLmNsb25lKCksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb249dC5nZXRUcmFuc2Zvcm1NYXRyaXgoKS5jbG9uZSgpKTtjb25zdCBuPXQuZ2V0RW5naW5lKCk7dGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24udXBkYXRlRmxhZyE9PXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkudXBkYXRlRmxhZz8odGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9bi5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbiksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24uY29weUZyb20odC5nZXRUcmFuc2Zvcm1NYXRyaXgoKSkpOnRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkIT09bi5mcmFtZUlkJiYodGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9bi5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbikpLGUuc2V0TWF0cml4KCJwcmV2aW91c1dvcmxkIix0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXSksZS5zZXRNYXRyaXgoInByZXZpb3VzVmlld1Byb2plY3Rpb24iLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbiksdGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF09cy5jbG9uZSgpfX19Y2xhc3MgSHIgZXh0ZW5kcyBEe2NvbnN0cnVjdG9yKGUsdCxpPSEwKXtzdXBlcihlLHQpLHRoaXMuX25vcm1hbE1hdHJpeD1uZXcgTSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPWl9Z2V0RWZmZWN0KCl7cmV0dXJuIHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/dGhpcy5fYWN0aXZlRWZmZWN0OnN1cGVyLmdldEVmZmVjdCgpfWlzUmVhZHkoZSx0KXtyZXR1cm4gZT8hdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlc3x8IWUuc3ViTWVzaGVzfHxlLnN1Yk1lc2hlcy5sZW5ndGg9PT0wPyEwOnRoaXMuaXNSZWFkeUZvclN1Yk1lc2goZSxlLnN1Yk1lc2hlc1swXSx0KTohMX1faXNSZWFkeUZvclN1Yk1lc2goZSl7Y29uc3QgdD1lLm1hdGVyaWFsRGVmaW5lcztyZXR1cm4hISghdGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGwmJmUuZWZmZWN0JiZ0JiZ0Ll9yZW5kZXJJZD09PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpKX1iaW5kT25seVdvcmxkTWF0cml4KGUpe3RoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoIndvcmxkIixlKX1iaW5kT25seU5vcm1hbE1hdHJpeChlKXt0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJub3JtYWxNYXRyaXgiLGUpfWJpbmQoZSx0KXt0JiZ0aGlzLmJpbmRGb3JTdWJNZXNoKGUsdCx0LnN1Yk1lc2hlc1swXSl9X2FmdGVyQmluZChlLHQ9bnVsbCl7c3VwZXIuX2FmdGVyQmluZChlLHQpLHRoaXMuZ2V0U2NlbmUoKS5fY2FjaGVkRWZmZWN0PXQsdCYmKHQuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbD0hMSl9X211c3RSZWJpbmQoZSx0LGk9MSl7cmV0dXJuIGUuaXNDYWNoZWRNYXRlcmlhbEludmFsaWQodGhpcyx0LGkpfWRpc3Bvc2UoZSx0LGkpe3RoaXMuX2FjdGl2ZUVmZmVjdD12b2lkIDAsc3VwZXIuZGlzcG9zZShlLHQsaSl9fWNsYXNzIHVle3N0YXRpYyBnZXQgRGlmZnVzZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBEZXRhaWxUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERldGFpbFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBEZWNhbE1hcEVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRGVjYWxNYXBFbmFibGVkfXN0YXRpYyBzZXQgRGVjYWxNYXBFbmFibGVkKGUpe3RoaXMuX0RlY2FsTWFwRW5hYmxlZCE9PWUmJih0aGlzLl9EZWNhbE1hcEVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEFtYmllbnRUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgT3BhY2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEVtaXNzaXZlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEVtaXNzaXZlVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBTcGVjdWxhclRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBTcGVjdWxhclRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQnVtcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEJ1bXBUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQnVtcFRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBMaWdodG1hcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBMaWdodG1hcFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkKGUpe3RoaXMuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBGcmVzbmVsRW5hYmxlZCgpe3JldHVybiB0aGlzLl9GcmVzbmVsRW5hYmxlZH1zdGF0aWMgc2V0IEZyZXNuZWxFbmFibGVkKGUpe3RoaXMuX0ZyZXNuZWxFbmFibGVkIT09ZSYmKHRoaXMuX0ZyZXNuZWxFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg0KSl9c3RhdGljIGdldCBDbGVhckNvYXRUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENsZWFyQ29hdFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBDbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IENsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgU2hlZW5UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgU2hlZW5UZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEFuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEFuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBUaGlja25lc3NUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFRoaWNrbmVzc1RleHR1cmVFbmFibGVkKGUpe3RoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBSZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBUcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX19dWUuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fRGV0YWlsVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0RlY2FsTWFwRW5hYmxlZD0hMCx1ZS5fQW1iaWVudFRleHR1cmVFbmFibGVkPSEwLHVlLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ITAsdWUuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD0hMCx1ZS5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fQnVtcFRleHR1cmVFbmFibGVkPSEwLHVlLl9MaWdodG1hcFRleHR1cmVFbmFibGVkPSEwLHVlLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPSEwLHVlLl9GcmVzbmVsRW5hYmxlZD0hMCx1ZS5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkPSEwLHVlLl9TaGVlblRleHR1cmVFbmFibGVkPSEwLHVlLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkPSEwLHVlLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkPSEwLHVlLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZD0hMDtjb25zdCBXbz0iZGVjYWxGcmFnbWVudERlY2xhcmF0aW9uIix6bz1gI2lmZGVmIERFQ0FMCnVuaWZvcm0gdmVjNCB2RGVjYWxJbmZvczsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtXb109em87Y29uc3QgR289ImRlZmF1bHRGcmFnbWVudERlY2xhcmF0aW9uIixYbz1gdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKdW5pZm9ybSB2ZWM0IHZEaWZmdXNlQ29sb3I7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZTcGVjdWxhckNvbG9yOwojZW5kaWYKdW5pZm9ybSB2ZWMzIHZFbWlzc2l2ZUNvbG9yOwp1bmlmb3JtIHZlYzMgdkFtYmllbnRDb2xvcjsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwojaWZkZWYgRElGRlVTRQp1bmlmb3JtIHZlYzIgdkRpZmZ1c2VJbmZvczsKI2VuZGlmCiNpZmRlZiBBTUJJRU5UCnVuaWZvcm0gdmVjMiB2QW1iaWVudEluZm9zOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkgCnVuaWZvcm0gdmVjMiB2T3BhY2l0eUluZm9zOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFCnVuaWZvcm0gdmVjMiB2RW1pc3NpdmVJbmZvczsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAp1bmlmb3JtIHZlYzIgdkxpZ2h0bWFwSW5mb3M7CiNlbmRpZgojaWZkZWYgQlVNUAp1bmlmb3JtIHZlYzMgdkJ1bXBJbmZvczsKdW5pZm9ybSB2ZWMyIHZUYW5nZW50U3BhY2VQYXJhbXM7CiNlbmRpZgojaWZkZWYgQUxQSEFURVNUCnVuaWZvcm0gZmxvYXQgYWxwaGFDdXRPZmY7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04pIHx8IGRlZmluZWQoUkVGUkFDVElPTikgfHwgZGVmaW5lZChQUkVQQVNTKQp1bmlmb3JtIG1hdDQgdmlldzsKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9OCnVuaWZvcm0gdmVjNCB2UmVmcmFjdGlvbkluZm9zOwojaWZuZGVmIFJFRlJBQ1RJT05NQVBfM0QKdW5pZm9ybSBtYXQ0IHJlZnJhY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTkZSRVNORUwKdW5pZm9ybSB2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCByZWZyYWN0aW9uUmlnaHRDb2xvcjsKI2VuZGlmCiNpZiBkZWZpbmVkKFVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDKSAmJiBkZWZpbmVkKFJFRlJBQ1RJT05NQVBfM0QpCnVuaWZvcm0gdmVjMyB2UmVmcmFjdGlvblBvc2l0aW9uOwp1bmlmb3JtIHZlYzMgdlJlZnJhY3Rpb25TaXplOyAKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUikgJiYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCnVuaWZvcm0gdmVjMiB2U3BlY3VsYXJJbmZvczsKI2VuZGlmCiNpZmRlZiBESUZGVVNFRlJFU05FTAp1bmlmb3JtIHZlYzQgZGlmZnVzZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwojZW5kaWYKI2lmZGVmIE9QQUNJVFlGUkVTTkVMCnVuaWZvcm0gdmVjNCBvcGFjaXR5UGFydHM7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVGUkVTTkVMCnVuaWZvcm0gdmVjNCBlbWlzc2l2ZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGVtaXNzaXZlUmlnaHRDb2xvcjsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OCnVuaWZvcm0gdmVjMiB2UmVmbGVjdGlvbkluZm9zOwojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BMQU5BUikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0NVQklDKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NLWUJPWCkKdW5pZm9ybSBtYXQ0IHJlZmxlY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZuZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCiNpZiBkZWZpbmVkKFVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDKSAmJiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfQ1VCSUMpCnVuaWZvcm0gdmVjMyB2UmVmbGVjdGlvblBvc2l0aW9uOwp1bmlmb3JtIHZlYzMgdlJlZmxlY3Rpb25TaXplOyAKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTkZSRVNORUwKdW5pZm9ybSB2ZWM0IHJlZmxlY3Rpb25MZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCByZWZsZWN0aW9uUmlnaHRDb2xvcjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgREVUQUlMCnVuaWZvcm0gdmVjNCB2RGV0YWlsSW5mb3M7CiNlbmRpZgojaW5jbHVkZTxkZWNhbEZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQURESVRJT05BTF9GUkFHTUVOVF9ERUNMQVJBVElPTgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbR29dPVhvO2NvbnN0IEhvPSJkZWZhdWx0VWJvRGVjbGFyYXRpb24iLEtvPWBsYXlvdXQoc3RkMTQwLGNvbHVtbl9tYWpvcikgdW5pZm9ybTsKdW5pZm9ybSBNYXRlcmlhbAp7CnZlYzQgZGlmZnVzZUxlZnRDb2xvcjsKdmVjNCBkaWZmdXNlUmlnaHRDb2xvcjsKdmVjNCBvcGFjaXR5UGFydHM7CnZlYzQgcmVmbGVjdGlvbkxlZnRDb2xvcjsKdmVjNCByZWZsZWN0aW9uUmlnaHRDb2xvcjsKdmVjNCByZWZyYWN0aW9uTGVmdENvbG9yOwp2ZWM0IHJlZnJhY3Rpb25SaWdodENvbG9yOwp2ZWM0IGVtaXNzaXZlTGVmdENvbG9yOwp2ZWM0IGVtaXNzaXZlUmlnaHRDb2xvcjsKdmVjMiB2RGlmZnVzZUluZm9zOwp2ZWMyIHZBbWJpZW50SW5mb3M7CnZlYzIgdk9wYWNpdHlJbmZvczsKdmVjMiB2UmVmbGVjdGlvbkluZm9zOwp2ZWMzIHZSZWZsZWN0aW9uUG9zaXRpb247CnZlYzMgdlJlZmxlY3Rpb25TaXplOwp2ZWMyIHZFbWlzc2l2ZUluZm9zOwp2ZWMyIHZMaWdodG1hcEluZm9zOwp2ZWMyIHZTcGVjdWxhckluZm9zOwp2ZWMzIHZCdW1wSW5mb3M7Cm1hdDQgZGlmZnVzZU1hdHJpeDsKbWF0NCBhbWJpZW50TWF0cml4OwptYXQ0IG9wYWNpdHlNYXRyaXg7Cm1hdDQgcmVmbGVjdGlvbk1hdHJpeDsKbWF0NCBlbWlzc2l2ZU1hdHJpeDsKbWF0NCBsaWdodG1hcE1hdHJpeDsKbWF0NCBzcGVjdWxhck1hdHJpeDsKbWF0NCBidW1wTWF0cml4Owp2ZWMyIHZUYW5nZW50U3BhY2VQYXJhbXM7CmZsb2F0IHBvaW50U2l6ZTsKZmxvYXQgYWxwaGFDdXRPZmY7Cm1hdDQgcmVmcmFjdGlvbk1hdHJpeDsKdmVjNCB2UmVmcmFjdGlvbkluZm9zOwp2ZWMzIHZSZWZyYWN0aW9uUG9zaXRpb247CnZlYzMgdlJlZnJhY3Rpb25TaXplOwp2ZWM0IHZTcGVjdWxhckNvbG9yOwp2ZWMzIHZFbWlzc2l2ZUNvbG9yOwp2ZWM0IHZEaWZmdXNlQ29sb3I7CnZlYzMgdkFtYmllbnRDb2xvcjsKI2RlZmluZSBBRERJVElPTkFMX1VCT19ERUNMQVJBVElPTgp9OwojaW5jbHVkZTxzY2VuZVVib0RlY2xhcmF0aW9uPgojaW5jbHVkZTxtZXNoVWJvRGVjbGFyYXRpb24+CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIb109S287Y29uc3QgWW89InByZVBhc3NEZWNsYXJhdGlvbiIsWm89YCNpZmRlZiBQUkVQQVNTCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKbGF5b3V0KGxvY2F0aW9uPTApIG91dCBoaWdocCB2ZWM0IGdsRnJhZ0RhdGFbe1h9XTtoaWdocCB2ZWM0IGdsX0ZyYWdDb2xvcjsKI2lmZGVmIFBSRVBBU1NfREVQVEgKdmFyeWluZyBoaWdocCB2ZWMzIHZWaWV3UG9zOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdmFyeWluZyBoaWdocCB2ZWM0IHZDdXJyZW50UG9zaXRpb247dmFyeWluZyBoaWdocCB2ZWM0IHZQcmV2aW91c1Bvc2l0aW9uOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtZb109Wm87Y29uc3QgcW89Im9pdERlY2xhcmF0aW9uIixqbz1gI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQojZXh0ZW5zaW9uIEdMX0VYVF9kcmF3X2J1ZmZlcnMgOiByZXF1aXJlCmxheW91dChsb2NhdGlvbj0wKSBvdXQgdmVjMiBkZXB0aDsgCmxheW91dChsb2NhdGlvbj0xKSBvdXQgdmVjNCBmcm9udENvbG9yOwpsYXlvdXQobG9jYXRpb249Mikgb3V0IHZlYzQgYmFja0NvbG9yOwojZGVmaW5lIE1BWF9ERVBUSCA5OTk5OS4wCmhpZ2hwIHZlYzQgZ2xfRnJhZ0NvbG9yOwp1bmlmb3JtIHNhbXBsZXIyRCBvaXREZXB0aFNhbXBsZXI7CnVuaWZvcm0gc2FtcGxlcjJEIG9pdEZyb250Q29sb3JTYW1wbGVyOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3FvXT1qbztjb25zdCAkbz0ibWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uIixRbz1gI2lmZGVmIE1BSU5VVntYfQp2YXJ5aW5nIHZlYzIgdk1haW5VVntYfTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVskb109UW87Y29uc3QgSm89ImxpZ2h0RnJhZ21lbnREZWNsYXJhdGlvbiIsZWg9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGF0YXtYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodERpZmZ1c2V7WH07CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZMaWdodFNwZWN1bGFye1h9OwojZWxzZQp2ZWM0IHZMaWdodFNwZWN1bGFye1h9PXZlYzQoMC4pOwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHZpZXdGcnVzdHVtWntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGZydXN0dW1MZW5ndGhze1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgY2FzY2FkZUJsZW5kRmFjdG9ye1h9Owp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVye1h9Owp1bmlmb3JtIHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZGVwdGhDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgcGVudW1icmFEYXJrbmVzc3tYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmNvbnN0IHZlYzMgdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9WzhdPXZlYzNbOF0KKAp2ZWMzICggMS41LDAuMCwwLjAgKSwKdmVjMyAoIDAuMCwxLjUsMC4wICksCnZlYzMgKCAwLjAsMC4wLDUuNSApLAp2ZWMzICggMS41LDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwxLjUsMC4wICksCnZlYzMgKCAxLjAsMS4wLDEuMCApLAp2ZWMzICggMC4wLDEuMCw1LjUgKSwKdmVjMyAoIDAuNSwzLjUsMC43NSApCik7CnZlYzMgc2hhZG93RGVidWd7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppbnQgaW5kZXh7WH09LTE7CiNlbHNlCmludCBpbmRleHtYfT1TSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMTsKI2VuZGlmCmZsb2F0IGRpZmZ7WH09MC47CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZGVwdGhTYW1wbGVye1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBzaGFkb3dzSW5mb3tYfTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVze1h9OwojZW5kaWYKI2lmZGVmIFNQT1RMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlyZWN0aW9ue1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnVuaWZvcm0gdmVjMyB2TGlnaHRHcm91bmR7WH07CiNlbmRpZgojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CnVuaWZvcm0gbWF0NCB0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfTsKdW5pZm9ybSBzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSm9dPWVoO2NvbnN0IHRoPSJsaWdodFVib0RlY2xhcmF0aW9uIixpaD1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gTGlnaHR7WH0Kewp2ZWM0IHZMaWdodERhdGE7CnZlYzQgdkxpZ2h0RGlmZnVzZTsKdmVjNCB2TGlnaHRTcGVjdWxhcjsKI2lmZGVmIFNQT1RMSUdIVHtYfQp2ZWM0IHZMaWdodERpcmVjdGlvbjsKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnZlYzMgdkxpZ2h0R3JvdW5kOwojZW5kaWYKdmVjNCBzaGFkb3dzSW5mbzsKdmVjMiBkZXB0aFZhbHVlczsKfSBsaWdodHtYfTsKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQp1bmlmb3JtIG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH07CnVuaWZvcm0gc2FtcGxlcjJEIHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgdmlld0ZydXN0dW1ae1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZnJ1c3R1bUxlbmd0aHN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBjYXNjYWRlQmxlbmRGYWN0b3J7WH07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXJ7WH07CnVuaWZvcm0gdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBkZXB0aENvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBwZW51bWJyYURhcmtuZXNze1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KY29uc3QgdmVjMyB2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1bOF09dmVjM1s4XQooCnZlYzMgKCAxLjUsMC4wLDAuMCApLAp2ZWMzICggMC4wLDEuNSwwLjAgKSwKdmVjMyAoIDAuMCwwLjAsNS41ICksCnZlYzMgKCAxLjUsMC4wLDUuNSApLAp2ZWMzICggMS41LDEuNSwwLjAgKSwKdmVjMyAoIDEuMCwxLjAsMS4wICksCnZlYzMgKCAwLjAsMS4wLDUuNSApLAp2ZWMzICggMC41LDMuNSwwLjc1ICkKKTsKdmVjMyBzaGFkb3dEZWJ1Z3tYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmludCBpbmRleHtYfT0tMTsKI2Vsc2UKaW50IGluZGV4e1h9PVNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xOwojZW5kaWYKZmxvYXQgZGlmZntYfT0wLjsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQp1bmlmb3JtIHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXJ7WH07IAojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZGVwdGhTYW1wbGVye1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3RoXT1paDtjb25zdCBzaD0ibGlnaHRzRnJhZ21lbnRGdW5jdGlvbnMiLHJoPWBzdHJ1Y3QgbGlnaHRpbmdJbmZvCnsKdmVjMyBkaWZmdXNlOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgc3BlY3VsYXI7CiNlbmRpZgojaWZkZWYgTkRPVEwKZmxvYXQgbmRsOwojZW5kaWYKfTsKbGlnaHRpbmdJbmZvIGNvbXB1dGVMaWdodGluZyh2ZWMzIHZpZXdEaXJlY3Rpb25XLHZlYzMgdk5vcm1hbCx2ZWM0IGxpZ2h0RGF0YSx2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsZmxvYXQgcmFuZ2UsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0Owp2ZWMzIGxpZ2h0VmVjdG9yVzsKZmxvYXQgYXR0ZW51YXRpb249MS4wOwppZiAobGlnaHREYXRhLnc9PTAuKQp7CnZlYzMgZGlyZWN0aW9uPWxpZ2h0RGF0YS54eXotdlBvc2l0aW9uVzsKYXR0ZW51YXRpb249bWF4KDAuLDEuMC1sZW5ndGgoZGlyZWN0aW9uKS9yYW5nZSk7CmxpZ2h0VmVjdG9yVz1ub3JtYWxpemUoZGlyZWN0aW9uKTsKfQplbHNlCnsKbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZSgtbGlnaHREYXRhLnh5eik7Cn0KZmxvYXQgbmRsPW1heCgwLixkb3Qodk5vcm1hbCxsaWdodFZlY3RvclcpKTsKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9bmRsOwojZW5kaWYKcmVzdWx0LmRpZmZ1c2U9bmRsKmRpZmZ1c2VDb2xvciphdHRlbnVhdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHRWZWN0b3JXKTsKZmxvYXQgc3BlY0NvbXA9bWF4KDAuLGRvdCh2Tm9ybWFsLGFuZ2xlVykpOwpzcGVjQ29tcD1wb3coc3BlY0NvbXAsbWF4KDEuLGdsb3NzaW5lc3MpKTsKcmVzdWx0LnNwZWN1bGFyPXNwZWNDb21wKnNwZWN1bGFyQ29sb3IqYXR0ZW51YXRpb247CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CmxpZ2h0aW5nSW5mbyBjb21wdXRlU3BvdExpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzQgbGlnaHREaXJlY3Rpb24sdmVjMyBkaWZmdXNlQ29sb3IsdmVjMyBzcGVjdWxhckNvbG9yLGZsb2F0IHJhbmdlLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKdmVjMyBkaXJlY3Rpb249bGlnaHREYXRhLnh5ei12UG9zaXRpb25XOwp2ZWMzIGxpZ2h0VmVjdG9yVz1ub3JtYWxpemUoZGlyZWN0aW9uKTsKZmxvYXQgYXR0ZW51YXRpb249bWF4KDAuLDEuMC1sZW5ndGgoZGlyZWN0aW9uKS9yYW5nZSk7CmZsb2F0IGNvc0FuZ2xlPW1heCgwLixkb3QobGlnaHREaXJlY3Rpb24ueHl6LC1saWdodFZlY3RvclcpKTsKaWYgKGNvc0FuZ2xlPj1saWdodERpcmVjdGlvbi53KQp7CmNvc0FuZ2xlPW1heCgwLixwb3coY29zQW5nbGUsbGlnaHREYXRhLncpKTsKYXR0ZW51YXRpb24qPWNvc0FuZ2xlOwpmbG9hdCBuZGw9bWF4KDAuLGRvdCh2Tm9ybWFsLGxpZ2h0VmVjdG9yVykpOwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1uZGwqZGlmZnVzZUNvbG9yKmF0dGVudWF0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodFZlY3RvclcpOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvciphdHRlbnVhdGlvbjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KcmVzdWx0LmRpZmZ1c2U9dmVjMygwLik7CiNpZmRlZiBTUEVDVUxBUlRFUk0KcmVzdWx0LnNwZWN1bGFyPXZlYzMoMC4pOwojZW5kaWYKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9MC47CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CmxpZ2h0aW5nSW5mbyBjb21wdXRlSGVtaXNwaGVyaWNMaWdodGluZyh2ZWMzIHZpZXdEaXJlY3Rpb25XLHZlYzMgdk5vcm1hbCx2ZWM0IGxpZ2h0RGF0YSx2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsdmVjMyBncm91bmRDb2xvcixmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CmZsb2F0IG5kbD1kb3Qodk5vcm1hbCxsaWdodERhdGEueHl6KSowLjUrMC41OwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1taXgoZ3JvdW5kQ29sb3IsZGlmZnVzZUNvbG9yLG5kbCk7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0RGF0YS54eXopOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvcjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KI2RlZmluZSBpbmxpbmUKdmVjMyBjb21wdXRlUHJvamVjdGlvblRleHR1cmVEaWZmdXNlTGlnaHRpbmcoc2FtcGxlcjJEIHByb2plY3Rpb25MaWdodFNhbXBsZXIsbWF0NCB0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeCl7CnZlYzQgc3RycT10ZXh0dXJlUHJvamVjdGlvbk1hdHJpeCp2ZWM0KHZQb3NpdGlvblcsMS4wKTsKc3RycS89c3RycS53Owp2ZWMzIHRleHR1cmVDb2xvcj10ZXh0dXJlMkQocHJvamVjdGlvbkxpZ2h0U2FtcGxlcixzdHJxLnh5KS5yZ2I7CnJldHVybiB0ZXh0dXJlQ29sb3I7Cn1gO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbc2hdPXJoO2NvbnN0IG5oPSJzaGFkb3dzRnJhZ21lbnRGdW5jdGlvbnMiLGFoPWAjaWZkZWYgU0hBRE9XUwojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKSB8fCBkZWZpbmVkKE5BVElWRSkKI2RlZmluZSBURVhUVVJFRlVOQyhzLGMsbCkgdGV4dHVyZTJETG9kRVhUKHMsYyxsKQojZWxzZQojZGVmaW5lIFRFWFRVUkVGVU5DKHMsYyxiKSB0ZXh0dXJlMkQocyxjLGIpCiNlbmRpZgojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfQojZW5kaWYKZmxvYXQgY29tcHV0ZUZhbGxPZmYoZmxvYXQgdmFsdWUsdmVjMiBjbGlwU3BhY2UsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmZsb2F0IG1hc2s9c21vb3Roc3RlcCgxLjAtZnJ1c3R1bUVkZ2VGYWxsb2ZmLDEuMDAwMDAwMTIsY2xhbXAoZG90KGNsaXBTcGFjZSxjbGlwU3BhY2UpLDAuLDEuKSk7CnJldHVybiBtaXgodmFsdWUsMS4wLG1hc2spOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dDdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpkZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93PXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCnJldHVybiBkZXB0aD5zaGFkb3cgPyBkYXJrbmVzcyA6IDEuMDsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZ0N1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgbWFwU2l6ZSxmbG9hdCBkYXJrbmVzcyx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwpmbG9hdCB2aXNpYmlsaXR5PTEuOwp2ZWMzIHBvaXNzb25EaXNrWzRdOwpwb2lzc29uRGlza1swXT12ZWMzKC0xLjAsMS4wLC0xLjApOwpwb2lzc29uRGlza1sxXT12ZWMzKDEuMCwtMS4wLC0xLjApOwpwb2lzc29uRGlza1syXT12ZWMzKC0xLjAsLTEuMCwtMS4wKTsKcG9pc3NvbkRpc2tbM109dmVjMygxLjAsLTEuMCwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1syXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2Vsc2UKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1swXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1szXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZW5kaWYKcmV0dXJuIG1pbigxLjAsdmlzaWJpbGl0eStkYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhFU01DdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpmbG9hdCBlc209MS4wLWNsYW1wKGV4cChtaW4oODcuLGRlcHRoU2NhbGUqc2hhZG93UGl4ZWxEZXB0aCkpKnNoYWRvd01hcFNhbXBsZSwwLiwxLi1kYXJrbmVzcyk7IApyZXR1cm4gZXNtOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU01DdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGVzbTsKfQojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKSB8fCBkZWZpbmVkKE5BVElWRSkKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd0NTTShmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwp2ZWMzIHV2TGF5ZXI9dmVjMyh1di54LHV2LnksbGF5ZXIpOwpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93PXVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkxheWVyKSk7CiNlbHNlCmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkxheWVyKS54OwojZW5kaWYKcmV0dXJuIHNoYWRvd1BpeGVsRGVwdGg+c2hhZG93ID8gY29tcHV0ZUZhbGxPZmYoZGFya25lc3MsY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZikgOiAxLjsKfQojZW5kaWYKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvdyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93PXVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKSk7CiNlbHNlCmZsb2F0IHNoYWRvdz1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKS54OwojZW5kaWYKcmV0dXJuIHNoYWRvd1BpeGVsRGVwdGg+c2hhZG93ID8gY29tcHV0ZUZhbGxPZmYoZGFya25lc3MsY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZikgOiAxLjsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IG1hcFNpemUsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwpmbG9hdCB2aXNpYmlsaXR5PTEuOwp2ZWMyIHBvaXNzb25EaXNrWzRdOwpwb2lzc29uRGlza1swXT12ZWMyKC0wLjk0MjAxNjI0LC0wLjM5OTA2MjE2KTsKcG9pc3NvbkRpc2tbMV09dmVjMigwLjk0NTU4NjA5LC0wLjc2ODkwNzI1KTsKcG9pc3NvbkRpc2tbMl09dmVjMigtMC4wOTQxODQxMDEsLTAuOTI5Mzg4NzApOwpwb2lzc29uRGlza1szXT12ZWMyKDAuMzQ0OTU5MzgsMC4yOTM4Nzc2MCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKaWYgKHVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzBdKm1hcFNpemUsMC4pKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSwwLikpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1syXSptYXBTaXplLDAuKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzNdKm1hcFNpemUsMC4pKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZWxzZQppZiAoVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1swXSptYXBTaXplLDAuKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmIChURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzFdKm1hcFNpemUsMC4pLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSwwLikueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAoVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1szXSptYXBTaXplLDAuKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbmRpZgpyZXR1cm4gY29tcHV0ZUZhbGxPZmYobWluKDEuMCx2aXNpYmlsaXR5K2RhcmtuZXNzKSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoRVNNKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikueDsKI2VuZGlmCmZsb2F0IGVzbT0xLjAtY2xhbXAoZXhwKG1pbig4Ny4sZGVwdGhTY2FsZSpzaGFkb3dQaXhlbERlcHRoKSkqc2hhZG93TWFwU2FtcGxlLDAuLDEuLWRhcmtuZXNzKTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKGVzbSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU00odmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7IAojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikueDsKI2VuZGlmCmZsb2F0IGVzbT1jbGFtcChleHAobWluKDg3LiwtZGVwdGhTY2FsZSooc2hhZG93UGl4ZWxEZXB0aC1zaGFkb3dNYXBTYW1wbGUpKSksZGFya25lc3MsMS4pOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoZXNtLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2lmZGVmIElTX05EQ19IQUxGX1pSQU5HRQojZGVmaW5lIFpJTkNMSVAgY2xpcFNwYWNlLnoKI2Vsc2UKI2RlZmluZSBaSU5DTElQIHV2RGVwdGguegojZW5kaWYKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkgfHwgZGVmaW5lZChOQVRJVkUpCiNkZWZpbmUgR1JFQVRFU1RfTEVTU19USEFOX09ORSAwLjk5OTk5OTk0CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjNCB1dkRlcHRoTGF5ZXI9dmVjNCh1dkRlcHRoLngsdXZEZXB0aC55LGxheWVyLHV2RGVwdGgueik7CmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkRlcHRoTGF5ZXIpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ0YxKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKZmxvYXQgc2hhZG93PVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXZEZXB0aCwwLik7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGMyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9My4tMi4qc3Q7CnZlYzIgdXZ3MT0xLisyLipzdDsKdmVjMiB1PXZlYzIoKDIuLXN0LngpL3V2dzAueC0xLixzdC54L3V2dzEueCsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMiB2PXZlYzIoKDIuLXN0LnkpL3V2dzAueS0xLixzdC55L3V2dzEueSsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzAueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3c9c2hhZG93LzE2LjsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ0Y1KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsgCnV2Kz0wLjU7IAp2ZWMyIHN0PWZyYWN0KHV2KTsgCnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OyAKYmFzZV91dio9c2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsgCnZlYzIgdXZ3MD00Li0zLipzdDsKdmVjMiB1dncxPXZlYzIoNy4pOwp2ZWMyIHV2dzI9MS4rMy4qc3Q7CnZlYzMgdT12ZWMzKCgzLi0yLipzdC54KS91dncwLngtMi4sKDMuK3N0LngpL3V2dzEueCxzdC54L3V2dzIueCsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMyB2PXZlYzMoKDMuLTIuKnN0LnkpL3V2dzAueS0yLiwoMy4rc3QueSkvdXZ3MS55LHN0LnkvdXZ3Mi55KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwpmbG9hdCBzaGFkb3c9MC47CnNoYWRvdys9dXZ3MC54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3Mi54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMl0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MC54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3Mi54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMl0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MC54KnV2dzIueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzIueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsyXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3Mi54KnV2dzIueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMl0sdlsyXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdz1zaGFkb3cvMTQ0LjsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KY29uc3QgdmVjMyBQb2lzc29uU2FtcGxlcnMzMls2NF09dmVjM1s2NF0oCnZlYzMoMC4wNjQwNzAxMywwLjA1NDA5OTI3LDAuKSwKdmVjMygwLjczNjY1NzcsMC41Nzg5Mzk0LDAuKSwKdmVjMygtMC42MjcwNTQyLC0wLjUzMjAyNzgsMC4pLAp2ZWMzKC0wLjQwOTYxMDcsMC44NDExMDk1LDAuKSwKdmVjMygwLjY4NDk1NjQsLTAuNDk5MDgxOCwwLiksCnZlYzMoLTAuODc0MTgxLC0wLjA0NTc5NzM1LDAuKSwKdmVjMygwLjk5ODk5OTgsMC4wMDA5ODgwMDY2LDAuKSwKdmVjMygtMC4wMDQ5MjA1NzgsLTAuOTE1MTY0OSwwLiksCnZlYzMoMC4xODA1NzYzLDAuOTc0NzQ4MywwLiksCnZlYzMoLTAuMjEzODQ1MSwwLjI2MzU4MTgsMC4pLAp2ZWMzKDAuMTA5ODQ1LDAuMzg4NDc4NSwwLiksCnZlYzMoMC4wNjg3Njc1NSwtMC4zNTgxMDc0LDAuKSwKdmVjMygwLjM3NDA3MywtMC43NjYxMjY2LDAuKSwKdmVjMygwLjMwNzkxMzIsLTAuMTIxNjc2MywwLiksCnZlYzMoLTAuMzc5NDMzNSwtMC44MjcxNTgzLDAuKSwKdmVjMygtMC4yMDM4NzgsLTAuMDc3MTUwMzQsMC4pLAp2ZWMzKDAuNTkxMjY5NywwLjE0Njk3OTksMC4pLAp2ZWMzKC0wLjg4MDY5LDAuMzAzMTc4NCwwLiksCnZlYzMoMC41MDQwMTA4LDAuODI4MzcyMiwwLiksCnZlYzMoLTAuNTg0NDEyNCwwLjU0OTQ4NzcsMC4pLAp2ZWMzKDAuNjAxNzc5OSwtMC4xNzI2NjU0LDAuKSwKdmVjMygtMC41NTU0OTgxLDAuMTU1OTk5NywwLiksCnZlYzMoLTAuMzAxNjM2OSwtMC4zOTAwOTI4LDAuKSwKdmVjMygtMC41NTUwNjMyLC0wLjE3MjM3NjIsMC4pLAp2ZWMzKDAuOTI1MDI5LDAuMjk5NTA0MSwwLiksCnZlYzMoLTAuMjQ3MzEzNywwLjU1Mzg1MDUsMC4pLAp2ZWMzKDAuOTE4MzAzNywtMC4yODYyMzkyLDAuKSwKdmVjMygwLjI0Njk0MjEsMC42NzE4NzEyLDAuKSwKdmVjMygwLjM5MTYzOTcsLTAuNDMyODIwOSwwLiksCnZlYzMoLTAuMDM1NzY5MjcsLTAuNjIyMDAzMiwwLiksCnZlYzMoLTAuMDQ2NjEyNTUsMC43OTk1MjAxLDAuKSwKdmVjMygwLjQ0MDI5MjQsMC4zNjQwMzEyLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pCik7CmNvbnN0IHZlYzMgUG9pc3NvblNhbXBsZXJzNjRbNjRdPXZlYzNbNjRdKAp2ZWMzKC0wLjYxMzM5MiwwLjYxNzQ4MSwwLiksCnZlYzMoMC4xNzAwMTksLTAuMDQwMjU0LDAuKSwKdmVjMygtMC4yOTk0MTcsMC43OTE5MjUsMC4pLAp2ZWMzKDAuNjQ1NjgwLDAuNDkzMjEwLDAuKSwKdmVjMygtMC42NTE3ODQsMC43MTc4ODcsMC4pLAp2ZWMzKDAuNDIxMDAzLDAuMDI3MDcwLDAuKSwKdmVjMygtMC44MTcxOTQsLTAuMjcxMDk2LDAuKSwKdmVjMygtMC43MDUzNzQsLTAuNjY4MjAzLDAuKSwKdmVjMygwLjk3NzA1MCwtMC4xMDg2MTUsMC4pLAp2ZWMzKDAuMDYzMzI2LDAuMTQyMzY5LDAuKSwKdmVjMygwLjIwMzUyOCwwLjIxNDMzMSwwLiksCnZlYzMoLTAuNjY3NTMxLDAuMzI2MDkwLDAuKSwKdmVjMygtMC4wOTg0MjIsLTAuMjk1NzU1LDAuKSwKdmVjMygtMC44ODU5MjIsMC4yMTUzNjksMC4pLAp2ZWMzKDAuNTY2NjM3LDAuNjA1MjEzLDAuKSwKdmVjMygwLjAzOTc2NiwtMC4zOTYxMDAsMC4pLAp2ZWMzKDAuNzUxOTQ2LDAuNDUzMzUyLDAuKSwKdmVjMygwLjA3ODcwNywtMC43MTUzMjMsMC4pLAp2ZWMzKC0wLjA3NTgzOCwtMC41MjkzNDQsMC4pLAp2ZWMzKDAuNzI0NDc5LC0wLjU4MDc5OCwwLiksCnZlYzMoMC4yMjI5OTksLTAuMjE1MTI1LDAuKSwKdmVjMygtMC40Njc1NzQsLTAuNDA1NDM4LDAuKSwKdmVjMygtMC4yNDgyNjgsLTAuODE0NzUzLDAuKSwKdmVjMygwLjM1NDQxMSwtMC44ODc1NzAsMC4pLAp2ZWMzKDAuMTc1ODE3LDAuMzgyMzY2LDAuKSwKdmVjMygwLjQ4NzQ3MiwtMC4wNjMwODIsMC4pLAp2ZWMzKC0wLjA4NDA3OCwwLjg5ODMxMiwwLiksCnZlYzMoMC40ODg4NzYsLTAuNzgzNDQxLDAuKSwKdmVjMygwLjQ3MDAxNiwwLjIxNzkzMywwLiksCnZlYzMoLTAuNjk2ODkwLC0wLjU0OTc5MSwwLiksCnZlYzMoLTAuMTQ5NjkzLDAuNjA1NzYyLDAuKSwKdmVjMygwLjAzNDIxMSwwLjk3OTk4MCwwLiksCnZlYzMoMC41MDMwOTgsLTAuMzA4ODc4LDAuKSwKdmVjMygtMC4wMTYyMDUsLTAuODcyOTIxLDAuKSwKdmVjMygwLjM4NTc4NCwtMC4zOTM5MDIsMC4pLAp2ZWMzKC0wLjE0Njg4NiwtMC44NTkyNDksMC4pLAp2ZWMzKDAuNjQzMzYxLDAuMTY0MDk4LDAuKSwKdmVjMygwLjYzNDM4OCwtMC4wNDk0NzEsMC4pLAp2ZWMzKC0wLjY4ODg5NCwwLjAwNzg0MywwLiksCnZlYzMoMC40NjQwMzQsLTAuMTg4ODE4LDAuKSwKdmVjMygtMC40NDA4NDAsMC4xMzc0ODYsMC4pLAp2ZWMzKDAuMzY0NDgzLDAuNTExNzA0LDAuKSwKdmVjMygwLjAzNDAyOCwwLjMyNTk2OCwwLiksCnZlYzMoMC4wOTkwOTQsLTAuMzA4MDIzLDAuKSwKdmVjMygwLjY5Mzk2MCwtMC4zNjYyNTMsMC4pLAp2ZWMzKDAuNjc4ODg0LC0wLjIwNDY4OCwwLiksCnZlYzMoMC4wMDE4MDEsMC43ODAzMjgsMC4pLAp2ZWMzKDAuMTQ1MTc3LC0wLjg5ODk4NCwwLiksCnZlYzMoMC4wNjI2NTUsLTAuNjExODY2LDAuKSwKdmVjMygwLjMxNTIyNiwtMC42MDQyOTcsMC4pLAp2ZWMzKC0wLjc4MDE0NSwwLjQ4NjI1MSwwLiksCnZlYzMoLTAuMzcxODY4LDAuODgyMTM4LDAuKSwKdmVjMygwLjIwMDQ3NiwwLjQ5NDQzMCwwLiksCnZlYzMoLTAuNDk0NTUyLC0wLjcxMTA1MSwwLiksCnZlYzMoMC42MTI0NzYsMC43MDUyNTIsMC4pLAp2ZWMzKC0wLjU3ODg0NSwtMC43Njg3OTIsMC4pLAp2ZWMzKC0wLjc3MjQ1NCwtMC4wOTA5NzYsMC4pLAp2ZWMzKDAuNTA0NDQwLDAuMzcyMjk1LDAuKSwKdmVjMygwLjE1NTczNiwwLjA2NTE1NywwLiksCnZlYzMoMC4zOTE1MjIsMC44NDk2MDUsMC4pLAp2ZWMzKC0wLjYyMDEwNiwtMC4zMjgxMDQsMC4pLAp2ZWMzKDAuNzg5MjM5LC0wLjQxOTk2NSwwLiksCnZlYzMoLTAuNTQ1Mzk2LDAuNTM4MTMzLDAuKSwKdmVjMygtMC4xNzg1NjQsLTAuNTk2MDU3LDAuKQopOwojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLGludCBzZWFyY2hUYXBDb3VudCxpbnQgcGNmVGFwQ291bnQsdmVjM1s2NF0gcG9pc3NvblNhbXBsZXJzLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWM0IHV2RGVwdGhMYXllcj12ZWM0KHV2RGVwdGgueCx1dkRlcHRoLnksbGF5ZXIsdXZEZXB0aC56KTsKZmxvYXQgYmxvY2tlckRlcHRoPTAuMDsKZmxvYXQgc3VtQmxvY2tlckRlcHRoPTAuMDsKZmxvYXQgbnVtQmxvY2tlcj0wLjA7CmZvciAoaW50IGk9MDsgaTxzZWFyY2hUYXBDb3VudDsgaSArKykgewpibG9ja2VyRGVwdGg9dGV4dHVyZTJEKGRlcHRoU2FtcGxlcix2ZWMzKHV2RGVwdGgueHkrKGxpZ2h0U2l6ZVVWKmxpZ2h0U2l6ZVVWQ29ycmVjdGlvbipzaGFkb3dNYXBTaXplSW52ZXJzZSpQb2lzc29uU2FtcGxlcnMzMltpXS54eSksbGF5ZXIpKS5yOwppZiAoYmxvY2tlckRlcHRoPGRlcHRoTWV0cmljKSB7CnN1bUJsb2NrZXJEZXB0aCs9YmxvY2tlckRlcHRoOwpudW1CbG9ja2VyKys7Cn0KfQpmbG9hdCBhdmdCbG9ja2VyRGVwdGg9c3VtQmxvY2tlckRlcHRoL251bUJsb2NrZXI7CmZsb2F0IEFBT2Zmc2V0PXNoYWRvd01hcFNpemVJbnZlcnNlKjEwLjsKZmxvYXQgcGVudW1icmFSYXRpbz0oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkqZGVwdGhDb3JyZWN0aW9uK0FBT2Zmc2V0KTsKdmVjNCBmaWx0ZXJSYWRpdXM9dmVjNChwZW51bWJyYVJhdGlvKmxpZ2h0U2l6ZVVWKmxpZ2h0U2l6ZVVWQ29ycmVjdGlvbipzaGFkb3dNYXBTaXplSW52ZXJzZSwwLiwwLik7CmZsb2F0IHJhbmRvbT1nZXRSYW5kKHZQb3NpdGlvbkZyb21MaWdodC54eSk7CmZsb2F0IHJvdGF0aW9uQW5nbGU9cmFuZG9tKjMuMTQxNTkyNjsKdmVjMiByb3RhdGlvblZlY3Rvcj12ZWMyKGNvcyhyb3RhdGlvbkFuZ2xlKSxzaW4ocm90YXRpb25BbmdsZSkpOwpmbG9hdCBzaGFkb3c9MC47CmZvciAoaW50IGk9MDsgaTxwY2ZUYXBDb3VudDsgaSsrKSB7CnZlYzQgb2Zmc2V0PXZlYzQocG9pc3NvblNhbXBsZXJzW2ldLDAuKTsKb2Zmc2V0PXZlYzQob2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueC1vZmZzZXQueSpyb3RhdGlvblZlY3Rvci55LG9mZnNldC55KnJvdGF0aW9uVmVjdG9yLngrb2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueSwwLiwwLik7CnNoYWRvdys9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aExheWVyK29mZnNldCpmaWx0ZXJSYWRpdXMpOwp9CnNoYWRvdy89ZmxvYXQocGNmVGFwQ291bnQpOwpzaGFkb3c9bWl4KHNoYWRvdywxLixtaW4oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkqZGVwdGhDb3JyZWN0aW9uKnBlbnVtYnJhRGFya25lc3MsMS4pKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwppZiAobnVtQmxvY2tlcjwxLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZixpbnQgc2VhcmNoVGFwQ291bnQsaW50IHBjZlRhcENvdW50LHZlYzNbNjRdIHBvaXNzb25TYW1wbGVycykKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKZmxvYXQgYmxvY2tlckRlcHRoPTAuMDsKZmxvYXQgc3VtQmxvY2tlckRlcHRoPTAuMDsKZmxvYXQgbnVtQmxvY2tlcj0wLjA7CmZvciAoaW50IGk9MDsgaTxzZWFyY2hUYXBDb3VudDsgaSArKykgewpibG9ja2VyRGVwdGg9VEVYVFVSRUZVTkMoZGVwdGhTYW1wbGVyLHV2RGVwdGgueHkrKGxpZ2h0U2l6ZVVWKnNoYWRvd01hcFNpemVJbnZlcnNlKlBvaXNzb25TYW1wbGVyczMyW2ldLnh5KSwwLikucjsKaWYgKGJsb2NrZXJEZXB0aDxkZXB0aE1ldHJpYykgewpzdW1CbG9ja2VyRGVwdGgrPWJsb2NrZXJEZXB0aDsKbnVtQmxvY2tlcisrOwp9Cn0KaWYgKG51bUJsb2NrZXI8MS4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IGF2Z0Jsb2NrZXJEZXB0aD1zdW1CbG9ja2VyRGVwdGgvbnVtQmxvY2tlcjsKZmxvYXQgQUFPZmZzZXQ9c2hhZG93TWFwU2l6ZUludmVyc2UqMTAuOwpmbG9hdCBwZW51bWJyYVJhdGlvPSgoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKStBQU9mZnNldCk7CmZsb2F0IGZpbHRlclJhZGl1cz1wZW51bWJyYVJhdGlvKmxpZ2h0U2l6ZVVWKnNoYWRvd01hcFNpemVJbnZlcnNlOwpmbG9hdCByYW5kb209Z2V0UmFuZCh2UG9zaXRpb25Gcm9tTGlnaHQueHkpOwpmbG9hdCByb3RhdGlvbkFuZ2xlPXJhbmRvbSozLjE0MTU5MjY7CnZlYzIgcm90YXRpb25WZWN0b3I9dmVjMihjb3Mocm90YXRpb25BbmdsZSksc2luKHJvdGF0aW9uQW5nbGUpKTsKZmxvYXQgc2hhZG93PTAuOwpmb3IgKGludCBpPTA7IGk8cGNmVGFwQ291bnQ7IGkrKykgewp2ZWMzIG9mZnNldD1wb2lzc29uU2FtcGxlcnNbaV07Cm9mZnNldD12ZWMzKG9mZnNldC54KnJvdGF0aW9uVmVjdG9yLngtb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueSxvZmZzZXQueSpyb3RhdGlvblZlY3Rvci54K29mZnNldC54KnJvdGF0aW9uVmVjdG9yLnksMC4pOwpzaGFkb3crPVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXZEZXB0aCtvZmZzZXQqZmlsdGVyUmFkaXVzLDAuKTsKfQpzaGFkb3cvPWZsb2F0KHBjZlRhcENvdW50KTsKc2hhZG93PW1peChzaGFkb3csMS4sZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1MxNih2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMTYsUG9pc3NvblNhbXBsZXJzMzIpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzMyKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwzMixQb2lzc29uU2FtcGxlcnMzMik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTNjQodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDMyLDY0LFBvaXNzb25TYW1wbGVyczY0KTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDE2LFBvaXNzb25TYW1wbGVyczMyLGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwzMixQb2lzc29uU2FtcGxlcnMzMixsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMzIsNjQsUG9pc3NvblNhbXBsZXJzNjQsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtuaF09YWg7Y29uc3Qgb2g9InNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uIixoaD1gI2lmZGVmIF9ERUZJTkVOQU1FXwojaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTEKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYxCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0yCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMgojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MwojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjMKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTQKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY0CiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT01CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNQojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NgojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjYKI2Vsc2UKdmFyeWluZyB2ZWMyIHZfVkFSWUlOR05BTUVfVVY7CiNlbmRpZgp1bmlmb3JtIHNhbXBsZXIyRCBfU0FNUExFUk5BTUVfU2FtcGxlcjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtvaF09aGg7Y29uc3QgbGg9ImZyZXNuZWxGdW5jdGlvbiIsY2g9YCNpZmRlZiBGUkVTTkVMCmZsb2F0IGNvbXB1dGVGcmVzbmVsVGVybSh2ZWMzIHZpZXdEaXJlY3Rpb24sdmVjMyB3b3JsZE5vcm1hbCxmbG9hdCBiaWFzLGZsb2F0IHBvd2VyKQp7CmZsb2F0IGZyZXNuZWxUZXJtPXBvdyhiaWFzK2Ficyhkb3Qodmlld0RpcmVjdGlvbix3b3JsZE5vcm1hbCkpLHBvd2VyKTsKcmV0dXJuIGNsYW1wKGZyZXNuZWxUZXJtLDAuLDEuKTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xoXT1jaDtjb25zdCB1aD0icmVmbGVjdGlvbkZ1bmN0aW9uIixkaD1gdmVjMyBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZGlyZWN0aW9uKQp7CmZsb2F0IGxvbj1hdGFuKGRpcmVjdGlvbi56LGRpcmVjdGlvbi54KTsKZmxvYXQgbGF0PWFjb3MoZGlyZWN0aW9uLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMyhzLHQsMCk7IAp9CnZlYzMgY29tcHV0ZU1pcnJvcmVkRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZGlyZWN0aW9uKQp7CmZsb2F0IGxvbj1hdGFuKGRpcmVjdGlvbi56LGRpcmVjdGlvbi54KTsKZmxvYXQgbGF0PWFjb3MoZGlyZWN0aW9uLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMygxLjAtcyx0LDApOyAKfQp2ZWMzIGNvbXB1dGVFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgY2FtZXJhVG9WZXJ0ZXg9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgcj1ub3JtYWxpemUocmVmbGVjdChjYW1lcmFUb1ZlcnRleCx3b3JsZE5vcm1hbCkpOwpyPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHIsMCkpOwpmbG9hdCBsb249YXRhbihyLnosci54KTsKZmxvYXQgbGF0PWFjb3Moci55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMocyx0LDApOwp9CnZlYzMgY29tcHV0ZVNwaGVyaWNhbENvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsbWF0NCB2aWV3LG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHZlYzModmlldyp3b3JsZFBvcykpOwp2ZWMzIHZpZXdOb3JtYWw9bm9ybWFsaXplKHZlYzModmlldyp2ZWM0KHdvcmxkTm9ybWFsLDAuMCkpKTsKdmVjMyByPXJlZmxlY3Qodmlld0Rpcix2aWV3Tm9ybWFsKTsKcj12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChyLDApKTsKci56PXIuei0xLjA7CmZsb2F0IG09Mi4wKmxlbmd0aChyKTsKcmV0dXJuIHZlYzMoci54L20rMC41LDEuMC1yLnkvbS0wLjUsMCk7Cn0KdmVjMyBjb21wdXRlUGxhbmFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9d29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uOwp2ZWMzIGNvb3Jkcz1ub3JtYWxpemUocmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKSk7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMSkpOwp9CnZlYzMgY29tcHV0ZUN1YmljQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgY29vcmRzPXJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCk7CmNvb3Jkcz12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMCkpOwojaWZkZWYgSU5WRVJUQ1VCSUNNQVAKY29vcmRzLnkqPS0xLjA7CiNlbmRpZgpyZXR1cm4gY29vcmRzOwp9CnZlYzMgY29tcHV0ZUN1YmljTG9jYWxDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4LHZlYzMgcmVmbGVjdGlvblNpemUsdmVjMyByZWZsZWN0aW9uUG9zaXRpb24pCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIGNvb3Jkcz1yZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpOwpjb29yZHM9cGFyYWxsYXhDb3JyZWN0Tm9ybWFsKHdvcmxkUG9zLnh5eixjb29yZHMscmVmbGVjdGlvblNpemUscmVmbGVjdGlvblBvc2l0aW9uKTsKY29vcmRzPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywwKSk7CiNpZmRlZiBJTlZFUlRDVUJJQ01BUApjb29yZHMueSo9LTEuMDsKI2VuZGlmCnJldHVybiBjb29yZHM7Cn0KdmVjMyBjb21wdXRlUHJvamVjdGlvbkNvb3Jkcyh2ZWM0IHdvcmxkUG9zLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCoodmlldyp3b3JsZFBvcykpOwp9CnZlYzMgY29tcHV0ZVNreUJveENvb3Jkcyh2ZWMzIHBvc2l0aW9uVyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHBvc2l0aW9uVywxLikpOwp9CiNpZmRlZiBSRUZMRUNUSU9OCnZlYzMgY29tcHV0ZVJlZmxlY3Rpb25Db29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsKQp7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlTWlycm9yZWRGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCxkaXJlY3Rpb24pOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsZGlyZWN0aW9uKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUgpyZXR1cm4gY29tcHV0ZUVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMCnJldHVybiBjb21wdXRlU3BoZXJpY2FsQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9QTEFOQVIKcmV0dXJuIGNvbXB1dGVQbGFuYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0NVQklDCiNpZmRlZiBVU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQwpyZXR1cm4gY29tcHV0ZUN1YmljTG9jYWxDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4LHZSZWZsZWN0aW9uU2l6ZSx2UmVmbGVjdGlvblBvc2l0aW9uKTsKI2Vsc2UKcmV0dXJuIGNvbXB1dGVDdWJpY0Nvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04KcmV0dXJuIGNvbXB1dGVQcm9qZWN0aW9uQ29vcmRzKHdvcmxkUG9zLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKcmV0dXJuIGNvbXB1dGVTa3lCb3hDb29yZHModlBvc2l0aW9uVVZXLHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVhQTElDSVQKcmV0dXJuIHZlYzMoMCwwLDApOwojZW5kaWYKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3VoXT1kaDtjb25zdCBmaD0iaW1hZ2VQcm9jZXNzaW5nRGVjbGFyYXRpb24iLF9oPWAjaWZkZWYgRVhQT1NVUkUKdW5pZm9ybSBmbG9hdCBleHBvc3VyZUxpbmVhcjsKI2VuZGlmCiNpZmRlZiBDT05UUkFTVAp1bmlmb3JtIGZsb2F0IGNvbnRyYXN0OwojZW5kaWYKI2lmIGRlZmluZWQoVklHTkVUVEUpIHx8IGRlZmluZWQoRElUSEVSKQp1bmlmb3JtIHZlYzIgdkludmVyc2VTY3JlZW5TaXplOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFCnVuaWZvcm0gdmVjNCB2aWduZXR0ZVNldHRpbmdzMTsKdW5pZm9ybSB2ZWM0IHZpZ25ldHRlU2V0dGluZ3MyOwojZW5kaWYKI2lmZGVmIENPTE9SQ1VSVkVTCnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlOwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsOwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZTsKI2VuZGlmCiNpZmRlZiBDT0xPUkdSQURJTkcKI2lmZGVmIENPTE9SR1JBRElORzNECnVuaWZvcm0gaGlnaHAgc2FtcGxlcjNEIHR4Q29sb3JUcmFuc2Zvcm07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHR4Q29sb3JUcmFuc2Zvcm07CiNlbmRpZgp1bmlmb3JtIHZlYzQgY29sb3JUcmFuc2Zvcm1TZXR0aW5nczsKI2VuZGlmCiNpZmRlZiBESVRIRVIKdW5pZm9ybSBmbG9hdCBkaXRoZXJJbnRlbnNpdHk7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZmhdPV9oO2NvbnN0IGdoPSJpbWFnZVByb2Nlc3NpbmdGdW5jdGlvbnMiLHBoPWAjaWYgZGVmaW5lZChDT0xPUkdSQURJTkcpICYmICFkZWZpbmVkKENPTE9SR1JBRElORzNEKQovKiogCiogUG9seWZpbGwgZm9yIFNBTVBMRV9URVhUVVJFXzNELHdoaWNoIGlzIHVuc3VwcG9ydGVkIGluIFdlYkdMLgoqIHNhbXBsZXIzZFNldHRpbmcueD10ZXh0dXJlT2Zmc2V0ICgwLjUvdGV4dHVyZVNpemUpLgoqIHNhbXBsZXIzZFNldHRpbmcueT10ZXh0dXJlU2l6ZS4KKi8KI2RlZmluZSBpbmxpbmUKdmVjMyBzYW1wbGVUZXh0dXJlM0Qoc2FtcGxlcjJEIGNvbG9yVHJhbnNmb3JtLHZlYzMgY29sb3IsdmVjMiBzYW1wbGVyM2RTZXR0aW5nKQp7CmZsb2F0IHNsaWNlU2l6ZT0yLjAqc2FtcGxlcjNkU2V0dGluZy54OyAKI2lmZGVmIFNBTVBMRVIzREdSRUVOREVQVEgKZmxvYXQgc2xpY2VDb250aW51b3VzPShjb2xvci5nLXNhbXBsZXIzZFNldHRpbmcueCkqc2FtcGxlcjNkU2V0dGluZy55OwojZWxzZQpmbG9hdCBzbGljZUNvbnRpbnVvdXM9KGNvbG9yLmItc2FtcGxlcjNkU2V0dGluZy54KSpzYW1wbGVyM2RTZXR0aW5nLnk7CiNlbmRpZgpmbG9hdCBzbGljZUludGVnZXI9Zmxvb3Ioc2xpY2VDb250aW51b3VzKTsKZmxvYXQgc2xpY2VGcmFjdGlvbj1zbGljZUNvbnRpbnVvdXMtc2xpY2VJbnRlZ2VyOwojaWZkZWYgU0FNUExFUjNER1JFRU5ERVBUSAp2ZWMyIHNsaWNlVVY9Y29sb3IucmI7CiNlbHNlCnZlYzIgc2xpY2VVVj1jb2xvci5yZzsKI2VuZGlmCnNsaWNlVVYueCo9c2xpY2VTaXplOwpzbGljZVVWLngrPXNsaWNlSW50ZWdlcipzbGljZVNpemU7CnNsaWNlVVY9c2F0dXJhdGUoc2xpY2VVVik7CnZlYzQgc2xpY2UwQ29sb3I9dGV4dHVyZTJEKGNvbG9yVHJhbnNmb3JtLHNsaWNlVVYpOwpzbGljZVVWLngrPXNsaWNlU2l6ZTsKc2xpY2VVVj1zYXR1cmF0ZShzbGljZVVWKTsKdmVjNCBzbGljZTFDb2xvcj10ZXh0dXJlMkQoY29sb3JUcmFuc2Zvcm0sc2xpY2VVVik7CnZlYzMgcmVzdWx0PW1peChzbGljZTBDb2xvci5yZ2Isc2xpY2UxQ29sb3IucmdiLHNsaWNlRnJhY3Rpb24pOwojaWZkZWYgU0FNUExFUjNEQkdSTUFQCmNvbG9yLnJnYj1yZXN1bHQucmdiOwojZWxzZQpjb2xvci5yZ2I9cmVzdWx0LmJncjsKI2VuZGlmCnJldHVybiBjb2xvcjsKfQojZW5kaWYKI2lmZGVmIFRPTkVNQVBQSU5HX0FDRVMKY29uc3QgbWF0MyBBQ0VTSW5wdXRNYXQ9bWF0MygKdmVjMygwLjU5NzE5LDAuMDc2MDAsMC4wMjg0MCksCnZlYzMoMC4zNTQ1OCwwLjkwODM0LDAuMTMzODMpLAp2ZWMzKDAuMDQ4MjMsMC4wMTU2NiwwLjgzNzc3KQopOwpjb25zdCBtYXQzIEFDRVNPdXRwdXRNYXQ9bWF0MygKdmVjMyggMS42MDQ3NSwtMC4xMDIwOCwtMC4wMDMyNyksCnZlYzMoLTAuNTMxMDgsIDEuMTA4MTMsLTAuMDcyNzYpLAp2ZWMzKC0wLjA3MzY3LC0wLjAwNjA1LCAxLjA3NjAyKQopOwp2ZWMzIFJSVEFuZE9EVEZpdCh2ZWMzIHYpCnsKdmVjMyBhPXYqKHYrMC4wMjQ1Nzg2KS0wLjAwMDA5MDUzNzsKdmVjMyBiPXYqKDAuOTgzNzI5KnYrMC40MzI5NTEwKSswLjIzODA4MTsKcmV0dXJuIGEvYjsKfQp2ZWMzIEFDRVNGaXR0ZWQodmVjMyBjb2xvcikKewpjb2xvcj1BQ0VTSW5wdXRNYXQqY29sb3I7CmNvbG9yPVJSVEFuZE9EVEZpdChjb2xvcik7CmNvbG9yPUFDRVNPdXRwdXRNYXQqY29sb3I7CmNvbG9yPXNhdHVyYXRlKGNvbG9yKTsKcmV0dXJuIGNvbG9yOwp9CiNlbmRpZgojZGVmaW5lIENVU1RPTV9JTUFHRVBST0NFU1NJTkdGVU5DVElPTlNfREVGSU5JVElPTlMKdmVjNCBhcHBseUltYWdlUHJvY2Vzc2luZyh2ZWM0IHJlc3VsdCkgewojZGVmaW5lIENVU1RPTV9JTUFHRVBST0NFU1NJTkdGVU5DVElPTlNfVVBEQVRFUkVTVUxUX0FUU1RBUlQKI2lmZGVmIEVYUE9TVVJFCnJlc3VsdC5yZ2IqPWV4cG9zdXJlTGluZWFyOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFCnZlYzIgdmlld3BvcnRYWT1nbF9GcmFnQ29vcmQueHkqdkludmVyc2VTY3JlZW5TaXplOwp2aWV3cG9ydFhZPXZpZXdwb3J0WFkqMi4wLTEuMDsKdmVjMyB2aWduZXR0ZVhZMT12ZWMzKHZpZXdwb3J0WFkqdmlnbmV0dGVTZXR0aW5nczEueHkrdmlnbmV0dGVTZXR0aW5nczEuencsMS4wKTsKZmxvYXQgdmlnbmV0dGVUZXJtPWRvdCh2aWduZXR0ZVhZMSx2aWduZXR0ZVhZMSk7CmZsb2F0IHZpZ25ldHRlPXBvdyh2aWduZXR0ZVRlcm0sdmlnbmV0dGVTZXR0aW5nczIudyk7CnZlYzMgdmlnbmV0dGVDb2xvcj12aWduZXR0ZVNldHRpbmdzMi5yZ2I7CiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU1VTFRJUExZCnZlYzMgdmlnbmV0dGVDb2xvck11bHRpcGxpZXI9bWl4KHZpZ25ldHRlQ29sb3IsdmVjMygxLDEsMSksdmlnbmV0dGUpOwpyZXN1bHQucmdiKj12aWduZXR0ZUNvbG9yTXVsdGlwbGllcjsKI2VuZGlmCiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU9QQVFVRQpyZXN1bHQucmdiPW1peCh2aWduZXR0ZUNvbG9yLHJlc3VsdC5yZ2IsdmlnbmV0dGUpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBUT05FTUFQUElORwojaWZkZWYgVE9ORU1BUFBJTkdfQUNFUwpyZXN1bHQucmdiPUFDRVNGaXR0ZWQocmVzdWx0LnJnYik7CiNlbHNlCmNvbnN0IGZsb2F0IHRvbmVtYXBwaW5nQ2FsaWJyYXRpb249MS41OTA1Nzk7CnJlc3VsdC5yZ2I9MS4wLWV4cDIoLXRvbmVtYXBwaW5nQ2FsaWJyYXRpb24qcmVzdWx0LnJnYik7CiNlbmRpZgojZW5kaWYKcmVzdWx0LnJnYj10b0dhbW1hU3BhY2UocmVzdWx0LnJnYik7CnJlc3VsdC5yZ2I9c2F0dXJhdGUocmVzdWx0LnJnYik7CiNpZmRlZiBDT05UUkFTVAp2ZWMzIHJlc3VsdEhpZ2hDb250cmFzdD1yZXN1bHQucmdiKnJlc3VsdC5yZ2IqKDMuMC0yLjAqcmVzdWx0LnJnYik7CmlmIChjb250cmFzdDwxLjApIHsKcmVzdWx0LnJnYj1taXgodmVjMygwLjUsMC41LDAuNSkscmVzdWx0LnJnYixjb250cmFzdCk7Cn0gZWxzZSB7CnJlc3VsdC5yZ2I9bWl4KHJlc3VsdC5yZ2IscmVzdWx0SGlnaENvbnRyYXN0LGNvbnRyYXN0LTEuMCk7Cn0KI2VuZGlmCiNpZmRlZiBDT0xPUkdSQURJTkcKdmVjMyBjb2xvclRyYW5zZm9ybUlucHV0PXJlc3VsdC5yZ2IqY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy54eHgrY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy55eXk7CiNpZmRlZiBDT0xPUkdSQURJTkczRAp2ZWMzIGNvbG9yVHJhbnNmb3JtT3V0cHV0PXRleHR1cmUodHhDb2xvclRyYW5zZm9ybSxjb2xvclRyYW5zZm9ybUlucHV0KS5yZ2I7CiNlbHNlCnZlYzMgY29sb3JUcmFuc2Zvcm1PdXRwdXQ9c2FtcGxlVGV4dHVyZTNEKHR4Q29sb3JUcmFuc2Zvcm0sY29sb3JUcmFuc2Zvcm1JbnB1dCxjb2xvclRyYW5zZm9ybVNldHRpbmdzLnl6KS5yZ2I7CiNlbmRpZgpyZXN1bHQucmdiPW1peChyZXN1bHQucmdiLGNvbG9yVHJhbnNmb3JtT3V0cHV0LGNvbG9yVHJhbnNmb3JtU2V0dGluZ3Mud3d3KTsKI2VuZGlmCiNpZmRlZiBDT0xPUkNVUlZFUwpmbG9hdCBsdW1hPWdldEx1bWluYW5jZShyZXN1bHQucmdiKTsKdmVjMiBjdXJ2ZU1peD1jbGFtcCh2ZWMyKGx1bWEqMy4wLTEuNSxsdW1hKi0zLjArMS41KSx2ZWMyKDAuMCksdmVjMigxLjApKTsKdmVjNCBjb2xvckN1cnZlPXZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCtjdXJ2ZU1peC54KnZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUtY3VydmVNaXgueSp2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlOwpyZXN1bHQucmdiKj1jb2xvckN1cnZlLnJnYjsKcmVzdWx0LnJnYj1taXgodmVjMyhsdW1hKSxyZXN1bHQucmdiLGNvbG9yQ3VydmUuYSk7CiNlbmRpZgojaWZkZWYgRElUSEVSCmZsb2F0IHJhbmQ9Z2V0UmFuZChnbF9GcmFnQ29vcmQueHkqdkludmVyc2VTY3JlZW5TaXplKTsKZmxvYXQgZGl0aGVyPW1peCgtZGl0aGVySW50ZW5zaXR5LGRpdGhlckludGVuc2l0eSxyYW5kKTsKcmVzdWx0LnJnYj1zYXR1cmF0ZShyZXN1bHQucmdiK3ZlYzMoZGl0aGVyKSk7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9JTUFHRVBST0NFU1NJTkdGVU5DVElPTlNfVVBEQVRFUkVTVUxUX0FURU5ECnJldHVybiByZXN1bHQ7Cn1gO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZ2hdPXBoO2NvbnN0IG1oPSJidW1wRnJhZ21lbnRNYWluRnVuY3Rpb25zIix2aD1gI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChDTEVBUkNPQVRfQlVNUCkgfHwgZGVmaW5lZChBTklTT1RST1BJQykgfHwgZGVmaW5lZChERVRBSUwpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKSAKdmFyeWluZyBtYXQzIHZUQk47CiNlbmRpZgojaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCnVuaWZvcm0gbWF0NCBub3JtYWxNYXRyaXg7CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpCm1hdDQgdG9Ob3JtYWxNYXRyaXgobWF0NCB3TWF0cml4KQp7Cm1hdDQgcmV0PWludmVyc2Uod01hdHJpeCk7CnJldD10cmFuc3Bvc2UocmV0KTsKcmV0WzBdWzNdPTAuOwpyZXRbMV1bM109MC47CnJldFsyXVszXT0wLjsKcmV0WzNdPXZlYzQoMC4sMC4sMC4sMS4pOwpyZXR1cm4gcmV0Owp9CiNlbHNlCm1hdDQgdG9Ob3JtYWxNYXRyaXgobWF0NCBtKQp7CmZsb2F0CmEwMD1tWzBdWzBdLGEwMT1tWzBdWzFdLGEwMj1tWzBdWzJdLGEwMz1tWzBdWzNdLAphMTA9bVsxXVswXSxhMTE9bVsxXVsxXSxhMTI9bVsxXVsyXSxhMTM9bVsxXVszXSwKYTIwPW1bMl1bMF0sYTIxPW1bMl1bMV0sYTIyPW1bMl1bMl0sYTIzPW1bMl1bM10sCmEzMD1tWzNdWzBdLGEzMT1tWzNdWzFdLGEzMj1tWzNdWzJdLGEzMz1tWzNdWzNdLApiMDA9YTAwKmExMS1hMDEqYTEwLApiMDE9YTAwKmExMi1hMDIqYTEwLApiMDI9YTAwKmExMy1hMDMqYTEwLApiMDM9YTAxKmExMi1hMDIqYTExLApiMDQ9YTAxKmExMy1hMDMqYTExLApiMDU9YTAyKmExMy1hMDMqYTEyLApiMDY9YTIwKmEzMS1hMjEqYTMwLApiMDc9YTIwKmEzMi1hMjIqYTMwLApiMDg9YTIwKmEzMy1hMjMqYTMwLApiMDk9YTIxKmEzMi1hMjIqYTMxLApiMTA9YTIxKmEzMy1hMjMqYTMxLApiMTE9YTIyKmEzMy1hMjMqYTMyLApkZXQ9YjAwKmIxMS1iMDEqYjEwK2IwMipiMDkrYjAzKmIwOC1iMDQqYjA3K2IwNSpiMDY7Cm1hdDQgbWk9bWF0NCgKYTExKmIxMS1hMTIqYjEwK2ExMypiMDksCmEwMipiMTAtYTAxKmIxMS1hMDMqYjA5LAphMzEqYjA1LWEzMipiMDQrYTMzKmIwMywKYTIyKmIwNC1hMjEqYjA1LWEyMypiMDMsCmExMipiMDgtYTEwKmIxMS1hMTMqYjA3LAphMDAqYjExLWEwMipiMDgrYTAzKmIwNywKYTMyKmIwMi1hMzAqYjA1LWEzMypiMDEsCmEyMCpiMDUtYTIyKmIwMithMjMqYjAxLAphMTAqYjEwLWExMSpiMDgrYTEzKmIwNiwKYTAxKmIwOC1hMDAqYjEwLWEwMypiMDYsCmEzMCpiMDQtYTMxKmIwMithMzMqYjAwLAphMjEqYjAyLWEyMCpiMDQtYTIzKmIwMCwKYTExKmIwNy1hMTAqYjA5LWExMipiMDYsCmEwMCpiMDktYTAxKmIwNythMDIqYjA2LAphMzEqYjAxLWEzMCpiMDMtYTMyKmIwMCwKYTIwKmIwMy1hMjEqYjAxK2EyMipiMDApL2RldDsKcmV0dXJuIG1hdDQobWlbMF1bMF0sbWlbMV1bMF0sbWlbMl1bMF0sbWlbM11bMF0sCm1pWzBdWzFdLG1pWzFdWzFdLG1pWzJdWzFdLG1pWzNdWzFdLAptaVswXVsyXSxtaVsxXVsyXSxtaVsyXVsyXSxtaVszXVsyXSwKbWlbMF1bM10sbWlbMV1bM10sbWlbMl1bM10sbWlbM11bM10pOwp9CiNlbmRpZgojZW5kaWYKdmVjMyBwZXJ0dXJiTm9ybWFsQmFzZShtYXQzIGNvdGFuZ2VudEZyYW1lLHZlYzMgbm9ybWFsLGZsb2F0IHNjYWxlKQp7CiNpZmRlZiBOT1JNQUxYWVNDQUxFCm5vcm1hbD1ub3JtYWxpemUobm9ybWFsKnZlYzMoc2NhbGUsc2NhbGUsMS4wKSk7CiNlbmRpZgpyZXR1cm4gbm9ybWFsaXplKGNvdGFuZ2VudEZyYW1lKm5vcm1hbCk7Cn0KdmVjMyBwZXJ0dXJiTm9ybWFsKG1hdDMgY290YW5nZW50RnJhbWUsdmVjMyB0ZXh0dXJlU2FtcGxlLGZsb2F0IHNjYWxlKQp7CnJldHVybiBwZXJ0dXJiTm9ybWFsQmFzZShjb3RhbmdlbnRGcmFtZSx0ZXh0dXJlU2FtcGxlKjIuMC0xLjAsc2NhbGUpOwp9Cm1hdDMgY290YW5nZW50X2ZyYW1lKHZlYzMgbm9ybWFsLHZlYzMgcCx2ZWMyIHV2LHZlYzIgdGFuZ2VudFNwYWNlUGFyYW1zKQp7CnZlYzMgZHAxPWRGZHgocCk7CnZlYzMgZHAyPWRGZHkocCk7CnZlYzIgZHV2MT1kRmR4KHV2KTsKdmVjMiBkdXYyPWRGZHkodXYpOwp2ZWMzIGRwMnBlcnA9Y3Jvc3MoZHAyLG5vcm1hbCk7CnZlYzMgZHAxcGVycD1jcm9zcyhub3JtYWwsZHAxKTsKdmVjMyB0YW5nZW50PWRwMnBlcnAqZHV2MS54K2RwMXBlcnAqZHV2Mi54Owp2ZWMzIGJpdGFuZ2VudD1kcDJwZXJwKmR1djEueStkcDFwZXJwKmR1djIueTsKdGFuZ2VudCo9dGFuZ2VudFNwYWNlUGFyYW1zLng7CmJpdGFuZ2VudCo9dGFuZ2VudFNwYWNlUGFyYW1zLnk7CmZsb2F0IGRldD1tYXgoZG90KHRhbmdlbnQsdGFuZ2VudCksZG90KGJpdGFuZ2VudCxiaXRhbmdlbnQpKTsKZmxvYXQgaW52bWF4PWRldD09MC4wID8gMC4wIDogaW52ZXJzZXNxcnQoZGV0KTsKcmV0dXJuIG1hdDModGFuZ2VudCppbnZtYXgsYml0YW5nZW50Kmludm1heCxub3JtYWwpOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbWhdPXZoO2NvbnN0IEVoPSJidW1wRnJhZ21lbnRGdW5jdGlvbnMiLFRoPWAjaWYgZGVmaW5lZChCVU1QKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wLF9TQU1QTEVSTkFNRV8sYnVtcCkKI2VuZGlmCiNpZiBkZWZpbmVkKERFVEFJTCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwsX1NBTVBMRVJOQU1FXyxkZXRhaWwpCiNlbmRpZgojaWYgZGVmaW5lZChCVU1QKSAmJiBkZWZpbmVkKFBBUkFMTEFYKQpjb25zdCBmbG9hdCBtaW5TYW1wbGVzPTQuOwpjb25zdCBmbG9hdCBtYXhTYW1wbGVzPTE1LjsKY29uc3QgaW50IGlNYXhTYW1wbGVzPTE1Owp2ZWMyIHBhcmFsbGF4T2NjbHVzaW9uKHZlYzMgdlZpZXdEaXJDb1QsdmVjMyB2Tm9ybWFsQ29ULHZlYzIgdGV4Q29vcmQsZmxvYXQgcGFyYWxsYXhTY2FsZSkgewpmbG9hdCBwYXJhbGxheExpbWl0PWxlbmd0aCh2Vmlld0RpckNvVC54eSkvdlZpZXdEaXJDb1QuejsKcGFyYWxsYXhMaW1pdCo9cGFyYWxsYXhTY2FsZTsKdmVjMiB2T2Zmc2V0RGlyPW5vcm1hbGl6ZSh2Vmlld0RpckNvVC54eSk7CnZlYzIgdk1heE9mZnNldD12T2Zmc2V0RGlyKnBhcmFsbGF4TGltaXQ7CmZsb2F0IG51bVNhbXBsZXM9bWF4U2FtcGxlcysoZG90KHZWaWV3RGlyQ29ULHZOb3JtYWxDb1QpKihtaW5TYW1wbGVzLW1heFNhbXBsZXMpKTsKZmxvYXQgc3RlcFNpemU9MS4wL251bVNhbXBsZXM7CmZsb2F0IGN1cnJSYXlIZWlnaHQ9MS4wOwp2ZWMyIHZDdXJyT2Zmc2V0PXZlYzIoMCwwKTsKdmVjMiB2TGFzdE9mZnNldD12ZWMyKDAsMCk7CmZsb2F0IGxhc3RTYW1wbGVkSGVpZ2h0PTEuMDsKZmxvYXQgY3VyclNhbXBsZWRIZWlnaHQ9MS4wOwpib29sIGtlZXBXb3JraW5nPXRydWU7CmZvciAoaW50IGk9MDsgaTxpTWF4U2FtcGxlczsgaSsrKQp7CmN1cnJTYW1wbGVkSGVpZ2h0PXRleHR1cmUyRChidW1wU2FtcGxlcix0ZXhDb29yZCt2Q3Vyck9mZnNldCkudzsKaWYgKCFrZWVwV29ya2luZykKewp9CmVsc2UgaWYgKGN1cnJTYW1wbGVkSGVpZ2h0PmN1cnJSYXlIZWlnaHQpCnsKZmxvYXQgZGVsdGExPWN1cnJTYW1wbGVkSGVpZ2h0LWN1cnJSYXlIZWlnaHQ7CmZsb2F0IGRlbHRhMj0oY3VyclJheUhlaWdodCtzdGVwU2l6ZSktbGFzdFNhbXBsZWRIZWlnaHQ7CmZsb2F0IHJhdGlvPWRlbHRhMS8oZGVsdGExK2RlbHRhMik7CnZDdXJyT2Zmc2V0PShyYXRpbykqIHZMYXN0T2Zmc2V0KygxLjAtcmF0aW8pKnZDdXJyT2Zmc2V0OwprZWVwV29ya2luZz1mYWxzZTsKfQplbHNlCnsKY3VyclJheUhlaWdodC09c3RlcFNpemU7CnZMYXN0T2Zmc2V0PXZDdXJyT2Zmc2V0Owp2Q3Vyck9mZnNldCs9c3RlcFNpemUqdk1heE9mZnNldDsKbGFzdFNhbXBsZWRIZWlnaHQ9Y3VyclNhbXBsZWRIZWlnaHQ7Cn0KfQpyZXR1cm4gdkN1cnJPZmZzZXQ7Cn0KdmVjMiBwYXJhbGxheE9mZnNldCh2ZWMzIHZpZXdEaXIsZmxvYXQgaGVpZ2h0U2NhbGUpCnsKZmxvYXQgaGVpZ2h0PXRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWKS53Owp2ZWMyIHRleENvb3JkT2Zmc2V0PWhlaWdodFNjYWxlKnZpZXdEaXIueHkqaGVpZ2h0OwpyZXR1cm4gLXRleENvb3JkT2Zmc2V0Owp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRWhdPVRoO2NvbnN0IGJoPSJsb2dEZXB0aERlY2xhcmF0aW9uIixTaD1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKdW5pZm9ybSBmbG9hdCBsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQ7CnZhcnlpbmcgZmxvYXQgdkZyYWdtZW50RGVwdGg7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYmhdPVNoO2NvbnN0IHhoPSJmb2dGcmFnbWVudERlY2xhcmF0aW9uIixNaD1gI2lmZGVmIEZPRwojZGVmaW5lIEZPR01PREVfTk9ORSAwLgojZGVmaW5lIEZPR01PREVfRVhQIDEuCiNkZWZpbmUgRk9HTU9ERV9FWFAyIDIuCiNkZWZpbmUgRk9HTU9ERV9MSU5FQVIgMy4KI2RlZmluZSBFIDIuNzE4MjgKdW5pZm9ybSB2ZWM0IHZGb2dJbmZvczsKdW5pZm9ybSB2ZWMzIHZGb2dDb2xvcjsKdmFyeWluZyB2ZWMzIHZGb2dEaXN0YW5jZTsKZmxvYXQgQ2FsY0ZvZ0ZhY3RvcigpCnsKZmxvYXQgZm9nQ29lZmY9MS4wOwpmbG9hdCBmb2dTdGFydD12Rm9nSW5mb3MueTsKZmxvYXQgZm9nRW5kPXZGb2dJbmZvcy56OwpmbG9hdCBmb2dEZW5zaXR5PXZGb2dJbmZvcy53OwpmbG9hdCBmb2dEaXN0YW5jZT1sZW5ndGgodkZvZ0Rpc3RhbmNlKTsKaWYgKEZPR01PREVfTElORUFSPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0oZm9nRW5kLWZvZ0Rpc3RhbmNlKS8oZm9nRW5kLWZvZ1N0YXJ0KTsKfQplbHNlIGlmIChGT0dNT0RFX0VYUD09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkpOwp9CmVsc2UgaWYgKEZPR01PREVfRVhQMj09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkqZm9nRGVuc2l0eSk7Cn0KcmV0dXJuIGNsYW1wKGZvZ0NvZWZmLDAuMCwxLjApOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbeGhdPU1oO2NvbnN0IEFoPSJidW1wRnJhZ21lbnQiLFJoPWB2ZWMyIHV2T2Zmc2V0PXZlYzIoMC4wLDAuMCk7CiNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoREVUQUlMKQojaWZkZWYgTk9STUFMWFlTQ0FMRQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbGlmIGRlZmluZWQoQlVNUCkKZmxvYXQgbm9ybWFsU2NhbGU9dkJ1bXBJbmZvcy55OwojZWxzZQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbmRpZgojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2VsaWYgZGVmaW5lZChCVU1QKQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkJ1bXBVViA6IC12QnVtcFVWOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVypub3JtYWxTY2FsZSx2UG9zaXRpb25XLFRCTlVWLHZUYW5nZW50U3BhY2VQYXJhbXMpOwojZWxzZQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkRldGFpbFVWIDogLXZEZXRhaWxVVjsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcqbm9ybWFsU2NhbGUsdlBvc2l0aW9uVyxUQk5VVix2ZWMyKDEuLDEuKSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2Vsc2UKdmVjMiBUQk5VVj1nbF9Gcm9udEZhY2luZyA/IHZNYWluVVYxIDogLXZNYWluVVYxOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVyx2UG9zaXRpb25XLFRCTlVWLHZlYzIoMS4sMS4pKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUEFSQUxMQVgKbWF0MyBpbnZUQk49dHJhbnNwb3NlTWF0MyhUQk4pOwojaWZkZWYgUEFSQUxMQVhPQ0NMVVNJT04KdXZPZmZzZXQ9cGFyYWxsYXhPY2NsdXNpb24oaW52VEJOKi12aWV3RGlyZWN0aW9uVyxpbnZUQk4qbm9ybWFsVyx2QnVtcFVWLHZCdW1wSW5mb3Mueik7CiNlbHNlCnV2T2Zmc2V0PXBhcmFsbGF4T2Zmc2V0KGludlRCTip2aWV3RGlyZWN0aW9uVyx2QnVtcEluZm9zLnopOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBERVRBSUwKdmVjNCBkZXRhaWxDb2xvcj10ZXh0dXJlMkQoZGV0YWlsU2FtcGxlcix2RGV0YWlsVVYrdXZPZmZzZXQpOwp2ZWMyIGRldGFpbE5vcm1hbFJHPWRldGFpbENvbG9yLnd5KjIuMC0xLjA7CmZsb2F0IGRldGFpbE5vcm1hbEI9c3FydCgxLi1zYXR1cmF0ZShkb3QoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsUkcpKSk7CnZlYzMgZGV0YWlsTm9ybWFsPXZlYzMoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsQik7CiNlbmRpZgojaWZkZWYgQlVNUAojaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JVTVBfRlJBR01FTlQKbm9ybWFsVz1ub3JtYWxpemUodGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHZCdW1wVVYpLnh5eiAqMi4wLTEuMCk7Cm5vcm1hbFc9bm9ybWFsaXplKG1hdDMobm9ybWFsTWF0cml4KSpub3JtYWxXKTsKI2VsaWYgIWRlZmluZWQoREVUQUlMKQpub3JtYWxXPXBlcnR1cmJOb3JtYWwoVEJOLHRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWK3V2T2Zmc2V0KS54eXosdkJ1bXBJbmZvcy55KTsKI2Vsc2UKdmVjMyBidW1wTm9ybWFsPXRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWK3V2T2Zmc2V0KS54eXoqMi4wLTEuMDsKI2lmIERFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD09MCAKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKdmVjMyBibGVuZGVkTm9ybWFsPW5vcm1hbGl6ZSh2ZWMzKGJ1bXBOb3JtYWwueHkrZGV0YWlsTm9ybWFsLnh5LGJ1bXBOb3JtYWwueipkZXRhaWxOb3JtYWwueikpOwojZWxpZiBERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9PTEgCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7CmJ1bXBOb3JtYWwrPXZlYzMoMC4wLDAuMCwxLjApOwpkZXRhaWxOb3JtYWwqPXZlYzMoLTEuMCwtMS4wLDEuMCk7CnZlYzMgYmxlbmRlZE5vcm1hbD1idW1wTm9ybWFsKmRvdChidW1wTm9ybWFsLGRldGFpbE5vcm1hbCkvYnVtcE5vcm1hbC56LWRldGFpbE5vcm1hbDsKI2VuZGlmCm5vcm1hbFc9cGVydHVyYk5vcm1hbEJhc2UoVEJOLGJsZW5kZWROb3JtYWwsdkJ1bXBJbmZvcy55KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoREVUQUlMKQpkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56Owpub3JtYWxXPXBlcnR1cmJOb3JtYWxCYXNlKFRCTixkZXRhaWxOb3JtYWwsdkRldGFpbEluZm9zLnopOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0FoXT1SaDtjb25zdCB5aD0iZGVjYWxGcmFnbWVudCIsQ2g9YCNpZmRlZiBERUNBTAojaWZkZWYgR0FNTUFERUNBTApkZWNhbENvbG9yLnJnYj10b0xpbmVhclNwYWNlKGRlY2FsQ29sb3IucmdiKTsKI2VuZGlmCiNpZmRlZiBERUNBTF9TTU9PVEhBTFBIQQpkZWNhbENvbG9yLmEqPWRlY2FsQ29sb3IuYTsKI2VuZGlmCnN1cmZhY2VBbGJlZG8ucmdiPW1peChzdXJmYWNlQWxiZWRvLnJnYixkZWNhbENvbG9yLnJnYixkZWNhbENvbG9yLmEpOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3loXT1DaDtjb25zdCBJaD0iZGVwdGhQcmVQYXNzIixQaD1gI2lmZGVmIERFUFRIUFJFUEFTUwpnbF9GcmFnQ29sb3I9dmVjNCgwLiwwLiwwLiwxLjApOwpyZXR1cm47CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSWhdPVBoO2NvbnN0IERoPSJsaWdodEZyYWdtZW50IixGaD1gI2lmZGVmIExJR0hUe1h9CiNpZiBkZWZpbmVkKFNIQURPV09OTFkpIHx8IGRlZmluZWQoTElHSFRNQVApICYmIGRlZmluZWQoTElHSFRNQVBFWENMVURFRHtYfSkgJiYgZGVmaW5lZChMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0pCiNlbHNlCiNpZmRlZiBQQlIKI2lmZGVmIFNQT1RMSUdIVHtYfQpwcmVJbmZvPWNvbXB1dGVQb2ludEFuZFNwb3RQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVQb2ludEFuZFNwb3RQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZUhlbWlzcGhlcmljUHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoRElSTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZURpcmVjdGlvbmFsUHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbmRpZgpwcmVJbmZvLk5kb3RWPU5kb3RWOwojaWZkZWYgU1BPVExJR0hUe1h9CiNpZmRlZiBMSUdIVF9GQUxMT0ZGX0dMVEZ7WH0KcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfR0xURihwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9HTFRGKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueixsaWdodHtYfS52TGlnaHRGYWxsb2ZmLncpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfUEhZU0lDQUx7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfUGh5c2ljYWwobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfU1RBTkRBUkR7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKHByZUluZm8ubGlnaHRPZmZzZXQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53LGxpZ2h0e1h9LnZMaWdodERhdGEudyk7CiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmKHByZUluZm8ubGlnaHRPZmZzZXQscHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53LGxpZ2h0e1h9LnZMaWdodERhdGEudyxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnosbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKI2lmZGVmIExJR0hUX0ZBTExPRkZfR0xURntYfQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9HTFRGKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9QaHlzaWNhbChwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkKTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9TdGFuZGFyZChwcmVJbmZvLmxpZ2h0T2Zmc2V0LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCk7CiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmKHByZUluZm8ubGlnaHRPZmZzZXQscHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKI2VuZGlmCiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249MS4wOwojZW5kaWYKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1yb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMocm91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCiNpZmRlZiBJUklERVNDRU5DRQpwcmVJbmZvLmlyaWRlc2NlbmNlSW50ZW5zaXR5PWlyaWRlc2NlbmNlSW50ZW5zaXR5OwojZW5kaWYKI2lmZGVmIEhFTUlMSUdIVHtYfQppbmZvLmRpZmZ1c2U9Y29tcHV0ZUhlbWlzcGhlcmljRGlmZnVzZUxpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0R3JvdW5kKTsKI2VsaWYgZGVmaW5lZChTU19UUkFOU0xVQ0VOQ1kpCmluZm8uZGlmZnVzZT1jb21wdXRlRGlmZnVzZUFuZFRyYW5zbWl0dGVkTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixzdWJTdXJmYWNlT3V0LnRyYW5zbWl0dGFuY2UpOwojZWxzZQppbmZvLmRpZmZ1c2U9Y29tcHV0ZURpZmZ1c2VMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmZGVmIEFOSVNPVFJPUElDCmluZm8uc3BlY3VsYXI9Y29tcHV0ZUFuaXNvdHJvcGljU3BlY3VsYXJMaWdodGluZyhwcmVJbmZvLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsYW5pc290cm9waWNPdXQuYW5pc290cm9waWNUYW5nZW50LGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcGljQml0YW5nZW50LGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcHksY2xlYXJjb2F0T3V0LnNwZWN1bGFyRW52aXJvbm1lbnRSMCxzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2Vsc2UKaW5mby5zcGVjdWxhcj1jb21wdXRlU3BlY3VsYXJMaWdodGluZyhwcmVJbmZvLG5vcm1hbFcsY2xlYXJjb2F0T3V0LnNwZWN1bGFyRW52aXJvbm1lbnRSMCxzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hFRU4KI2lmZGVmIFNIRUVOX0xJTktXSVRIQUxCRURPCnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuSW50ZW5zaXR5OwojZWxzZQojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuUm91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKHNoZWVuT3V0LnNoZWVuUm91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCiNlbmRpZgppbmZvLnNoZWVuPWNvbXB1dGVTaGVlbkxpZ2h0aW5nKHByZUluZm8sbm9ybWFsVyxzaGVlbk91dC5zaGVlbkNvbG9yLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2lmZGVmIENMRUFSQ09BVAojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPWNsZWFyY29hdE91dC5jbGVhckNvYXRSb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMoY2xlYXJjb2F0T3V0LmNsZWFyQ29hdFJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgppbmZvLmNsZWFyQ29hdD1jb21wdXRlQ2xlYXJDb2F0TGlnaHRpbmcocHJlSW5mbyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Tm9ybWFsVyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0QUFSb3VnaG5lc3NGYWN0b3JzLngsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEludGVuc2l0eSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNpZmRlZiBDTEVBUkNPQVRfVElOVAphYnNvcnB0aW9uPWNvbXB1dGVDbGVhckNvYXRMaWdodGluZ0Fic29ycHRpb24oY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5kb3RWUmVmcmFjdCxwcmVJbmZvLkwsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5vcm1hbFcsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdENvbG9yLGNsZWFyY29hdE91dC5jbGVhckNvYXRUaGlja25lc3MsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEludGVuc2l0eSk7CmluZm8uZGlmZnVzZSo9YWJzb3JwdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQppbmZvLnNwZWN1bGFyKj1hYnNvcnB0aW9uOwojZW5kaWYKI2VuZGlmCmluZm8uZGlmZnVzZSo9aW5mby5jbGVhckNvYXQudzsKI2lmZGVmIFNQRUNVTEFSVEVSTQppbmZvLnNwZWN1bGFyKj1pbmZvLmNsZWFyQ29hdC53OwojZW5kaWYKI2lmZGVmIFNIRUVOCmluZm8uc2hlZW4qPWluZm8uY2xlYXJDb2F0Lnc7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmZGVmIFNQT1RMSUdIVHtYfQppbmZvPWNvbXB1dGVTcG90TGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbixsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5hLGdsb3NzaW5lc3MpOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKaW5mbz1jb21wdXRlSGVtaXNwaGVyaWNMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodEdyb3VuZCxnbG9zc2luZXNzKTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KSB8fCBkZWZpbmVkKERJUkxJR0hUe1h9KQppbmZvPWNvbXB1dGVMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UuYSxnbG9zc2luZXNzKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CmluZm8uZGlmZnVzZSo9Y29tcHV0ZVByb2plY3Rpb25UZXh0dXJlRGlmZnVzZUxpZ2h0aW5nKHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH0sdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH0pOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQpmb3IgKGludCBpPTA7IGk8U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9OyBpKyspIAp7CiNpZmRlZiBTSEFET1dDU01fUklHSFRIQU5ERUR7WH0KZGlmZntYfT12aWV3RnJ1c3R1bVp7WH1baV0rdlBvc2l0aW9uRnJvbUNhbWVyYXtYfS56OwojZWxzZQpkaWZme1h9PXZpZXdGcnVzdHVtWntYfVtpXS12UG9zaXRpb25Gcm9tQ2FtZXJhe1h9Lno7CiNlbmRpZgppZiAoZGlmZntYfT49MC4pIHsKaW5kZXh7WH09aTsKYnJlYWs7Cn0KfQojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppZiAoaW5kZXh7WH0+PTApCiNlbmRpZgp7CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0NTTShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT12ZWMzKHNoYWRvdykqdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9W2luZGV4e1h9XTsKI2VuZGlmCiNpZm5kZWYgU0hBRE9XQ1NNTk9CTEVORHtYfQpmbG9hdCBmcnVzdHVtTGVuZ3RoPWZydXN0dW1MZW5ndGhze1h9W2luZGV4e1h9XTsKZmxvYXQgZGlmZlJhdGlvPWNsYW1wKGRpZmZ7WH0vZnJ1c3R1bUxlbmd0aCwwLiwxLikqY2FzY2FkZUJsZW5kRmFjdG9ye1h9OwppZiAoaW5kZXh7WH08KFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xKSAmJiBkaWZmUmF0aW88MS4pCnsKaW5kZXh7WH0rPTE7CmZsb2F0IG5leHRTaGFkb3c9MC47CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dDU00oZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgpzaGFkb3c9bWl4KG5leHRTaGFkb3csc2hhZG93LGRpZmZSYXRpbyk7CiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT1taXgodmVjMyhuZXh0U2hhZG93KSp2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1baW5kZXh7WH1dLHNoYWRvd0RlYnVne1h9LGRpZmZSYXRpbyk7CiNlbmRpZgp9CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9XQ0xPU0VFU017WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV0VTTXtYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aEVTTSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQT0lTU09Oe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmdDdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGMSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0YzKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0Y1KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMzIodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxzZQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0N1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3codlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIQURPV09OTFkKI2lmbmRlZiBTSEFET1dJTlVTRQojZGVmaW5lIFNIQURPV0lOVVNFCiNlbmRpZgpnbG9iYWxTaGFkb3crPXNoYWRvdzsKc2hhZG93TGlnaHRDb3VudCs9MS4wOwojZW5kaWYKI2Vsc2UKc2hhZG93PTEuOwojZW5kaWYKI2lmbmRlZiBTSEFET1dPTkxZCiNpZmRlZiBDVVNUT01VU0VSTElHSFRJTkcKZGlmZnVzZUJhc2UrPWNvbXB1dGVDdXN0b21EaWZmdXNlTGlnaHRpbmcoaW5mbyxkaWZmdXNlQmFzZSxzaGFkb3cpOwojaWZkZWYgU1BFQ1VMQVJURVJNCnNwZWN1bGFyQmFzZSs9Y29tcHV0ZUN1c3RvbVNwZWN1bGFyTGlnaHRpbmcoaW5mbyxzcGVjdWxhckJhc2Usc2hhZG93KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoTElHSFRNQVApICYmIGRlZmluZWQoTElHSFRNQVBFWENMVURFRHtYfSkKZGlmZnVzZUJhc2UrPWxpZ2h0bWFwQ29sb3IucmdiKnNoYWRvdzsKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpzcGVjdWxhckJhc2UrPWluZm8uc3BlY3VsYXIqc2hhZG93KmxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0KY2xlYXJDb2F0QmFzZSs9aW5mby5jbGVhckNvYXQucmdiKnNoYWRvdypsaWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hFRU4KI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0Kc2hlZW5CYXNlKz1pbmZvLnNoZWVuLnJnYipzaGFkb3c7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmRpZmZ1c2VCYXNlKz1pbmZvLmRpZmZ1c2Uqc2hhZG93RGVidWd7WH07CiNlbHNlIApkaWZmdXNlQmFzZSs9aW5mby5kaWZmdXNlKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0Kc3BlY3VsYXJCYXNlKz1pbmZvLnNwZWN1bGFyKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKY2xlYXJDb2F0QmFzZSs9aW5mby5jbGVhckNvYXQucmdiKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBTSEVFTgpzaGVlbkJhc2UrPWluZm8uc2hlZW4ucmdiKnNoYWRvdzsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtEaF09Rmg7Y29uc3Qgd2g9ImxvZ0RlcHRoRnJhZ21lbnQiLE9oPWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSApnbF9GcmFnRGVwdGhFWFQ9bG9nMih2RnJhZ21lbnREZXB0aCkqbG9nYXJpdGhtaWNEZXB0aENvbnN0YW50KjAuNTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt3aF09T2g7Y29uc3QgTGg9ImZvZ0ZyYWdtZW50IixOaD1gI2lmZGVmIEZPRwpmbG9hdCBmb2c9Q2FsY0ZvZ0ZhY3RvcigpOwojaWZkZWYgUEJSCmZvZz10b0xpbmVhclNwYWNlKGZvZyk7CiNlbmRpZgpjb2xvci5yZ2I9bWl4KHZGb2dDb2xvcixjb2xvci5yZ2IsZm9nKTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtMaF09Tmg7Y29uc3QgQmg9Im9pdEZyYWdtZW50IixVaD1gI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQpmbG9hdCBmcmFnRGVwdGg9Z2xfRnJhZ0Nvb3JkLno7IAojaWZkZWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUwp1aW50IGhhbGZGbG9hdD1wYWNrSGFsZjJ4MTYodmVjMihmcmFnRGVwdGgpKTsKdmVjMiBmdWxsPXVucGFja0hhbGYyeDE2KGhhbGZGbG9hdCk7CmZyYWdEZXB0aD1mdWxsLng7CiNlbmRpZgppdmVjMiBmcmFnQ29vcmQ9aXZlYzIoZ2xfRnJhZ0Nvb3JkLnh5KTsKdmVjMiBsYXN0RGVwdGg9dGV4ZWxGZXRjaChvaXREZXB0aFNhbXBsZXIsZnJhZ0Nvb3JkLDApLnJnOwp2ZWM0IGxhc3RGcm9udENvbG9yPXRleGVsRmV0Y2gob2l0RnJvbnRDb2xvclNhbXBsZXIsZnJhZ0Nvb3JkLDApOwpkZXB0aC5yZz12ZWMyKC1NQVhfREVQVEgpOwpmcm9udENvbG9yPWxhc3RGcm9udENvbG9yOwpiYWNrQ29sb3I9dmVjNCgwLjApOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKZmxvYXQgZnVydGhlc3REZXB0aD0tbGFzdERlcHRoLng7CmZsb2F0IG5lYXJlc3REZXB0aD1sYXN0RGVwdGgueTsKI2Vsc2UKZmxvYXQgbmVhcmVzdERlcHRoPS1sYXN0RGVwdGgueDsKZmxvYXQgZnVydGhlc3REZXB0aD1sYXN0RGVwdGgueTsKI2VuZGlmCmZsb2F0IGFscGhhTXVsdGlwbGllcj0xLjAtbGFzdEZyb250Q29sb3IuYTsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmlmIChmcmFnRGVwdGg+bmVhcmVzdERlcHRoIHx8IGZyYWdEZXB0aDxmdXJ0aGVzdERlcHRoKSB7CiNlbHNlCmlmIChmcmFnRGVwdGg8bmVhcmVzdERlcHRoIHx8IGZyYWdEZXB0aD5mdXJ0aGVzdERlcHRoKSB7CiNlbmRpZgpyZXR1cm47Cn0KI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmlmIChmcmFnRGVwdGg8bmVhcmVzdERlcHRoICYmIGZyYWdEZXB0aD5mdXJ0aGVzdERlcHRoKSB7CiNlbHNlCmlmIChmcmFnRGVwdGg+bmVhcmVzdERlcHRoICYmIGZyYWdEZXB0aDxmdXJ0aGVzdERlcHRoKSB7CiNlbmRpZgpkZXB0aC5yZz12ZWMyKC1mcmFnRGVwdGgsZnJhZ0RlcHRoKTsKcmV0dXJuOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQmhdPVVoO2NvbnN0IGtoPSJkZWZhdWx0UGl4ZWxTaGFkZXIiLFZoPWAjaW5jbHVkZTxfX2RlY2xfX2RlZmF1bHRGcmFnbWVudD4KI2lmIGRlZmluZWQoQlVNUCkgfHwgIWRlZmluZWQoTk9STUFMKQojZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZQojZW5kaWYKI2luY2x1ZGU8cHJlUGFzc0RlY2xhcmF0aW9uPltTQ0VORV9NUlRfQ09VTlRdCiNpbmNsdWRlPG9pdERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUdJTgojaWZkZWYgTE9HQVJJVEhNSUNERVBUSAojZXh0ZW5zaW9uIEdMX0VYVF9mcmFnX2RlcHRoIDogZW5hYmxlCiNlbmRpZgojZGVmaW5lIFJFQ0lQUk9DQUxfUEkyIDAuMTU5MTU0OTQKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQp2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZW5kaWYKI2luY2x1ZGU8bWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uPlsxLi43XQojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxsaWdodHNGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2hhZG93c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERJRkZVU0UsX1ZBUllJTkdOQU1FXyxEaWZmdXNlLF9TQU1QTEVSTkFNRV8sZGlmZnVzZSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCxfU0FNUExFUk5BTUVfLGFtYmllbnQpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHksX1NBTVBMRVJOQU1FXyxvcGFjaXR5KQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUsX1NBTVBMRVJOQU1FXyxlbWlzc2l2ZSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwLF9TQU1QTEVSTkFNRV8sbGlnaHRtYXApCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sREVDQUwsX1ZBUllJTkdOQU1FXyxEZWNhbCxfU0FNUExFUk5BTUVfLGRlY2FsKQojaWZkZWYgUkVGUkFDVElPTgojaWZkZWYgUkVGUkFDVElPTk1BUF8zRAp1bmlmb3JtIHNhbXBsZXJDdWJlIHJlZnJhY3Rpb25DdWJlU2FtcGxlcjsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgcmVmcmFjdGlvbjJEU2FtcGxlcjsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcixfU0FNUExFUk5BTUVfLHNwZWN1bGFyKQojZW5kaWYKI2luY2x1ZGU8ZnJlc25lbEZ1bmN0aW9uPgojaWZkZWYgUkVGTEVDVElPTgojaWZkZWYgUkVGTEVDVElPTk1BUF8zRAp1bmlmb3JtIHNhbXBsZXJDdWJlIHJlZmxlY3Rpb25DdWJlU2FtcGxlcjsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgcmVmbGVjdGlvbjJEU2FtcGxlcjsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVVZXOwojZWxzZQojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8cmVmbGVjdGlvbkZ1bmN0aW9uPgojZW5kaWYKI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nRGVjbGFyYXRpb24+CiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50TWFpbkZ1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50Pgp2ZWMzIHZpZXdEaXJlY3Rpb25XPW5vcm1hbGl6ZSh2RXllUG9zaXRpb24ueHl6LXZQb3NpdGlvblcpOwp2ZWM0IGJhc2VDb2xvcj12ZWM0KDEuLDEuLDEuLDEuKTsKdmVjMyBkaWZmdXNlQ29sb3I9dkRpZmZ1c2VDb2xvci5yZ2I7CmZsb2F0IGFscGhhPXZEaWZmdXNlQ29sb3IuYTsKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKHZOb3JtYWxXKTsKI2Vsc2UKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSgtY3Jvc3MoZEZkeCh2UG9zaXRpb25XKSxkRmR5KHZQb3NpdGlvblcpKSk7CiNlbmRpZgojaW5jbHVkZTxidW1wRnJhZ21lbnQ+CiNpZmRlZiBUV09TSURFRExJR0hUSU5HCm5vcm1hbFc9Z2xfRnJvbnRGYWNpbmcgPyBub3JtYWxXIDogLW5vcm1hbFc7CiNlbmRpZgojaWZkZWYgRElGRlVTRQpiYXNlQ29sb3I9dGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZEaWZmdXNlVVYrdXZPZmZzZXQpOwojaWYgZGVmaW5lZChBTFBIQVRFU1QpICYmICFkZWZpbmVkKEFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TKQppZiAoYmFzZUNvbG9yLmE8YWxwaGFDdXRPZmYpCmRpc2NhcmQ7CiNlbmRpZgojaWZkZWYgQUxQSEFGUk9NRElGRlVTRQphbHBoYSo9YmFzZUNvbG9yLmE7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfQUxQSEEKYmFzZUNvbG9yLnJnYio9dkRpZmZ1c2VJbmZvcy55OwojZW5kaWYKI2lmZGVmIERFQ0FMCnZlYzQgZGVjYWxDb2xvcj10ZXh0dXJlMkQoZGVjYWxTYW1wbGVyLHZEZWNhbFVWK3V2T2Zmc2V0KTsKI2luY2x1ZGU8ZGVjYWxGcmFnbWVudD4oc3VyZmFjZUFsYmVkbyxiYXNlQ29sb3IsR0FNTUFERUNBTCxfR0FNTUFERUNBTF9OT1RVU0VEXykKI2VuZGlmCiNpbmNsdWRlPGRlcHRoUHJlUGFzcz4KI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQpiYXNlQ29sb3IucmdiKj12Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIERFVEFJTApiYXNlQ29sb3IucmdiPWJhc2VDb2xvci5yZ2IqMi4wKm1peCgwLjUsZGV0YWlsQ29sb3Iucix2RGV0YWlsSW5mb3MueSk7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfRElGRlVTRQp2ZWMzIGJhc2VBbWJpZW50Q29sb3I9dmVjMygxLiwxLiwxLik7CiNpZmRlZiBBTUJJRU5UCmJhc2VBbWJpZW50Q29sb3I9dGV4dHVyZTJEKGFtYmllbnRTYW1wbGVyLHZBbWJpZW50VVYrdXZPZmZzZXQpLnJnYip2QW1iaWVudEluZm9zLnk7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfTElHSFRTCiNpZmRlZiBTUEVDVUxBUlRFUk0KZmxvYXQgZ2xvc3NpbmVzcz12U3BlY3VsYXJDb2xvci5hOwp2ZWMzIHNwZWN1bGFyQ29sb3I9dlNwZWN1bGFyQ29sb3IucmdiOwojaWZkZWYgU1BFQ1VMQVIKdmVjNCBzcGVjdWxhck1hcENvbG9yPXRleHR1cmUyRChzcGVjdWxhclNhbXBsZXIsdlNwZWN1bGFyVVYrdXZPZmZzZXQpOwpzcGVjdWxhckNvbG9yPXNwZWN1bGFyTWFwQ29sb3IucmdiOwojaWZkZWYgR0xPU1NJTkVTUwpnbG9zc2luZXNzPWdsb3NzaW5lc3Mqc3BlY3VsYXJNYXBDb2xvci5hOwojZW5kaWYKI2VuZGlmCiNlbHNlCmZsb2F0IGdsb3NzaW5lc3M9MC47CiNlbmRpZgp2ZWMzIGRpZmZ1c2VCYXNlPXZlYzMoMC4sMC4sMC4pOwpsaWdodGluZ0luZm8gaW5mbzsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIHNwZWN1bGFyQmFzZT12ZWMzKDAuLDAuLDAuKTsKI2VuZGlmCmZsb2F0IHNoYWRvdz0xLjsKI2lmZGVmIExJR0hUTUFQCnZlYzQgbGlnaHRtYXBDb2xvcj10ZXh0dXJlMkQobGlnaHRtYXBTYW1wbGVyLHZMaWdodG1hcFVWK3V2T2Zmc2V0KTsKI2lmZGVmIFJHQkRMSUdIVE1BUApsaWdodG1hcENvbG9yLnJnYj1mcm9tUkdCRChsaWdodG1hcENvbG9yKTsKI2VuZGlmCmxpZ2h0bWFwQ29sb3IucmdiKj12TGlnaHRtYXBJbmZvcy55OwojZW5kaWYKI2luY2x1ZGU8bGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQp2ZWM0IHJlZnJhY3Rpb25Db2xvcj12ZWM0KDAuLDAuLDAuLDEuKTsKI2lmZGVmIFJFRlJBQ1RJT04KdmVjMyByZWZyYWN0aW9uVmVjdG9yPW5vcm1hbGl6ZShyZWZyYWN0KC12aWV3RGlyZWN0aW9uVyxub3JtYWxXLHZSZWZyYWN0aW9uSW5mb3MueSkpOwojaWZkZWYgUkVGUkFDVElPTk1BUF8zRAojaWZkZWYgVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUMKcmVmcmFjdGlvblZlY3Rvcj1wYXJhbGxheENvcnJlY3ROb3JtYWwodlBvc2l0aW9uVyxyZWZyYWN0aW9uVmVjdG9yLHZSZWZyYWN0aW9uU2l6ZSx2UmVmcmFjdGlvblBvc2l0aW9uKTsKI2VuZGlmCnJlZnJhY3Rpb25WZWN0b3IueT1yZWZyYWN0aW9uVmVjdG9yLnkqdlJlZnJhY3Rpb25JbmZvcy53Owp2ZWM0IHJlZnJhY3Rpb25Mb29rdXA9dGV4dHVyZUN1YmUocmVmcmFjdGlvbkN1YmVTYW1wbGVyLHJlZnJhY3Rpb25WZWN0b3IpOwppZiAoZG90KHJlZnJhY3Rpb25WZWN0b3Isdmlld0RpcmVjdGlvblcpPDEuMCkgewpyZWZyYWN0aW9uQ29sb3I9cmVmcmFjdGlvbkxvb2t1cDsKfQojZWxzZQp2ZWMzIHZSZWZyYWN0aW9uVVZXPXZlYzMocmVmcmFjdGlvbk1hdHJpeCoodmlldyp2ZWM0KHZQb3NpdGlvblcrcmVmcmFjdGlvblZlY3Rvcip2UmVmcmFjdGlvbkluZm9zLnosMS4wKSkpOwp2ZWMyIHJlZnJhY3Rpb25Db29yZHM9dlJlZnJhY3Rpb25VVlcueHkvdlJlZnJhY3Rpb25VVlcuejsKcmVmcmFjdGlvbkNvb3Jkcy55PTEuMC1yZWZyYWN0aW9uQ29vcmRzLnk7CnJlZnJhY3Rpb25Db2xvcj10ZXh0dXJlMkQocmVmcmFjdGlvbjJEU2FtcGxlcixyZWZyYWN0aW9uQ29vcmRzKTsKI2VuZGlmCiNpZmRlZiBSR0JEUkVGUkFDVElPTgpyZWZyYWN0aW9uQ29sb3IucmdiPWZyb21SR0JEKHJlZnJhY3Rpb25Db2xvcik7CiNlbmRpZgojaWZkZWYgSVNfUkVGUkFDVElPTl9MSU5FQVIKcmVmcmFjdGlvbkNvbG9yLnJnYj10b0dhbW1hU3BhY2UocmVmcmFjdGlvbkNvbG9yLnJnYik7CiNlbmRpZgpyZWZyYWN0aW9uQ29sb3IucmdiKj12UmVmcmFjdGlvbkluZm9zLng7CiNlbmRpZgp2ZWM0IHJlZmxlY3Rpb25Db2xvcj12ZWM0KDAuLDAuLDAuLDEuKTsKI2lmZGVmIFJFRkxFQ1RJT04KdmVjMyB2UmVmbGVjdGlvblVWVz1jb21wdXRlUmVmbGVjdGlvbkNvb3Jkcyh2ZWM0KHZQb3NpdGlvblcsMS4wKSxub3JtYWxXKTsKI2lmZGVmIFJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaCnZSZWZsZWN0aW9uVVZXLnoqPS0xLjA7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF8zRAojaWZkZWYgUk9VR0hORVNTCmZsb2F0IGJpYXM9dlJlZmxlY3Rpb25JbmZvcy55OwojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZmRlZiBTUEVDVUxBUgojaWZkZWYgR0xPU1NJTkVTUwpiaWFzKj0oMS4wLXNwZWN1bGFyTWFwQ29sb3IuYSk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZsZWN0aW9uQ3ViZVNhbXBsZXIsdlJlZmxlY3Rpb25VVlcsYmlhcyk7CiNlbHNlCnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZsZWN0aW9uQ3ViZVNhbXBsZXIsdlJlZmxlY3Rpb25VVlcpOwojZW5kaWYKI2Vsc2UKdmVjMiBjb29yZHM9dlJlZmxlY3Rpb25VVlcueHk7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04KY29vcmRzLz12UmVmbGVjdGlvblVWVy56OwojZW5kaWYKY29vcmRzLnk9MS4wLWNvb3Jkcy55OwpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZTJEKHJlZmxlY3Rpb24yRFNhbXBsZXIsY29vcmRzKTsKI2VuZGlmCiNpZmRlZiBSR0JEUkVGTEVDVElPTgpyZWZsZWN0aW9uQ29sb3IucmdiPWZyb21SR0JEKHJlZmxlY3Rpb25Db2xvcik7CiNlbmRpZgojaWZkZWYgSVNfUkVGTEVDVElPTl9MSU5FQVIKcmVmbGVjdGlvbkNvbG9yLnJnYj10b0dhbW1hU3BhY2UocmVmbGVjdGlvbkNvbG9yLnJnYik7CiNlbmRpZgpyZWZsZWN0aW9uQ29sb3IucmdiKj12UmVmbGVjdGlvbkluZm9zLng7CiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTApmbG9hdCByZWZsZWN0aW9uRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcscmVmbGVjdGlvblJpZ2h0Q29sb3IuYSxyZWZsZWN0aW9uTGVmdENvbG9yLmEpOwojaWZkZWYgUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVIKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZWZsZWN0aW9uQ29sb3IucmdiKj1zcGVjdWxhckNvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yLnJnYio9cmVmbGVjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojZWxzZQpyZWZsZWN0aW9uQ29sb3IucmdiKj1yZWZsZWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT05GUkVTTkVMCmZsb2F0IHJlZnJhY3Rpb25GcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxyZWZyYWN0aW9uUmlnaHRDb2xvci5hLHJlZnJhY3Rpb25MZWZ0Q29sb3IuYSk7CnJlZnJhY3Rpb25Db2xvci5yZ2IqPXJlZnJhY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmcmFjdGlvbkZyZXNuZWxUZXJtKStyZWZyYWN0aW9uRnJlc25lbFRlcm0qcmVmcmFjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkKdmVjNCBvcGFjaXR5TWFwPXRleHR1cmUyRChvcGFjaXR5U2FtcGxlcix2T3BhY2l0eVVWK3V2T2Zmc2V0KTsKI2lmZGVmIE9QQUNJVFlSR0IKb3BhY2l0eU1hcC5yZ2I9b3BhY2l0eU1hcC5yZ2IqdmVjMygwLjMsMC41OSwwLjExKTsKYWxwaGEqPShvcGFjaXR5TWFwLngrb3BhY2l0eU1hcC55K29wYWNpdHlNYXAueikqIHZPcGFjaXR5SW5mb3MueTsKI2Vsc2UKYWxwaGEqPW9wYWNpdHlNYXAuYSp2T3BhY2l0eUluZm9zLnk7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQUxQSEEpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQphbHBoYSo9dkNvbG9yLmE7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWUZSRVNORUwKZmxvYXQgb3BhY2l0eUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLG9wYWNpdHlQYXJ0cy56LG9wYWNpdHlQYXJ0cy53KTsKYWxwaGErPW9wYWNpdHlQYXJ0cy54KigxLjAtb3BhY2l0eUZyZXNuZWxUZXJtKStvcGFjaXR5RnJlc25lbFRlcm0qb3BhY2l0eVBhcnRzLnk7CiNlbmRpZgojaWZkZWYgQUxQSEFURVNUCiNpZmRlZiBBTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUwppZiAoYWxwaGE8YWxwaGFDdXRPZmYpCmRpc2NhcmQ7CiNlbmRpZgojaWZuZGVmIEFMUEhBQkxFTkQKYWxwaGE9MS4wOwojZW5kaWYKI2VuZGlmCnZlYzMgZW1pc3NpdmVDb2xvcj12RW1pc3NpdmVDb2xvcjsKI2lmZGVmIEVNSVNTSVZFCmVtaXNzaXZlQ29sb3IrPXRleHR1cmUyRChlbWlzc2l2ZVNhbXBsZXIsdkVtaXNzaXZlVVYrdXZPZmZzZXQpLnJnYip2RW1pc3NpdmVJbmZvcy55OwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFRlJFU05FTApmbG9hdCBlbWlzc2l2ZUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGVtaXNzaXZlUmlnaHRDb2xvci5hLGVtaXNzaXZlTGVmdENvbG9yLmEpOwplbWlzc2l2ZUNvbG9yKj1lbWlzc2l2ZUxlZnRDb2xvci5yZ2IqKDEuMC1lbWlzc2l2ZUZyZXNuZWxUZXJtKStlbWlzc2l2ZUZyZXNuZWxUZXJtKmVtaXNzaXZlUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgRElGRlVTRUZSRVNORUwKZmxvYXQgZGlmZnVzZUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGRpZmZ1c2VSaWdodENvbG9yLmEsZGlmZnVzZUxlZnRDb2xvci5hKTsKZGlmZnVzZUJhc2UqPWRpZmZ1c2VMZWZ0Q29sb3IucmdiKigxLjAtZGlmZnVzZUZyZXNuZWxUZXJtKStkaWZmdXNlRnJlc25lbFRlcm0qZGlmZnVzZVJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFQVNJTExVTUlOQVRJT04KdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoZGlmZnVzZUJhc2UqZGlmZnVzZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2Vsc2UKI2lmZGVmIExJTktFTUlTU0lWRVdJVEhESUZGVVNFCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKChkaWZmdXNlQmFzZStlbWlzc2l2ZUNvbG9yKSpkaWZmdXNlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZWxzZQp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcChkaWZmdXNlQmFzZSpkaWZmdXNlQ29sb3IrZW1pc3NpdmVDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGZpbmFsU3BlY3VsYXI9c3BlY3VsYXJCYXNlKnNwZWN1bGFyQ29sb3I7CiNpZmRlZiBTUEVDVUxBUk9WRVJBTFBIQQphbHBoYT1jbGFtcChhbHBoYStkb3QoZmluYWxTcGVjdWxhcix2ZWMzKDAuMywwLjU5LDAuMTEpKSwwLiwxLik7CiNlbmRpZgojZWxzZQp2ZWMzIGZpbmFsU3BlY3VsYXI9dmVjMygwLjApOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05PVkVSQUxQSEEKYWxwaGE9Y2xhbXAoYWxwaGErZG90KHJlZmxlY3Rpb25Db2xvci5yZ2IsdmVjMygwLjMsMC41OSwwLjExKSksMC4sMS4pOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFQVNJTExVTUlOQVRJT04KdmVjNCBjb2xvcj12ZWM0KGNsYW1wKGZpbmFsRGlmZnVzZSpiYXNlQW1iaWVudENvbG9yK2ZpbmFsU3BlY3VsYXIrcmVmbGVjdGlvbkNvbG9yLnJnYitlbWlzc2l2ZUNvbG9yK3JlZnJhY3Rpb25Db2xvci5yZ2IsMC4wLDEuMCksYWxwaGEpOwojZWxzZQp2ZWM0IGNvbG9yPXZlYzQoZmluYWxEaWZmdXNlKmJhc2VBbWJpZW50Q29sb3IrZmluYWxTcGVjdWxhcityZWZsZWN0aW9uQ29sb3IucmdiK3JlZnJhY3Rpb25Db2xvci5yZ2IsYWxwaGEpOwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCiNpZm5kZWYgTElHSFRNQVBFWENMVURFRAojaWZkZWYgVVNFTElHSFRNQVBBU1NIQURPV01BUApjb2xvci5yZ2IqPWxpZ2h0bWFwQ29sb3IucmdiOwojZWxzZQpjb2xvci5yZ2IrPWxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRk9HCmNvbG9yLnJnYj1tYXgoY29sb3IucmdiLDAuKTsKI2luY2x1ZGU8bG9nRGVwdGhGcmFnbWVudD4KI2luY2x1ZGU8Zm9nRnJhZ21lbnQ+CiNpZmRlZiBJTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUwpjb2xvci5yZ2I9dG9MaW5lYXJTcGFjZShjb2xvci5yZ2IpOwojZWxzZQojaWZkZWYgSU1BR0VQUk9DRVNTSU5HCmNvbG9yLnJnYj10b0xpbmVhclNwYWNlKGNvbG9yLnJnYik7CmNvbG9yPWFwcGx5SW1hZ2VQcm9jZXNzaW5nKGNvbG9yKTsKI2VuZGlmCiNlbmRpZgpjb2xvci5hKj12aXNpYmlsaXR5OwojaWZkZWYgUFJFTVVMVElQTFlBTFBIQQpjb2xvci5yZ2IqPWNvbG9yLmE7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRlJBR0NPTE9SCiNpZmRlZiBQUkVQQVNTCmZsb2F0IHdyaXRlR2VvbWV0cnlJbmZvPWNvbG9yLmE+MC40ID8gMS4wIDogMC4wOwpnbF9GcmFnRGF0YVswXT1jb2xvcjsgCiNpZmRlZiBQUkVQQVNTX1BPU0lUSU9OCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUE9TSVRJT05fSU5ERVhdPXZlYzQodlBvc2l0aW9uVyx3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp2ZWMyIGE9KHZDdXJyZW50UG9zaXRpb24ueHkvdkN1cnJlbnRQb3NpdGlvbi53KSowLjUrMC41Owp2ZWMyIGI9KHZQcmV2aW91c1Bvc2l0aW9uLnh5L3ZQcmV2aW91c1Bvc2l0aW9uLncpKjAuNSswLjU7CnZlYzIgdmVsb2NpdHk9YWJzKGEtYik7CnZlbG9jaXR5PXZlYzIocG93KHZlbG9jaXR5LngsMS4wLzMuMCkscG93KHZlbG9jaXR5LnksMS4wLzMuMCkpKnNpZ24oYS1iKSowLjUrMC41OwpnbF9GcmFnRGF0YVtQUkVQQVNTX1ZFTE9DSVRZX0lOREVYXT12ZWM0KHZlbG9jaXR5LDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19JUlJBRElBTkNFCmdsX0ZyYWdEYXRhW1BSRVBBU1NfSVJSQURJQU5DRV9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfREVQVEgKZ2xfRnJhZ0RhdGFbUFJFUEFTU19ERVBUSF9JTkRFWF09dmVjNCh2Vmlld1Bvcy56LDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX05PUk1BTApnbF9GcmFnRGF0YVtQUkVQQVNTX05PUk1BTF9JTkRFWF09dmVjNChub3JtYWxpemUoKHZpZXcqdmVjNChub3JtYWxXLDAuMCkpLnJnYiksd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX0FMQkVET19TUVJUCmdsX0ZyYWdEYXRhW1BSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1JFRkxFQ1RJVklUWQojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpZiBkZWZpbmVkKFNQRUNVTEFSKQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNCh0b0xpbmVhclNwYWNlKHNwZWN1bGFyTWFwQ29sb3IpKSp3cml0ZUdlb21ldHJ5SW5mbzsgCiNlbHNlCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KHRvTGluZWFyU3BhY2Uoc3BlY3VsYXJDb2xvciksMS4wKSp3cml0ZUdlb21ldHJ5SW5mbzsKI2VuZGlmCiNlbHNlCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLDEuMCkqd3JpdGVHZW9tZXRyeUluZm87CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNpZiAhZGVmaW5lZChQUkVQQVNTKSB8fCBkZWZpbmVkKFdFQkdMMikKZ2xfRnJhZ0NvbG9yPWNvbG9yOwojZW5kaWYKI2luY2x1ZGU8b2l0RnJhZ21lbnQ+CiNpZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKaWYgKGZyYWdEZXB0aD09bmVhcmVzdERlcHRoKSB7CmZyb250Q29sb3IucmdiKz1jb2xvci5yZ2IqY29sb3IuYSphbHBoYU11bHRpcGxpZXI7CmZyb250Q29sb3IuYT0xLjAtYWxwaGFNdWx0aXBsaWVyKigxLjAtY29sb3IuYSk7Cn0gZWxzZSB7CmJhY2tDb2xvcis9Y29sb3I7Cn0KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5ECn0KYDtMLlNoYWRlcnNTdG9yZVtraF09Vmg7Y29uc3QgV2g9ImRlY2FsVmVydGV4RGVjbGFyYXRpb24iLHpoPWAjaWZkZWYgREVDQUwKdW5pZm9ybSB2ZWM0IHZEZWNhbEluZm9zOwp1bmlmb3JtIG1hdDQgZGVjYWxNYXRyaXg7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbV2hdPXpoO2NvbnN0IEdoPSJkZWZhdWx0VmVydGV4RGVjbGFyYXRpb24iLFhoPWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CnVuaWZvcm0gbWF0NCB2aWV3OwojaWZkZWYgRElGRlVTRQp1bmlmb3JtIG1hdDQgZGlmZnVzZU1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZEaWZmdXNlSW5mb3M7CiNlbmRpZgojaWZkZWYgQU1CSUVOVAp1bmlmb3JtIG1hdDQgYW1iaWVudE1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZBbWJpZW50SW5mb3M7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWQp1bmlmb3JtIG1hdDQgb3BhY2l0eU1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZPcGFjaXR5SW5mb3M7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkUKdW5pZm9ybSB2ZWMyIHZFbWlzc2l2ZUluZm9zOwp1bmlmb3JtIG1hdDQgZW1pc3NpdmVNYXRyaXg7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKdW5pZm9ybSB2ZWMyIHZMaWdodG1hcEluZm9zOwp1bmlmb3JtIG1hdDQgbGlnaHRtYXBNYXRyaXg7CiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUikgJiYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCnVuaWZvcm0gdmVjMiB2U3BlY3VsYXJJbmZvczsKdW5pZm9ybSBtYXQ0IHNwZWN1bGFyTWF0cml4OwojZW5kaWYKI2lmZGVmIEJVTVAKdW5pZm9ybSB2ZWMzIHZCdW1wSW5mb3M7CnVuaWZvcm0gbWF0NCBidW1wTWF0cml4OwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT04KdW5pZm9ybSBtYXQ0IHJlZmxlY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZkZWYgUE9JTlRTSVpFCnVuaWZvcm0gZmxvYXQgcG9pbnRTaXplOwojZW5kaWYKI2lmZGVmIERFVEFJTAp1bmlmb3JtIHZlYzQgdkRldGFpbEluZm9zOwp1bmlmb3JtIG1hdDQgZGV0YWlsTWF0cml4OwojZW5kaWYKI2luY2x1ZGU8ZGVjYWxWZXJ0ZXhEZWNsYXJhdGlvbj4KI2RlZmluZSBBRERJVElPTkFMX1ZFUlRFWF9ERUNMQVJBVElPTgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbR2hdPVhoO2NvbnN0IEhoPSJ1dkF0dHJpYnV0ZURlY2xhcmF0aW9uIixLaD1gI2lmZGVmIFVWe1h9CmF0dHJpYnV0ZSB2ZWMyIHV2e1h9OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0hoXT1LaDtjb25zdCBZaD0icHJlUGFzc1ZlcnRleERlY2xhcmF0aW9uIixaaD1gI2lmZGVmIFBSRVBBU1MKI2lmZGVmIFBSRVBBU1NfREVQVEgKdmFyeWluZyB2ZWMzIHZWaWV3UG9zOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdW5pZm9ybSBtYXQ0IHByZXZpb3VzVmlld1Byb2plY3Rpb247CnZhcnlpbmcgdmVjNCB2Q3VycmVudFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgdlByZXZpb3VzUG9zaXRpb247CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1loXT1aaDtjb25zdCBxaD0ic2FtcGxlclZlcnRleERlY2xhcmF0aW9uIixqaD1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MAp2YXJ5aW5nIHZlYzIgdl9WQVJZSU5HTkFNRV9VVjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxaF09amg7Y29uc3QgJGg9ImJ1bXBWZXJ0ZXhEZWNsYXJhdGlvbiIsUWg9YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKSAKdmFyeWluZyBtYXQzIHZUQk47CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlWyRoXT1RaDtjb25zdCBKaD0iZm9nVmVydGV4RGVjbGFyYXRpb24iLGVsPWAjaWZkZWYgRk9HCnZhcnlpbmcgdmVjMyB2Rm9nRGlzdGFuY2U7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSmhdPWVsO2NvbnN0IHRsPSJsaWdodFZ4RnJhZ21lbnREZWNsYXJhdGlvbiIsaWw9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGF0YXtYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodERpZmZ1c2V7WH07CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZMaWdodFNwZWN1bGFye1h9OwojZWxzZQp2ZWM0IHZMaWdodFNwZWN1bGFye1h9PXZlYzQoMC4pOwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9Owp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgp1bmlmb3JtIHZlYzQgc2hhZG93c0luZm97WH07CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc3tYfTsKI2VuZGlmCiNpZmRlZiBTUE9UTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERpcmVjdGlvbntYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp1bmlmb3JtIHZlYzMgdkxpZ2h0R3JvdW5ke1h9OwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt0bF09aWw7Y29uc3Qgc2w9ImxpZ2h0VnhVYm9EZWNsYXJhdGlvbiIscmw9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIExpZ2h0e1h9CnsKdmVjNCB2TGlnaHREYXRhOwp2ZWM0IHZMaWdodERpZmZ1c2U7CnZlYzQgdkxpZ2h0U3BlY3VsYXI7CiNpZmRlZiBTUE9UTElHSFR7WH0KdmVjNCB2TGlnaHREaXJlY3Rpb247CnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp2ZWMzIHZMaWdodEdyb3VuZDsKI2VuZGlmCnZlYzQgc2hhZG93c0luZm87CnZlYzIgZGVwdGhWYWx1ZXM7Cn0gbGlnaHR7WH07CiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbc2xdPXJsO2NvbnN0IG5sPSJwcmVQYXNzVmVydGV4IixhbD1gI2lmZGVmIFBSRVBBU1NfREVQVEgKdlZpZXdQb3M9KHZpZXcqd29ybGRQb3MpLnJnYjsKI2VuZGlmCiNpZiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpICYmIGRlZmluZWQoQk9ORVNfVkVMT0NJVFlfRU5BQkxFRCkKdkN1cnJlbnRQb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKbWF0NCBwcmV2aW91c0luZmx1ZW5jZTsKcHJldmlvdXNJbmZsdWVuY2U9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1swXSldKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMV0pXSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMl0pXSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbM10pXSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NApwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzBdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMF07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsxXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsyXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzNdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbM107CiNlbmRpZgp2UHJldmlvdXNQb3NpdGlvbj1wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKmZpbmFsUHJldmlvdXNXb3JsZCpwcmV2aW91c0luZmx1ZW5jZSp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojZWxzZQp2UHJldmlvdXNQb3NpdGlvbj1wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKmZpbmFsUHJldmlvdXNXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtubF09YWw7Y29uc3Qgb2w9InV2VmFyaWFibGVEZWNsYXJhdGlvbiIsaGw9YCNpZiAhZGVmaW5lZChVVntYfSkgJiYgZGVmaW5lZChNQUlOVVZ7WH0pCnZlYzIgdXZ7WH09dmVjMigwLiwwLik7CiNlbmRpZgojaWZkZWYgTUFJTlVWe1h9CnZNYWluVVZ7WH09dXZ7WH07CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbb2xdPWhsO2NvbnN0IGxsPSJzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24iLGNsPWAjaWYgZGVmaW5lZChfREVGSU5FTkFNRV8pICYmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0wCmlmICh2X0lORk9OQU1FXz09MC4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7Cn0KI2lmZGVmIFVWMgplbHNlIGlmICh2X0lORk9OQU1FXz09MS4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjMKZWxzZSBpZiAodl9JTkZPTkFNRV89PTIuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djMsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY0CmVsc2UgaWYgKHZfSU5GT05BTUVfPT0zLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY0LDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNQplbHNlIGlmICh2X0lORk9OQU1FXz09NC4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NSwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjYKZWxzZSBpZiAodl9JTkZPTkFNRV89PTUuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djYsMS4wLDAuMCkpOwp9CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xsXT1jbDtjb25zdCB1bD0iYnVtcFZlcnRleCIsZGw9YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQp2ZWMzIHRibk5vcm1hbD1ub3JtYWxpemUobm9ybWFsVXBkYXRlZCk7CnZlYzMgdGJuVGFuZ2VudD1ub3JtYWxpemUodGFuZ2VudFVwZGF0ZWQueHl6KTsKdmVjMyB0Ym5CaXRhbmdlbnQ9Y3Jvc3ModGJuTm9ybWFsLHRiblRhbmdlbnQpKnRhbmdlbnRVcGRhdGVkLnc7CnZUQk49bWF0MyhmaW5hbFdvcmxkKSptYXQzKHRiblRhbmdlbnQsdGJuQml0YW5nZW50LHRibk5vcm1hbCk7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3VsXT1kbDtjb25zdCBmbD0iZm9nVmVydGV4IixfbD1gI2lmZGVmIEZPRwp2Rm9nRGlzdGFuY2U9KHZpZXcqd29ybGRQb3MpLnh5ejsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtmbF09X2w7Y29uc3QgZ2w9InNoYWRvd3NWZXJ0ZXgiLHBsPWAjaWZkZWYgU0hBRE9XUwojaWYgZGVmaW5lZChTSEFET1dDU017WH0pCnZQb3NpdGlvbkZyb21DYW1lcmF7WH09dmlldyp3b3JsZFBvczsKZm9yIChpbnQgaT0wOyBpPFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfTsgaSsrKSB7CnZQb3NpdGlvbkZyb21MaWdodHtYfVtpXT1saWdodE1hdHJpeHtYfVtpXSp3b3JsZFBvczsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY3tYfVtpXT0oLXZQb3NpdGlvbkZyb21MaWdodHtYfVtpXS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbHNlCnZEZXB0aE1ldHJpY3tYfVtpXT0odlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2ldLnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2VuZGlmCn0KI2VsaWYgZGVmaW5lZChTSEFET1d7WH0pICYmICFkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnZQb3NpdGlvbkZyb21MaWdodHtYfT1saWdodE1hdHJpeHtYfSp3b3JsZFBvczsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY3tYfT0oLXZQb3NpdGlvbkZyb21MaWdodHtYfS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbHNlCnZEZXB0aE1ldHJpY3tYfT0odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2dsXT1wbDtjb25zdCBtbD0idmVydGV4Q29sb3JNaXhpbmciLHZsPWAjaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCnZDb2xvcj12ZWM0KDEuMCk7CiNpZmRlZiBWRVJURVhDT0xPUgojaWZkZWYgVkVSVEVYQUxQSEEKdkNvbG9yKj1jb2xvcjsKI2Vsc2UKdkNvbG9yLnJnYio9Y29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBJTlNUQU5DRVNDT0xPUgp2Q29sb3IqPWluc3RhbmNlQ29sb3I7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW21sXT12bDtjb25zdCBFbD0icG9pbnRDbG91ZFZlcnRleCIsVGw9YCNpZiBkZWZpbmVkKFBPSU5UU0laRSkgJiYgIWRlZmluZWQoV0VCR1BVKQpnbF9Qb2ludFNpemU9cG9pbnRTaXplOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0VsXT1UbDtjb25zdCBibD0ibG9nRGVwdGhWZXJ0ZXgiLFNsPWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp2RnJhZ21lbnREZXB0aD0xLjArZ2xfUG9zaXRpb24udzsKZ2xfUG9zaXRpb24uej1sb2cyKG1heCgwLjAwMDAwMSx2RnJhZ21lbnREZXB0aCkpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtibF09U2w7Y29uc3QgeGw9ImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLE1sPWAjaW5jbHVkZTxfX2RlY2xfX2RlZmF1bHRWZXJ0ZXg+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9CRUdJTgphdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaWZkZWYgVEFOR0VOVAphdHRyaWJ1dGUgdmVjNCB0YW5nZW50OwojZW5kaWYKI2lmZGVmIFVWMQphdHRyaWJ1dGUgdmVjMiB1djsKI2VuZGlmCiNpbmNsdWRlPHV2QXR0cmlidXRlRGVjbGFyYXRpb24+WzIuLjddCiNpZmRlZiBWRVJURVhDT0xPUgphdHRyaWJ1dGUgdmVjNCBjb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8Ym9uZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CiNpbmNsdWRlPHByZVBhc3NWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uPlsxLi43XQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHkpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLExJR0hUTUFQLF9WQVJZSU5HTkFNRV8sTGlnaHRtYXApCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcikKI2VuZGlmCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxERUNBTCxfVkFSWUlOR05BTUVfLERlY2FsKQp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxidW1wVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8X19kZWNsX19saWdodFZ4RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uPlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVVZXOwojZW5kaWYKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdmFyeWluZyB2ZWMzIHZEaXJlY3Rpb25XOwojZW5kaWYKI2luY2x1ZGU8bG9nRGVwdGhEZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVXBkYXRlZD1ub3JtYWw7CiNlbmRpZgojaWZkZWYgVEFOR0VOVAp2ZWM0IHRhbmdlbnRVcGRhdGVkPXRhbmdlbnQ7CiNlbmRpZgojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZQb3NpdGlvblVWVz1wb3NpdGlvblVwZGF0ZWQ7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1BPU0lUSU9OCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfTk9STUFMCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2lmIGRlZmluZWQoUFJFUEFTUykgJiYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSAmJiAhZGVmaW5lZChCT05FU19WRUxPQ0lUWV9FTkFCTEVEKQp2Q3VycmVudFBvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKmZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNpZmRlZiBOT1JNQUwKbWF0MyBub3JtYWxXb3JsZD1tYXQzKGZpbmFsV29ybGQpOwojaWYgZGVmaW5lZChJTlNUQU5DRVMpICYmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpCnZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybWFsV29ybGRbMF0sbm9ybWFsV29ybGRbMF0pLGRvdChub3JtYWxXb3JsZFsxXSxub3JtYWxXb3JsZFsxXSksZG90KG5vcm1hbFdvcmxkWzJdLG5vcm1hbFdvcmxkWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtYWxXb3JsZCp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtYWxXb3JsZD10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1hbFdvcmxkKSk7CiNlbmRpZgp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybWFsV29ybGQqbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9XT1JMRFBPUwojaWZkZWYgTVVMVElWSUVXCmlmIChnbF9WaWV3SURfT1ZSPT0wdSkgewpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKfSBlbHNlIHsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb25SKndvcmxkUG9zOwp9CiNlbHNlCmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojZW5kaWYKdlBvc2l0aW9uVz12ZWMzKHdvcmxkUG9zKTsKI2luY2x1ZGU8cHJlUGFzc1ZlcnRleD4KI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdkRpcmVjdGlvblc9bm9ybWFsaXplKHZlYzMoZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwwLjApKSk7CiNlbmRpZgojaWZuZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD12ZWMyKDAuLDAuKTsKI2VuZGlmCiNpZmRlZiBNQUlOVVYxCnZNYWluVVYxPXV2VXBkYXRlZDsKI2VuZGlmCiNpbmNsdWRlPHV2VmFyaWFibGVEZWNsYXJhdGlvbj5bMi4uN10KI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UsX01BVFJJWE5BTUVfLGRpZmZ1c2UsX0lORk9OQU1FXyxEaWZmdXNlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsLF9NQVRSSVhOQU1FXyxkZXRhaWwsX0lORk9OQU1FXyxEZXRhaWxJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCxfTUFUUklYTkFNRV8sYW1iaWVudCxfSU5GT05BTUVfLEFtYmllbnRJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSxfTUFUUklYTkFNRV8sb3BhY2l0eSxfSU5GT05BTUVfLE9wYWNpdHlJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlLF9NQVRSSVhOQU1FXyxlbWlzc2l2ZSxfSU5GT05BTUVfLEVtaXNzaXZlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCxfTUFUUklYTkFNRV8sbGlnaHRtYXAsX0lORk9OQU1FXyxMaWdodG1hcEluZm9zLngpCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcixfTUFUUklYTkFNRV8sc3BlY3VsYXIsX0lORk9OQU1FXyxTcGVjdWxhckluZm9zLngpCiNlbmRpZgojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCxfTUFUUklYTkFNRV8sYnVtcCxfSU5GT05BTUVfLEJ1bXBJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxERUNBTCxfVkFSWUlOR05BTUVfLERlY2FsLF9NQVRSSVhOQU1FXyxkZWNhbCxfSU5GT05BTUVfLERlY2FsSW5mb3MueCkKI2luY2x1ZGU8YnVtcFZlcnRleD4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4PgojaW5jbHVkZTxmb2dWZXJ0ZXg+CiNpbmNsdWRlPHNoYWRvd3NWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8dmVydGV4Q29sb3JNaXhpbmc+CiNpbmNsdWRlPHBvaW50Q2xvdWRWZXJ0ZXg+CiNpbmNsdWRlPGxvZ0RlcHRoVmVydGV4PgojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfQpgO0wuU2hhZGVyc1N0b3JlW3hsXT1NbDtjb25zdCBBbD1uZXcgUmVnRXhwKCJeKFtnaW11c10rKSEiKTtjbGFzcyB0aXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9wbHVnaW5zPVtdLHRoaXMuX2FjdGl2ZVBsdWdpbnM9W10sdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzPVtdLHRoaXMuX21hdGVyaWFsPWUsdGhpcy5fc2NlbmU9ZS5nZXRTY2VuZSgpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKX1fYWRkUGx1Z2luKGUpe2ZvcihsZXQgcz0wO3M8dGhpcy5fcGx1Z2lucy5sZW5ndGg7KytzKWlmKHRoaXMuX3BsdWdpbnNbc10ubmFtZT09PWUubmFtZSl0aHJvd2BQbHVnaW4gIiR7ZS5uYW1lfSIgYWxyZWFkeSBhZGRlZCB0byB0aGUgbWF0ZXJpYWwgIiR7dGhpcy5fbWF0ZXJpYWwubmFtZX0iIWA7aWYodGhpcy5fbWF0ZXJpYWwuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdCl0aHJvd2BUaGUgcGx1Z2luICIke2UubmFtZX0iIGNhbid0IGJlIGFkZGVkIHRvIHRoZSBtYXRlcmlhbCAiJHt0aGlzLl9tYXRlcmlhbC5uYW1lfSIgYmVjYXVzZSB0aGlzIG1hdGVyaWFsIGhhcyBhbHJlYWR5IGJlZW4gdXNlZCBmb3IgcmVuZGVyaW5nISBQbGVhc2UgYWRkIHBsdWdpbnMgdG8gbWF0ZXJpYWxzIGJlZm9yZSBhbnkgcmVuZGVyaW5nIHdpdGggdGhpcyBtYXRlcmlhbCBvY2N1cnMuYDtjb25zdCB0PWUuZ2V0Q2xhc3NOYW1lKCk7dGkuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbdF18fCh0aS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVt0XT0iTUFURVJJQUxQTFVHSU5fIisgKyt0aS5fTWF0ZXJpYWxQbHVnaW5Db3VudGVyKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnQuYmluZCh0aGlzKSx0aGlzLl9wbHVnaW5zLnB1c2goZSksdGhpcy5fcGx1Z2lucy5zb3J0KChzLHIpPT5zLnByaW9yaXR5LXIucHJpb3JpdHkpLHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHM9e307Y29uc3QgaT17fTtpW3RpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3RdXT17dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMH07Zm9yKGNvbnN0IHMgb2YgdGhpcy5fcGx1Z2lucylzLmNvbGxlY3REZWZpbmVzKGkpLHRoaXMuX2NvbGxlY3RQb2ludE5hbWVzKCJ2ZXJ0ZXgiLHMuZ2V0Q3VzdG9tQ29kZSgidmVydGV4IikpLHRoaXMuX2NvbGxlY3RQb2ludE5hbWVzKCJmcmFnbWVudCIscy5nZXRDdXN0b21Db2RlKCJmcmFnbWVudCIpKTt0aGlzLl9kZWZpbmVOYW1lc0Zyb21QbHVnaW5zPWl9X2FjdGl2YXRlUGx1Z2luKGUpe3RoaXMuX2FjdGl2ZVBsdWdpbnMuaW5kZXhPZihlKT09PS0xJiYodGhpcy5fYWN0aXZlUGx1Z2lucy5wdXNoKGUpLHRoaXMuX2FjdGl2ZVBsdWdpbnMuc29ydCgodCxpKT0+dC5wcmlvcml0eS1pLnByaW9yaXR5KSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2guYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaC5iaW5kKHRoaXMpLGUucmVnaXN0ZXJGb3JFeHRyYUV2ZW50cyYmKHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cy5wdXNoKGUpLHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cy5zb3J0KCh0LGkpPT50LnByaW9yaXR5LWkucHJpb3JpdHkpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2guYmluZCh0aGlzKSkpfWdldFBsdWdpbihlKXtmb3IobGV0IHQ9MDt0PHRoaXMuX3BsdWdpbnMubGVuZ3RoOysrdClpZih0aGlzLl9wbHVnaW5zW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLl9wbHVnaW5zW3RdO3JldHVybiBudWxsfV9oYW5kbGVQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKGUpe2xldCB0PSEwO2Zvcihjb25zdCBpIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdD10JiZpLmlzUmVhZHlGb3JTdWJNZXNoKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKTtlLmlzUmVhZHlGb3JTdWJNZXNoPXR9X2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdC5wcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMoZS5kZWZpbmVzLHRoaXMuX3NjZW5lLGUubWVzaCl9X2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXMoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl0LnByZXBhcmVEZWZpbmVzKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSxlLm1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMpdC5oYXJkQmluZEZvclN1Yk1lc2godGhpcy5fbWF0ZXJpYWwuX3VuaWZvcm1CdWZmZXIsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCl9X2hhbmRsZVBsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2goZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl0LmJpbmRGb3JTdWJNZXNoKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKGUpe2xldCB0PSExO2Zvcihjb25zdCBpIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cylpZih0PWkuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSx0KWJyZWFrO2UuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dH1faGFuZGxlUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzKXQuZmlsbFJlbmRlclRhcmdldFRleHR1cmVzKGUucmVuZGVyVGFyZ2V0cyl9X2hhbmRsZVBsdWdpbkV2ZW50KGUsdCl7dmFyIGk7c3dpdGNoKGUpe2Nhc2UgZXQuR2V0QWN0aXZlVGV4dHVyZXM6e2NvbnN0IHM9dDtmb3IoY29uc3QgciBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXIuZ2V0QWN0aXZlVGV4dHVyZXMocy5hY3RpdmVUZXh0dXJlcyk7YnJlYWt9Y2FzZSBldC5HZXRBbmltYXRhYmxlczp7Y29uc3Qgcz10O2Zvcihjb25zdCByIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpci5nZXRBbmltYXRhYmxlcyhzLmFuaW1hdGFibGVzKTticmVha31jYXNlIGV0Lkhhc1RleHR1cmU6e2NvbnN0IHM9dDtsZXQgcj0hMTtmb3IoY29uc3QgbiBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKWlmKHI9bi5oYXNUZXh0dXJlKHMudGV4dHVyZSkscilicmVhaztzLmhhc1RleHR1cmU9cjticmVha31jYXNlIGV0LkRpc3Bvc2VkOntjb25zdCBzPXQ7Zm9yKGNvbnN0IHIgb2YgdGhpcy5fcGx1Z2lucylyLmRpc3Bvc2Uocy5mb3JjZURpc3Bvc2VUZXh0dXJlcyk7YnJlYWt9Y2FzZSBldC5HZXREZWZpbmVOYW1lczp7Y29uc3Qgcz10O3MuZGVmaW5lTmFtZXM9dGhpcy5fZGVmaW5lTmFtZXNGcm9tUGx1Z2luczticmVha31jYXNlIGV0LlByZXBhcmVFZmZlY3Q6e2NvbnN0IHM9dDtmb3IoY29uc3QgciBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXMuZmFsbGJhY2tSYW5rPXIuYWRkRmFsbGJhY2tzKHMuZGVmaW5lcyxzLmZhbGxiYWNrcyxzLmZhbGxiYWNrUmFuayksci5nZXRBdHRyaWJ1dGVzKHMuYXR0cmlidXRlcyx0aGlzLl9zY2VuZSxzLm1lc2gpO3RoaXMuX3VuaWZvcm1MaXN0Lmxlbmd0aD4wJiZzLnVuaWZvcm1zLnB1c2goLi4udGhpcy5fdW5pZm9ybUxpc3QpLHRoaXMuX3NhbXBsZXJMaXN0Lmxlbmd0aD4wJiZzLnNhbXBsZXJzLnB1c2goLi4udGhpcy5fc2FtcGxlckxpc3QpLHRoaXMuX3Vib0xpc3QubGVuZ3RoPjAmJnMudW5pZm9ybUJ1ZmZlcnNOYW1lcy5wdXNoKC4uLnRoaXMuX3Vib0xpc3QpLHMuY3VzdG9tQ29kZT10aGlzLl9pbmplY3RDdXN0b21Db2RlKHMuY3VzdG9tQ29kZSk7YnJlYWt9Y2FzZSBldC5QcmVwYXJlVW5pZm9ybUJ1ZmZlcjp7Y29uc3Qgcz10O3RoaXMuX3Vib0RlY2xhcmF0aW9uPSIiLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uPSIiLHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb249IiIsdGhpcy5fdW5pZm9ybUxpc3Q9W10sdGhpcy5fc2FtcGxlckxpc3Q9W10sdGhpcy5fdWJvTGlzdD1bXTtmb3IoY29uc3QgciBvZiB0aGlzLl9wbHVnaW5zKXtjb25zdCBuPXIuZ2V0VW5pZm9ybXMoKTtpZihuKXtpZihuLnVibylmb3IoY29uc3QgYSBvZiBuLnVibyl7aWYoYS5zaXplJiZhLnR5cGUpe2NvbnN0IG89KGk9YS5hcnJheVNpemUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOjA7cy51Ym8uYWRkVW5pZm9ybShhLm5hbWUsYS5zaXplLG8pLHRoaXMuX3Vib0RlY2xhcmF0aW9uKz1gJHthLnR5cGV9ICR7YS5uYW1lfSR7bz4wP2BbJHtvfV1gOiIifTtccgpgfXRoaXMuX3VuaWZvcm1MaXN0LnB1c2goYS5uYW1lKX1uLnZlcnRleCYmKHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uKz1uLnZlcnRleCtgXHIKYCksbi5mcmFnbWVudCYmKHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb24rPW4uZnJhZ21lbnQrYFxyCmApfXIuZ2V0U2FtcGxlcnModGhpcy5fc2FtcGxlckxpc3QpLHIuZ2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcyh0aGlzLl91Ym9MaXN0KX1icmVha319fV9jb2xsZWN0UG9pbnROYW1lcyhlLHQpe2lmKHQpZm9yKGNvbnN0IGkgaW4gdCl0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdfHwodGhpcy5fY29kZUluamVjdGlvblBvaW50c1tlXT17fSksdGhpcy5fY29kZUluamVjdGlvblBvaW50c1tlXVtpXT0hMH1faW5qZWN0Q3VzdG9tQ29kZShlKXtyZXR1cm4odCxpKT0+e3ZhciBzO2UmJihpPWUodCxpKSksdGhpcy5fdWJvRGVjbGFyYXRpb24mJihpPWkucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX1VCT19ERUNMQVJBVElPTiIsdGhpcy5fdWJvRGVjbGFyYXRpb24pKSx0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbiYmKGk9aS5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfVkVSVEVYX0RFQ0xBUkFUSU9OIix0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbikpLHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb24mJihpPWkucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX0ZSQUdNRU5UX0RFQ0xBUkFUSU9OIix0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uKSk7Y29uc3Qgcj0ocz10aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnNbdF07aWYoIXIpcmV0dXJuIGk7Zm9yKGxldCBuIGluIHIpe2xldCBhPSIiO2Zvcihjb25zdCBvIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpe2NvbnN0IGg9by5nZXRDdXN0b21Db2RlKHQpO2ghPW51bGwmJmhbbl0mJihhKz1oW25dK2BccgpgKX1pZihhLmxlbmd0aD4wKWlmKG4uY2hhckF0KDApPT09IiEiKXtuPW4uc3Vic3RyaW5nKDEpO2xldCBvPSJnIjtpZihuLmNoYXJBdCgwKT09PSIhIilvPSIiLG49bi5zdWJzdHJpbmcoMSk7ZWxzZXtjb25zdCBkPUFsLmV4ZWMobik7ZCYmZC5sZW5ndGg+PTImJihvPWRbMV0sbj1uLnN1YnN0cmluZyhvLmxlbmd0aCsxKSl9by5pbmRleE9mKCJnIik8MCYmKG8rPSJnIik7Y29uc3QgaD1pLGw9bmV3IFJlZ0V4cChuLG8pO2xldCB1PWwuZXhlYyhoKTtmb3IoO3UhPT1udWxsOyl7bGV0IGQ9YTtmb3IobGV0IF89MDtfPHUubGVuZ3RoOysrXylkPWQucmVwbGFjZSgiJCIrXyx1W19dKTtpPWkucmVwbGFjZSh1WzBdLGQpLHU9bC5leGVjKGgpfX1lbHNle2NvbnN0IG89IiNkZWZpbmUgIituO2k9aS5yZXBsYWNlKG8sYFxyCmArYStgXHIKYCtvKX19cmV0dXJuIGl9fX10aS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZT17fSx0aS5fTWF0ZXJpYWxQbHVnaW5Db3VudGVyPTA7Y2xhc3MgZHN7X2VuYWJsZShlKXtlJiZ0aGlzLl9wbHVnaW5NYW5hZ2VyLl9hY3RpdmF0ZVBsdWdpbih0aGlzKX1jb25zdHJ1Y3RvcihlLHQsaSxzLHI9ITAsbj0hMSl7dGhpcy5wcmlvcml0eT01MDAsdGhpcy5yZWdpc3RlckZvckV4dHJhRXZlbnRzPSExLHRoaXMuX21hdGVyaWFsPWUsdGhpcy5uYW1lPXQsdGhpcy5wcmlvcml0eT1pLGUucGx1Z2luTWFuYWdlcnx8KGUucGx1Z2luTWFuYWdlcj1uZXcgdGkoZSksZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCgoKT0+e2UucGx1Z2luTWFuYWdlcj12b2lkIDB9KSksdGhpcy5fcGx1Z2luRGVmaW5lTmFtZXM9cyx0aGlzLl9wbHVnaW5NYW5hZ2VyPWUucGx1Z2luTWFuYWdlcixyJiZ0aGlzLl9wbHVnaW5NYW5hZ2VyLl9hZGRQbHVnaW4odGhpcyksbiYmdGhpcy5fZW5hYmxlKCEwKSx0aGlzLm1hcmtBbGxEZWZpbmVzQXNEaXJ0eT1lLl9kaXJ0eUNhbGxiYWNrc1s2M119Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsUGx1Z2luQmFzZSJ9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkscyl7cmV0dXJuITB9aGFyZEJpbmRGb3JTdWJNZXNoKGUsdCxpLHMpe31iaW5kRm9yU3ViTWVzaChlLHQsaSxzKXt9ZGlzcG9zZShlKXt9Z2V0Q3VzdG9tQ29kZShlKXtyZXR1cm4gbnVsbH1jb2xsZWN0RGVmaW5lcyhlKXtpZih0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcylmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcykpe2lmKHRbMF09PT0iXyIpY29udGludWU7Y29uc3QgaT10eXBlb2YgdGhpcy5fcGx1Z2luRGVmaW5lTmFtZXNbdF07ZVt0XT17dHlwZTppPT09Im51bWJlciI/Im51bWJlciI6aT09PSJzdHJpbmciPyJzdHJpbmciOmk9PT0iYm9vbGVhbiI/ImJvb2xlYW4iOiJvYmplY3QiLGRlZmF1bHQ6dGhpcy5fcGx1Z2luRGVmaW5lTmFtZXNbdF19fX1wcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMoZSx0LGkpe31wcmVwYXJlRGVmaW5lcyhlLHQsaSl7fWhhc1RleHR1cmUoZSl7cmV0dXJuITF9aGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKXtyZXR1cm4hMX1maWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZSl7fWdldEFjdGl2ZVRleHR1cmVzKGUpe31nZXRBbmltYXRhYmxlcyhlKXt9YWRkRmFsbGJhY2tzKGUsdCxpKXtyZXR1cm4gaX1nZXRTYW1wbGVycyhlKXt9Z2V0QXR0cmlidXRlcyhlLHQsaSl7fWdldFVuaWZvcm1CdWZmZXJzTmFtZXMoZSl7fWdldFVuaWZvcm1zKCl7cmV0dXJue319Y29weVRvKGUpe25lLkNsb25lKCgpPT5lLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiBuZS5TZXJpYWxpemUodGhpcyl9cGFyc2UoZSx0LGkpe25lLlBhcnNlKCgpPT50aGlzLGUsdCxpKX19VChbeSgpXSxkcy5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbeSgpXSxkcy5wcm90b3R5cGUsInByaW9yaXR5Iix2b2lkIDApLFQoW3koKV0sZHMucHJvdG90eXBlLCJyZWdpc3RlckZvckV4dHJhRXZlbnRzIix2b2lkIDApO2NsYXNzIFJsIGV4dGVuZHMgRnN7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuREVUQUlMPSExLHRoaXMuREVUQUlMRElSRUNUVVY9MCx0aGlzLkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD0wfX1jbGFzcyBtaSBleHRlbmRzIGRze19tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl7dGhpcy5fZW5hYmxlKHRoaXMuX2lzRW5hYmxlZCksdGhpcy5faW50ZXJuYWxNYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl9Y29uc3RydWN0b3IoZSx0PSEwKXtzdXBlcihlLCJEZXRhaWxNYXAiLDE0MCxuZXcgUmwsdCksdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuZGlmZnVzZUJsZW5kTGV2ZWw9MSx0aGlzLnJvdWdobmVzc0JsZW5kTGV2ZWw9MSx0aGlzLmJ1bXBMZXZlbD0xLHRoaXMuX25vcm1hbEJsZW5kTWV0aG9kPUQuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQsdGhpcy5faXNFbmFibGVkPSExLHRoaXMuaXNFbmFibGVkPSExLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT1lLl9kaXJ0eUNhbGxiYWNrc1sxXX1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7cmV0dXJuIHRoaXMuX2lzRW5hYmxlZD8hKGUuX2FyZVRleHR1cmVzRGlydHkmJnQudGV4dHVyZXNFbmFibGVkJiZpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmIXRoaXMuX3RleHR1cmUuaXNSZWFkeSgpKTohMH1wcmVwYXJlRGVmaW5lcyhlLHQpe2lmKHRoaXMuX2lzRW5hYmxlZCl7ZS5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2Q7Y29uc3QgaT10LmdldEVuZ2luZSgpO2UuX2FyZVRleHR1cmVzRGlydHkmJihpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmdGhpcy5faXNFbmFibGVkPyhzZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX3RleHR1cmUsZSwiREVUQUlMIiksZS5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2QpOmUuREVUQUlMPSExKX1lbHNlIGUuREVUQUlMPSExfWJpbmRGb3JTdWJNZXNoKGUsdCl7aWYoIXRoaXMuX2lzRW5hYmxlZClyZXR1cm47Y29uc3QgaT10aGlzLl9tYXRlcmlhbC5pc0Zyb3plbjsoIWUudXNlVWJvfHwhaXx8IWUuaXNTeW5jKSYmdGhpcy5fdGV4dHVyZSYmdWUuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJihlLnVwZGF0ZUZsb2F0NCgidkRldGFpbEluZm9zIix0aGlzLl90ZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5kaWZmdXNlQmxlbmRMZXZlbCx0aGlzLmJ1bXBMZXZlbCx0aGlzLnJvdWdobmVzc0JsZW5kTGV2ZWwpLHNlLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX3RleHR1cmUsZSwiZGV0YWlsIikpLHQudGV4dHVyZXNFbmFibGVkJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmZS5zZXRUZXh0dXJlKCJkZXRhaWxTYW1wbGVyIix0aGlzLl90ZXh0dXJlKX1oYXNUZXh0dXJlKGUpe3JldHVybiB0aGlzLl90ZXh0dXJlPT09ZX1nZXRBY3RpdmVUZXh0dXJlcyhlKXt0aGlzLl90ZXh0dXJlJiZlLnB1c2godGhpcy5fdGV4dHVyZSl9Z2V0QW5pbWF0YWJsZXMoZSl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl90ZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl90ZXh0dXJlKX1kaXNwb3NlKGUpe3ZhciB0O2UmJigodD10aGlzLl90ZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iRGV0YWlsTWFwQ29uZmlndXJhdGlvbiJ9Z2V0U2FtcGxlcnMoZSl7ZS5wdXNoKCJkZXRhaWxTYW1wbGVyIil9Z2V0VW5pZm9ybXMoKXtyZXR1cm57dWJvOlt7bmFtZToidkRldGFpbEluZm9zIixzaXplOjQsdHlwZToidmVjNCJ9LHtuYW1lOiJkZXRhaWxNYXRyaXgiLHNpemU6MTYsdHlwZToibWF0NCJ9XX19fVQoW3Z0KCJkZXRhaWxUZXh0dXJlIiksVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLG1pLnByb3RvdHlwZSwidGV4dHVyZSIsdm9pZCAwKSxUKFt5KCldLG1pLnByb3RvdHlwZSwiZGlmZnVzZUJsZW5kTGV2ZWwiLHZvaWQgMCksVChbeSgpXSxtaS5wcm90b3R5cGUsInJvdWdobmVzc0JsZW5kTGV2ZWwiLHZvaWQgMCksVChbeSgpXSxtaS5wcm90b3R5cGUsImJ1bXBMZXZlbCIsdm9pZCAwKSxUKFt5KCksVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLG1pLnByb3RvdHlwZSwibm9ybWFsQmxlbmRNZXRob2QiLHZvaWQgMCksVChbeSgpLFRlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxtaS5wcm90b3R5cGUsImlzRW5hYmxlZCIsdm9pZCAwKTtjb25zdCBacz17ZWZmZWN0Om51bGwsc3ViTWVzaDpudWxsfTtjbGFzcyB5bCBleHRlbmRzIEZze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuTUFJTlVWMT0hMSx0aGlzLk1BSU5VVjI9ITEsdGhpcy5NQUlOVVYzPSExLHRoaXMuTUFJTlVWND0hMSx0aGlzLk1BSU5VVjU9ITEsdGhpcy5NQUlOVVY2PSExLHRoaXMuRElGRlVTRT0hMSx0aGlzLkRJRkZVU0VESVJFQ1RVVj0wLHRoaXMuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFPSExLHRoaXMuQU1CSUVOVD0hMSx0aGlzLkFNQklFTlRESVJFQ1RVVj0wLHRoaXMuT1BBQ0lUWT0hMSx0aGlzLk9QQUNJVFlESVJFQ1RVVj0wLHRoaXMuT1BBQ0lUWVJHQj0hMSx0aGlzLlJFRkxFQ1RJT049ITEsdGhpcy5FTUlTU0lWRT0hMSx0aGlzLkVNSVNTSVZFRElSRUNUVVY9MCx0aGlzLlNQRUNVTEFSPSExLHRoaXMuU1BFQ1VMQVJESVJFQ1RVVj0wLHRoaXMuQlVNUD0hMSx0aGlzLkJVTVBESVJFQ1RVVj0wLHRoaXMuUEFSQUxMQVg9ITEsdGhpcy5QQVJBTExBWE9DQ0xVU0lPTj0hMSx0aGlzLlNQRUNVTEFST1ZFUkFMUEhBPSExLHRoaXMuQ0xJUFBMQU5FPSExLHRoaXMuQ0xJUFBMQU5FMj0hMSx0aGlzLkNMSVBQTEFORTM9ITEsdGhpcy5DTElQUExBTkU0PSExLHRoaXMuQ0xJUFBMQU5FNT0hMSx0aGlzLkNMSVBQTEFORTY9ITEsdGhpcy5BTFBIQVRFU1Q9ITEsdGhpcy5ERVBUSFBSRVBBU1M9ITEsdGhpcy5BTFBIQUZST01ESUZGVVNFPSExLHRoaXMuUE9JTlRTSVpFPSExLHRoaXMuRk9HPSExLHRoaXMuU1BFQ1VMQVJURVJNPSExLHRoaXMuRElGRlVTRUZSRVNORUw9ITEsdGhpcy5PUEFDSVRZRlJFU05FTD0hMSx0aGlzLlJFRkxFQ1RJT05GUkVTTkVMPSExLHRoaXMuUkVGUkFDVElPTkZSRVNORUw9ITEsdGhpcy5FTUlTU0lWRUZSRVNORUw9ITEsdGhpcy5GUkVTTkVMPSExLHRoaXMuTk9STUFMPSExLHRoaXMuVEFOR0VOVD0hMSx0aGlzLlVWMT0hMSx0aGlzLlVWMj0hMSx0aGlzLlVWMz0hMSx0aGlzLlVWND0hMSx0aGlzLlVWNT0hMSx0aGlzLlVWNj0hMSx0aGlzLlZFUlRFWENPTE9SPSExLHRoaXMuVkVSVEVYQUxQSEE9ITEsdGhpcy5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHRoaXMuQm9uZXNQZXJNZXNoPTAsdGhpcy5CT05FVEVYVFVSRT0hMSx0aGlzLkJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQ9ITEsdGhpcy5JTlNUQU5DRVM9ITEsdGhpcy5USElOX0lOU1RBTkNFUz0hMSx0aGlzLklOU1RBTkNFU0NPTE9SPSExLHRoaXMuR0xPU1NJTkVTUz0hMSx0aGlzLlJPVUdITkVTUz0hMSx0aGlzLkVNSVNTSVZFQVNJTExVTUlOQVRJT049ITEsdGhpcy5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT0hMSx0aGlzLlJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSPSExLHRoaXMuTElHSFRNQVA9ITEsdGhpcy5MSUdIVE1BUERJUkVDVFVWPTAsdGhpcy5PQkpFQ1RTUEFDRV9OT1JNQUxNQVA9ITEsdGhpcy5VU0VMSUdIVE1BUEFTU0hBRE9XTUFQPSExLHRoaXMuUkVGTEVDVElPTk1BUF8zRD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMPSExLHRoaXMuUkVGTEVDVElPTk1BUF9QTEFOQVI9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX0NVQklDPSExLHRoaXMuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ITEsdGhpcy5VU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQz0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTj0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfU0tZQk9YPSExLHRoaXMuUkVGTEVDVElPTk1BUF9FWFBMSUNJVD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSPSExLHRoaXMuUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQ9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEPSExLHRoaXMuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ITEsdGhpcy5JTlZFUlRDVUJJQ01BUD0hMSx0aGlzLkxPR0FSSVRITUlDREVQVEg9ITEsdGhpcy5SRUZSQUNUSU9OPSExLHRoaXMuUkVGUkFDVElPTk1BUF8zRD0hMSx0aGlzLlJFRkxFQ1RJT05PVkVSQUxQSEE9ITEsdGhpcy5UV09TSURFRExJR0hUSU5HPSExLHRoaXMuU0hBRE9XRkxPQVQ9ITEsdGhpcy5NT1JQSFRBUkdFVFM9ITEsdGhpcy5NT1JQSFRBUkdFVFNfTk9STUFMPSExLHRoaXMuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9ITEsdGhpcy5NT1JQSFRBUkdFVFNfVVY9ITEsdGhpcy5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9MCx0aGlzLk1PUlBIVEFSR0VUU19URVhUVVJFPSExLHRoaXMuTk9OVU5JRk9STVNDQUxJTkc9ITEsdGhpcy5QUkVNVUxUSVBMWUFMUEhBPSExLHRoaXMuQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlM9ITEsdGhpcy5BTFBIQUJMRU5EPSEwLHRoaXMuUFJFUEFTUz0hMSx0aGlzLlBSRVBBU1NfSVJSQURJQU5DRT0hMSx0aGlzLlBSRVBBU1NfSVJSQURJQU5DRV9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfQUxCRURPX1NRUlQ9ITEsdGhpcy5QUkVQQVNTX0FMQkVET19TUVJUX0lOREVYPS0xLHRoaXMuUFJFUEFTU19ERVBUSD0hMSx0aGlzLlBSRVBBU1NfREVQVEhfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX05PUk1BTD0hMSx0aGlzLlBSRVBBU1NfTk9STUFMX0lOREVYPS0xLHRoaXMuUFJFUEFTU19QT1NJVElPTj0hMSx0aGlzLlBSRVBBU1NfUE9TSVRJT05fSU5ERVg9LTEsdGhpcy5QUkVQQVNTX1ZFTE9DSVRZPSExLHRoaXMuUFJFUEFTU19WRUxPQ0lUWV9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfUkVGTEVDVElWSVRZPSExLHRoaXMuUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVg9LTEsdGhpcy5TQ0VORV9NUlRfQ09VTlQ9MCx0aGlzLlJHQkRMSUdIVE1BUD0hMSx0aGlzLlJHQkRSRUZMRUNUSU9OPSExLHRoaXMuUkdCRFJFRlJBQ1RJT049ITEsdGhpcy5JTUFHRVBST0NFU1NJTkc9ITEsdGhpcy5WSUdORVRURT0hMSx0aGlzLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9ITEsdGhpcy5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hMSx0aGlzLlRPTkVNQVBQSU5HPSExLHRoaXMuVE9ORU1BUFBJTkdfQUNFUz0hMSx0aGlzLkNPTlRSQVNUPSExLHRoaXMuQ09MT1JDVVJWRVM9ITEsdGhpcy5DT0xPUkdSQURJTkc9ITEsdGhpcy5DT0xPUkdSQURJTkczRD0hMSx0aGlzLlNBTVBMRVIzREdSRUVOREVQVEg9ITEsdGhpcy5TQU1QTEVSM0RCR1JNQVA9ITEsdGhpcy5ESVRIRVI9ITEsdGhpcy5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSx0aGlzLlNLSVBGSU5BTENPTE9SQ0xBTVA9ITEsdGhpcy5NVUxUSVZJRVc9ITEsdGhpcy5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1k9ITEsdGhpcy5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTPSExLHRoaXMuQ0FNRVJBX09SVEhPR1JBUEhJQz0hMSx0aGlzLkNBTUVSQV9QRVJTUEVDVElWRT0hMSx0aGlzLklTX1JFRkxFQ1RJT05fTElORUFSPSExLHRoaXMuSVNfUkVGUkFDVElPTl9MSU5FQVI9ITEsdGhpcy5FWFBPU1VSRT0hMSx0aGlzLnJlYnVpbGQoKX1zZXRSZWZsZWN0aW9uTW9kZShlKXtjb25zdCB0PVsiUkVGTEVDVElPTk1BUF9DVUJJQyIsIlJFRkxFQ1RJT05NQVBfRVhQTElDSVQiLCJSRUZMRUNUSU9OTUFQX1BMQU5BUiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfU0tZQk9YIiwiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiLCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIsIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIiwiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCJdO2Zvcihjb25zdCBpIG9mIHQpdGhpc1tpXT1pPT09ZX19Y2xhc3MgQiBleHRlbmRzIEhye2dldCBpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb259c2V0IGltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oZSl7dGhpcy5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihlKSx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl9X2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oZSl7ZSE9PXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJih0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5vblVwZGF0ZVBhcmFtZXRlcnMucmVtb3ZlKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyKSxlP3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249ZTp0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPXRoaXMuZ2V0U2NlbmUoKS5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJih0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlcj10aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5hZGQoKCk9Pnt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpfSkpKX1nZXQgaXNQcmVQYXNzQ2FwYWJsZSgpe3JldHVybiF0aGlzLmRpc2FibGVEZXB0aFdyaXRlfWdldCBjYW1lcmFDb2xvckN1cnZlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzRW5hYmxlZH1zZXQgY2FtZXJhQ29sb3JDdXJ2ZXNFbmFibGVkKGUpe3RoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc0VuYWJsZWQ9ZX1nZXQgY2FtZXJhQ29sb3JHcmFkaW5nRW5hYmxlZCgpe3JldHVybiB0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nRW5hYmxlZH1zZXQgY2FtZXJhQ29sb3JHcmFkaW5nRW5hYmxlZChlKXt0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nRW5hYmxlZD1lfWdldCBjYW1lcmFUb25lTWFwcGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi50b25lTWFwcGluZ0VuYWJsZWR9c2V0IGNhbWVyYVRvbmVNYXBwaW5nRW5hYmxlZChlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnRvbmVNYXBwaW5nRW5hYmxlZD1lfWdldCBjYW1lcmFFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmV4cG9zdXJlfXNldCBjYW1lcmFFeHBvc3VyZShlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmV4cG9zdXJlPWV9Z2V0IGNhbWVyYUNvbnRyYXN0KCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29udHJhc3R9c2V0IGNhbWVyYUNvbnRyYXN0KGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29udHJhc3Q9ZX1nZXQgY2FtZXJhQ29sb3JHcmFkaW5nVGV4dHVyZSgpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ1RleHR1cmV9c2V0IGNhbWVyYUNvbG9yR3JhZGluZ1RleHR1cmUoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdUZXh0dXJlPWV9Z2V0IGNhbWVyYUNvbG9yQ3VydmVzKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXN9c2V0IGNhbWVyYUNvbG9yQ3VydmVzKGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXM9ZX1nZXQgY2FuUmVuZGVyVG9NUlQoKXtyZXR1cm4hMH1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5fZGlmZnVzZVRleHR1cmU9bnVsbCx0aGlzLl9hbWJpZW50VGV4dHVyZT1udWxsLHRoaXMuX29wYWNpdHlUZXh0dXJlPW51bGwsdGhpcy5fcmVmbGVjdGlvblRleHR1cmU9bnVsbCx0aGlzLl9lbWlzc2l2ZVRleHR1cmU9bnVsbCx0aGlzLl9zcGVjdWxhclRleHR1cmU9bnVsbCx0aGlzLl9idW1wVGV4dHVyZT1udWxsLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZT1udWxsLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlPW51bGwsdGhpcy5hbWJpZW50Q29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLmRpZmZ1c2VDb2xvcj1uZXcgcmUoMSwxLDEpLHRoaXMuc3BlY3VsYXJDb2xvcj1uZXcgcmUoMSwxLDEpLHRoaXMuZW1pc3NpdmVDb2xvcj1uZXcgcmUoMCwwLDApLHRoaXMuc3BlY3VsYXJQb3dlcj02NCx0aGlzLl91c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZT0hMSx0aGlzLl91c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uPSExLHRoaXMuX2xpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlPSExLHRoaXMuX3VzZVNwZWN1bGFyT3ZlckFscGhhPSExLHRoaXMuX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGE9ITEsdGhpcy5fZGlzYWJsZUxpZ2h0aW5nPSExLHRoaXMuX3VzZU9iamVjdFNwYWNlTm9ybWFsTWFwPSExLHRoaXMuX3VzZVBhcmFsbGF4PSExLHRoaXMuX3VzZVBhcmFsbGF4T2NjbHVzaW9uPSExLHRoaXMucGFyYWxsYXhTY2FsZUJpYXM9LjA1LHRoaXMuX3JvdWdobmVzcz0wLHRoaXMuaW5kZXhPZlJlZnJhY3Rpb249Ljk4LHRoaXMuaW52ZXJ0UmVmcmFjdGlvblk9ITAsdGhpcy5hbHBoYUN1dE9mZj0uNCx0aGlzLl91c2VMaWdodG1hcEFzU2hhZG93bWFwPSExLHRoaXMuX3VzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyPSExLHRoaXMuX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYT0hMSx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHM9NCx0aGlzLl9pbnZlcnROb3JtYWxNYXBYPSExLHRoaXMuX2ludmVydE5vcm1hbE1hcFk9ITEsdGhpcy5fdHdvU2lkZWRMaWdodGluZz0hMSx0aGlzLl9yZW5kZXJUYXJnZXRzPW5ldyBKZSgxNiksdGhpcy5fd29ybGRWaWV3UHJvamVjdGlvbk1hdHJpeD1NLlplcm8oKSx0aGlzLl9nbG9iYWxBbWJpZW50Q29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLl9jYWNoZUhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuZGV0YWlsTWFwPW5ldyBtaSh0aGlzKSx0aGlzLl9hdHRhY2hJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKG51bGwpLHRoaXMucHJlUGFzc0NvbmZpZ3VyYXRpb249bmV3IFhyLHRoaXMuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXM9KCk9Pih0aGlzLl9yZW5kZXJUYXJnZXRzLnJlc2V0KCksQi5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSxCLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9yZW5kZXJUYXJnZXRzLnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLHRoaXMuX2V2ZW50SW5mby5yZW5kZXJUYXJnZXRzPXRoaXMuX3JlbmRlclRhcmdldHMsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX3JlbmRlclRhcmdldHMpfWdldCBoYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpe3JldHVybiBCLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0fHxCLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0PyEwOnRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlN0YW5kYXJkTWF0ZXJpYWwifWdldCB1c2VMb2dhcml0aG1pY0RlcHRoKCl7cmV0dXJuIHRoaXMuX3VzZUxvZ2FyaXRobWljRGVwdGh9c2V0IHVzZUxvZ2FyaXRobWljRGVwdGgoZSl7dGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aD1lJiZ0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmZyYWdtZW50RGVwdGhTdXBwb3J0ZWQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5KCl9bmVlZEFscGhhQmxlbmRpbmcoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmc/ITE6dGhpcy5hbHBoYTwxfHx0aGlzLl9vcGFjaXR5VGV4dHVyZSE9bnVsbHx8dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKXx8dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkfW5lZWRBbHBoYVRlc3RpbmcoKXtyZXR1cm4gdGhpcy5fZm9yY2VBbHBoYVRlc3Q/ITA6dGhpcy5faGFzQWxwaGFDaGFubmVsKCkmJih0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT1udWxsfHx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09RC5NQVRFUklBTF9BTFBIQVRFU1QpfV9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGEmJnRoaXMuX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlJiZ0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09RC5NQVRFUklBTF9PUEFRVUV9X2hhc0FscGhhQ2hhbm5lbCgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGF8fHRoaXMuX29wYWNpdHlUZXh0dXJlIT1udWxsfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmV9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGk9ITEpe2lmKHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdHx8dGhpcy5idWlsZFVuaWZvcm1MYXlvdXQoKSx0LmVmZmVjdCYmdGhpcy5pc0Zyb3plbiYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz09PWkpcmV0dXJuITA7dC5tYXRlcmlhbERlZmluZXN8fCh0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhldC5HZXREZWZpbmVOYW1lcyx0aGlzLl9ldmVudEluZm8pLHQubWF0ZXJpYWxEZWZpbmVzPW5ldyB5bCh0aGlzLl9ldmVudEluZm8uZGVmaW5lTmFtZXMpKTtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKSxyPXQubWF0ZXJpYWxEZWZpbmVzO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHQpKXJldHVybiEwO2NvbnN0IG49cy5nZXRFbmdpbmUoKTtyLl9uZWVkTm9ybWFscz1zZS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhzLGUsciwhMCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsdGhpcy5fZGlzYWJsZUxpZ2h0aW5nKSxzZS5QcmVwYXJlRGVmaW5lc0Zvck11bHRpdmlldyhzLHIpO2NvbnN0IGE9dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSkmJnRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5O2lmKHNlLlByZXBhcmVEZWZpbmVzRm9yUHJlUGFzcyhzLHIsdGhpcy5jYW5SZW5kZXJUb01SVCYmIWEpLHNlLlByZXBhcmVEZWZpbmVzRm9yT0lUKHMscixhKSxyLl9hcmVUZXh0dXJlc0RpcnR5KXt0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMsci5fbmVlZFVWcz0hMTtmb3IobGV0IGg9MTtoPD02OysraClyWyJNQUlOVVYiK2hdPSExO2lmKHMudGV4dHVyZXNFbmFibGVkKXtpZihyLkRJRkZVU0VESVJFQ1RVVj0wLHIuQlVNUERJUkVDVFVWPTAsci5BTUJJRU5URElSRUNUVVY9MCxyLk9QQUNJVFlESVJFQ1RVVj0wLHIuRU1JU1NJVkVESVJFQ1RVVj0wLHIuU1BFQ1VMQVJESVJFQ1RVVj0wLHIuTElHSFRNQVBESVJFQ1RVVj0wLHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZCLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9kaWZmdXNlVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXNlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZGlmZnVzZVRleHR1cmUsciwiRElGRlVTRSIpO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkRJRkZVU0U9ITE7aWYodGhpcy5fYW1iaWVudFRleHR1cmUmJkIuQW1iaWVudFRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2FtYmllbnRUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpc2UuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9hbWJpZW50VGV4dHVyZSxyLCJBTUJJRU5UIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuQU1CSUVOVD0hMTtpZih0aGlzLl9vcGFjaXR5VGV4dHVyZSYmQi5PcGFjaXR5VGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fb3BhY2l0eVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlzZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX29wYWNpdHlUZXh0dXJlLHIsIk9QQUNJVFkiKSxyLk9QQUNJVFlSR0I9dGhpcy5fb3BhY2l0eVRleHR1cmUuZ2V0QWxwaGFGcm9tUkdCO2Vsc2UgcmV0dXJuITE7ZWxzZSByLk9QQUNJVFk9ITE7aWYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJkIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpe3N3aXRjaChyLl9uZWVkTm9ybWFscz0hMCxyLlJFRkxFQ1RJT049ITAsci5ST1VHSE5FU1M9dGhpcy5fcm91Z2huZXNzPjAsci5SRUZMRUNUSU9OT1ZFUkFMUEhBPXRoaXMuX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGEsci5JTlZFUlRDVUJJQ01BUD10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5jb29yZGluYXRlc01vZGU9PT1OLklOVkNVQklDX01PREUsci5SRUZMRUNUSU9OTUFQXzNEPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZSxyLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPXIuUkVGTEVDVElPTk1BUF8zRCYmdGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPyF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pbnZlcnRaOnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFosci5SR0JEUkVGTEVDVElPTj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JHQkQsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuY29vcmRpbmF0ZXNNb2RlKXtjYXNlIE4uRVhQTElDSVRfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VYUExJQ0lUIik7YnJlYWs7Y2FzZSBOLlBMQU5BUl9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfUExBTkFSIik7YnJlYWs7Y2FzZSBOLlBST0pFQ1RJT05fTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iKTticmVhaztjYXNlIE4uU0tZQk9YX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9TS1lCT1giKTticmVhaztjYXNlIE4uU1BIRVJJQ0FMX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiKTticmVhaztjYXNlIE4uRVFVSVJFQ1RBTkdVTEFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIiKTticmVhaztjYXNlIE4uRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQiKTticmVhaztjYXNlIE4uRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCIpO2JyZWFrO2Nhc2UgTi5DVUJJQ19NT0RFOmNhc2UgTi5JTlZDVUJJQ19NT0RFOmRlZmF1bHQ6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9DVUJJQyIpO2JyZWFrfXIuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ISF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemV9ZWxzZSByZXR1cm4hMTtlbHNlIHIuUkVGTEVDVElPTj0hMSxyLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPSExO2lmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmQi5FbWlzc2l2ZVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXNlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZW1pc3NpdmVUZXh0dXJlLHIsIkVNSVNTSVZFIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuRU1JU1NJVkU9ITE7aWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZCLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpc2UuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9saWdodG1hcFRleHR1cmUsciwiTElHSFRNQVAiKSxyLlVTRUxJR0hUTUFQQVNTSEFET1dNQVA9dGhpcy5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcCxyLlJHQkRMSUdIVE1BUD10aGlzLl9saWdodG1hcFRleHR1cmUuaXNSR0JEO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkxJR0hUTUFQPSExO2lmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmQi5TcGVjdWxhclRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXNlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fc3BlY3VsYXJUZXh0dXJlLHIsIlNQRUNVTEFSIiksci5HTE9TU0lORVNTPXRoaXMuX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYTtlbHNlIHJldHVybiExO2Vsc2Ugci5TUEVDVUxBUj0hMTtpZihzLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl9idW1wVGV4dHVyZSYmQi5CdW1wVGV4dHVyZUVuYWJsZWQpe2lmKHRoaXMuX2J1bXBUZXh0dXJlLmlzUmVhZHkoKSlzZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2J1bXBUZXh0dXJlLHIsIkJVTVAiKSxyLlBBUkFMTEFYPXRoaXMuX3VzZVBhcmFsbGF4LHIuUEFSQUxMQVhPQ0NMVVNJT049dGhpcy5fdXNlUGFyYWxsYXhPY2NsdXNpb247ZWxzZSByZXR1cm4hMTtyLk9CSkVDVFNQQUNFX05PUk1BTE1BUD10aGlzLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcH1lbHNlIHIuQlVNUD0hMSxyLlBBUkFMTEFYPSExLHIuUEFSQUxMQVhPQ0NMVVNJT049ITE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJkIuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpci5fbmVlZFVWcz0hMCxyLlJFRlJBQ1RJT049ITAsci5SRUZSQUNUSU9OTUFQXzNEPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZSxyLlJHQkRSRUZSQUNUSU9OPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUkdCRCxyLlVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDPSEhdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplO2Vsc2UgcmV0dXJuITE7ZWxzZSByLlJFRlJBQ1RJT049ITE7ci5UV09TSURFRExJR0hUSU5HPSF0aGlzLl9iYWNrRmFjZUN1bGxpbmcmJnRoaXMuX3R3b1NpZGVkTGlnaHRpbmd9ZWxzZSByLkRJRkZVU0U9ITEsci5BTUJJRU5UPSExLHIuT1BBQ0lUWT0hMSxyLlJFRkxFQ1RJT049ITEsci5FTUlTU0lWRT0hMSxyLkxJR0hUTUFQPSExLHIuQlVNUD0hMSxyLlJFRlJBQ1RJT049ITE7ci5BTFBIQUZST01ESUZGVVNFPXRoaXMuX3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCksci5FTUlTU0lWRUFTSUxMVU1JTkFUSU9OPXRoaXMuX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24sci5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT10aGlzLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZSxyLlNQRUNVTEFST1ZFUkFMUEhBPXRoaXMuX3VzZVNwZWN1bGFyT3ZlckFscGhhLHIuUFJFTVVMVElQTFlBTFBIQT10aGlzLmFscGhhTW9kZT09PTd8fHRoaXMuYWxwaGFNb2RlPT09OCxyLkFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TPXRoaXMudHJhbnNwYXJlbmN5TW9kZSE9PW51bGwsci5BTFBIQUJMRU5EPXRoaXMudHJhbnNwYXJlbmN5TW9kZT09PW51bGx8fHRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpfWlmKHRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaD0hMCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1yLHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPXQsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksIXRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaClyZXR1cm4hMTtpZihyLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eSYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbil7aWYoIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uaXNSZWFkeSgpKXJldHVybiExO3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ucHJlcGFyZURlZmluZXMociksci5JU19SRUZMRUNUSU9OX0xJTkVBUj10aGlzLnJlZmxlY3Rpb25UZXh0dXJlIT1udWxsJiYhdGhpcy5yZWZsZWN0aW9uVGV4dHVyZS5nYW1tYVNwYWNlLHIuSVNfUkVGUkFDVElPTl9MSU5FQVI9dGhpcy5yZWZyYWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmcmFjdGlvblRleHR1cmUuZ2FtbWFTcGFjZX1yLl9hcmVGcmVzbmVsRGlydHkmJihCLkZyZXNuZWxFbmFibGVkPyh0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMpJiYoci5ESUZGVVNFRlJFU05FTD10aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5PUEFDSVRZRlJFU05FTD10aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5SRUZMRUNUSU9ORlJFU05FTD10aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5SRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUj10aGlzLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcixyLlJFRlJBQ1RJT05GUkVTTkVMPXRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxyLkVNSVNTSVZFRlJFU05FTD10aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxyLl9uZWVkTm9ybWFscz0hMCxyLkZSRVNORUw9ITApOnIuRlJFU05FTD0hMSksc2UuUHJlcGFyZURlZmluZXNGb3JNaXNjKGUscyx0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRoLHRoaXMucG9pbnRzQ2xvdWQsdGhpcy5mb2dFbmFibGVkLHRoaXMuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbihlKXx8dGhpcy5fZm9yY2VBbHBoYVRlc3Qsciksc2UuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKHMsbix0aGlzLHIsaSxudWxsLHQuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMpLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fZXZlbnRJbmZvLm1lc2g9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKHRoaXMuX2V2ZW50SW5mbyksc2UuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUsciwhMCwhMCwhMCksdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzKHRoaXMuX2V2ZW50SW5mbyk7bGV0IG89ITE7aWYoci5pc0RpcnR5KXtjb25zdCBoPXIuX2FyZUxpZ2h0c0Rpc3Bvc2VkO3IubWFya0FzUHJvY2Vzc2VkKCk7Y29uc3QgbD1uZXcgWXM7ci5SRUZMRUNUSU9OJiZsLmFkZEZhbGxiYWNrKDAsIlJFRkxFQ1RJT04iKSxyLlNQRUNVTEFSJiZsLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFSIiksci5CVU1QJiZsLmFkZEZhbGxiYWNrKDAsIkJVTVAiKSxyLlBBUkFMTEFYJiZsLmFkZEZhbGxiYWNrKDEsIlBBUkFMTEFYIiksci5QQVJBTExBWE9DQ0xVU0lPTiYmbC5hZGRGYWxsYmFjaygwLCJQQVJBTExBWE9DQ0xVU0lPTiIpLHIuU1BFQ1VMQVJPVkVSQUxQSEEmJmwuYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJPVkVSQUxQSEEiKSxyLkZPRyYmbC5hZGRGYWxsYmFjaygxLCJGT0ciKSxyLlBPSU5UU0laRSYmbC5hZGRGYWxsYmFjaygwLCJQT0lOVFNJWkUiKSxyLkxPR0FSSVRITUlDREVQVEgmJmwuYWRkRmFsbGJhY2soMCwiTE9HQVJJVEhNSUNERVBUSCIpLHNlLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MocixsLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyksci5TUEVDVUxBUlRFUk0mJmwuYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJURVJNIiksci5ESUZGVVNFRlJFU05FTCYmbC5hZGRGYWxsYmFjaygxLCJESUZGVVNFRlJFU05FTCIpLHIuT1BBQ0lUWUZSRVNORUwmJmwuYWRkRmFsbGJhY2soMiwiT1BBQ0lUWUZSRVNORUwiKSxyLlJFRkxFQ1RJT05GUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDMsIlJFRkxFQ1RJT05GUkVTTkVMIiksci5FTUlTU0lWRUZSRVNORUwmJmwuYWRkRmFsbGJhY2soNCwiRU1JU1NJVkVGUkVTTkVMIiksci5GUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDQsIkZSRVNORUwiKSxyLk1VTFRJVklFVyYmbC5hZGRGYWxsYmFjaygwLCJNVUxUSVZJRVciKTtjb25zdCB1PVtnLlBvc2l0aW9uS2luZF07ci5OT1JNQUwmJnUucHVzaChnLk5vcm1hbEtpbmQpLHIuVEFOR0VOVCYmdS5wdXNoKGcuVGFuZ2VudEtpbmQpO2ZvcihsZXQgQT0xO0E8PTY7KytBKXJbIlVWIitBXSYmdS5wdXNoKGB1diR7QT09PTE/IiI6QX1gKTtyLlZFUlRFWENPTE9SJiZ1LnB1c2goZy5Db2xvcktpbmQpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXModSxlLHIsbCksc2UuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXModSxyKSxzZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cyh1LGUsciksc2UuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbih1LGUscik7bGV0IGQ9ImRlZmF1bHQiO2NvbnN0IF89WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkFtYmllbnRDb2xvciIsInZEaWZmdXNlQ29sb3IiLCJ2U3BlY3VsYXJDb2xvciIsInZFbWlzc2l2ZUNvbG9yIiwidmlzaWJpbGl0eSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsInZEaWZmdXNlSW5mb3MiLCJ2QW1iaWVudEluZm9zIiwidk9wYWNpdHlJbmZvcyIsInZSZWZsZWN0aW9uSW5mb3MiLCJ2RW1pc3NpdmVJbmZvcyIsInZTcGVjdWxhckluZm9zIiwidkJ1bXBJbmZvcyIsInZMaWdodG1hcEluZm9zIiwidlJlZnJhY3Rpb25JbmZvcyIsIm1Cb25lcyIsImRpZmZ1c2VNYXRyaXgiLCJhbWJpZW50TWF0cml4Iiwib3BhY2l0eU1hdHJpeCIsInJlZmxlY3Rpb25NYXRyaXgiLCJlbWlzc2l2ZU1hdHJpeCIsInNwZWN1bGFyTWF0cml4IiwiYnVtcE1hdHJpeCIsIm5vcm1hbE1hdHJpeCIsImxpZ2h0bWFwTWF0cml4IiwicmVmcmFjdGlvbk1hdHJpeCIsImRpZmZ1c2VMZWZ0Q29sb3IiLCJkaWZmdXNlUmlnaHRDb2xvciIsIm9wYWNpdHlQYXJ0cyIsInJlZmxlY3Rpb25MZWZ0Q29sb3IiLCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsImVtaXNzaXZlTGVmdENvbG9yIiwiZW1pc3NpdmVSaWdodENvbG9yIiwicmVmcmFjdGlvbkxlZnRDb2xvciIsInJlZnJhY3Rpb25SaWdodENvbG9yIiwidlJlZmxlY3Rpb25Qb3NpdGlvbiIsInZSZWZsZWN0aW9uU2l6ZSIsInZSZWZyYWN0aW9uUG9zaXRpb24iLCJ2UmVmcmFjdGlvblNpemUiLCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwiYWxwaGFDdXRPZmYiLCJib25lVGV4dHVyZVdpZHRoIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxmPVsiZGlmZnVzZVNhbXBsZXIiLCJhbWJpZW50U2FtcGxlciIsIm9wYWNpdHlTYW1wbGVyIiwicmVmbGVjdGlvbkN1YmVTYW1wbGVyIiwicmVmbGVjdGlvbjJEU2FtcGxlciIsImVtaXNzaXZlU2FtcGxlciIsInNwZWN1bGFyU2FtcGxlciIsImJ1bXBTYW1wbGVyIiwibGlnaHRtYXBTYW1wbGVyIiwicmVmcmFjdGlvbkN1YmVTYW1wbGVyIiwicmVmcmFjdGlvbjJEU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwib2l0RGVwdGhTYW1wbGVyIiwib2l0RnJvbnRDb2xvclNhbXBsZXIiXSxtPVsiTWF0ZXJpYWwiLCJTY2VuZSIsIk1lc2giXTt0aGlzLl9ldmVudEluZm8uZmFsbGJhY2tzPWwsdGhpcy5fZXZlbnRJbmZvLmZhbGxiYWNrUmFuaz0wLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1zPV8sdGhpcy5fZXZlbnRJbmZvLmF0dHJpYnV0ZXM9dSx0aGlzLl9ldmVudEluZm8uc2FtcGxlcnM9Zix0aGlzLl9ldmVudEluZm8udW5pZm9ybUJ1ZmZlcnNOYW1lcz1tLHRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlPXZvaWQgMCx0aGlzLl9ldmVudEluZm8ubWVzaD1lLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKGV0LlByZXBhcmVFZmZlY3QsdGhpcy5fZXZlbnRJbmZvKSxYci5BZGRVbmlmb3JtcyhfKSxnZSYmKGdlLlByZXBhcmVVbmlmb3JtcyhfLHIpLGdlLlByZXBhcmVTYW1wbGVycyhmLHIpKSxzZS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Qoe3VuaWZvcm1zTmFtZXM6Xyx1bmlmb3JtQnVmZmVyc05hbWVzOm0sc2FtcGxlcnM6ZixkZWZpbmVzOnIsbWF4U2ltdWx0YW5lb3VzTGlnaHRzOnRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0c30pLG9zKF8pO2NvbnN0IHY9e307dGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZSYmKGQ9dGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZShkLF8sbSxmLHIsdSx2KSk7Y29uc3QgRT1yLnRvU3RyaW5nKCksUz10LmVmZmVjdDtsZXQgUj1zLmdldEVuZ2luZSgpLmNyZWF0ZUVmZmVjdChkLHthdHRyaWJ1dGVzOnUsdW5pZm9ybXNOYW1lczpfLHVuaWZvcm1CdWZmZXJzTmFtZXM6bSxzYW1wbGVyczpmLGRlZmluZXM6RSxmYWxsYmFja3M6bCxvbkNvbXBpbGVkOnRoaXMub25Db21waWxlZCxvbkVycm9yOnRoaXMub25FcnJvcixpbmRleFBhcmFtZXRlcnM6e21heFNpbXVsdGFuZW91c0xpZ2h0czp0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsbWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOnIuTlVNX01PUlBIX0lORkxVRU5DRVJTfSxwcm9jZXNzRmluYWxDb2RlOnYucHJvY2Vzc0ZpbmFsQ29kZSxwcm9jZXNzQ29kZUFmdGVySW5jbHVkZXM6dGhpcy5fZXZlbnRJbmZvLmN1c3RvbUNvZGUsbXVsdGlUYXJnZXQ6ci5QUkVQQVNTfSxuKTtpZih0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZT12b2lkIDAsUilpZih0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiYoWnMuZWZmZWN0PVIsWnMuc3ViTWVzaD10LHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKFpzKSksdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nJiZTJiYhUi5pc1JlYWR5KCkpe2lmKFI9UyxyLm1hcmtBc1VucHJvY2Vzc2VkKCksbz10aGlzLmlzRnJvemVuLGgpcmV0dXJuIHIuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSEwLCExfWVsc2Ugcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdC5zZXRFZmZlY3QoUixyLHRoaXMuX21hdGVyaWFsQ29udGV4dCl9cmV0dXJuIXQuZWZmZWN0fHwhdC5lZmZlY3QuaXNSZWFkeSgpPyExOihyLl9yZW5kZXJJZD1zLmdldFJlbmRlcklkKCksdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hbyx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPWksdGhpcy5fY2hlY2tTY2VuZVBlcmZvcm1hbmNlUHJpb3JpdHkoKSwhMCl9YnVpbGRVbmlmb3JtTGF5b3V0KCl7Y29uc3QgZT10aGlzLl91bmlmb3JtQnVmZmVyO2UuYWRkVW5pZm9ybSgiZGlmZnVzZUxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJkaWZmdXNlUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJvcGFjaXR5UGFydHMiLDQpLGUuYWRkVW5pZm9ybSgicmVmbGVjdGlvbkxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInJlZnJhY3Rpb25SaWdodENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oImVtaXNzaXZlTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oImVtaXNzaXZlUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJ2RGlmZnVzZUluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZBbWJpZW50SW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidk9wYWNpdHlJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvbkluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uUG9zaXRpb24iLDMpLGUuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25TaXplIiwzKSxlLmFkZFVuaWZvcm0oInZFbWlzc2l2ZUluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZMaWdodG1hcEluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZTcGVjdWxhckluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZCdW1wSW5mb3MiLDMpLGUuYWRkVW5pZm9ybSgiZGlmZnVzZU1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgiYW1iaWVudE1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgib3BhY2l0eU1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgicmVmbGVjdGlvbk1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgiZW1pc3NpdmVNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oImxpZ2h0bWFwTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJzcGVjdWxhck1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgiYnVtcE1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgidlRhbmdlbnRTcGFjZVBhcmFtcyIsMiksZS5hZGRVbmlmb3JtKCJwb2ludFNpemUiLDEpLGUuYWRkVW5pZm9ybSgiYWxwaGFDdXRPZmYiLDEpLGUuYWRkVW5pZm9ybSgicmVmcmFjdGlvbk1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25JbmZvcyIsNCksZS5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvblBvc2l0aW9uIiwzKSxlLmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uU2l6ZSIsMyksZS5hZGRVbmlmb3JtKCJ2U3BlY3VsYXJDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJ2RW1pc3NpdmVDb2xvciIsMyksZS5hZGRVbmlmb3JtKCJ2RGlmZnVzZUNvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInZBbWJpZW50Q29sb3IiLDMpLHN1cGVyLmJ1aWxkVW5pZm9ybUxheW91dCgpfWJpbmRGb3JTdWJNZXNoKGUsdCxpKXt2YXIgcztjb25zdCByPXRoaXMuZ2V0U2NlbmUoKSxuPWkubWF0ZXJpYWxEZWZpbmVzO2lmKCFuKXJldHVybjtjb25zdCBhPWkuZWZmZWN0O2lmKCFhKXJldHVybjt0aGlzLl9hY3RpdmVFZmZlY3Q9YSx0LmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KGEsIk1lc2giKSx0LnRyYW5zZmVyVG9FZmZlY3QoZSksdGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVG9FZmZlY3QoYSwiTWF0ZXJpYWwiKSx0aGlzLnByZVBhc3NDb25maWd1cmF0aW9uLmJpbmRGb3JTdWJNZXNoKHRoaXMuX2FjdGl2ZUVmZmVjdCxyLHQsZSx0aGlzLmlzRnJvemVuKSx0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1pLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxuLk9CSkVDVFNQQUNFX05PUk1BTE1BUCYmKGUudG9Ob3JtYWxNYXRyaXgodGhpcy5fbm9ybWFsTWF0cml4KSx0aGlzLmJpbmRPbmx5Tm9ybWFsTWF0cml4KHRoaXMuX25vcm1hbE1hdHJpeCkpO2NvbnN0IG89YS5fZm9yY2VSZWJpbmRPbk5leHRDYWxsfHx0aGlzLl9tdXN0UmViaW5kKHIsYSx0LnZpc2liaWxpdHkpO3NlLkJpbmRCb25lc1BhcmFtZXRlcnModCxhKTtjb25zdCBoPXRoaXMuX3VuaWZvcm1CdWZmZXI7aWYobyl7aWYodGhpcy5iaW5kVmlld1Byb2plY3Rpb24oYSksIWgudXNlVWJvfHwhdGhpcy5pc0Zyb3plbnx8IWguaXNTeW5jfHxhLl9mb3JjZVJlYmluZE9uTmV4dENhbGwpe2lmKEIuRnJlc25lbEVuYWJsZWQmJm4uRlJFU05FTCYmKHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZUxlZnRDb2xvciIsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZVJpZ2h0Q29sb3IiLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJmgudXBkYXRlQ29sb3I0KCJvcGFjaXR5UGFydHMiLG5ldyByZSh0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IudG9MdW1pbmFuY2UoKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLnRvTHVtaW5hbmNlKCksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuYmlhcyksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGgudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZUxlZnRDb2xvciIsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGgudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSkpLHIudGV4dHVyZXNFbmFibGVkKXtpZih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmQi5EaWZmdXNlVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkRpZmZ1c2VJbmZvcyIsdGhpcy5fZGlmZnVzZVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9kaWZmdXNlVGV4dHVyZS5sZXZlbCksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZGlmZnVzZVRleHR1cmUsaCwiZGlmZnVzZSIpKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmQi5BbWJpZW50VGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkFtYmllbnRJbmZvcyIsdGhpcy5fYW1iaWVudFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9hbWJpZW50VGV4dHVyZS5sZXZlbCksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fYW1iaWVudFRleHR1cmUsaCwiYW1iaWVudCIpKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmQi5PcGFjaXR5VGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0Migidk9wYWNpdHlJbmZvcyIsdGhpcy5fb3BhY2l0eVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9vcGFjaXR5VGV4dHVyZS5sZXZlbCksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fb3BhY2l0eVRleHR1cmUsaCwib3BhY2l0eSIpKSx0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmaC51cGRhdGVGbG9hdCgiYWxwaGFDdXRPZmYiLHRoaXMuYWxwaGFDdXRPZmYpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZCLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2UmVmbGVjdGlvbkluZm9zIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLnJvdWdobmVzcyksaC51cGRhdGVNYXRyaXgoInJlZmxlY3Rpb25NYXRyaXgiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZSkpe2NvbnN0IGw9dGhpcy5fcmVmbGVjdGlvblRleHR1cmU7aC51cGRhdGVWZWN0b3IzKCJ2UmVmbGVjdGlvblBvc2l0aW9uIixsLmJvdW5kaW5nQm94UG9zaXRpb24pLGgudXBkYXRlVmVjdG9yMygidlJlZmxlY3Rpb25TaXplIixsLmJvdW5kaW5nQm94U2l6ZSl9aWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZCLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkVtaXNzaXZlSW5mb3MiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5sZXZlbCksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZW1pc3NpdmVUZXh0dXJlLGgsImVtaXNzaXZlIikpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmQi5MaWdodG1hcFRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZMaWdodG1hcEluZm9zIix0aGlzLl9saWdodG1hcFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9saWdodG1hcFRleHR1cmUubGV2ZWwpLHNlLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSxoLCJsaWdodG1hcCIpKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJkIuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2U3BlY3VsYXJJbmZvcyIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmxldmVsKSxzZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9zcGVjdWxhclRleHR1cmUsaCwic3BlY3VsYXIiKSksdGhpcy5fYnVtcFRleHR1cmUmJnIuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJkIuQnVtcFRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDMoInZCdW1wSW5mb3MiLHRoaXMuX2J1bXBUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsMS90aGlzLl9idW1wVGV4dHVyZS5sZXZlbCx0aGlzLnBhcmFsbGF4U2NhbGVCaWFzKSxzZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9idW1wVGV4dHVyZSxoLCJidW1wIiksci5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj9oLnVwZGF0ZUZsb2F0MigidlRhbmdlbnRTcGFjZVBhcmFtcyIsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD8xOi0xLHRoaXMuX2ludmVydE5vcm1hbE1hcFk/MTotMSk6aC51cGRhdGVGbG9hdDIoInZUYW5nZW50U3BhY2VQYXJhbXMiLHRoaXMuX2ludmVydE5vcm1hbE1hcFg/LTE6MSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPy0xOjEpKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmQi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpe2xldCBsPTE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlfHwoaC51cGRhdGVNYXRyaXgoInJlZnJhY3Rpb25NYXRyaXgiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmRlcHRoJiYobD10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5kZXB0aCkpLGgudXBkYXRlRmxvYXQ0KCJ2UmVmcmFjdGlvbkluZm9zIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLmluZGV4T2ZSZWZyYWN0aW9uLGwsdGhpcy5pbnZlcnRSZWZyYWN0aW9uWT8tMToxKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemUpe2NvbnN0IHU9dGhpcy5fcmVmcmFjdGlvblRleHR1cmU7aC51cGRhdGVWZWN0b3IzKCJ2UmVmcmFjdGlvblBvc2l0aW9uIix1LmJvdW5kaW5nQm94UG9zaXRpb24pLGgudXBkYXRlVmVjdG9yMygidlJlZnJhY3Rpb25TaXplIix1LmJvdW5kaW5nQm94U2l6ZSl9fX10aGlzLnBvaW50c0Nsb3VkJiZoLnVwZGF0ZUZsb2F0KCJwb2ludFNpemUiLHRoaXMucG9pbnRTaXplKSxuLlNQRUNVTEFSVEVSTSYmaC51cGRhdGVDb2xvcjQoInZTcGVjdWxhckNvbG9yIix0aGlzLnNwZWN1bGFyQ29sb3IsdGhpcy5zcGVjdWxhclBvd2VyKSxoLnVwZGF0ZUNvbG9yMygidkVtaXNzaXZlQ29sb3IiLEIuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD90aGlzLmVtaXNzaXZlQ29sb3I6cmUuQmxhY2tSZWFkT25seSksaC51cGRhdGVDb2xvcjQoInZEaWZmdXNlQ29sb3IiLHRoaXMuZGlmZnVzZUNvbG9yLHRoaXMuYWxwaGEpLHIuYW1iaWVudENvbG9yLm11bHRpcGx5VG9SZWYodGhpcy5hbWJpZW50Q29sb3IsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKSxoLnVwZGF0ZUNvbG9yMygidkFtYmllbnRDb2xvciIsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKX1yLnRleHR1cmVzRW5hYmxlZCYmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZCLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsdGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZCLkFtYmllbnRUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJhbWJpZW50U2FtcGxlciIsdGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZCLk9wYWNpdHlUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJvcGFjaXR5U2FtcGxlciIsdGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZCLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZT9hLnNldFRleHR1cmUoInJlZmxlY3Rpb25DdWJlU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpOmEuc2V0VGV4dHVyZSgicmVmbGVjdGlvbjJEU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJkIuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJlbWlzc2l2ZVNhbXBsZXIiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZCLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgibGlnaHRtYXBTYW1wbGVyIix0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmQi5TcGVjdWxhclRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoInNwZWN1bGFyU2FtcGxlciIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmci5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmQi5CdW1wVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgiYnVtcFNhbXBsZXIiLHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmQi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQmJih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc0N1YmU/YS5zZXRUZXh0dXJlKCJyZWZyYWN0aW9uQ3ViZVNhbXBsZXIiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKTphLnNldFRleHR1cmUoInJlZnJhY3Rpb24yRFNhbXBsZXIiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSkpLHRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5JiZ0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0KSYmdGhpcy5nZXRTY2VuZSgpLmRlcHRoUGVlbGluZ1JlbmRlcmVyLmJpbmQoYSksdGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9aSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxocyhhLHRoaXMsciksdGhpcy5iaW5kRXllUG9zaXRpb24oYSl9ZWxzZSByLmdldEVuZ2luZSgpLl9mZWF0dXJlcy5uZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnMmJih0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITApOyhvfHwhdGhpcy5pc0Zyb3plbikmJihyLmxpZ2h0c0VuYWJsZWQmJiF0aGlzLl9kaXNhYmxlTGlnaHRpbmcmJnNlLkJpbmRMaWdodHMocix0LGEsbix0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMpLChyLmZvZ0VuYWJsZWQmJnQuYXBwbHlGb2cmJnIuZm9nTW9kZSE9PWFlLkZPR01PREVfTk9ORXx8dGhpcy5fcmVmbGVjdGlvblRleHR1cmV8fHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlfHx0LnJlY2VpdmVTaGFkb3dzfHxuLlBSRVBBU1MpJiZ0aGlzLmJpbmRWaWV3KGEpLHNlLkJpbmRGb2dQYXJhbWV0ZXJzKHIsdCxhKSxuLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUyYmc2UuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyh0LGEpLG4uQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoKHM9dC5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5iaW5kKGEsbi5JTlNUQU5DRVMpKSx0aGlzLnVzZUxvZ2FyaXRobWljRGVwdGgmJnNlLkJpbmRMb2dEZXB0aChuLGEsciksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYXBwbHlCeVBvc3RQcm9jZXNzJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmJpbmQodGhpcy5fYWN0aXZlRWZmZWN0KSksdGhpcy5fYWZ0ZXJCaW5kKHQsdGhpcy5fYWN0aXZlRWZmZWN0KSxoLnVwZGF0ZSgpfWdldEFuaW1hdGFibGVzKCl7Y29uc3QgZT1zdXBlci5nZXRBbmltYXRhYmxlcygpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJnRoaXMuX2VtaXNzaXZlVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9lbWlzc2l2ZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZ0aGlzLl9zcGVjdWxhclRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSxlfWdldEFjdGl2ZVRleHR1cmVzKCl7Y29uc3QgZT1zdXBlci5nZXRBY3RpdmVUZXh0dXJlcygpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmZS5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmZS5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmZS5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJmUucHVzaCh0aGlzLl9lbWlzc2l2ZVRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmZS5wdXNoKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJmUucHVzaCh0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZlLnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmZS5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSxlfWhhc1RleHR1cmUoZSl7cmV0dXJuISEoc3VwZXIuaGFzVGV4dHVyZShlKXx8dGhpcy5fZGlmZnVzZVRleHR1cmU9PT1lfHx0aGlzLl9hbWJpZW50VGV4dHVyZT09PWV8fHRoaXMuX29wYWNpdHlUZXh0dXJlPT09ZXx8dGhpcy5fcmVmbGVjdGlvblRleHR1cmU9PT1lfHx0aGlzLl9lbWlzc2l2ZVRleHR1cmU9PT1lfHx0aGlzLl9zcGVjdWxhclRleHR1cmU9PT1lfHx0aGlzLl9idW1wVGV4dHVyZT09PWV8fHRoaXMuX2xpZ2h0bWFwVGV4dHVyZT09PWV8fHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlPT09ZSl9ZGlzcG9zZShlLHQpe3ZhciBpLHMscixuLGEsbyxoLGwsdTt0JiYoKGk9dGhpcy5fZGlmZnVzZVRleHR1cmUpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5kaXNwb3NlKCksKHM9dGhpcy5fYW1iaWVudFRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5kaXNwb3NlKCksKHI9dGhpcy5fb3BhY2l0eVRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCksKG49dGhpcy5fcmVmbGVjdGlvblRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5kaXNwb3NlKCksKGE9dGhpcy5fZW1pc3NpdmVUZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDB8fGEuZGlzcG9zZSgpLChvPXRoaXMuX3NwZWN1bGFyVGV4dHVyZSk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmRpc3Bvc2UoKSwoaD10aGlzLl9idW1wVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwfHxoLmRpc3Bvc2UoKSwobD10aGlzLl9saWdodG1hcFRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMHx8bC5kaXNwb3NlKCksKHU9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5kaXNwb3NlKCkpLHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5yZW1vdmUodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXIpLHN1cGVyLmRpc3Bvc2UoZSx0KX1jbG9uZShlKXtjb25zdCB0PW5lLkNsb25lKCgpPT5uZXcgQihlLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyk7cmV0dXJuIHQubmFtZT1lLHQuaWQ9ZSx0aGlzLnN0ZW5jaWwuY29weVRvKHQuc3RlbmNpbCksdH1zdGF0aWMgUGFyc2UoZSx0LGkpe2NvbnN0IHM9bmUuUGFyc2UoKCk9Pm5ldyBCKGUubmFtZSx0KSxlLHQsaSk7cmV0dXJuIGUuc3RlbmNpbCYmcy5zdGVuY2lsLnBhcnNlKGUuc3RlbmNpbCx0LGkpLHN9c3RhdGljIGdldCBEaWZmdXNlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuRGlmZnVzZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRGlmZnVzZVRleHR1cmVFbmFibGVkKGUpe3VlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgRGV0YWlsVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuRGV0YWlsVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBEZXRhaWxUZXh0dXJlRW5hYmxlZChlKXt1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkFtYmllbnRUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEFtYmllbnRUZXh0dXJlRW5hYmxlZChlKXt1ZS5BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBPcGFjaXR5VGV4dHVyZUVuYWJsZWQoZSl7dWUuT3BhY2l0eVRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKGUpe3VlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRW1pc3NpdmVUZXh0dXJlRW5hYmxlZChlKXt1ZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBTcGVjdWxhclRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBTcGVjdWxhclRleHR1cmVFbmFibGVkKGUpe3VlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IEJ1bXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5CdW1wVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBCdW1wVGV4dHVyZUVuYWJsZWQoZSl7dWUuQnVtcFRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBMaWdodG1hcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBMaWdodG1hcFRleHR1cmVFbmFibGVkKGUpe3VlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7dWUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkKGUpe3VlLkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBGcmVzbmVsRW5hYmxlZCgpe3JldHVybiB1ZS5GcmVzbmVsRW5hYmxlZH1zdGF0aWMgc2V0IEZyZXNuZWxFbmFibGVkKGUpe3VlLkZyZXNuZWxFbmFibGVkPWV9fVQoW3Z0KCJkaWZmdXNlVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX2RpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sQi5wcm90b3R5cGUsImRpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW3Z0KCJhbWJpZW50VGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX2FtYmllbnRUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiYW1iaWVudFRleHR1cmUiLHZvaWQgMCksVChbdnQoIm9wYWNpdHlUZXh0dXJlIildLEIucHJvdG90eXBlLCJfb3BhY2l0eVRleHR1cmUiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxCLnByb3RvdHlwZSwib3BhY2l0eVRleHR1cmUiLHZvaWQgMCksVChbdnQoInJlZmxlY3Rpb25UZXh0dXJlIildLEIucHJvdG90eXBlLCJfcmVmbGVjdGlvblRleHR1cmUiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJyZWZsZWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFt2dCgiZW1pc3NpdmVUZXh0dXJlIildLEIucHJvdG90eXBlLCJfZW1pc3NpdmVUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZW1pc3NpdmVUZXh0dXJlIix2b2lkIDApLFQoW3Z0KCJzcGVjdWxhclRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9zcGVjdWxhclRleHR1cmUiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJzcGVjdWxhclRleHR1cmUiLHZvaWQgMCksVChbdnQoImJ1bXBUZXh0dXJlIildLEIucHJvdG90eXBlLCJfYnVtcFRleHR1cmUiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJidW1wVGV4dHVyZSIsdm9pZCAwKSxUKFt2dCgibGlnaHRtYXBUZXh0dXJlIildLEIucHJvdG90eXBlLCJfbGlnaHRtYXBUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwibGlnaHRtYXBUZXh0dXJlIix2b2lkIDApLFQoW3Z0KCJyZWZyYWN0aW9uVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX3JlZnJhY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwicmVmcmFjdGlvblRleHR1cmUiLHZvaWQgMCksVChbZGkoImFtYmllbnQiKV0sQi5wcm90b3R5cGUsImFtYmllbnRDb2xvciIsdm9pZCAwKSxUKFtkaSgiZGlmZnVzZSIpXSxCLnByb3RvdHlwZSwiZGlmZnVzZUNvbG9yIix2b2lkIDApLFQoW2RpKCJzcGVjdWxhciIpXSxCLnByb3RvdHlwZSwic3BlY3VsYXJDb2xvciIsdm9pZCAwKSxUKFtkaSgiZW1pc3NpdmUiKV0sQi5wcm90b3R5cGUsImVtaXNzaXZlQ29sb3IiLHZvaWQgMCksVChbeSgpXSxCLnByb3RvdHlwZSwic3BlY3VsYXJQb3dlciIsdm9pZCAwKSxUKFt5KCJ1c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW3koInVzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iKV0sQi5wcm90b3R5cGUsIl91c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIsdm9pZCAwKSxUKFt5KCJsaW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIpXSxCLnByb3RvdHlwZSwiX2xpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwibGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiLHZvaWQgMCksVChbeSgidXNlU3BlY3VsYXJPdmVyQWxwaGEiKV0sQi5wcm90b3R5cGUsIl91c2VTcGVjdWxhck92ZXJBbHBoYSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZVNwZWN1bGFyT3ZlckFscGhhIix2b2lkIDApLFQoW3koInVzZVJlZmxlY3Rpb25PdmVyQWxwaGEiKV0sQi5wcm90b3R5cGUsIl91c2VSZWZsZWN0aW9uT3ZlckFscGhhIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIsdm9pZCAwKSxUKFt5KCJkaXNhYmxlTGlnaHRpbmciKV0sQi5wcm90b3R5cGUsIl9kaXNhYmxlTGlnaHRpbmciLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZGlzYWJsZUxpZ2h0aW5nIix2b2lkIDApLFQoW3koInVzZU9iamVjdFNwYWNlTm9ybWFsTWFwIildLEIucHJvdG90eXBlLCJfdXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIsdm9pZCAwKSxUKFt5KCJ1c2VQYXJhbGxheCIpXSxCLnByb3RvdHlwZSwiX3VzZVBhcmFsbGF4Iix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlUGFyYWxsYXgiLHZvaWQgMCksVChbeSgidXNlUGFyYWxsYXhPY2NsdXNpb24iKV0sQi5wcm90b3R5cGUsIl91c2VQYXJhbGxheE9jY2x1c2lvbiIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZVBhcmFsbGF4T2NjbHVzaW9uIix2b2lkIDApLFQoW3koKV0sQi5wcm90b3R5cGUsInBhcmFsbGF4U2NhbGVCaWFzIix2b2lkIDApLFQoW3koInJvdWdobmVzcyIpXSxCLnByb3RvdHlwZSwiX3JvdWdobmVzcyIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInJvdWdobmVzcyIsdm9pZCAwKSxUKFt5KCldLEIucHJvdG90eXBlLCJpbmRleE9mUmVmcmFjdGlvbiIsdm9pZCAwKSxUKFt5KCldLEIucHJvdG90eXBlLCJpbnZlcnRSZWZyYWN0aW9uWSIsdm9pZCAwKSxUKFt5KCldLEIucHJvdG90eXBlLCJhbHBoYUN1dE9mZiIsdm9pZCAwKSxUKFt5KCJ1c2VMaWdodG1hcEFzU2hhZG93bWFwIildLEIucHJvdG90eXBlLCJfdXNlTGlnaHRtYXBBc1NoYWRvd21hcCIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiLHZvaWQgMCksVChbVmkoImRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1ZpKCJvcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMiKV0sQi5wcm90b3R5cGUsIl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsQW5kTWlzY0RpcnR5IildLEIucHJvdG90eXBlLCJvcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVmkoInJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwicmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1ZpKCJyZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiKV0sQi5wcm90b3R5cGUsIl9yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sQi5wcm90b3R5cGUsInJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtWaSgiZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX2VtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sQi5wcm90b3R5cGUsImVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbeSgidXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiKV0sQi5wcm90b3R5cGUsIl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiLHZvaWQgMCksVChbeSgidXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhIildLEIucHJvdG90eXBlLCJfdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhIix2b2lkIDApLFQoW3koIm1heFNpbXVsdGFuZW91c0xpZ2h0cyIpXSxCLnByb3RvdHlwZSwiX21heFNpbXVsdGFuZW91c0xpZ2h0cyIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5IildLEIucHJvdG90eXBlLCJtYXhTaW11bHRhbmVvdXNMaWdodHMiLHZvaWQgMCksVChbeSgiaW52ZXJ0Tm9ybWFsTWFwWCIpXSxCLnByb3RvdHlwZSwiX2ludmVydE5vcm1hbE1hcFgiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJpbnZlcnROb3JtYWxNYXBYIix2b2lkIDApLFQoW3koImludmVydE5vcm1hbE1hcFkiKV0sQi5wcm90b3R5cGUsIl9pbnZlcnROb3JtYWxNYXBZIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiaW52ZXJ0Tm9ybWFsTWFwWSIsdm9pZCAwKSxUKFt5KCJ0d29TaWRlZExpZ2h0aW5nIildLEIucHJvdG90eXBlLCJfdHdvU2lkZWRMaWdodGluZyIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInR3b1NpZGVkTGlnaHRpbmciLHZvaWQgMCksVChbeSgpXSxCLnByb3RvdHlwZSwidXNlTG9nYXJpdGhtaWNEZXB0aCIsbnVsbCksc3QoIkJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCIsQiksYWUuRGVmYXVsdE1hdGVyaWFsRmFjdG9yeT1jPT5uZXcgQigiZGVmYXVsdCBtYXRlcmlhbCIsYyk7Y29uc3QgQ2w9ImltYWdlUHJvY2Vzc2luZ0NvbXBhdGliaWxpdHkiLElsPWAjaWZkZWYgSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1MKZ2xfRnJhZ0NvbG9yLnJnYj1wb3coZ2xfRnJhZ0NvbG9yLnJnYix2ZWMzKDIuMikpOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0NsXT1JbDtjb25zdCBQbD0ic2hhZG93T25seVBpeGVsU2hhZGVyIixEbD1gcHJlY2lzaW9uIGhpZ2hwIGZsb2F0Owp1bmlmb3JtIHZlYzQgdkV5ZVBvc2l0aW9uOwp1bmlmb3JtIGZsb2F0IGFscGhhOwp1bmlmb3JtIHZlYzMgc2hhZG93Q29sb3I7CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19saWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPGxpZ2h0c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxzaGFkb3dzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CnZlYzMgdmlld0RpcmVjdGlvblc9bm9ybWFsaXplKHZFeWVQb3NpdGlvbi54eXotdlBvc2l0aW9uVyk7CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSh2Tm9ybWFsVyk7CiNlbHNlCnZlYzMgbm9ybWFsVz12ZWMzKDEuMCwxLjAsMS4wKTsKI2VuZGlmCnZlYzMgZGlmZnVzZUJhc2U9dmVjMygwLiwwLiwwLik7CmxpZ2h0aW5nSW5mbyBpbmZvOwpmbG9hdCBzaGFkb3c9MS47CmZsb2F0IGdsb3NzaW5lc3M9MC47CiNpbmNsdWRlPGxpZ2h0RnJhZ21lbnQ+WzAuLjFdCnZlYzQgY29sb3I9dmVjNChzaGFkb3dDb2xvciwoMS4wLWNsYW1wKHNoYWRvdywwLiwxLikpKmFscGhhKTsKI2luY2x1ZGU8Zm9nRnJhZ21lbnQ+CmdsX0ZyYWdDb2xvcj1jb2xvcjsKI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nQ29tcGF0aWJpbGl0eT4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQKfWA7TC5TaGFkZXJzU3RvcmVbUGxdPURsO2NvbnN0IEZsPSJzaGFkb3dPbmx5VmVydGV4U2hhZGVyIix3bD1gcHJlY2lzaW9uIGhpZ2hwIGZsb2F0OwphdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KdW5pZm9ybSBtYXQ0IHZpZXc7CnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKI2lmZGVmIFBPSU5UU0laRQp1bmlmb3JtIGZsb2F0IHBvaW50U2l6ZTsKI2VuZGlmCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpZmRlZiBWRVJURVhDT0xPUgp2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvbiwxLjApOwpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKdlBvc2l0aW9uVz12ZWMzKHdvcmxkUG9zKTsKI2lmZGVmIE5PUk1BTAp2Tm9ybWFsVz1ub3JtYWxpemUodmVjMyhmaW5hbFdvcmxkKnZlYzQobm9ybWFsLDAuMCkpKTsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KI2luY2x1ZGU8Zm9nVmVydGV4PgojaW5jbHVkZTxzaGFkb3dzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpZiBkZWZpbmVkKFBPSU5UU0laRSkgJiYgIWRlZmluZWQoV0VCR1BVKQpnbF9Qb2ludFNpemU9cG9pbnRTaXplOwojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn0KYDtMLlNoYWRlcnNTdG9yZVtGbF09d2w7Y2xhc3MgT2wgZXh0ZW5kcyBGc3tjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5DTElQUExBTkU9ITEsdGhpcy5DTElQUExBTkUyPSExLHRoaXMuQ0xJUFBMQU5FMz0hMSx0aGlzLkNMSVBQTEFORTQ9ITEsdGhpcy5DTElQUExBTkU1PSExLHRoaXMuQ0xJUFBMQU5FNj0hMSx0aGlzLlBPSU5UU0laRT0hMSx0aGlzLkZPRz0hMSx0aGlzLk5PUk1BTD0hMSx0aGlzLk5VTV9CT05FX0lORkxVRU5DRVJTPTAsdGhpcy5Cb25lc1Blck1lc2g9MCx0aGlzLklOU1RBTkNFUz0hMSx0aGlzLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPSExLHRoaXMuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSx0aGlzLnJlYnVpbGQoKX19Y2xhc3MgR2kgZXh0ZW5kcyBIcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5fbmVlZEFscGhhQmxlbmRpbmc9ITAsdGhpcy5zaGFkb3dDb2xvcj1yZS5CbGFjaygpfW5lZWRBbHBoYUJsZW5kaW5nKCl7cmV0dXJuIHRoaXMuX25lZWRBbHBoYUJsZW5kaW5nfW5lZWRBbHBoYVRlc3RpbmcoKXtyZXR1cm4hMX1nZXRBbHBoYVRlc3RUZXh0dXJlKCl7cmV0dXJuIG51bGx9Z2V0IGFjdGl2ZUxpZ2h0KCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUxpZ2h0fXNldCBhY3RpdmVMaWdodChlKXt0aGlzLl9hY3RpdmVMaWdodD1lfV9nZXRGaXJzdFNoYWRvd0xpZ2h0Rm9yTWVzaChlKXtmb3IoY29uc3QgdCBvZiBlLmxpZ2h0U291cmNlcylpZih0LnNoYWRvd0VuYWJsZWQpcmV0dXJuIHQ7cmV0dXJuIG51bGx9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkpe3ZhciBzO2lmKHRoaXMuaXNGcm96ZW4mJnQuZWZmZWN0JiZ0LmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5JiZ0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPT09aSlyZXR1cm4hMDt0Lm1hdGVyaWFsRGVmaW5lc3x8KHQubWF0ZXJpYWxEZWZpbmVzPW5ldyBPbCk7Y29uc3Qgcj10Lm1hdGVyaWFsRGVmaW5lcyxuPXRoaXMuZ2V0U2NlbmUoKTtpZih0aGlzLl9pc1JlYWR5Rm9yU3ViTWVzaCh0KSlyZXR1cm4hMDtjb25zdCBhPW4uZ2V0RW5naW5lKCk7aWYodGhpcy5fYWN0aXZlTGlnaHQpe2Zvcihjb25zdCBoIG9mIGUubGlnaHRTb3VyY2VzKWlmKGguc2hhZG93RW5hYmxlZCl7aWYodGhpcy5fYWN0aXZlTGlnaHQ9PT1oKWJyZWFrO2NvbnN0IGw9ZS5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzLl9hY3RpdmVMaWdodCk7bCE9PS0xJiYoZS5saWdodFNvdXJjZXMuc3BsaWNlKGwsMSksZS5saWdodFNvdXJjZXMuc3BsaWNlKDAsMCx0aGlzLl9hY3RpdmVMaWdodCkpO2JyZWFrfX1zZS5QcmVwYXJlRGVmaW5lc0ZvckZyYW1lQm91bmRWYWx1ZXMobixhLHRoaXMsciwhIWkpLHNlLlByZXBhcmVEZWZpbmVzRm9yTWlzYyhlLG4sITEsdGhpcy5wb2ludHNDbG91ZCx0aGlzLmZvZ0VuYWJsZWQsdGhpcy5fc2hvdWxkVHVybkFscGhhVGVzdE9uKGUpLHIpLHIuX25lZWROb3JtYWxzPXNlLlByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKG4sZSxyLCExLDEpO2NvbnN0IG89KHM9dGhpcy5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2goZSkpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZih0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0hMCxvJiZvLmdldENsYXNzTmFtZSYmby5nZXRDbGFzc05hbWUoKT09PSJDYXNjYWRlZFNoYWRvd0dlbmVyYXRvciIpe2NvbnN0IGg9bzt0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0haC5hdXRvQ2FsY0RlcHRoQm91bmRzfWlmKHNlLlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcyhlLHIsITEsITApLHIuaXNEaXJ0eSl7ci5tYXJrQXNQcm9jZXNzZWQoKSxuLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKTtjb25zdCBoPW5ldyBZcztyLkZPRyYmaC5hZGRGYWxsYmFjaygxLCJGT0ciKSxzZS5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKHIsaCwxKSxyLk5VTV9CT05FX0lORkxVRU5DRVJTPjAmJmguYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLGUpLHIuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9bi5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmFwcGx5QnlQb3N0UHJvY2Vzcztjb25zdCBsPVtnLlBvc2l0aW9uS2luZF07ci5OT1JNQUwmJmwucHVzaChnLk5vcm1hbEtpbmQpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXMobCxlLHIsaCksc2UuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMobCxyKTtjb25zdCB1PSJzaGFkb3dPbmx5IixkPXIudG9TdHJpbmcoKSxfPVsid29ybGQiLCJ2aWV3Iiwidmlld1Byb2plY3Rpb24iLCJ2RXllUG9zaXRpb24iLCJ2TGlnaHRzVHlwZSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsImFscGhhIiwic2hhZG93Q29sb3IiLCJtQm9uZXMiXSxmPW5ldyBBcnJheSxtPW5ldyBBcnJheTtvcyhfKSxzZS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Qoe3VuaWZvcm1zTmFtZXM6Xyx1bmlmb3JtQnVmZmVyc05hbWVzOm0sc2FtcGxlcnM6ZixkZWZpbmVzOnIsbWF4U2ltdWx0YW5lb3VzTGlnaHRzOjF9KSx0LnNldEVmZmVjdChuLmdldEVuZ2luZSgpLmNyZWF0ZUVmZmVjdCh1LHthdHRyaWJ1dGVzOmwsdW5pZm9ybXNOYW1lczpfLHVuaWZvcm1CdWZmZXJzTmFtZXM6bSxzYW1wbGVyczpmLGRlZmluZXM6ZCxmYWxsYmFja3M6aCxvbkNvbXBpbGVkOnRoaXMub25Db21waWxlZCxvbkVycm9yOnRoaXMub25FcnJvcixpbmRleFBhcmFtZXRlcnM6e21heFNpbXVsdGFuZW91c0xpZ2h0czoxfX0sYSkscix0aGlzLl9tYXRlcmlhbENvbnRleHQpfXJldHVybiF0LmVmZmVjdHx8IXQuZWZmZWN0LmlzUmVhZHkoKT8hMTooci5fcmVuZGVySWQ9bi5nZXRSZW5kZXJJZCgpLHQuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITAsdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz0hIWksITApfWJpbmRGb3JTdWJNZXNoKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKSxyPWkubWF0ZXJpYWxEZWZpbmVzO2lmKCFyKXJldHVybjtjb25zdCBuPWkuZWZmZWN0O2lmKG4pe2lmKHRoaXMuX2FjdGl2ZUVmZmVjdD1uLHRoaXMuYmluZE9ubHlXb3JsZE1hdHJpeChlKSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIscy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksc2UuQmluZEJvbmVzUGFyYW1ldGVycyh0LHRoaXMuX2FjdGl2ZUVmZmVjdCksdGhpcy5fbXVzdFJlYmluZChzLG4pJiYoaHMobix0aGlzLHMpLHRoaXMucG9pbnRzQ2xvdWQmJnRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRGbG9hdCgicG9pbnRTaXplIix0aGlzLnBvaW50U2l6ZSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldEZsb2F0KCJhbHBoYSIsdGhpcy5hbHBoYSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldENvbG9yMygic2hhZG93Q29sb3IiLHRoaXMuc2hhZG93Q29sb3IpLHMuYmluZEV5ZVBvc2l0aW9uKG4pKSxzLmxpZ2h0c0VuYWJsZWQpe3NlLkJpbmRMaWdodHMocyx0LHRoaXMuX2FjdGl2ZUVmZmVjdCxyLDEpO2NvbnN0IGE9dGhpcy5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2godCk7YSYmKGEuX3JlbmRlcklkPS0xKX0ocy5mb2dFbmFibGVkJiZ0LmFwcGx5Rm9nJiZzLmZvZ01vZGUhPT1hZS5GT0dNT0RFX05PTkV8fHIuU0hBRE9XQ1NNMCkmJnRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoInZpZXciLHMuZ2V0Vmlld01hdHJpeCgpKSxzZS5CaW5kRm9nUGFyYW1ldGVycyhzLHQsdGhpcy5fYWN0aXZlRWZmZWN0KSx0aGlzLl9hZnRlckJpbmQodCx0aGlzLl9hY3RpdmVFZmZlY3QpfX1jbG9uZShlKXtyZXR1cm4gbmUuQ2xvbmUoKCk9Pm5ldyBHaShlLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyl9c2VyaWFsaXplKCl7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKTtyZXR1cm4gZS5jdXN0b21UeXBlPSJCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCIsZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU2hhZG93T25seU1hdGVyaWFsIn1zdGF0aWMgUGFyc2UoZSx0LGkpe3JldHVybiBuZS5QYXJzZSgoKT0+bmV3IEdpKGUubmFtZSx0KSxlLHQsaSl9fXN0KCJCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCIsR2kpO2NvbnN0IExsPXthc3BlY3Q6MzAwLzE1MCxlbmFibGVEZWJ1Z2dpbmc6ITEsZW5hYmxlU2hhZG93czohMH07Y2xhc3MgTmx7Y29uc3RydWN0b3IoZSl7U3QodGhpcywic2l6ZSIsOS41KTt0aGlzLmNvbmZpZz17Li4uTGwsLi4uZX0sdGhpcy5jcmVhdGUoKX1jcmVhdGUoZSl7dGhpcy5kZXN0cm95KCksT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZyxlKTtjb25zdHthc3BlY3Q6dCxlbmFibGVEZWJ1Z2dpbmc6aSxlbmFibGVTaGFkb3dzOnN9PXRoaXMuY29uZmlnLHI9MzA7dGhpcy5ib3g9bmV3IGVlKCJkaWNlQm94Iik7bGV0IG49bmV3IEdpKCJzaGFkb3dPbmx5Iix0aGlzLmNvbmZpZy5zY2VuZSk7bi5hbHBoYT1zPzE6MCxpJiYobj1uZXcgQigiZGljZUJveF9tYXRlcmlhbCIpLG4uYWxwaGE9Ljcsbi5kaWZmdXNlQ29sb3I9bmV3IHJlKDEsMSwwKSk7Y29uc3QgYT1DaSgiZ3JvdW5kIix7d2lkdGg6dGhpcy5zaXplKjIsaGVpZ2h0OjEsZGVwdGg6dGhpcy5zaXplKjJ9LHRoaXMuY29uZmlnLnNjZW5lKTtpZihhLnNjYWxpbmc9bmV3IHAodCwxLDEpLGEubWF0ZXJpYWw9bixhLnJlY2VpdmVTaGFkb3dzPSEwLGEuc2V0UGFyZW50KHRoaXMuYm94KSxpKXtjb25zdCBvPUNpKCJ3YWxsVG9wIix7d2lkdGg6dGhpcy5zaXplLGhlaWdodDpyLGRlcHRoOjF9LHRoaXMuY29uZmlnLnNjZW5lKTtvLnBvc2l0aW9uLnk9ci8yLG8ucG9zaXRpb24uej10aGlzLnNpemUvLTIsby5zY2FsaW5nPW5ldyBwKHQsMSwxKSxvLm1hdGVyaWFsPW4sby5zZXRQYXJlbnQodGhpcy5ib3gpO2NvbnN0IGg9Q2koIndhbGxSaWdodCIse3dpZHRoOjEsaGVpZ2h0OnIsZGVwdGg6dGhpcy5zaXplfSx0aGlzLmNvbmZpZy5zY2VuZSk7aC5wb3NpdGlvbi54PXRoaXMuc2l6ZSp0LzIsaC5wb3NpdGlvbi55PXIvMixoLm1hdGVyaWFsPW4saC5zZXRQYXJlbnQodGhpcy5ib3gpO2NvbnN0IGw9Q2koIndhbGxCb3R0b20iLHt3aWR0aDp0aGlzLnNpemUsaGVpZ2h0OnIsZGVwdGg6MX0sdGhpcy5jb25maWcuc2NlbmUpO2wucG9zaXRpb24ueT1yLzIsbC5wb3NpdGlvbi56PXRoaXMuc2l6ZS8yLGwuc2NhbGluZz1uZXcgcCh0LDEsMSksbC5tYXRlcmlhbD1uLGwuc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCB1PUNpKCJ3YWxsTGVmdCIse3dpZHRoOjEsaGVpZ2h0OnIsZGVwdGg6dGhpcy5zaXplfSx0aGlzLmNvbmZpZy5zY2VuZSk7dS5wb3NpdGlvbi54PXRoaXMuc2l6ZSp0Ly0yLHUucG9zaXRpb24ueT1yLzIsdS5tYXRlcmlhbD1uLHUuc2V0UGFyZW50KHRoaXMuYm94KX19ZGVzdHJveSgpe3RoaXMuYm94JiZ0aGlzLmJveC5kaXNwb3NlKCl9fXZhciBpaTsoZnVuY3Rpb24oYyl7Y1tjLkNsZWFuPTBdPSJDbGVhbiIsY1tjLlN0b3A9MV09IlN0b3AiLGNbYy5TeW5jPTJdPSJTeW5jIixjW2MuTm9TeW5jPTNdPSJOb1N5bmMifSkoaWl8fChpaT17fSkpO2NsYXNzIGxle3N0YXRpYyBnZXQgRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwoKXtyZXR1cm4gRmUuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9c3RhdGljIHNldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbChlKXtGZS5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfXN0YXRpYyBnZXQgU2hvd0xvYWRpbmdTY3JlZW4oKXtyZXR1cm4gRmUuU2hvd0xvYWRpbmdTY3JlZW59c3RhdGljIHNldCBTaG93TG9hZGluZ1NjcmVlbihlKXtGZS5TaG93TG9hZGluZ1NjcmVlbj1lfXN0YXRpYyBnZXQgbG9nZ2luZ0xldmVsKCl7cmV0dXJuIEZlLmxvZ2dpbmdMZXZlbH1zdGF0aWMgc2V0IGxvZ2dpbmdMZXZlbChlKXtGZS5sb2dnaW5nTGV2ZWw9ZX1zdGF0aWMgZ2V0IENsZWFuQm9uZU1hdHJpeFdlaWdodHMoKXtyZXR1cm4gRmUuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0c31zdGF0aWMgc2V0IENsZWFuQm9uZU1hdHJpeFdlaWdodHMoZSl7RmUuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfXN0YXRpYyBHZXREZWZhdWx0UGx1Z2luKCl7cmV0dXJuIGxlLl9SZWdpc3RlcmVkUGx1Z2luc1siLmJhYnlsb24iXX1zdGF0aWMgX0dldFBsdWdpbkZvckV4dGVuc2lvbihlKXtjb25zdCB0PWxlLl9SZWdpc3RlcmVkUGx1Z2luc1tlXTtyZXR1cm4gdHx8KE8uV2FybigiVW5hYmxlIHRvIGZpbmQgYSBwbHVnaW4gdG8gbG9hZCAiK2UrIiBmaWxlcy4gVHJ5aW5nIHRvIHVzZSAuYmFieWxvbiBkZWZhdWx0IHBsdWdpbi4gVG8gbG9hZCBmcm9tIGEgc3BlY2lmaWMgZmlsZXR5cGUgKGVnLiBnbHRmKSBzZWU6IGh0dHBzOi8vZG9jLmJhYnlsb25qcy5jb20vZmVhdHVyZXMvZmVhdHVyZXNEZWVwRGl2ZS9pbXBvcnRlcnMvbG9hZGluZ0ZpbGVUeXBlcyIpLGxlLkdldERlZmF1bHRQbHVnaW4oKSl9c3RhdGljIF9HZXRQbHVnaW5Gb3JEaXJlY3RMb2FkKGUpe2Zvcihjb25zdCB0IGluIGxlLl9SZWdpc3RlcmVkUGx1Z2lucyl7Y29uc3QgaT1sZS5fUmVnaXN0ZXJlZFBsdWdpbnNbdF0ucGx1Z2luO2lmKGkuY2FuRGlyZWN0TG9hZCYmaS5jYW5EaXJlY3RMb2FkKGUpKXJldHVybiBsZS5fUmVnaXN0ZXJlZFBsdWdpbnNbdF19cmV0dXJuIGxlLkdldERlZmF1bHRQbHVnaW4oKX1zdGF0aWMgX0dldFBsdWdpbkZvckZpbGVuYW1lKGUpe2NvbnN0IHQ9ZS5pbmRleE9mKCI/Iik7dCE9PS0xJiYoZT1lLnN1YnN0cmluZygwLHQpKTtjb25zdCBpPWUubGFzdEluZGV4T2YoIi4iKSxzPWUuc3Vic3RyaW5nKGksZS5sZW5ndGgpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGxlLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24ocyl9c3RhdGljIF9HZXREaXJlY3RMb2FkKGUpe3JldHVybiBlLnN1YnN0cigwLDUpPT09ImRhdGE6Ij9lLnN1YnN0cig1KTpudWxsfXN0YXRpYyBfRm9ybWF0RXJyb3JNZXNzYWdlKGUsdCxpKXtsZXQgcz0iVW5hYmxlIHRvIGxvYWQgZnJvbSAiK2UudXJsO3JldHVybiB0P3MrPWA6ICR7dH1gOmkmJihzKz1gOiAke2l9YCksc31zdGF0aWMgX0xvYWREYXRhKGUsdCxpLHMscixuLGEpe2NvbnN0IG89bGUuX0dldERpcmVjdExvYWQoZS51cmwpLGg9YT9sZS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGEpOm8/bGUuX0dldFBsdWdpbkZvckRpcmVjdExvYWQoZS51cmwpOmxlLl9HZXRQbHVnaW5Gb3JGaWxlbmFtZShlLnVybCk7bGV0IGw7aWYoaC5wbHVnaW4uY3JlYXRlUGx1Z2luIT09dm9pZCAwP2w9aC5wbHVnaW4uY3JlYXRlUGx1Z2luKCk6bD1oLnBsdWdpbiwhbCl0aHJvdyJUaGUgbG9hZGVyIHBsdWdpbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBmaWxlIHR5cGUgeW91IGFyZSB0cnlpbmcgdG8gbG9hZCBoYXMgbm90IGJlZW4gZm91bmQuIElmIHVzaW5nIGVzNiwgcGxlYXNlIGltcG9ydCB0aGUgcGx1Z2luIHlvdSB3aXNoIHRvIHVzZSBiZWZvcmUuIjtpZihsZS5PblBsdWdpbkFjdGl2YXRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwpLG8mJihsLmNhbkRpcmVjdExvYWQmJmwuY2FuRGlyZWN0TG9hZChlLnVybCl8fCFJcyhlLnVybCkpKXtpZihsLmRpcmVjdExvYWQpe2NvbnN0IFI9bC5kaXJlY3RMb2FkKHQsbyk7Ui50aGVuP1IudGhlbihBPT57aShsLEEpfSkuY2F0Y2goQT0+e3IoIkVycm9yIGluIGRpcmVjdExvYWQgb2YgX2xvYWREYXRhOiAiK0EsQSl9KTppKGwsUil9ZWxzZSBpKGwsbyk7cmV0dXJuIGx9Y29uc3QgdT1oLmlzQmluYXJ5LGQ9KFIsQSk9PntpZih0LmlzRGlzcG9zZWQpe3IoIlNjZW5lIGhhcyBiZWVuIGRpc3Bvc2VkIik7cmV0dXJufWkobCxSLEEpfTtsZXQgXz1udWxsLGY9ITE7Y29uc3QgbT1sLm9uRGlzcG9zZU9ic2VydmFibGU7bSYmbS5hZGQoKCk9PntmPSEwLF8mJihfLmFib3J0KCksXz1udWxsKSxuKCl9KTtjb25zdCB2PSgpPT57aWYoZilyZXR1cm47Y29uc3QgUj0oQyxiKT0+e3IoQz09bnVsbD92b2lkIDA6Qy5zdGF0dXNUZXh0LGIpfSxBPWUuZmlsZXx8ZS51cmw7Xz1sLmxvYWRGaWxlP2wubG9hZEZpbGUodCxBLGQscyx1LFIpOnQuX2xvYWRGaWxlKEEsZCxzLCEwLHUsUil9LEU9dC5nZXRFbmdpbmUoKTtsZXQgUz1FLmVuYWJsZU9mZmxpbmVTdXBwb3J0O2lmKFMpe2xldCBSPSExO2Zvcihjb25zdCBBIG9mIHQuZGlzYWJsZU9mZmxpbmVTdXBwb3J0RXhjZXB0aW9uUnVsZXMpaWYoQS50ZXN0KGUudXJsKSl7Uj0hMDticmVha31TPSFSfXJldHVybiBTJiZQLk9mZmxpbmVQcm92aWRlckZhY3Rvcnk/dC5vZmZsaW5lUHJvdmlkZXI9UC5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5KGUudXJsLHYsRS5kaXNhYmxlTWFuaWZlc3RDaGVjayk6digpLGx9c3RhdGljIF9HZXRGaWxlSW5mbyhlLHQpe2xldCBpLHMscj1udWxsO2lmKCF0KWk9ZSxzPVguR2V0RmlsZW5hbWUoZSksZT1YLkdldEZvbGRlclBhdGgoZSk7ZWxzZSBpZih0Lm5hbWUpe2NvbnN0IG49dDtpPWBmaWxlOiR7bi5uYW1lfWAscz1uLm5hbWUscj1ufWVsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0LnN0YXJ0c1dpdGgoImRhdGE6IikpaT10LHM9IiI7ZWxzZXtjb25zdCBuPXQ7aWYobi5zdWJzdHIoMCwxKT09PSIvIilyZXR1cm4gWC5FcnJvcigiV3Jvbmcgc2NlbmVGaWxlbmFtZSBwYXJhbWV0ZXIiKSxudWxsO2k9ZStuLHM9bn1yZXR1cm57dXJsOmkscm9vdFVybDplLG5hbWU6cyxmaWxlOnJ9fXN0YXRpYyBHZXRQbHVnaW5Gb3JFeHRlbnNpb24oZSl7cmV0dXJuIGxlLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24oZSkucGx1Z2lufXN0YXRpYyBJc1BsdWdpbkZvckV4dGVuc2lvbkF2YWlsYWJsZShlKXtyZXR1cm4hIWxlLl9SZWdpc3RlcmVkUGx1Z2luc1tlXX1zdGF0aWMgUmVnaXN0ZXJQbHVnaW4oZSl7aWYodHlwZW9mIGUuZXh0ZW5zaW9ucz09InN0cmluZyIpe2NvbnN0IHQ9ZS5leHRlbnNpb25zO2xlLl9SZWdpc3RlcmVkUGx1Z2luc1t0LnRvTG93ZXJDYXNlKCldPXtwbHVnaW46ZSxpc0JpbmFyeTohMX19ZWxzZXtjb25zdCB0PWUuZXh0ZW5zaW9ucztPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGk9PntsZS5fUmVnaXN0ZXJlZFBsdWdpbnNbaS50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6dFtpXS5pc0JpbmFyeX19KX19c3RhdGljIEltcG9ydE1lc2goZSx0LGk9IiIscz1jZS5MYXN0Q3JlYXRlZFNjZW5lLHI9bnVsbCxuPW51bGwsYT1udWxsLG89bnVsbCl7aWYoIXMpcmV0dXJuIE8uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBpbXBvcnQgbWVzaCB0byIpLG51bGw7Y29uc3QgaD1sZS5fR2V0RmlsZUluZm8odCxpKTtpZighaClyZXR1cm4gbnVsbDtjb25zdCBsPXt9O3MuYWRkUGVuZGluZ0RhdGEobCk7Y29uc3QgdT0oKT0+e3MucmVtb3ZlUGVuZGluZ0RhdGEobCl9LGQ9KG0sdik9Pntjb25zdCBFPWxlLl9Gb3JtYXRFcnJvck1lc3NhZ2UoaCxtLHYpO2E/YShzLEUsbmV3IEJ0KEUsbGkuU2NlbmVMb2FkZXJFcnJvcix2KSk6Ty5FcnJvcihFKSx1KCl9LF89bj9tPT57dHJ5e24obSl9Y2F0Y2godil7ZCgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjazogIit2LHYpfX06dm9pZCAwLGY9KG0sdixFLFMsUixBLEMpPT57aWYocy5pbXBvcnRlZE1lc2hlc0ZpbGVzLnB1c2goaC51cmwpLHIpdHJ5e3IobSx2LEUsUyxSLEEsQyl9Y2F0Y2goYil7ZCgiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrOiAiK2IsYil9cy5yZW1vdmVQZW5kaW5nRGF0YShsKX07cmV0dXJuIGxlLl9Mb2FkRGF0YShoLHMsKG0sdixFKT0+e2lmKG0ucmV3cml0ZVJvb3RVUkwmJihoLnJvb3RVcmw9bS5yZXdyaXRlUm9vdFVSTChoLnJvb3RVcmwsRSkpLG0uaW1wb3J0TWVzaCl7Y29uc3QgUz1tLFI9bmV3IEFycmF5LEE9bmV3IEFycmF5LEM9bmV3IEFycmF5O2lmKCFTLmltcG9ydE1lc2goZSxzLHYsaC5yb290VXJsLFIsQSxDLGQpKXJldHVybjtzLmxvYWRpbmdQbHVnaW5OYW1lPW0ubmFtZSxmKFIsQSxDLFtdLFtdLFtdLFtdKX1lbHNlIG0uaW1wb3J0TWVzaEFzeW5jKGUscyx2LGgucm9vdFVybCxfLGgubmFtZSkudGhlbihSPT57cy5sb2FkaW5nUGx1Z2luTmFtZT1tLm5hbWUsZihSLm1lc2hlcyxSLnBhcnRpY2xlU3lzdGVtcyxSLnNrZWxldG9ucyxSLmFuaW1hdGlvbkdyb3VwcyxSLnRyYW5zZm9ybU5vZGVzLFIuZ2VvbWV0cmllcyxSLmxpZ2h0cyl9KS5jYXRjaChSPT57ZChSLm1lc3NhZ2UsUil9KX0sXyxkLHUsbyl9c3RhdGljIEltcG9ydE1lc2hBc3luYyhlLHQsaT0iIixzPWNlLkxhc3RDcmVhdGVkU2NlbmUscj1udWxsLG49bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChhLG8pPT57bGUuSW1wb3J0TWVzaChlLHQsaSxzLChoLGwsdSxkLF8sZixtKT0+e2Eoe21lc2hlczpoLHBhcnRpY2xlU3lzdGVtczpsLHNrZWxldG9uczp1LGFuaW1hdGlvbkdyb3VwczpkLHRyYW5zZm9ybU5vZGVzOl8sZ2VvbWV0cmllczpmLGxpZ2h0czptfSl9LHIsKGgsbCx1KT0+e28odXx8bmV3IEVycm9yKGwpKX0sbil9KX1zdGF0aWMgTG9hZChlLHQ9IiIsaT1jZS5MYXN0Q3JlYXRlZEVuZ2luZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwpe3JldHVybiBpP2xlLkFwcGVuZChlLHQsbmV3IGFlKGkpLHMscixuLGEpOihYLkVycm9yKCJObyBlbmdpbmUgYXZhaWxhYmxlIiksbnVsbCl9c3RhdGljIExvYWRBc3luYyhlLHQ9IiIsaT1jZS5MYXN0Q3JlYXRlZEVuZ2luZSxzPW51bGwscj1udWxsKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sYSk9PntsZS5Mb2FkKGUsdCxpLG89PntuKG8pfSxzLChvLGgsbCk9PnthKGx8fG5ldyBFcnJvcihoKSl9LHIpfSl9c3RhdGljIEFwcGVuZChlLHQ9IiIsaT1jZS5MYXN0Q3JlYXRlZFNjZW5lLHM9bnVsbCxyPW51bGwsbj1udWxsLGE9bnVsbCl7aWYoIWkpcmV0dXJuIE8uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBhcHBlbmQgdG8iKSxudWxsO2NvbnN0IG89bGUuX0dldEZpbGVJbmZvKGUsdCk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgaD17fTtpLmFkZFBlbmRpbmdEYXRhKGgpO2NvbnN0IGw9KCk9PntpLnJlbW92ZVBlbmRpbmdEYXRhKGgpfTtsZS5TaG93TG9hZGluZ1NjcmVlbiYmIXRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuJiYodGhpcy5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITAsaS5nZXRFbmdpbmUoKS5kaXNwbGF5TG9hZGluZ1VJKCksaS5leGVjdXRlV2hlblJlYWR5KCgpPT57aS5nZXRFbmdpbmUoKS5oaWRlTG9hZGluZ1VJKCksdGhpcy5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITF9KSk7Y29uc3QgdT0oZixtKT0+e2NvbnN0IHY9bGUuX0Zvcm1hdEVycm9yTWVzc2FnZShvLGYsbSk7bj9uKGksdixuZXcgQnQodixsaS5TY2VuZUxvYWRlckVycm9yLG0pKTpPLkVycm9yKHYpLGwoKX0sZD1yP2Y9Pnt0cnl7cihmKX1jYXRjaChtKXt1KCJFcnJvciBpbiBvblByb2dyZXNzIGNhbGxiYWNrIixtKX19OnZvaWQgMCxfPSgpPT57aWYocyl0cnl7cyhpKX1jYXRjaChmKXt1KCJFcnJvciBpbiBvblN1Y2Nlc3MgY2FsbGJhY2siLGYpfWkucmVtb3ZlUGVuZGluZ0RhdGEoaCl9O3JldHVybiBsZS5fTG9hZERhdGEobyxpLChmLG0pPT57aWYoZi5sb2FkKXtpZighZi5sb2FkKGksbSxvLnJvb3RVcmwsdSkpcmV0dXJuO2kubG9hZGluZ1BsdWdpbk5hbWU9Zi5uYW1lLF8oKX1lbHNlIGYubG9hZEFzeW5jKGksbSxvLnJvb3RVcmwsZCxvLm5hbWUpLnRoZW4oKCk9PntpLmxvYWRpbmdQbHVnaW5OYW1lPWYubmFtZSxfKCl9KS5jYXRjaChFPT57dShFLm1lc3NhZ2UsRSl9KX0sZCx1LGwsYSl9c3RhdGljIEFwcGVuZEFzeW5jKGUsdD0iIixpPWNlLkxhc3RDcmVhdGVkU2NlbmUscz1udWxsLHI9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57bGUuQXBwZW5kKGUsdCxpLG89PntuKG8pfSxzLChvLGgsbCk9PnthKGx8fG5ldyBFcnJvcihoKSl9LHIpfSl9c3RhdGljIExvYWRBc3NldENvbnRhaW5lcihlLHQ9IiIsaT1jZS5MYXN0Q3JlYXRlZFNjZW5lLHM9bnVsbCxyPW51bGwsbj1udWxsLGE9bnVsbCl7aWYoIWkpcmV0dXJuIE8uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFzc2V0IGNvbnRhaW5lciB0byIpLG51bGw7Y29uc3Qgbz1sZS5fR2V0RmlsZUluZm8oZSx0KTtpZighbylyZXR1cm4gbnVsbDtjb25zdCBoPXt9O2kuYWRkUGVuZGluZ0RhdGEoaCk7Y29uc3QgbD0oKT0+e2kucmVtb3ZlUGVuZGluZ0RhdGEoaCl9LHU9KGYsbSk9Pntjb25zdCB2PWxlLl9Gb3JtYXRFcnJvck1lc3NhZ2UobyxmLG0pO24/bihpLHYsbmV3IEJ0KHYsbGkuU2NlbmVMb2FkZXJFcnJvcixtKSk6Ty5FcnJvcih2KSxsKCl9LGQ9cj9mPT57dHJ5e3IoZil9Y2F0Y2gobSl7dSgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsbSl9fTp2b2lkIDAsXz1mPT57aWYocyl0cnl7cyhmKX1jYXRjaChtKXt1KCJFcnJvciBpbiBvblN1Y2Nlc3MgY2FsbGJhY2siLG0pfWkucmVtb3ZlUGVuZGluZ0RhdGEoaCl9O3JldHVybiBsZS5fTG9hZERhdGEobyxpLChmLG0pPT57aWYoZi5sb2FkQXNzZXRDb250YWluZXIpe2NvbnN0IEU9Zi5sb2FkQXNzZXRDb250YWluZXIoaSxtLG8ucm9vdFVybCx1KTtpZighRSlyZXR1cm47aS5sb2FkaW5nUGx1Z2luTmFtZT1mLm5hbWUsXyhFKX1lbHNlIGYubG9hZEFzc2V0Q29udGFpbmVyQXN5bmM/Zi5sb2FkQXNzZXRDb250YWluZXJBc3luYyhpLG0sby5yb290VXJsLGQsby5uYW1lKS50aGVuKEU9PntpLmxvYWRpbmdQbHVnaW5OYW1lPWYubmFtZSxfKEUpfSkuY2F0Y2goRT0+e3UoRS5tZXNzYWdlLEUpfSk6dSgiTG9hZEFzc2V0Q29udGFpbmVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBwbHVnaW4uIFBsdWdpbiBkaWQgbm90IHByb3ZpZGUgYSBsb2FkQXNzZXRDb250YWluZXIgb3IgbG9hZEFzc2V0Q29udGFpbmVyQXN5bmMgbWV0aG9kLiIpfSxkLHUsbCxhKX1zdGF0aWMgTG9hZEFzc2V0Q29udGFpbmVyQXN5bmMoZSx0PSIiLGk9Y2UuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sYSk9PntsZS5Mb2FkQXNzZXRDb250YWluZXIoZSx0LGksbz0+e24obyl9LHMsKG8saCxsKT0+e2EobHx8bmV3IEVycm9yKGgpKX0scil9KX1zdGF0aWMgSW1wb3J0QW5pbWF0aW9ucyhlLHQ9IiIsaT1jZS5MYXN0Q3JlYXRlZFNjZW5lLHM9ITAscj1paS5DbGVhbixuPW51bGwsYT1udWxsLG89bnVsbCxoPW51bGwsbD1udWxsKXtpZighaSl7Ty5FcnJvcigiTm8gc2NlbmUgYXZhaWxhYmxlIHRvIGxvYWQgYW5pbWF0aW9ucyB0byIpO3JldHVybn1pZihzKXtmb3IoY29uc3QgZiBvZiBpLmFuaW1hdGFibGVzKWYucmVzZXQoKTtpLnN0b3BBbGxBbmltYXRpb25zKCksaS5hbmltYXRpb25Hcm91cHMuc2xpY2UoKS5mb3JFYWNoKGY9PntmLmRpc3Bvc2UoKX0pLGkuZ2V0Tm9kZXMoKS5mb3JFYWNoKGY9PntmLmFuaW1hdGlvbnMmJihmLmFuaW1hdGlvbnM9W10pfSl9ZWxzZSBzd2l0Y2gocil7Y2FzZSBpaS5DbGVhbjppLmFuaW1hdGlvbkdyb3Vwcy5zbGljZSgpLmZvckVhY2goXz0+e18uZGlzcG9zZSgpfSk7YnJlYWs7Y2FzZSBpaS5TdG9wOmkuYW5pbWF0aW9uR3JvdXBzLmZvckVhY2goXz0+e18uc3RvcCgpfSk7YnJlYWs7Y2FzZSBpaS5TeW5jOmkuYW5pbWF0aW9uR3JvdXBzLmZvckVhY2goXz0+e18ucmVzZXQoKSxfLnJlc3RhcnQoKX0pO2JyZWFrO2Nhc2UgaWkuTm9TeW5jOmJyZWFrO2RlZmF1bHQ6Ty5FcnJvcigiVW5rbm93biBhbmltYXRpb24gZ3JvdXAgbG9hZGluZyBtb2RlIHZhbHVlICciK3IrIiciKTtyZXR1cm59Y29uc3QgdT1pLmFuaW1hdGFibGVzLmxlbmd0aCxkPV89PntfLm1lcmdlQW5pbWF0aW9uc1RvKGksaS5hbmltYXRhYmxlcy5zbGljZSh1KSxuKSxfLmRpc3Bvc2UoKSxpLm9uQW5pbWF0aW9uRmlsZUltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaSksYSYmYShpKX07dGhpcy5Mb2FkQXNzZXRDb250YWluZXIoZSx0LGksZCxvLGgsbCl9c3RhdGljIEltcG9ydEFuaW1hdGlvbnNBc3luYyhlLHQ9IiIsaT1jZS5MYXN0Q3JlYXRlZFNjZW5lLHM9ITAscj1paS5DbGVhbixuPW51bGwsYT1udWxsLG89bnVsbCxoPW51bGwsbD1udWxsKXtyZXR1cm4gbmV3IFByb21pc2UoKHUsZCk9PntsZS5JbXBvcnRBbmltYXRpb25zKGUsdCxpLHMscixuLF89Pnt1KF8pfSxvLChfLGYsbSk9PntkKG18fG5ldyBFcnJvcihmKSl9LGwpfSl9fWxlLk5PX0xPR0dJTkc9MCxsZS5NSU5JTUFMX0xPR0dJTkc9MSxsZS5TVU1NQVJZX0xPR0dJTkc9MixsZS5ERVRBSUxFRF9MT0dHSU5HPTMsbGUuT25QbHVnaW5BY3RpdmF0ZWRPYnNlcnZhYmxlPW5ldyB3LGxlLl9SZWdpc3RlcmVkUGx1Z2lucz17fSxsZS5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITE7Y2xhc3MgX2V7Y29uc3RydWN0b3IoZSx0LGk9TnVtYmVyLk1BWF9WQUxVRSl7dGhpcy5vcmlnaW49ZSx0aGlzLmRpcmVjdGlvbj10LHRoaXMubGVuZ3RoPWl9Y2xvbmUoKXtyZXR1cm4gbmV3IF9lKHRoaXMub3JpZ2luLmNsb25lKCksdGhpcy5kaXJlY3Rpb24uY2xvbmUoKSx0aGlzLmxlbmd0aCl9aW50ZXJzZWN0c0JveE1pbk1heChlLHQsaT0wKXtjb25zdCBzPV9lLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tRmxvYXRzKGUueC1pLGUueS1pLGUuei1pKSxyPV9lLl9UbXBWZWN0b3IzWzFdLmNvcHlGcm9tRmxvYXRzKHQueCtpLHQueStpLHQueitpKTtsZXQgbj0wLGE9TnVtYmVyLk1BWF9WQUxVRSxvLGgsbCx1O2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLngpPDFlLTcpe2lmKHRoaXMub3JpZ2luLng8cy54fHx0aGlzLm9yaWdpbi54PnIueClyZXR1cm4hMX1lbHNlIGlmKG89MS90aGlzLmRpcmVjdGlvbi54LGg9KHMueC10aGlzLm9yaWdpbi54KSpvLGw9KHIueC10aGlzLm9yaWdpbi54KSpvLGw9PT0tMS8wJiYobD0xLzApLGg+bCYmKHU9aCxoPWwsbD11KSxuPU1hdGgubWF4KGgsbiksYT1NYXRoLm1pbihsLGEpLG4+YSlyZXR1cm4hMTtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi55KTwxZS03KXtpZih0aGlzLm9yaWdpbi55PHMueXx8dGhpcy5vcmlnaW4ueT5yLnkpcmV0dXJuITF9ZWxzZSBpZihvPTEvdGhpcy5kaXJlY3Rpb24ueSxoPShzLnktdGhpcy5vcmlnaW4ueSkqbyxsPShyLnktdGhpcy5vcmlnaW4ueSkqbyxsPT09LTEvMCYmKGw9MS8wKSxoPmwmJih1PWgsaD1sLGw9dSksbj1NYXRoLm1heChoLG4pLGE9TWF0aC5taW4obCxhKSxuPmEpcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueik8MWUtNyl7aWYodGhpcy5vcmlnaW4uejxzLnp8fHRoaXMub3JpZ2luLno+ci56KXJldHVybiExfWVsc2UgaWYobz0xL3RoaXMuZGlyZWN0aW9uLnosaD0ocy56LXRoaXMub3JpZ2luLnopKm8sbD0oci56LXRoaXMub3JpZ2luLnopKm8sbD09PS0xLzAmJihsPTEvMCksaD5sJiYodT1oLGg9bCxsPXUpLG49TWF0aC5tYXgoaCxuKSxhPU1hdGgubWluKGwsYSksbj5hKXJldHVybiExO3JldHVybiEwfWludGVyc2VjdHNCb3goZSx0PTApe3JldHVybiB0aGlzLmludGVyc2VjdHNCb3hNaW5NYXgoZS5taW5pbXVtLGUubWF4aW11bSx0KX1pbnRlcnNlY3RzU3BoZXJlKGUsdD0wKXtjb25zdCBpPWUuY2VudGVyLngtdGhpcy5vcmlnaW4ueCxzPWUuY2VudGVyLnktdGhpcy5vcmlnaW4ueSxyPWUuY2VudGVyLnotdGhpcy5vcmlnaW4ueixuPWkqaStzKnMrcipyLGE9ZS5yYWRpdXMrdCxvPWEqYTtpZihuPD1vKXJldHVybiEwO2NvbnN0IGg9aSp0aGlzLmRpcmVjdGlvbi54K3MqdGhpcy5kaXJlY3Rpb24ueStyKnRoaXMuZGlyZWN0aW9uLno7cmV0dXJuIGg8MD8hMTpuLWgqaDw9b31pbnRlcnNlY3RzVHJpYW5nbGUoZSx0LGkpe2NvbnN0IHM9X2UuX1RtcFZlY3RvcjNbMF0scj1fZS5fVG1wVmVjdG9yM1sxXSxuPV9lLl9UbXBWZWN0b3IzWzJdLGE9X2UuX1RtcFZlY3RvcjNbM10sbz1fZS5fVG1wVmVjdG9yM1s0XTt0LnN1YnRyYWN0VG9SZWYoZSxzKSxpLnN1YnRyYWN0VG9SZWYoZSxyKSxwLkNyb3NzVG9SZWYodGhpcy5kaXJlY3Rpb24scixuKTtjb25zdCBoPXAuRG90KHMsbik7aWYoaD09PTApcmV0dXJuIG51bGw7Y29uc3QgbD0xL2g7dGhpcy5vcmlnaW4uc3VidHJhY3RUb1JlZihlLGEpO2NvbnN0IHU9cC5Eb3QoYSxuKSpsO2lmKHU8MHx8dT4xKXJldHVybiBudWxsO3AuQ3Jvc3NUb1JlZihhLHMsbyk7Y29uc3QgZD1wLkRvdCh0aGlzLmRpcmVjdGlvbixvKSpsO2lmKGQ8MHx8dStkPjEpcmV0dXJuIG51bGw7Y29uc3QgXz1wLkRvdChyLG8pKmw7cmV0dXJuIF8+dGhpcy5sZW5ndGg/bnVsbDpuZXcgTnMoMS11LWQsdSxfKX1pbnRlcnNlY3RzUGxhbmUoZSl7bGV0IHQ7Y29uc3QgaT1wLkRvdChlLm5vcm1hbCx0aGlzLmRpcmVjdGlvbik7aWYoTWF0aC5hYnMoaSk8OTk5OTk5OTk3NDc1MjQzZS0yMSlyZXR1cm4gbnVsbDt7Y29uc3Qgcz1wLkRvdChlLm5vcm1hbCx0aGlzLm9yaWdpbik7cmV0dXJuIHQ9KC1lLmQtcykvaSx0PDA/dDwtOTk5OTk5OTk3NDc1MjQzZS0yMT9udWxsOjA6dH19aW50ZXJzZWN0c0F4aXMoZSx0PTApe3N3aXRjaChlKXtjYXNlInkiOntjb25zdCBpPSh0aGlzLm9yaWdpbi55LXQpL3RoaXMuZGlyZWN0aW9uLnk7cmV0dXJuIGk+MD9udWxsOm5ldyBwKHRoaXMub3JpZ2luLngrdGhpcy5kaXJlY3Rpb24ueCotaSx0LHRoaXMub3JpZ2luLnordGhpcy5kaXJlY3Rpb24ueiotaSl9Y2FzZSJ4Ijp7Y29uc3QgaT0odGhpcy5vcmlnaW4ueC10KS90aGlzLmRpcmVjdGlvbi54O3JldHVybiBpPjA/bnVsbDpuZXcgcCh0LHRoaXMub3JpZ2luLnkrdGhpcy5kaXJlY3Rpb24ueSotaSx0aGlzLm9yaWdpbi56K3RoaXMuZGlyZWN0aW9uLnoqLWkpfWNhc2UieiI6e2NvbnN0IGk9KHRoaXMub3JpZ2luLnotdCkvdGhpcy5kaXJlY3Rpb24uejtyZXR1cm4gaT4wP251bGw6bmV3IHAodGhpcy5vcmlnaW4ueCt0aGlzLmRpcmVjdGlvbi54Ki1pLHRoaXMub3JpZ2luLnkrdGhpcy5kaXJlY3Rpb24ueSotaSx0KX1kZWZhdWx0OnJldHVybiBudWxsfX1pbnRlcnNlY3RzTWVzaChlLHQpe2NvbnN0IGk9Ri5NYXRyaXhbMF07cmV0dXJuIGUuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihpKSx0aGlzLl90bXBSYXk/X2UuVHJhbnNmb3JtVG9SZWYodGhpcyxpLHRoaXMuX3RtcFJheSk6dGhpcy5fdG1wUmF5PV9lLlRyYW5zZm9ybSh0aGlzLGkpLGUuaW50ZXJzZWN0cyh0aGlzLl90bXBSYXksdCl9aW50ZXJzZWN0c01lc2hlcyhlLHQsaSl7aT9pLmxlbmd0aD0wOmk9W107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5pbnRlcnNlY3RzTWVzaChlW3NdLHQpO3IuaGl0JiZpLnB1c2gocil9cmV0dXJuIGkuc29ydCh0aGlzLl9jb21wYXJlUGlja2luZ0luZm8pLGl9X2NvbXBhcmVQaWNraW5nSW5mbyhlLHQpe3JldHVybiBlLmRpc3RhbmNlPHQuZGlzdGFuY2U/LTE6ZS5kaXN0YW5jZT50LmRpc3RhbmNlPzE6MH1pbnRlcnNlY3Rpb25TZWdtZW50KGUsdCxpKXtjb25zdCBzPXRoaXMub3JpZ2luLHI9Ri5WZWN0b3IzWzBdLG49Ri5WZWN0b3IzWzFdLGE9Ri5WZWN0b3IzWzJdLG89Ri5WZWN0b3IzWzNdO3Quc3VidHJhY3RUb1JlZihlLHIpLHRoaXMuZGlyZWN0aW9uLnNjYWxlVG9SZWYoX2UuX1JheWwsYSkscy5hZGRUb1JlZihhLG4pLGUuc3VidHJhY3RUb1JlZihzLG8pO2NvbnN0IGg9cC5Eb3QocixyKSxsPXAuRG90KHIsYSksdT1wLkRvdChhLGEpLGQ9cC5Eb3QocixvKSxfPXAuRG90KGEsbyksZj1oKnUtbCpsO2xldCBtLHY9ZixFLFM9ZjtmPF9lLl9TbWFsbG51bT8obT0wLHY9MSxFPV8sUz11KToobT1sKl8tdSpkLEU9aCpfLWwqZCxtPDA/KG09MCxFPV8sUz11KTptPnYmJihtPXYsRT1fK2wsUz11KSksRTwwPyhFPTAsLWQ8MD9tPTA6LWQ+aD9tPXY6KG09LWQsdj1oKSk6RT5TJiYoRT1TLC1kK2w8MD9tPTA6LWQrbD5oP209djoobT0tZCtsLHY9aCkpO2NvbnN0IFI9TWF0aC5hYnMobSk8X2UuX1NtYWxsbnVtPzA6bS92LEE9TWF0aC5hYnMoRSk8X2UuX1NtYWxsbnVtPzA6RS9TLEM9Ri5WZWN0b3IzWzRdO2Euc2NhbGVUb1JlZihBLEMpO2NvbnN0IGI9Ri5WZWN0b3IzWzVdO3Iuc2NhbGVUb1JlZihSLGIpLGIuYWRkSW5QbGFjZShvKTtjb25zdCB4PUYuVmVjdG9yM1s2XTtyZXR1cm4gYi5zdWJ0cmFjdFRvUmVmKEMseCksQT4wJiZBPD10aGlzLmxlbmd0aCYmeC5sZW5ndGhTcXVhcmVkKCk8aSppP2IubGVuZ3RoKCk6LTF9dXBkYXRlKGUsdCxpLHMscixuLGEsbz0hMSl7aWYobyl7X2UuX1JheURpc3RhbnR8fChfZS5fUmF5RGlzdGFudD1fZS5aZXJvKCkpLF9lLl9SYXlEaXN0YW50LnVucHJvamVjdFJheVRvUmVmKGUsdCxpLHMsTS5JZGVudGl0eVJlYWRPbmx5LG4sYSk7Y29uc3QgaD1GLk1hdHJpeFswXTtyLmludmVydFRvUmVmKGgpLF9lLlRyYW5zZm9ybVRvUmVmKF9lLl9SYXlEaXN0YW50LGgsdGhpcyl9ZWxzZSB0aGlzLnVucHJvamVjdFJheVRvUmVmKGUsdCxpLHMscixuLGEpO3JldHVybiB0aGlzfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBfZShwLlplcm8oKSxwLlplcm8oKSl9c3RhdGljIENyZWF0ZU5ldyhlLHQsaSxzLHIsbixhKXtyZXR1cm4gX2UuWmVybygpLnVwZGF0ZShlLHQsaSxzLHIsbixhKX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVRvKGUsdCxpPU0uSWRlbnRpdHlSZWFkT25seSl7Y29uc3Qgcz10LnN1YnRyYWN0KGUpLHI9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueStzLnoqcy56KTtyZXR1cm4gcy5ub3JtYWxpemUoKSxfZS5UcmFuc2Zvcm0obmV3IF9lKGUscyxyKSxpKX1zdGF0aWMgVHJhbnNmb3JtKGUsdCl7Y29uc3QgaT1uZXcgX2UobmV3IHAoMCwwLDApLG5ldyBwKDAsMCwwKSk7cmV0dXJuIF9lLlRyYW5zZm9ybVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ub1JlZihlLHQsaSl7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUub3JpZ2luLHQsaS5vcmlnaW4pLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZS5kaXJlY3Rpb24sdCxpLmRpcmVjdGlvbiksaS5sZW5ndGg9ZS5sZW5ndGg7Y29uc3Qgcz1pLmRpcmVjdGlvbixyPXMubGVuZ3RoKCk7aWYoIShyPT09MHx8cj09PTEpKXtjb25zdCBuPTEvcjtzLngqPW4scy55Kj1uLHMueio9bixpLmxlbmd0aCo9cn19dW5wcm9qZWN0UmF5VG9SZWYoZSx0LGkscyxyLG4sYSl7dmFyIG87Y29uc3QgaD1GLk1hdHJpeFswXTtyLm11bHRpcGx5VG9SZWYobixoKSxoLm11bHRpcGx5VG9SZWYoYSxoKSxoLmludmVydCgpO2NvbnN0IGw9Ri5WZWN0b3IzWzBdO2wueD1lL2kqMi0xLGwueT0tKHQvcyoyLTEpLGwuej0hKChvPWNlLkxhc3RDcmVhdGVkRW5naW5lKT09PW51bGx8fG89PT12b2lkIDApJiZvLmlzTkRDSGFsZlpSYW5nZT8wOi0xO2NvbnN0IHU9Ri5WZWN0b3IzWzFdLmNvcHlGcm9tRmxvYXRzKGwueCxsLnksMS0xZS04KSxkPUYuVmVjdG9yM1syXSxfPUYuVmVjdG9yM1szXTtwLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihsLGgsZCkscC5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYodSxoLF8pLHRoaXMub3JpZ2luLmNvcHlGcm9tKGQpLF8uc3VidHJhY3RUb1JlZihkLHRoaXMuZGlyZWN0aW9uKSx0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKX19X2UuX1RtcFZlY3RvcjM9QmUuQnVpbGRBcnJheSg2LHAuWmVybyksX2UuX1JheURpc3RhbnQ9X2UuWmVybygpLF9lLl9TbWFsbG51bT0xZS04LF9lLl9SYXlsPTFlOSxhZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheT1mdW5jdGlvbihjLGUsdCxpLHM9ITEpe2NvbnN0IHI9X2UuWmVybygpO3JldHVybiB0aGlzLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihjLGUsdCxyLGkscykscn0sYWUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZj1mdW5jdGlvbihjLGUsdCxpLHMscj0hMSxuPSExKXtjb25zdCBhPXRoaXMuZ2V0RW5naW5lKCk7aWYoIXMpe2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSlyZXR1cm4gdGhpcztzPXRoaXMuYWN0aXZlQ2FtZXJhfWNvbnN0IGg9cy52aWV3cG9ydC50b0dsb2JhbChhLmdldFJlbmRlcldpZHRoKCksYS5nZXRSZW5kZXJIZWlnaHQoKSk7cmV0dXJuIGM9Yy9hLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktaC54LGU9ZS9hLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKGEuZ2V0UmVuZGVySGVpZ2h0KCktaC55LWguaGVpZ2h0KSxpLnVwZGF0ZShjLGUsaC53aWR0aCxoLmhlaWdodCx0fHxNLklkZW50aXR5UmVhZE9ubHkscj9NLklkZW50aXR5UmVhZE9ubHk6cy5nZXRWaWV3TWF0cml4KCkscy5nZXRQcm9qZWN0aW9uTWF0cml4KCksbiksdGhpc30sYWUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPV9lLlplcm8oKTtyZXR1cm4gdGhpcy5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmKGMsZSxpLHQpLGl9LGFlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmPWZ1bmN0aW9uKGMsZSx0LGkpe2lmKCFrdClyZXR1cm4gdGhpcztjb25zdCBzPXRoaXMuZ2V0RW5naW5lKCk7aWYoIWkpe2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO2k9dGhpcy5hY3RpdmVDYW1lcmF9Y29uc3Qgbj1pLnZpZXdwb3J0LnRvR2xvYmFsKHMuZ2V0UmVuZGVyV2lkdGgoKSxzLmdldFJlbmRlckhlaWdodCgpKSxhPU0uSWRlbnRpdHkoKTtyZXR1cm4gYz1jL3MuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS1uLngsZT1lL3MuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS0ocy5nZXRSZW5kZXJIZWlnaHQoKS1uLnktbi5oZWlnaHQpLHQudXBkYXRlKGMsZSxuLndpZHRoLG4uaGVpZ2h0LGEsYSxpLmdldFByb2plY3Rpb25NYXRyaXgoKSksdGhpc30sYWUucHJvdG90eXBlLl9pbnRlcm5hbFBpY2tGb3JNZXNoPWZ1bmN0aW9uKGMsZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1lKGksdC5lbmFibGVEaXN0YW50UGlja2luZyksaD10LmludGVyc2VjdHMobyxzLG4scixpLGEpO3JldHVybiFofHwhaC5oaXR8fCFzJiZjIT1udWxsJiZoLmRpc3RhbmNlPj1jLmRpc3RhbmNlP251bGw6aH0sYWUucHJvdG90eXBlLl9pbnRlcm5hbFBpY2s9ZnVuY3Rpb24oYyxlLHQsaSxzKXtsZXQgcj1udWxsO2NvbnN0IG49ISEodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjEmJnRoaXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyE9PXRoaXMuYWN0aXZlQ2FtZXJhKSxhPXRoaXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8dGhpcy5hY3RpdmVDYW1lcmE7Zm9yKGxldCBvPTA7bzx0aGlzLm1lc2hlcy5sZW5ndGg7bysrKXtjb25zdCBoPXRoaXMubWVzaGVzW29dO2lmKGUpe2lmKCFlKGgpKWNvbnRpbnVlfWVsc2UgaWYoIWguaXNFbmFibGVkKCl8fCFoLmlzVmlzaWJsZXx8IWguaXNQaWNrYWJsZSljb250aW51ZTtjb25zdCBsPW4mJmguaXNXb3JsZE1hdHJpeENhbWVyYURlcGVuZGVudCgpLHU9aC5jb21wdXRlV29ybGRNYXRyaXgobCxhKTtpZihoLmhhc1RoaW5JbnN0YW5jZXMmJmgudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZyl7Y29uc3QgZD10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKHIsYyxoLHUsITAsITAscyk7aWYoZCl7aWYoaSlyZXR1cm4gZDtjb25zdCBfPUYuTWF0cml4WzFdLGY9aC50aGluSW5zdGFuY2VHZXRXb3JsZE1hdHJpY2VzKCk7Zm9yKGxldCBtPTA7bTxmLmxlbmd0aDttKyspe2ZbbV0ubXVsdGlwbHlUb1JlZih1LF8pO2NvbnN0IEU9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChyLGMsaCxfLHQsaSxzLCEwKTtpZihFJiYocj1FLHIudGhpbkluc3RhbmNlSW5kZXg9bSx0KSlyZXR1cm4gcn19fWVsc2V7Y29uc3QgZD10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKHIsYyxoLHUsdCxpLHMpO2lmKGQmJihyPWQsdCkpcmV0dXJuIHJ9fXJldHVybiByfHxuZXcga3R9LGFlLnByb3RvdHlwZS5faW50ZXJuYWxNdWx0aVBpY2s9ZnVuY3Rpb24oYyxlLHQpe2lmKCFrdClyZXR1cm4gbnVsbDtjb25zdCBpPW5ldyBBcnJheSxzPSEhKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4xJiZ0aGlzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMhPT10aGlzLmFjdGl2ZUNhbWVyYSkscj10aGlzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fHRoaXMuYWN0aXZlQ2FtZXJhO2ZvcihsZXQgbj0wO248dGhpcy5tZXNoZXMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLm1lc2hlc1tuXTtpZihlKXtpZighZShhKSljb250aW51ZX1lbHNlIGlmKCFhLmlzRW5hYmxlZCgpfHwhYS5pc1Zpc2libGV8fCFhLmlzUGlja2FibGUpY29udGludWU7Y29uc3Qgbz1zJiZhLmlzV29ybGRNYXRyaXhDYW1lcmFEZXBlbmRlbnQoKSxoPWEuY29tcHV0ZVdvcmxkTWF0cml4KG8scik7aWYoYS5oYXNUaGluSW5zdGFuY2VzJiZhLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmcpe2lmKHRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLGEsaCwhMCwhMCx0KSl7Y29uc3QgdT1GLk1hdHJpeFsxXSxkPWEudGhpbkluc3RhbmNlR2V0V29ybGRNYXRyaWNlcygpO2ZvcihsZXQgXz0wO188ZC5sZW5ndGg7XysrKXtkW19dLm11bHRpcGx5VG9SZWYoaCx1KTtjb25zdCBtPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLGEsdSwhMSwhMSx0LCEwKTttJiYobS50aGluSW5zdGFuY2VJbmRleD1fLGkucHVzaChtKSl9fX1lbHNle2NvbnN0IGw9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGMsYSxoLCExLCExLHQpO2wmJmkucHVzaChsKX19cmV0dXJuIGl9LGFlLnByb3RvdHlwZS5waWNrV2l0aEJvdW5kaW5nSW5mbz1mdW5jdGlvbihjLGUsdCxpLHMpe2lmKCFrdClyZXR1cm4gbnVsbDtjb25zdCByPXRoaXMuX2ludGVybmFsUGljayhuPT4odGhpcy5fdGVtcFBpY2tpbmdSYXl8fCh0aGlzLl90ZW1wUGlja2luZ1JheT1fZS5aZXJvKCkpLHRoaXMuY3JlYXRlUGlja2luZ1JheVRvUmVmKGMsZSxuLHRoaXMuX3RlbXBQaWNraW5nUmF5LHN8fG51bGwpLHRoaXMuX3RlbXBQaWNraW5nUmF5KSx0LGksITApO3JldHVybiByJiYoci5yYXk9dGhpcy5jcmVhdGVQaWNraW5nUmF5KGMsZSxNLklkZW50aXR5KCksc3x8bnVsbCkpLHJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhZS5wcm90b3R5cGUsIl9waWNraW5nQXZhaWxhYmxlIix7Z2V0OigpPT4hMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMX0pLGFlLnByb3RvdHlwZS5waWNrPWZ1bmN0aW9uKGMsZSx0LGkscyxyLG49ITEpe2NvbnN0IGE9dGhpcy5faW50ZXJuYWxQaWNrKChvLGgpPT4odGhpcy5fdGVtcFBpY2tpbmdSYXl8fCh0aGlzLl90ZW1wUGlja2luZ1JheT1fZS5aZXJvKCkpLHRoaXMuY3JlYXRlUGlja2luZ1JheVRvUmVmKGMsZSxvLHRoaXMuX3RlbXBQaWNraW5nUmF5LHN8fG51bGwsITEsaCksdGhpcy5fdGVtcFBpY2tpbmdSYXkpLHQsaSwhMSxyKTtyZXR1cm4gYSYmKGEucmF5PXRoaXMuY3JlYXRlUGlja2luZ1JheShjLGUsTS5JZGVudGl0eSgpLHN8fG51bGwpKSxhfSxhZS5wcm90b3R5cGUucGlja1dpdGhSYXk9ZnVuY3Rpb24oYyxlLHQsaSl7Y29uc3Qgcz10aGlzLl9pbnRlcm5hbFBpY2socj0+KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD1NLklkZW50aXR5KCkpLHIuaW52ZXJ0VG9SZWYodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fCh0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09X2UuWmVybygpKSxfZS5UcmFuc2Zvcm1Ub1JlZihjLHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksZSx0LCExLGkpO3JldHVybiBzJiYocy5yYXk9Yyksc30sYWUucHJvdG90eXBlLm11bHRpUGljaz1mdW5jdGlvbihjLGUsdCxpLHMpe3JldHVybiB0aGlzLl9pbnRlcm5hbE11bHRpUGljayhyPT50aGlzLmNyZWF0ZVBpY2tpbmdSYXkoYyxlLHIsaXx8bnVsbCksdCxzKX0sYWUucHJvdG90eXBlLm11bHRpUGlja1dpdGhSYXk9ZnVuY3Rpb24oYyxlLHQpe3JldHVybiB0aGlzLl9pbnRlcm5hbE11bHRpUGljayhpPT4odGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4fHwodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4PU0uSWRlbnRpdHkoKSksaS5pbnZlcnRUb1JlZih0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgpLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybXx8KHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybT1fZS5aZXJvKCkpLF9lLlRyYW5zZm9ybVRvUmVmKGMsdGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4LHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtKSxlLHQpfSwkLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5PWZ1bmN0aW9uKGM9MTAwLGUsdCl7cmV0dXJuIHRoaXMuZ2V0Rm9yd2FyZFJheVRvUmVmKG5ldyBfZShwLlplcm8oKSxwLlplcm8oKSxjKSxjLGUsdCl9LCQucHJvdG90eXBlLmdldEZvcndhcmRSYXlUb1JlZj1mdW5jdGlvbihjLGU9MTAwLHQsaSl7cmV0dXJuIHR8fCh0PXRoaXMuZ2V0V29ybGRNYXRyaXgoKSksYy5sZW5ndGg9ZSxpP2Mub3JpZ2luLmNvcHlGcm9tKGkpOmMub3JpZ2luLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLEYuVmVjdG9yM1syXS5zZXQoMCwwLHRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEpLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoRi5WZWN0b3IzWzJdLHQsRi5WZWN0b3IzWzNdKSxwLk5vcm1hbGl6ZVRvUmVmKEYuVmVjdG9yM1szXSxjLmRpcmVjdGlvbiksY307dmFyIEJsPWZ1bmN0aW9uKGMsZSx0KXtmb3IodmFyIGkgaW4gZSlpZihjLm5hbWU9PT1lW2ldKXJldHVybiB0LnB1c2goYy5pZCksITA7cmV0dXJuIGMucGFyZW50SWQmJnQuaW5kZXhPZihjLnBhcmVudElkKSE9PS0xPyh0LnB1c2goYy5pZCksITApOiExfSxmcz1mdW5jdGlvbihjLGUpe3JldHVybiBjKyIgb2YgIisoZT9lLmZpbGUrIiBmcm9tICIrZS5uYW1lKyIgdmVyc2lvbjogIitlLnZlcnNpb24rIiwgZXhwb3J0ZXIgdmVyc2lvbjogIitlLmV4cG9ydGVyX3ZlcnNpb246InVua25vd24iKX07bGUuUmVnaXN0ZXJQbHVnaW4oe25hbWU6ImJhYnlsb24uanMiLGV4dGVuc2lvbnM6Ii5qc29uIixjYW5EaXJlY3RMb2FkOmZ1bmN0aW9uKGMpe3JldHVybiBjLmluZGV4T2YoImpzb24iKSE9PS0xLCEwfSxpbXBvcnRNZXNoOmZ1bmN0aW9uKGMsZSx0LGkscyxyLG4sYSl7dmFyIG89ImltcG9ydE1lc2ggaGFzIGZhaWxlZCBKU09OIHBhcnNlIjt0cnl7dmFyIGg9SlNPTi5wYXJzZSh0KTtoLnBoeXNpY3NFbmFibGVkPSExLGg9PW51bGx8fGgubWVzaGVzLm1hcChTPT5kZWxldGUgUy5waHlzaWNzSW1wb3N0b3IpLG89IiI7dmFyIGw9bGUubG9nZ2luZ0xldmVsPT09bGUuREVUQUlMRURfTE9HR0lORztjP0FycmF5LmlzQXJyYXkoYyl8fChjPVtjXSk6Yz1udWxsO3ZhciB1PW5ldyBBcnJheTtpZihoLm1lc2hlcyE9PXZvaWQgMCYmaC5tZXNoZXMhPT1udWxsKXt2YXIgZCxfO2ZvcihkPTAsXz1oLm1lc2hlcy5sZW5ndGg7ZDxfO2QrKyl7dmFyIGY9aC5tZXNoZXNbZF07aWYoYz09PW51bGx8fEJsKGYsYyx1KSl7YyE9PW51bGwmJmRlbGV0ZSBjW2MuaW5kZXhPZihmLm5hbWUpXTt2YXIgbT16LlBhcnNlKGYsZSxpKTtzLnB1c2gobSksbys9YAoJTWVzaCBgK20udG9TdHJpbmcobCl9fXZhciB2O2ZvcihkPTAsXz1lLm1lc2hlcy5sZW5ndGg7ZDxfO2QrKyl2PWUubWVzaGVzW2RdLHYuX3dhaXRpbmdQYXJlbnRJZCYmKHYucGFyZW50PWUuZ2V0TGFzdEVudHJ5QnlJRCh2Ll93YWl0aW5nUGFyZW50SWQpLHYuX3dhaXRpbmdQYXJlbnRJZD1udWxsKSx2LmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9cmV0dXJuITB9Y2F0Y2goUyl7dmFyIEU9ZnMoImltcG9ydE1lc2giLGg/aC5wcm9kdWNlcjoiVW5rbm93biIpK287aWYoYSlhKEUsUyk7ZWxzZSB0aHJvdyBPLkxvZyhFKSxTfWZpbmFsbHl7byE9PW51bGwmJmxlLmxvZ2dpbmdMZXZlbCE9PWxlLk5PX0xPR0dJTkcmJk8uTG9nKGZzKCJpbXBvcnRNZXNoIixoP2gucHJvZHVjZXI6IlVua25vd24iKSsobGUubG9nZ2luZ0xldmVsIT09bGUuTUlOSU1BTF9MT0dHSU5HP286IiIpKX1yZXR1cm4hMX0sbG9hZDpmdW5jdGlvbihjLGUsdCxpKXt2YXIgcz0iaW1wb3J0U2NlbmUgaGFzIGZhaWxlZCBKU09OIHBhcnNlIjt0cnl7dmFyIHI9SlNPTi5wYXJzZShlKTtzPSIiLHIuY2xlYXJDb2xvciE9PXZvaWQgMCYmci5jbGVhckNvbG9yIT09bnVsbCYmKGMuY2xlYXJDb2xvcj1Db2xvcjQuRnJvbUFycmF5KHIuY2xlYXJDb2xvcikpO3ZhciBuPWxvYWRBc3NldENvbnRhaW5lcihjLGUsdCxpLCEwKTtyZXR1cm4hIW59Y2F0Y2gobyl7dmFyIGE9ZnMoImltcG9ydFNjZW5lIixyP3IucHJvZHVjZXI6IlVua25vd24iKStzO2lmKGkpaShhLG8pO2Vsc2UgdGhyb3cgTy5Mb2coYSksb31maW5hbGx5e3MhPT1udWxsJiZsZS5sb2dnaW5nTGV2ZWwhPT1sZS5OT19MT0dHSU5HJiZPLkxvZyhmcygiaW1wb3J0U2NlbmUiLHI/ci5wcm9kdWNlcjoiVW5rbm93biIpKyhsZS5sb2dnaW5nTGV2ZWwhPT1sZS5NSU5JTUFMX0xPR0dJTkc/czoiIikpfXJldHVybiExfSxsb2FkQXNzZXRDb250YWluZXI6ZnVuY3Rpb24oYyxlLHQsaSl7dmFyIHM9bG9hZEFzc2V0Q29udGFpbmVyKGMsZSx0LGkpO3JldHVybiBzfX0pLHouX2luc3RhbmNlZE1lc2hGYWN0b3J5PShjLGUpPT57Y29uc3QgdD1uZXcgVWwoYyxlKTtpZihlLmluc3RhbmNlZEJ1ZmZlcnMpe3QuaW5zdGFuY2VkQnVmZmVycz17fTtmb3IoY29uc3QgaSBpbiBlLmluc3RhbmNlZEJ1ZmZlcnMpdC5pbnN0YW5jZWRCdWZmZXJzW2ldPWUuaW5zdGFuY2VkQnVmZmVyc1tpXX1yZXR1cm4gdH07Y2xhc3MgVWwgZXh0ZW5kcyBodHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdC5nZXRTY2VuZSgpKSx0aGlzLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9LTEsdGhpcy5fZGlzdGFuY2VUb0NhbWVyYT0wLHQuYWRkSW5zdGFuY2UodGhpcyksdGhpcy5fc291cmNlTWVzaD10LHRoaXMuX3VuSW5kZXhlZD10Ll91bkluZGV4ZWQsdGhpcy5wb3NpdGlvbi5jb3B5RnJvbSh0LnBvc2l0aW9uKSx0aGlzLnJvdGF0aW9uLmNvcHlGcm9tKHQucm90YXRpb24pLHRoaXMuc2NhbGluZy5jb3B5RnJvbSh0LnNjYWxpbmcpLHQucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dC5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksdGhpcy5hbmltYXRpb25zPXQuYW5pbWF0aW9ucy5zbGljZSgpO2Zvcihjb25zdCBpIG9mIHQuZ2V0QW5pbWF0aW9uUmFuZ2VzKCkpaSE9bnVsbCYmdGhpcy5jcmVhdGVBbmltYXRpb25SYW5nZShpLm5hbWUsaS5mcm9tLGkudG8pO3RoaXMuaW5maW5pdGVEaXN0YW5jZT10LmluZmluaXRlRGlzdGFuY2UsdGhpcy5zZXRQaXZvdE1hdHJpeCh0LmdldFBpdm90TWF0cml4KCkpLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbyghMCwhMCksdGhpcy5fc3luY1N1Yk1lc2hlcygpfWdldENsYXNzTmFtZSgpe3JldHVybiJJbnN0YW5jZWRNZXNoIn1nZXQgbGlnaHRTb3VyY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX2xpZ2h0U291cmNlc31fcmVzeW5jTGlnaHRTb3VyY2VzKCl7fV9yZXN5bmNMaWdodFNvdXJjZSgpe31fcmVtb3ZlTGlnaHRTb3VyY2UoKXt9Z2V0IHJlY2VpdmVTaGFkb3dzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gucmVjZWl2ZVNoYWRvd3N9c2V0IHJlY2VpdmVTaGFkb3dzKGUpe3ZhciB0OygodD10aGlzLl9zb3VyY2VNZXNoKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQucmVjZWl2ZVNoYWRvd3MpIT09ZSYmWC5XYXJuKCJTZXR0aW5nIHJlY2VpdmVTaGFkb3dzIG9uIGFuIGluc3RhbmNlZCBtZXNoIGhhcyBubyBlZmZlY3QiKX1nZXQgbWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5tYXRlcmlhbH1zZXQgbWF0ZXJpYWwoZSl7dmFyIHQ7KCh0PXRoaXMuX3NvdXJjZU1lc2gpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5tYXRlcmlhbCkhPT1lJiZYLldhcm4oIlNldHRpbmcgbWF0ZXJpYWwgb24gYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCIpfWdldCB2aXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gudmlzaWJpbGl0eX1zZXQgdmlzaWJpbGl0eShlKXt2YXIgdDsoKHQ9dGhpcy5fc291cmNlTWVzaCk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZpc2liaWxpdHkpIT09ZSYmWC5XYXJuKCJTZXR0aW5nIHZpc2liaWxpdHkgb24gYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCIpfWdldCBza2VsZXRvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnNrZWxldG9ufXNldCBza2VsZXRvbihlKXt2YXIgdDsoKHQ9dGhpcy5fc291cmNlTWVzaCk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnNrZWxldG9uKSE9PWUmJlguV2FybigiU2V0dGluZyBza2VsZXRvbiBvbiBhbiBpbnN0YW5jZWQgbWVzaCBoYXMgbm8gZWZmZWN0Iil9Z2V0IHJlbmRlcmluZ0dyb3VwSWQoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5yZW5kZXJpbmdHcm91cElkfXNldCByZW5kZXJpbmdHcm91cElkKGUpeyF0aGlzLl9zb3VyY2VNZXNofHxlPT09dGhpcy5fc291cmNlTWVzaC5yZW5kZXJpbmdHcm91cElkfHxPLldhcm4oIk5vdGUgLSBzZXR0aW5nIHJlbmRlcmluZ0dyb3VwSWQgb2YgYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCBvbiB0aGUgc2NlbmUiKX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2g/dGhpcy5fc291cmNlTWVzaC5nZXRUb3RhbFZlcnRpY2VzKCk6MH1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRUb3RhbEluZGljZXMoKX1nZXQgc291cmNlTWVzaCgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNofWNyZWF0ZUluc3RhbmNlKGUpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmNyZWF0ZUluc3RhbmNlKGUpfWlzUmVhZHkoZT0hMSl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guaXNSZWFkeShlLCEwKX1nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldFZlcnRpY2VzRGF0YShlLHQsaSl9c2V0VmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzLnNvdXJjZU1lc2gmJnRoaXMuc291cmNlTWVzaC5zZXRWZXJ0aWNlc0RhdGEoZSx0LGkscyksdGhpcy5zb3VyY2VNZXNofXVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2gudXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLHMpLHRoaXMuc291cmNlTWVzaH1zZXRJbmRpY2VzKGUsdD1udWxsKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0SW5kaWNlcyhlLHQpLHRoaXMuc291cmNlTWVzaH1pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpfWdldEluZGljZXMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRJbmRpY2VzKCl9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5fcG9zaXRpb25zfXJlZnJlc2hCb3VuZGluZ0luZm8oZT0hMSx0PSExKXtpZih0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpcztjb25zdCBpPXRoaXMuX3NvdXJjZU1lc2guZ2VvbWV0cnk/dGhpcy5fc291cmNlTWVzaC5nZW9tZXRyeS5ib3VuZGluZ0JpYXM6bnVsbDtyZXR1cm4gdGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9zb3VyY2VNZXNoLl9nZXRQb3NpdGlvbkRhdGEoZSx0KSxpKSx0aGlzfV9wcmVBY3RpdmF0ZSgpe3JldHVybiB0aGlzLl9jdXJyZW50TE9EJiZ0aGlzLl9jdXJyZW50TE9ELl9wcmVBY3RpdmF0ZSgpLHRoaXN9X2FjdGl2YXRlKGUsdCl7aWYoc3VwZXIuX2FjdGl2YXRlKGUsdCksdGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXN8fE8uV2FybigiSW5zdGFuY2VzIHNob3VsZCBvbmx5IGJlIGNyZWF0ZWQgZm9yIG1lc2hlcyB3aXRoIGdlb21ldHJ5LiIpLHRoaXMuX2N1cnJlbnRMT0Qpe2lmKHRoaXMuX2N1cnJlbnRMT0QuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKT49MCE9dGhpcy5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPj0wKXJldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoPSEwLCEwO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g9ITEsdGhpcy5fY3VycmVudExPRC5fcmVnaXN0ZXJJbnN0YW5jZUZvclJlbmRlcklkKHRoaXMsZSksdCl7aWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSEwLCEwfWVsc2UgaWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzPSEwLCEwfXJldHVybiExfV9wb3N0QWN0aXZhdGUoKXt0aGlzLl9zb3VyY2VNZXNoLmVkZ2VzU2hhcmVXaXRoSW5zdGFuY2VzJiZ0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyJiZ0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXA/KHRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlciksdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlci5jdXN0b21JbnN0YW5jZXMucHVzaCh0aGlzLmdldFdvcmxkTWF0cml4KCkpKTp0aGlzLl9lZGdlc1JlbmRlcmVyJiZ0aGlzLl9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXAmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoKHRoaXMuX2VkZ2VzUmVuZGVyZXIpfWdldFdvcmxkTWF0cml4KCl7aWYodGhpcy5fY3VycmVudExPRCYmdGhpcy5fY3VycmVudExPRC5iaWxsYm9hcmRNb2RlIT09ZWUuQklMTEJPQVJETU9ERV9OT05FJiZ0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoIT09dGhpcyl7dGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh8fCh0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeD1uZXcgTSk7Y29uc3QgZT10aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoO3JldHVybiB0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPXRoaXMsRi5WZWN0b3IzWzddLmNvcHlGcm9tKHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24pLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uc2V0KDAsMCwwKSx0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9jdXJyZW50TE9ELmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uY29weUZyb20oRi5WZWN0b3IzWzddKSx0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPWUsdGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh9cmV0dXJuIHN1cGVyLmdldFdvcmxkTWF0cml4KCl9Z2V0IGlzQW5JbnN0YW5jZSgpe3JldHVybiEwfWdldExPRChlKXtpZighZSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuc291cmNlTWVzaC5nZXRMT0RMZXZlbHMoKTtpZighdHx8dC5sZW5ndGg9PT0wKXRoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoO2Vsc2V7Y29uc3QgaT10aGlzLmdldEJvdW5kaW5nSW5mbygpO3RoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoLmdldExPRChlLGkuYm91bmRpbmdTcGhlcmUpfXJldHVybiB0aGlzLl9jdXJyZW50TE9EfV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoLl9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKX1fc3luY1N1Yk1lc2hlcygpe2lmKHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzKWZvcihsZXQgZT0wO2U8dGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXMubGVuZ3RoO2UrKyl0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlc1tlXS5jbG9uZSh0aGlzLHRoaXMuX3NvdXJjZU1lc2gpO3JldHVybiB0aGlzfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX2dlbmVyYXRlUG9pbnRzQXJyYXkoKX1fdXBkYXRlQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuaGFzQm91bmRpbmdJbmZvP3RoaXMuZ2V0Qm91bmRpbmdJbmZvKCkudXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5hYnNvbHV0ZVBvc2l0aW9uLHRoaXMuYWJzb2x1dGVQb3NpdGlvbix0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpc31jbG9uZShlLHQ9bnVsbCxpLHMpe2NvbnN0IHI9KHN8fHRoaXMuX3NvdXJjZU1lc2gpLmNyZWF0ZUluc3RhbmNlKGUpO2lmKE1zLkRlZXBDb3B5KHRoaXMscixbIm5hbWUiLCJzdWJNZXNoZXMiLCJ1bmlxdWVJZCIsInBhcmVudCIsImxpZ2h0U291cmNlcyIsInJlY2VpdmVTaGFkb3dzIiwibWF0ZXJpYWwiLCJ2aXNpYmlsaXR5Iiwic2tlbGV0b24iLCJzb3VyY2VNZXNoIiwiaXNBbkluc3RhbmNlIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImlzQmxvY2tlZCIsInVzZUJvbmVzIiwiaGFzSW5zdGFuY2VzIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiLCJoYXNCb3VuZGluZ0luZm8iXSxbXSksdGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCksdCYmKHIucGFyZW50PXQpLCFpKWZvcihsZXQgbj0wO248dGhpcy5nZXRTY2VuZSgpLm1lc2hlcy5sZW5ndGg7bisrKXtjb25zdCBhPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXNbbl07YS5wYXJlbnQ9PT10aGlzJiZhLmNsb25lKGEubmFtZSxyKX1yZXR1cm4gci5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSxyfWRpc3Bvc2UoZSx0PSExKXt0aGlzLl9zb3VyY2VNZXNoLnJlbW92ZUluc3RhbmNlKHRoaXMpLHN1cGVyLmRpc3Bvc2UoZSx0KX1fc2VyaWFsaXplQXNQYXJlbnQoZSl7c3VwZXIuX3NlcmlhbGl6ZUFzUGFyZW50KGUpLGUucGFyZW50SWQ9dGhpcy5fc291cmNlTWVzaC51bmlxdWVJZCxlLnBhcmVudEluc3RhbmNlSW5kZXg9dGhpcy5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5fWluc3RhbnRpYXRlSGllcmFyY2h5KGU9bnVsbCx0LGkpe2NvbnN0IHM9dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSxlfHx0aGlzLnBhcmVudCwhMCx0JiZ0Lm5ld1NvdXJjZWRNZXNoKTtzJiZpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc319ei5wcm90b3R5cGUucmVnaXN0ZXJJbnN0YW5jZWRCdWZmZXI9ZnVuY3Rpb24oYyxlKXt2YXIgdCxpO2lmKChpPSh0PXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbY10pPT09bnVsbHx8aT09PXZvaWQgMHx8aS5kaXNwb3NlKCksIXRoaXMuaW5zdGFuY2VkQnVmZmVycyl7dGhpcy5pbnN0YW5jZWRCdWZmZXJzPXt9O2Zvcihjb25zdCBzIG9mIHRoaXMuaW5zdGFuY2VzKXMuaW5zdGFuY2VkQnVmZmVycz17fTt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9KX10aGlzLmluc3RhbmNlZEJ1ZmZlcnNbY109bnVsbCx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tjXT1lLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tjXT1lKjMyLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2NdPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2NdKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tjXT1uZXcgZyh0aGlzLmdldEVuZ2luZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2NdLGMsITAsITEsZSwhMCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5pbnN0YW5jZXMpcy5pbnN0YW5jZWRCdWZmZXJzW2NdPW51bGw7dGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKX0sei5wcm90b3R5cGUuX3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzPWZ1bmN0aW9uKGMsZSl7Y29uc3QgdD1jP2MubGVuZ3RoOjA7Zm9yKGNvbnN0IGkgaW4gdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXtsZXQgcz10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV07Y29uc3Qgcj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tpXSxuPSh0KzEpKnI7Zm9yKDtzPG47KXMqPTI7dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV0ubGVuZ3RoIT1zJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV09bmV3IEZsb2F0MzJBcnJheShzKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV09cyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXSYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldLmRpc3Bvc2UoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXT1udWxsKSk7Y29uc3QgYT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXTtsZXQgbz0wO2lmKGUpe2NvbnN0IGg9dGhpcy5pbnN0YW5jZWRCdWZmZXJzW2ldO2gudG9BcnJheT9oLnRvQXJyYXkoYSxvKTpoLmNvcHlUb0FycmF5P2guY29weVRvQXJyYXkoYSxvKTphW29dPWgsbys9cn1mb3IobGV0IGg9MDtoPHQ7aCsrKXtjb25zdCB1PWNbaF0uaW5zdGFuY2VkQnVmZmVyc1tpXTt1LnRvQXJyYXk/dS50b0FycmF5KGEsbyk6dS5jb3B5VG9BcnJheT91LmNvcHlUb0FycmF5KGEsbyk6YVtvXT11LG8rPXJ9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0/dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0udXBkYXRlRGlyZWN0bHkoYSwwKToodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV09bmV3IGcodGhpcy5nZXRFbmdpbmUoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXSxpLCEwLCExLHIsITApLHRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCkpfX0sei5wcm90b3R5cGUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKCl7aWYoISghdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPT09dm9pZCAwKSl7Zm9yKGNvbnN0IGMgaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyl0aGlzLmdldEVuZ2luZSgpLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzW2NdKTt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPXt9fX0sei5wcm90b3R5cGUuX2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YT1mdW5jdGlvbigpe2Zvcih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKTt0aGlzLmluc3RhbmNlcy5sZW5ndGg7KXRoaXMuaW5zdGFuY2VzWzBdLmRpc3Bvc2UoKTtmb3IoY29uc3QgYyBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbY10mJnRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2NdLmRpc3Bvc2UoKTt0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuaW5zdGFuY2VkQnVmZmVycz17fX07Y29uc3QgS3I9Yz0+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjKSksa2w9e2Fzc2V0UGF0aDoiIixlbmFibGVTaGFkb3dzOiExLGdyb3VwSWQ6bnVsbCxpZDpudWxsLGxpZ2h0czpbXSxyb2xsSWQ6bnVsbCxzY2VuZTpudWxsfSxBdD1jbGFzcyBBdHtjb25zdHJ1Y3RvcihlLHQpe1N0KHRoaXMsInZhbHVlIiwwKTtTdCh0aGlzLCJhc2xlZXAiLCExKTt0aGlzLmNvbmZpZz17Li4ua2wsLi4uZX0sdGhpcy5pZD10aGlzLmNvbmZpZy5pZCE9PXZvaWQgMD90aGlzLmNvbmZpZy5pZDpEYXRlLm5vdygpLHRoaXMuc2lkZXM9dGhpcy5jb25maWcuc2lkZXMsdGhpcy5kaWVUeXBlPXRoaXMuY29uZmlnLmRpZVR5cGUsdGhpcy5jb21ib0tleT1gJHt0aGlzLmNvbmZpZy50aGVtZX1fJHt0aGlzLmNvbmZpZy5kaWVUeXBlfWAsdGhpcy5zY2VuZT10LHRoaXMuY3JlYXRlSW5zdGFuY2UoKX1jcmVhdGVJbnN0YW5jZSgpe2NvbnN0IGU9YCR7dGhpcy5jb25maWcubWVzaE5hbWV9XyR7dGhpcy5kaWVUeXBlfV8ke3RoaXMuY29uZmlnLnRoZW1lfSR7dGhpcy5jb25maWcuY29sb3JTdWZmaXh9YCx0PWAke2V9LWluc3RhbmNlLSR7dGhpcy5pZH1gLGk9dGhpcy5zY2VuZS5nZXRNZXNoQnlOYW1lKGUpLmNyZWF0ZUluc3RhbmNlKHQpO2lmKHRoaXMuY29uZmlnLmNvbG9yU3VmZml4Lmxlbmd0aD4wKXtjb25zdCBzPXJlLkZyb21IZXhTdHJpbmcodGhpcy5jb25maWcudGhlbWVDb2xvcik7aS5pbnN0YW5jZWRCdWZmZXJzLmN1c3RvbUNvbG9yPXN9aS5wb3NpdGlvbi55PS0xMDAsaS5zY2FsaW5nPW5ldyBwKGkuc2NhbGluZy54KnRoaXMuY29uZmlnLnNjYWxlLGkuc2NhbGluZy55KnRoaXMuY29uZmlnLnNjYWxlLGkuc2NhbGluZy56KnRoaXMuY29uZmlnLnNjYWxlKSx0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzJiZ0aGlzLmNvbmZpZy5saWdodHMuZGlyZWN0aW9uYWwuc2hhZG93R2VuZXJhdG9yLmFkZFNoYWRvd0Nhc3RlcihpKSx0aGlzLm1lc2g9aX1zdGF0aWMgYXN5bmMgbG9hZERpZShlLHQpe2NvbnN0e3NpZGVzOmksdGhlbWU6cz0iZGVmYXVsdCIsbWVzaE5hbWU6cixjb2xvclN1ZmZpeDpufT1lO2UuZGllVHlwZXx8KGUuZGllVHlwZT1OdW1iZXIuaXNJbnRlZ2VyKGkpP2BkJHtpfWA6aSk7Y29uc3QgYT1yKyJfIitlLmRpZVR5cGUsbz1hKyJfIitzK247bGV0IGg9dC5nZXRNZXNoQnlOYW1lKG8pO3JldHVybiBofHwoaD10LmdldE1lc2hCeU5hbWUoYSkuY2xvbmUobykpLGgubWF0ZXJpYWx8fChoLm1hdGVyaWFsPXQuZ2V0TWF0ZXJpYWxCeU5hbWUocytuKSxuLmxlbmd0aD4wJiZoLnJlZ2lzdGVySW5zdGFuY2VkQnVmZmVyKCJjdXN0b21Db2xvciIsMykpLGV9c3RhdGljIGFzeW5jIGxvYWRNb2RlbHMoZSx0KXtjb25zdHttZXNoRmlsZVBhdGg6aSxtZXNoTmFtZTpzLHNjYWxlOnIsZDRGYWNlRG93bjpuPSEwfT1lO2xldCBhPSExLG89ITE7Y29uc3QgaD1hd2FpdCBmZXRjaChgJHtpfWApLnRoZW4obD0+e2lmKGwub2spe2NvbnN0IHU9bC5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIik7aWYodSYmdS5pbmRleE9mKCJhcHBsaWNhdGlvbi9qc29uIikhPT0tMSlyZXR1cm4gbC5qc29uKCk7aWYobC50eXBlJiZsLnR5cGU9PT0iYmFzaWMiKXJldHVybiBsLmpzb24oKTt0aHJvdyBuZXcgRXJyb3IoYEluY29ycmVjdCBjb250ZW50VHlwZTogJHt1fS4gRXhwZWN0ZWQgImFwcGxpY2F0aW9uL2pzb24iIG9yICJiYXNpYyJgKX1lbHNlIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgM0QgbWVzaCBmaWxlOiAnJHtpfScuIFJlcXVlc3QgcmVqZWN0ZWQgd2l0aCBzdGF0dXMgJHtsLnN0YXR1c306ICR7bC5zdGF0dXNUZXh0fWApfSkuY2F0Y2gobD0+Y29uc29sZS5lcnJvcihsKSk7aWYoaClyZXR1cm4gbGUuSW1wb3J0TWVzaEFzeW5jKG51bGwsbnVsbCwiZGF0YToiK0pTT04uc3RyaW5naWZ5KGgpLHQpLnRoZW4obD0+e2lmKGwubWVzaGVzLmZvckVhY2godT0+e3UubmFtZT09PSJfX3Jvb3RfXyImJnUuZGlzcG9zZSgpLHUubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSYmKHUuc2NhbGluZz1uZXcgcCh1LnNjYWxpbmcueCouOSx1LnNjYWxpbmcueSouOSx1LnNjYWxpbmcueiouOSkpLGF8fChhPXUubmFtZT09PSJkMTAwIiksb3x8KG89dS5uYW1lPT09ImQxMCIpLHUuc2V0RW5hYmxlZCghMSksdS5mcmVlemVOb3JtYWxzKCksdS5mcmVlemVXb3JsZE1hdHJpeCgpLHUuaXNQaWNrYWJsZT0hMSx1LmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMCx1Lm5hbWU9cysiXyIrdS5uYW1lfSksIWEmJm8mJih0LmdldE1lc2hCeU5hbWUocysiX2QxMCIpLmNsb25lKHMrIl9kMTAwIiksdC5nZXRNZXNoQnlOYW1lKHMrIl9kMTBfY29sbGlkZXIiKS5jbG9uZShzKyJfZDEwMF9jb2xsaWRlciIpLGguY29sbGlkZXJGYWNlTWFwJiYoaC5jb2xsaWRlckZhY2VNYXAuZDEwMD1LcihoLmNvbGxpZGVyRmFjZU1hcC5kMTApLE9iamVjdC52YWx1ZXMoaC5jb2xsaWRlckZhY2VNYXAuZDEwMCkuZm9yRWFjaCgodSxkKT0+e2guY29sbGlkZXJGYWNlTWFwLmQxMDBbZF09dSoodT09PTEwPzA6MTApfSkpKSwhaC5jb2xsaWRlckZhY2VNYXApdGhyb3cgbmV3IEVycm9yKGAnY29sbGlkZXJGYWNlTWFwJyBkYXRhIG5vdCBmb3VuZCBpbiAke2l9LiBXaXRob3V0IHRoZSBjb2xsaWRlckZhY2VNYXAgZGF0YSBkaWNlIHZhbHVlcyBjYW4gbm90IGJlIHJlc29sdmVkLmApO3QudGhlbWVEYXRhW3NdPXt9LHQudGhlbWVEYXRhW3NdLmNvbGxpZGVyRmFjZU1hcD1oLmNvbGxpZGVyRmFjZU1hcCx0LnRoZW1lRGF0YVtzXS5kNEZhY2VEb3duPW59KS5jYXRjaChsPT5jb25zb2xlLmVycm9yKGwpKSxoLm1lc2hlcy5maWx0ZXIobD0+bC5uYW1lLmluY2x1ZGVzKCJjb2xsaWRlciIpKX11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ey4uLnRoaXMuY29uZmlnLC4uLmV9fXN0YXRpYyBzZXRWZWN0b3IzKGUsdCxpKXtyZXR1cm4gQXQudmVjdG9yMy5zZXQoZSx0LGkpfXN0YXRpYyBnZXRWZWN0b3IzKCl7cmV0dXJuIEF0LnZlY3RvcjN9c3RhdGljIGFzeW5jIGdldFJvbGxSZXN1bHQoZSx0KXtjb25zdCBpPShzPWUpPT5uZXcgUHJvbWlzZSgocixuKT0+e2NvbnN0IGE9ZS5jb25maWcucGFyZW50TWVzaHx8ZS5jb25maWcubWVzaE5hbWUsbz10LnRoZW1lRGF0YVthXS5jb2xsaWRlckZhY2VNYXAsaD10LnRoZW1lRGF0YVthXS5kNEZhY2VEb3duO2lmKCFvW3MuZGllVHlwZV0pdGhyb3cgbmV3IEVycm9yKGBObyBjb2xsaWRlckZhY2VNYXAgZGF0YSBmb3IgJHtzLmRpZVR5cGV9YCk7Y29uc3QgbD10LmdldE1lc2hCeU5hbWUoYCR7YX1fJHtzLmRpZVR5cGV9X2NvbGxpZGVyYCkuY3JlYXRlSW5zdGFuY2UoYCR7YX1fJHtzLmRpZVR5cGV9LWhpdGJveC0ke3MuaWR9YCk7bC5pc1BpY2thYmxlPSEwLGwuaXNWaXNpYmxlPSEwLGwuc2V0RW5hYmxlZCghMCksbC5wb3NpdGlvbj1zLm1lc2gucG9zaXRpb24sbC5yb3RhdGlvblF1YXRlcm5pb249cy5tZXNoLnJvdGF0aW9uUXVhdGVybmlvbjtsZXQgdT1BdC5zZXRWZWN0b3IzKDAsMSwwKTtzLmRpZVR5cGU9PT0iZDQiJiZoJiYodT1BdC5zZXRWZWN0b3IzKDAsLTEsMCkpLEF0LnJheS5kaXJlY3Rpb249dSxBdC5yYXkub3JpZ2luPWUubWVzaC5wb3NpdGlvbjtjb25zdCBkPXQucGlja1dpdGhSYXkoQXQucmF5KTtpZihsLmRpc3Bvc2UoKSxzLnZhbHVlPW9bcy5kaWVUeXBlXVtkLmZhY2VJZF0scy52YWx1ZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYGNvbGxpZGVyRmFjZU1hcCBFcnJvcjogTm8gdmFsdWUgZm91bmQgZm9yICR7cy5kaWVUeXBlfSBtZXNoIGZhY2UgJHtkLmZhY2VJZH1gKTtyZXR1cm4gcihzLnZhbHVlKX0pLmNhdGNoKHI9PmNvbnNvbGUuZXJyb3IocikpO3JldHVybiBlLm1lc2g/YXdhaXQgaSgpOmUudmFsdWV9fTtTdChBdCwicmF5IixuZXcgX2UocC5aZXJvKCkscC5aZXJvKCksMSkpLFN0KEF0LCJ2ZWN0b3IzIixwLlplcm8oKSk7bGV0IHNpPUF0O2NsYXNzIFZse2NvbnN0cnVjdG9yKCl7fX1jbGFzcyByaSBleHRlbmRzIEJ7QXR0YWNoQWZ0ZXJCaW5kKGUsdCl7aWYodGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcylmb3IoY29uc3QgaSBpbiB0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzKXtjb25zdCBzPWkudG9TdHJpbmcoKS5zcGxpdCgiLSIpO3NbMF09PSJ2ZWMyIj90LnNldFZlY3RvcjIoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKTpzWzBdPT0idmVjMyI/dC5zZXRWZWN0b3IzKHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSk6c1swXT09InZlYzQiP3Quc2V0VmVjdG9yNChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJtYXQ0Ij90LnNldE1hdHJpeChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJmbG9hdCImJnQuc2V0RmxvYXQoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKX1pZih0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzKWZvcihjb25zdCBpIGluIHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpe2NvbnN0IHM9aS50b1N0cmluZygpLnNwbGl0KCItIik7c1swXT09InNhbXBsZXIyRCImJnRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbaV0uaXNSZWFkeSYmdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tpXS5pc1JlYWR5KCkmJnQuc2V0VGV4dHVyZShzWzFdLHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbaV0pfX1SZXZpZXdVbmlmb3JtKGUsdCl7aWYoZT09InVuaWZvcm0iJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IobGV0IGk9MDtpPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtpKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtpXS5pbmRleE9mKCJzYW1wbGVyIik9PS0xJiZ0LnB1c2godGhpcy5fbmV3VW5pZm9ybXNbaV0ucmVwbGFjZSgvXFtcZCpcXS9nLCIiKSk7aWYoZT09InNhbXBsZXIiJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IobGV0IGk9MDtpPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtpKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtpXS5pbmRleE9mKCJzYW1wbGVyIikhPS0xJiZ0LnB1c2godGhpcy5fbmV3VW5pZm9ybXNbaV0ucmVwbGFjZSgvXFtcZCpcXS9nLCIiKSk7cmV0dXJuIHR9QnVpbGRlcihlLHQsaSxzLHIsbil7aWYobiYmdGhpcy5fY3VzdG9tQXR0cmlidXRlcyYmdGhpcy5fY3VzdG9tQXR0cmlidXRlcy5sZW5ndGg+MCYmbi5wdXNoKC4uLnRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMpLHRoaXMuUmV2aWV3VW5pZm9ybSgidW5pZm9ybSIsdCksdGhpcy5SZXZpZXdVbmlmb3JtKCJzYW1wbGVyIixzKSx0aGlzLl9pc0NyZWF0ZWRTaGFkZXIpcmV0dXJuIHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lO3RoaXMuX2lzQ3JlYXRlZFNoYWRlcj0hMSxyaS5TaGFkZXJJbmRleGVyKys7Y29uc3QgYT0iY3VzdG9tXyIrcmkuU2hhZGVySW5kZXhlcixvPXRoaXMuX2FmdGVyQmluZC5iaW5kKHRoaXMpO3JldHVybiB0aGlzLl9hZnRlckJpbmQ9KGgsbCk9PntpZihsKXt0aGlzLkF0dGFjaEFmdGVyQmluZChoLGwpO3RyeXtvKGgsbCl9Y2F0Y2h7fX19LERlLlNoYWRlcnNTdG9yZVthKyJWZXJ0ZXhTaGFkZXIiXT10aGlzLlZlcnRleFNoYWRlci5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMiLCh0aGlzLl9jdXN0b21Vbmlmb3JtP3RoaXMuX2N1c3RvbVVuaWZvcm0uam9pbihgCmApOiIiKSsodGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM6IiIpKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9QT1NJVElPTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX05PUk1BTCIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORCIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kOiIiKSx0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkJiYoRGUuU2hhZGVyc1N0b3JlW2ErIlZlcnRleFNoYWRlciJdPURlLlNoYWRlcnNTdG9yZVthKyJWZXJ0ZXhTaGFkZXIiXS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1dPUkxEUE9TIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkKSksRGUuU2hhZGVyc1N0b3JlW2ErIlBpeGVsU2hhZGVyIl09dGhpcy5GcmFnbWVudFNoYWRlci5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMiLCh0aGlzLl9jdXN0b21Vbmlmb3JtP3RoaXMuX2N1c3RvbVVuaWZvcm0uam9pbihgCmApOiIiKSsodGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zOiIiKSkucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0RJRkZVU0UiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZToiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0FMUEhBIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYT90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYToiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0xJR0hUUyIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0czoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZSQUdDT0xPUiIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZD90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5FbmQ6IiIpLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZyYmKERlLlNoYWRlcnNTdG9yZVthKyJQaXhlbFNoYWRlciJdPURlLlNoYWRlcnNTdG9yZVthKyJQaXhlbFNoYWRlciJdLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GT0ciLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZykpLHRoaXMuX2lzQ3JlYXRlZFNoYWRlcj0hMCx0aGlzLl9jcmVhdGVkU2hhZGVyTmFtZT1hLGF9Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuQ3VzdG9tUGFydHM9bmV3IFZsLHRoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmU9dGhpcy5CdWlsZGVyLHRoaXMuRnJhZ21lbnRTaGFkZXI9RGUuU2hhZGVyc1N0b3JlLmRlZmF1bHRQaXhlbFNoYWRlcix0aGlzLlZlcnRleFNoYWRlcj1EZS5TaGFkZXJzU3RvcmUuZGVmYXVsdFZlcnRleFNoYWRlcn1BZGRVbmlmb3JtKGUsdCxpKXtyZXR1cm4gdGhpcy5fY3VzdG9tVW5pZm9ybXx8KHRoaXMuX2N1c3RvbVVuaWZvcm09bmV3IEFycmF5LHRoaXMuX25ld1VuaWZvcm1zPW5ldyBBcnJheSx0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzPXt9LHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXM9e30pLGkmJih0LmluZGV4T2YoInNhbXBsZXIiKSE9LTE/dGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1t0KyItIitlXT1pOnRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbdCsiLSIrZV09aSksdGhpcy5fY3VzdG9tVW5pZm9ybS5wdXNoKCJ1bmlmb3JtICIrdCsiICIrZSsiOyIpLHRoaXMuX25ld1VuaWZvcm1zLnB1c2goZSksdGhpc31BZGRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXN8fCh0aGlzLl9jdXN0b21BdHRyaWJ1dGVzPVtdKSx0aGlzLl9jdXN0b21BdHRyaWJ1dGVzLnB1c2goZSksdGhpc31GcmFnbWVudF9CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj1lLHRoaXN9RnJhZ21lbnRfRGVmaW5pdGlvbnMoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZSx0aGlzfUZyYWdtZW50X01haW5CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW49ZSx0aGlzfUZyYWdtZW50X01haW5FbmQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZD1lLHRoaXN9RnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZS5yZXBsYWNlKCJyZXN1bHQiLCJkaWZmdXNlQ29sb3IiKSx0aGlzfUZyYWdtZW50X0N1c3RvbV9BbHBoYShlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZS5yZXBsYWNlKCJyZXN1bHQiLCJhbHBoYSIpLHRoaXN9RnJhZ21lbnRfQmVmb3JlX0xpZ2h0cyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWUsdGhpc31GcmFnbWVudF9CZWZvcmVfRm9nKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZSx0aGlzfUZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3IoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1lLnJlcGxhY2UoInJlc3VsdCIsImNvbG9yIiksdGhpc31WZXJ0ZXhfQmVnaW4oZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luPWUsdGhpc31WZXJ0ZXhfRGVmaW5pdGlvbnMoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zPWUsdGhpc31WZXJ0ZXhfTWFpbkJlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49ZSx0aGlzfVZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWUucmVwbGFjZSgicmVzdWx0IiwicG9zaXRpb25VcGRhdGVkIiksdGhpc31WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkPWUucmVwbGFjZSgicmVzdWx0Iiwibm9ybWFsVXBkYXRlZCIpLHRoaXN9VmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQ9ZSx0aGlzfVZlcnRleF9NYWluRW5kKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kPWUsdGhpc319cmkuU2hhZGVySW5kZXhlcj0xLHN0KCJCQUJZTE9OLkN1c3RvbU1hdGVyaWFsIixyaSkscmkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGMpe2NvbnN0IGU9dGhpcyx0PW5lLkNsb25lKCgpPT5uZXcgcmkoYyx0aGlzLmdldFNjZW5lKCkpLHRoaXMpO3JldHVybiB0Lm5hbWU9Yyx0LmlkPWMsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3IsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4sdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnMsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkLHQuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZCx0fTtjbGFzcyBXbHtjb25zdHJ1Y3RvcihlKXtTdCh0aGlzLCJsb2FkZWRUaGVtZXMiLHt9KTtTdCh0aGlzLCJ0aGVtZURhdGEiLHt9KTt0aGlzLnNjZW5lPWUuc2NlbmV9YXN5bmMgbG9hZFN0YW5kYXJkTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDppfT1lLHM9bmV3IEIodCx0aGlzLnNjZW5lKTtpLmRpZmZ1c2VUZXh0dXJlJiYocy5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLGUpKSxpLmJ1bXBUZXh0dXJlJiYocy5idW1wVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImJ1bXAiLGUpKSxpLnNwZWN1bGFyVGV4dHVyZSYmKHMuc3BlY3VsYXJUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgic3BlY3VsYXIiLGUpKSxzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITF9YXN5bmMgbG9hZENvbG9yTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDppfT1lLHM9bmV3IHJpKHQrIl9saWdodCIsdGhpcy5zY2VuZSkscj1LcihlKTtpLmRpZmZ1c2VUZXh0dXJlJiZpLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0JiYoci5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZT1lLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0LHMuZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixyKSksaS5idW1wVGV4dHVyZSYmKHMuYnVtcFRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJidW1wIixlKSksaS5zcGVjdWxhclRleHR1cmUmJihzLnNwZWN1bGFyVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoInNwZWN1bGFyIixlKSkscy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExLHMuVmVydGV4X0RlZmluaXRpb25zKGAKICAgICAgYXR0cmlidXRlIHZlYzMgY3VzdG9tQ29sb3I7CiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7CiAgICBgKS5WZXJ0ZXhfTWFpbkVuZChgCiAgICAgIHZDb2xvciA9IGN1c3RvbUNvbG9yOwogICAgYCkuRnJhZ21lbnRfRGVmaW5pdGlvbnMoYAogICAgICB2YXJ5aW5nIHZlYzMgdkNvbG9yOwogICAgYCkuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoYAogICAgICBiYXNlQ29sb3IucmdiID0gbWl4KHZDb2xvci5yZ2IsIGJhc2VDb2xvci5yZ2IsIGJhc2VDb2xvci5hKTsKICAgIGApLHMuQWRkQXR0cmlidXRlKCJjdXN0b21Db2xvciIpO2NvbnN0IG49cy5jbG9uZSh0KyJfZGFyayIpO2kuZGlmZnVzZVRleHR1cmUmJmkuZGlmZnVzZVRleHR1cmUuZGFyayYmKHIubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmU9ZS5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZS5kYXJrLG4uZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixyKSksbi5BZGRBdHRyaWJ1dGUoImN1c3RvbUNvbG9yIil9YXN5bmMgZ2V0VGV4dHVyZShlLHQpe2NvbnN0e2Jhc2VQYXRoOmksbWF0ZXJpYWw6cyx0aGVtZTpyfT10O2xldCBuO2NvbnN0IGE9ZSsiTGV2ZWwiLG89ZSsiVGV4dHVyZSI7dHJ5e3N3aXRjaChlKXtjYXNlImRpZmZ1c2UiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAsciksc1thXSYmKG4ubGV2ZWw9c1thXSk7YnJlYWs7Y2FzZSJidW1wIjpuPWF3YWl0IHRoaXMuaW1wb3J0VGV4dHVyZUFzeW5jKGAke2l9LyR7c1tvXX1gLHIpLHNbYV0mJihuLmxldmVsPXNbYV0pO2JyZWFrO2Nhc2Uic3BlY3VsYXIiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAscikscy5zcGVjdWxhclBvd2VyJiYobi5zcGVjdWxhclBvd2VyPXMuc3BlY3VsYXJQb3dlcik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFRleHR1cmUgdHlwZTogJHtlfSBpcyBub3Qgc3VwcG9ydGVkYCl9fWNhdGNoKGgpe2NvbnNvbGUuZXJyb3IoaCl9cmV0dXJuIG59YXN5bmMgaW1wb3J0VGV4dHVyZUFzeW5jKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57bGV0IHI9ZS5tYXRjaCgvXiguKlwvKSguKikkLyksbj1uZXcgTihlLHRoaXMuc2NlbmUsdm9pZCAwLCEwLHZvaWQgMCwoKT0+aShuKSwoKT0+cyhgVW5hYmxlIHRvIGxvYWQgdGV4dHVyZSAnJHtyWzJdfScgZm9yIHRoZW1lOiAnJHt0fScuIENoZWNrIHRoYXQgeW91ciBhc3NldFBhdGggaXMgY29uZmlndXJlZCBjb3JyZWN0bHkgYW5kIHRoYXQgdGhlIGZpbGVzIGV4aXN0IGF0IHBhdGg6ICcke3JbMV19J2ApKX0pLmNhdGNoKGk9PmNvbnNvbGUuZXJyb3IoaSkpfWFzeW5jIGxvYWQoZSl7Y29uc3R7bWF0ZXJpYWw6dH09ZTt0LnR5cGU9PT0iY29sb3IiP2F3YWl0IHRoaXMubG9hZENvbG9yTWF0ZXJpYWwoZSk6dC50eXBlPT09InN0YW5kYXJkIj9hd2FpdCB0aGlzLmxvYWRTdGFuZGFyZE1hdGVyaWFsKGUpOmNvbnNvbGUuZXJyb3IoYE1hdGVyaWFsIHR5cGU6ICR7dC50eXBlfSBub3Qgc3VwcG9ydGVkYCl9fWNsYXNzIHpse2NvbnN0cnVjdG9yKGUpe2F0KHRoaXMsZ3MpO1N0KHRoaXMsImNvbmZpZyIpO1N0KHRoaXMsImluaXRpYWxpemVkIiwhMSk7YXQodGhpcyxYZSx7fSk7YXQodGhpcyxJaSwwKTthdCh0aGlzLHd0LDApO2F0KHRoaXMsUGksW10pO2F0KHRoaXMsUnQsdm9pZCAwKTthdCh0aGlzLGJ0LHZvaWQgMCk7YXQodGhpcywkZSx2b2lkIDApO2F0KHRoaXMsX3Msdm9pZCAwKTthdCh0aGlzLHl0LHZvaWQgMCk7YXQodGhpcyxYaSx2b2lkIDApO2F0KHRoaXMsSGksdm9pZCAwKTthdCh0aGlzLHB0LHZvaWQgMCk7YXQodGhpcyxLaSx7fSk7U3QodGhpcywibm9vcCIsKCk9Pnt9KTtTdCh0aGlzLCJkaWNlQnVmZmVyVmlldyIsbmV3IEZsb2F0MzJBcnJheSg4ZTMpKTt0aGlzLm9uSW5pdENvbXBsZXRlPWUub25Jbml0Q29tcGxldGV8fHRoaXMubm9vcCx0aGlzLm9uVGhlbWVMb2FkZWQ9ZS5vblRoZW1lTG9hZGVkfHx0aGlzLm5vb3AsdGhpcy5vblJvbGxSZXN1bHQ9ZS5vblJvbGxSZXN1bHR8fHRoaXMubm9vcCx0aGlzLm9uUm9sbENvbXBsZXRlPWUub25Sb2xsQ29tcGxldGV8fHRoaXMubm9vcCx0aGlzLm9uRGllUmVtb3ZlZD1lLm9uRGllUmVtb3ZlZHx8dGhpcy5ub29wLHRoaXMuaW5pdGlhbGl6ZWQ9dGhpcy5pbml0U2NlbmUoZSl9YXN5bmMgaW5pdFNjZW5lKGUpe2N0KHRoaXMsUnQsZS5jYW52YXMpLFkodGhpcyxSdCkud2lkdGg9ZS53aWR0aCxZKHRoaXMsUnQpLmhlaWdodD1lLmhlaWdodCx0aGlzLmNvbmZpZz1lLm9wdGlvbnMsY3QodGhpcyxidCxFbihZKHRoaXMsUnQpKSksY3QodGhpcywkZSwkbih7ZW5naW5lOlkodGhpcyxidCl9KSksY3QodGhpcyxfcyxRbih7ZW5naW5lOlkodGhpcyxidCksc2NlbmU6WSh0aGlzLCRlKX0pKSxjdCh0aGlzLHl0LHpyKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3Msc2hhZG93VHJhbnNwYXJlbmN5OnRoaXMuY29uZmlnLnNoYWRvd1RyYW5zcGFyZW5jeSxpbnRlbnNpdHk6dGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHksc2NlbmU6WSh0aGlzLCRlKX0pKSxjdCh0aGlzLFhpLG5ldyBObCh7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLGFzcGVjdDpZKHRoaXMsUnQpLndpZHRoL1kodGhpcyxSdCkuaGVpZ2h0LGxpZ2h0czpZKHRoaXMseXQpLHNjZW5lOlkodGhpcywkZSl9KSksY3QodGhpcyxIaSxuZXcgV2woe3NjZW5lOlkodGhpcywkZSl9KSksdGhpcy5vbkluaXRDb21wbGV0ZSgpfWNvbm5lY3QoZSl7Y3QodGhpcyxwdCxlKSxZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246ImluaXRCdWZmZXIiLGRpY2VCdWZmZXI6dGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJ9LFt0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcl0pLFkodGhpcyxwdCkub25tZXNzYWdlPXQ9Pntzd2l0Y2godC5kYXRhLmFjdGlvbil7Y2FzZSJ1cGRhdGVzIjp0aGlzLnVwZGF0ZXNGcm9tUGh5c2ljcyh0LmRhdGEuZGljZUJ1ZmZlcik7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJhY3Rpb24gZnJvbSBwaHlzaWNzV29ya2VyIG5vdCBmb3VuZCBpbiBvZmZzY3JlZW4gd29ya2VyIik7YnJlYWt9fX11cGRhdGVDb25maWcoZSl7Y29uc3QgdD10aGlzLmNvbmZpZzt0aGlzLmNvbmZpZz1lLHQuZW5hYmxlU2hhZG93cyE9PXRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MmJihPYmplY3QudmFsdWVzKFkodGhpcyx5dCkpLmZvckVhY2goaT0+aS5kaXNwb3NlKCkpLGN0KHRoaXMseXQsenIoe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyxzaGFkb3dUcmFuc3BhcmVuY3k6dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5LGludGVuc2l0eTp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxzY2VuZTpZKHRoaXMsJGUpfSkpKSx0LnNjYWxlIT09dGhpcy5jb25maWcuc2NhbGUmJk9iamVjdC52YWx1ZXMoWSh0aGlzLFhlKSkuZm9yRWFjaCgoe21lc2g6aX0pPT57aSYmKGkuc2NhbGluZz1uZXcgcCh0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSkpfSksdC5zaGFkb3dUcmFuc3BhcmVuY3khPT10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kmJihZKHRoaXMseXQpLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kpLHQubGlnaHRJbnRlbnNpdHkhPT10aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSYmKFkodGhpcyx5dCkuZGlyZWN0aW9uYWwuaW50ZW5zaXR5PS42NSp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxZKHRoaXMseXQpLmhlbWlzcGhlcmljLmludGVuc2l0eT0uNCp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSl9cmVuZGVyKGUpe1kodGhpcyxidCkucnVuUmVuZGVyTG9vcCh0aGlzLnJlbmRlckxvb3AuYmluZCh0aGlzKSksWSh0aGlzLHB0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZXN1bWVTaW11bGF0aW9uIixuZXdTdGFydFBvaW50OmV9KX1yZW5kZXJMb29wKCl7WSh0aGlzLHd0KSYmWSh0aGlzLHd0KT09PU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aD8oWSh0aGlzLGJ0KS5zdG9wUmVuZGVyTG9vcCgpLFkodGhpcyxwdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RvcFNpbXVsYXRpb24ifSksdGhpcy5vblJvbGxDb21wbGV0ZSgpKTpZKHRoaXMsJGUpLnJlbmRlcigpfWFzeW5jIGxvYWRUaGVtZShlKXtjb25zdHt0aGVtZTp0LGJhc2VQYXRoOmksbWF0ZXJpYWw6cyxtZXNoRmlsZVBhdGg6cixtZXNoTmFtZTpufT1lO2lmKGF3YWl0IFkodGhpcyxIaSkubG9hZCh7dGhlbWU6dCxiYXNlUGF0aDppLG1hdGVyaWFsOnN9KSwhT2JqZWN0LmtleXMoWSh0aGlzLEtpKSkuaW5jbHVkZXMobikpe1kodGhpcyxLaSlbbl09cjtjb25zdCBhPWF3YWl0IHNpLmxvYWRNb2RlbHMoe21lc2hGaWxlUGF0aDpyLG1lc2hOYW1lOm59LFkodGhpcywkZSkpO2lmKCFhKXRocm93IG5ldyBFcnJvcigiTm8gY29sbGlkZXJzIHJldHVybmVkIGZyb20gdGhlIDNEIG1lc2ggZmlsZS4gTG93IHBvbHkgY29sbGlkZXJzIGFyZSBleHBlY3RlZCB0byBiZSBpbiB0aGUgc2FtZSBmaWxlIGFzIHRoZSBoaWdoIHBvbHkgZGljZSBhbmQgdGhlIG1lc2ggbmFtZSBjb250YWlucyB0aGUgd29yZCAnY29sbGlkZXInIik7WSh0aGlzLHB0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJsb2FkTW9kZWxzIixvcHRpb25zOntjb2xsaWRlcnM6YSxtZXNoTmFtZTpufX0pfXRoaXMub25UaGVtZUxvYWRlZCh7aWQ6dH0pfWNsZWFyKCl7IU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aCYmIVkodGhpcyx3dCl8fCh0aGlzLmRpY2VCdWZmZXJWaWV3LmJ5dGVMZW5ndGgmJnRoaXMuZGljZUJ1ZmZlclZpZXcuZmlsbCgwKSxZKHRoaXMsUGkpLmZvckVhY2goZT0+Y2xlYXJUaW1lb3V0KGUpKSxZKHRoaXMsYnQpLnN0b3BSZW5kZXJMb29wKCksT2JqZWN0LnZhbHVlcyhZKHRoaXMsWGUpKS5mb3JFYWNoKGU9PntlLm1lc2gmJmUubWVzaC5kaXNwb3NlKCl9KSxjdCh0aGlzLFhlLHt9KSxjdCh0aGlzLElpLDApLGN0KHRoaXMsd3QsMCksWSh0aGlzLCRlKS5yZW5kZXIoKSl9YWRkKGUpe3NpLmxvYWREaWUoZSxZKHRoaXMsJGUpKS50aGVuKHQ9PntZKHRoaXMsUGkpLnB1c2goc2V0VGltZW91dCgoKT0+e1lyKHRoaXMsZ3MsWnIpLmNhbGwodGhpcyx0KX0sRGkodGhpcyxJaSkuXysrKnRoaXMuY29uZmlnLmRlbGF5KSl9KX1hZGROb25EaWUoZSl7WSh0aGlzLGJ0KS5hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg9PT0wJiZ0aGlzLnJlbmRlcighMSk7Y29uc3R7aWQ6dCx2YWx1ZTppLC4uLnN9PWUscj17aWQ6dCx2YWx1ZTppLGNvbmZpZzpzfTtZKHRoaXMsWGUpW3RdPXIsc2V0VGltZW91dCgoKT0+e1kodGhpcyxQaSkucHVzaChzZXRUaW1lb3V0KCgpPT57dGhpcy5oYW5kbGVBc2xlZXAocil9LERpKHRoaXMsSWkpLl8rKyp0aGlzLmNvbmZpZy5kZWxheSkpfSwxMCl9cmVtb3ZlKGUpe2NvbnN0IHQ9WSh0aGlzLFhlKVtlLmlkXTt0Lmhhc093blByb3BlcnR5KCJkMTBJbnN0YW5jZSIpJiYoWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoJiYoWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoLmRpc3Bvc2UoKSxZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246InJlbW92ZURpZSIsaWQ6dC5kMTBJbnN0YW5jZS5pZH0pKSxkZWxldGUgWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXSxEaSh0aGlzLHd0KS5fLS0pLFkodGhpcyxYZSlbZS5pZF0ubWVzaCYmWSh0aGlzLFhlKVtlLmlkXS5tZXNoLmRpc3Bvc2UoKSxkZWxldGUgWSh0aGlzLFhlKVtlLmlkXSxEaSh0aGlzLHd0KS5fLS0sWSh0aGlzLCRlKS5yZW5kZXIoKSx0aGlzLm9uRGllUmVtb3ZlZChlLnJvbGxJZCl9dXBkYXRlc0Zyb21QaHlzaWNzKGUpe3RoaXMuZGljZUJ1ZmZlclZpZXc9bmV3IEZsb2F0MzJBcnJheShlKTtsZXQgdD0xO2ZvcihsZXQgaT0wLHM9dGhpcy5kaWNlQnVmZmVyVmlld1swXTtpPHM7aSsrKXtpZighT2JqZWN0LmtleXMoWSh0aGlzLFhlKSkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IHI9WSh0aGlzLFhlKVtgJHt0aGlzLmRpY2VCdWZmZXJWaWV3W3RdfWBdO2lmKCFyKXtjb25zb2xlLmxvZygiRXJyb3I6IGRpZSBub3QgYXZhaWxhYmxlIGluIHNjZW5lIHRvIGFuaW1hdGUiKTticmVha31pZih0aGlzLmRpY2VCdWZmZXJWaWV3W3QrMV09PT0tMSl0aGlzLmhhbmRsZUFzbGVlcChyKTtlbHNle2NvbnN0IG49dGhpcy5kaWNlQnVmZmVyVmlld1t0KzFdLGE9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzJdLG89dGhpcy5kaWNlQnVmZmVyVmlld1t0KzNdLGg9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzRdLGw9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzVdLHU9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzZdLGQ9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzddO3IubWVzaC5wb3NpdGlvbi5zZXQobixhLG8pLHIubWVzaC5yb3RhdGlvblF1YXRlcm5pb24uc2V0KGgsbCx1LGQpfXQ9dCs4fXJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1kodGhpcyxwdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RlcFNpbXVsYXRpb24iLGRpY2VCdWZmZXI6dGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJ9LFt0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcl0pfSl9YXN5bmMgaGFuZGxlQXNsZWVwKGUpe3ZhciB0LGk7aWYoZS5hc2xlZXA9ITAsYXdhaXQgc2kuZ2V0Um9sbFJlc3VsdChlLFkodGhpcywkZSkpLGUuZDEwSW5zdGFuY2V8fGUuZGllUGFyZW50KXtpZigodD1lPT1udWxsP3ZvaWQgMDplLmQxMEluc3RhbmNlKSE9bnVsbCYmdC5hc2xlZXB8fChpPWU9PW51bGw/dm9pZCAwOmUuZGllUGFyZW50KSE9bnVsbCYmaS5hc2xlZXApe2NvbnN0IHM9ZS5jb25maWcuc2lkZXM9PT0xMDA/ZTplLmRpZVBhcmVudCxyPWUuY29uZmlnLnNpZGVzPT09MTA/ZTplLmQxMEluc3RhbmNlO3IudmFsdWU9PT0wJiZzLnZhbHVlPT09MD9zLnZhbHVlPTEwMDpzLnZhbHVlPXMudmFsdWUrci52YWx1ZSx0aGlzLm9uUm9sbFJlc3VsdCh7cm9sbElkOnMuY29uZmlnLnJvbGxJZCx2YWx1ZTpzLnZhbHVlfSl9fWVsc2UgZS5jb25maWcuc2lkZXM9PT0xMCYmZS52YWx1ZT09PTAmJihlLnZhbHVlPTEwKSx0aGlzLm9uUm9sbFJlc3VsdCh7cm9sbElkOmUuY29uZmlnLnJvbGxJZCx2YWx1ZTplLnZhbHVlfSk7RGkodGhpcyx3dCkuXysrfXJlc2l6ZShlKXtjb25zdCB0PVkodGhpcyxSdCkud2lkdGg9ZS53aWR0aCxpPVkodGhpcyxSdCkuaGVpZ2h0PWUuaGVpZ2h0O1kodGhpcyxYaSkuY3JlYXRlKHthc3BlY3Q6dC9pfSksWSh0aGlzLGJ0KS5yZXNpemUoKX19WGU9bmV3IFdlYWtNYXAsSWk9bmV3IFdlYWtNYXAsd3Q9bmV3IFdlYWtNYXAsUGk9bmV3IFdlYWtNYXAsUnQ9bmV3IFdlYWtNYXAsYnQ9bmV3IFdlYWtNYXAsJGU9bmV3IFdlYWtNYXAsX3M9bmV3IFdlYWtNYXAseXQ9bmV3IFdlYWtNYXAsWGk9bmV3IFdlYWtNYXAsSGk9bmV3IFdlYWtNYXAscHQ9bmV3IFdlYWtNYXAsS2k9bmV3IFdlYWtNYXAsZ3M9bmV3IFdlYWtTZXQsWnI9YXN5bmMgZnVuY3Rpb24oZSl7WSh0aGlzLGJ0KS5hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg9PT0wJiZ0aGlzLnJlbmRlcihlLm5ld1N0YXJ0UG9pbnQpO2NvbnN0IHQ9ey4uLmUsYXNzZXRQYXRoOnRoaXMuY29uZmlnLmFzc2V0UGF0aCxlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3Msc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsbGlnaHRzOlkodGhpcyx5dCl9LGk9bmV3IHNpKHQsWSh0aGlzLCRlKSk7cmV0dXJuIFkodGhpcyxYZSlbaS5pZF09aSxZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246ImFkZERpZSIsb3B0aW9uczp7c2lkZXM6ZS5zaWRlcyxzY2FsZTp0aGlzLmNvbmZpZy5zY2FsZSxpZDppLmlkLG5ld1N0YXJ0UG9pbnQ6ZS5uZXdTdGFydFBvaW50LHRoZW1lOmUudGhlbWUsbWVzaE5hbWU6ZS5tZXNoTmFtZX19KSxlLnNpZGVzPT09MTAwJiZlLmRhdGEhPT0ic2luZ2xlIiYmKGkuZDEwSW5zdGFuY2U9YXdhaXQgc2kubG9hZERpZSh7Li4udCxkaWVUeXBlOiJkMTAiLHNpZGVzOjEwLGlkOmkuaWQrMWU0fSxZKHRoaXMsJGUpKS50aGVuKHM9Pntjb25zdCByPW5ldyBzaShzLFkodGhpcywkZSkpO3JldHVybiByLmRpZVBhcmVudD1pLHJ9KSxZKHRoaXMsWGUpW2Ake2kuZDEwSW5zdGFuY2UuaWR9YF09aS5kMTBJbnN0YW5jZSxZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246ImFkZERpZSIsb3B0aW9uczp7c2lkZXM6MTAsc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsaWQ6aS5kMTBJbnN0YW5jZS5pZCx0aGVtZTplLnRoZW1lLG1lc2hOYW1lOmUubWVzaE5hbWV9fSkpLGl9O2xldCBGdDtzZWxmLm9ubWVzc2FnZT1hc3luYyBjPT57c3dpdGNoKGMuZGF0YS5hY3Rpb24pe2Nhc2Uicm9sbERpZSI6RnQucGh5c2ljc1dvcmtlclBvcnQucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbCJ9KTticmVhaztjYXNlImFkZERpZSI6RnQuYWRkKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImFkZE5vbkRpZSI6RnQuYWRkTm9uRGllKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImxvYWRUaGVtZSI6YXdhaXQgRnQubG9hZFRoZW1lKGMuZGF0YS5vcHRpb25zKS5jYXRjaChlPT5jb25zb2xlLmVycm9yKGUpKTticmVhaztjYXNlImNsZWFyRGljZSI6RnQuY2xlYXIoKTticmVhaztjYXNlInJlbW92ZURpZSI6RnQucmVtb3ZlKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlInJlc2l6ZSI6RnQucmVzaXplKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImluaXQiOkZ0PW5ldyB6bCh7Li4uYy5kYXRhLG9uSW5pdENvbXBsZXRlOigpPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJpbml0LWNvbXBsZXRlIn0pfSxvblRoZW1lTG9hZGVkOih7aWQ6ZX0pPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJ0aGVtZS1sb2FkZWQiLGlkOmV9KX0sb25Sb2xsUmVzdWx0Oih7cm9sbElkOmUsdmFsdWU6dH0pPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyb2xsLXJlc3VsdCIsZGllOntyb2xsSWQ6ZSx2YWx1ZTp0fX0pfSxvblJvbGxDb21wbGV0ZTooKT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbC1jb21wbGV0ZSJ9KX0sb25EaWVSZW1vdmVkOmU9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246ImRpZS1yZW1vdmVkIixyb2xsSWQ6ZX0pfX0pO2JyZWFrO2Nhc2UidXBkYXRlQ29uZmlnIjpGdC51cGRhdGVDb25maWcoYy5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UiY29ubmVjdCI6RnQuY29ubmVjdChjLmRhdGEucG9ydCksc2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJjb25uZWN0LWNvbXBsZXRlIn0pO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiYWN0aW9uIG5vdCBmb3VuZCBpbiBvZmZzY3JlZW4gd29ya2VyIil9fX0pKCk7Cg==",a=typeof window<"u"&&window.Blob&&new Blob([atob(y)],{type:"text/javascript;charset=utf-8"});function N(){let Z;try{if(Z=a&&(window.URL||window.webkitURL).createObjectURL(a),!Z)throw"";return new Worker(Z)}catch{return new Worker("data:application/javascript;base64,"+y)}finally{Z&&(window.URL||window.webkitURL).revokeObjectURL(Z)}}var b,V,W,p;class F{constructor(l){m(this,W),d(this,"initialized",!1),d(this,"offscreenWorkerInit",!1),d(this,"themeLoadedInit",!1),d(this,"pendingThemePromises",{}),m(this,b,void 0),m(this,V,void 0),d(this,"onRollResult",()=>{}),d(this,"onRollComplete",()=>{}),this.onInitComplete=l.onInitComplete,h(this,b,l.canvas.transferControlToOffscreen()),h(this,V,new N),G(this,V).init=new Promise((X,c)=>{this.offscreenWorkerInit=X}),this.initialized=J(this,W,p).call(this,l)}connect(l){G(this,V).postMessage({action:"connect",port:l},[l])}updateConfig(l){G(this,V).postMessage({action:"updateConfig",options:l})}resize(l){G(this,V).postMessage({action:"resize",options:l})}async loadTheme(l){return new Promise((X,c)=>{if(Object.keys(this.pendingThemePromises).includes(l.theme))return X();this.pendingThemePromises[l.theme]=X,G(this,V).postMessage({action:"loadTheme",options:l})}).catch(X=>console.error(X))}clear(){G(this,V).postMessage({action:"clearDice"})}add(l){G(this,V).postMessage({action:"addDie",options:l})}addNonDie(l){G(this,V).postMessage({action:"addNonDie",options:l})}remove(l){G(this,V).postMessage({action:"removeDie",options:l})}}b=new WeakMap,V=new WeakMap,W=new WeakSet,p=async function(Z){return G(this,V).postMessage({action:"init",canvas:G(this,b),width:Z.canvas.clientWidth,height:Z.canvas.clientHeight,options:Z.options},[G(this,b)]),G(this,V).onmessage=l=>{switch(l.data.action){case"init-complete":this.offscreenWorkerInit();break;case"connect-complete":break;case"theme-loaded":l.data.id&&this.pendingThemePromises[l.data.id](l.data.id);break;case"roll-result":this.onRollResult(l.data.die);break;case"roll-complete":this.onRollComplete();break;case"die-removed":this.onDieRemoved(l.data.rollId);break}},await G(this,V).init,this.onInitComplete(!0),!0};export{F as default};
